{"version":3,"file":"static/chunks/972-1cd8a921e6e0542b.js","mappings":"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","sources":["webpack://_N_E/./components/ErrorPage.js","webpack://_N_E/./components/NotFound.js","webpack://_N_E/./components/SearchBar.js","webpack://_N_E/./components/icons/AddReactionIcon.js","webpack://_N_E/./components/conversations/EmojiReactionPicker.js","webpack://_N_E/./components/conversations/EmojiReactions.js","webpack://_N_E/./lib/styled-components-shared-styles.js","webpack://_N_E/./components/Updates.js","webpack://_N_E/./components/updates/filters/UpdateOrderByFilter.js","webpack://_N_E/./components/updates/filters/UpdateSearchFilter.js","webpack://_N_E/./components/updates/UpdateFilters.js","webpack://_N_E/./pages/updates.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Support } from '@styled-icons/boxicons-regular/Support';\nimport { Redo } from '@styled-icons/fa-solid/Redo';\nimport { get } from 'lodash';\nimport { withRouter } from 'next/router';\nimport { FormattedMessage } from 'react-intl';\n\nimport { ERROR } from '../lib/errors';\n\nimport Body from './Body';\nimport Container from './Container';\nimport Footer from './Footer';\nimport { Flex } from './Grid';\nimport Header from './Header';\nimport Link from './Link';\nimport Loading from './Loading';\nimport MessageBox from './MessageBox';\nimport NotFound from './NotFound';\nimport StyledButton from './StyledButton';\nimport StyledLink from './StyledLink';\nimport { H1, P } from './Text';\nimport { withUser } from './UserProvider';\n\n/**\n * A flexible error page\n */\nclass ErrorPage extends React.Component {\n  static propTypes = {\n    /** Customize the error type. Check `createError.*` functions for more info */\n    error: PropTypes.shape({\n      type: PropTypes.oneOf(Object.values(ERROR)),\n      payload: PropTypes.object,\n    }),\n    /** If true, a loading indicator will be displayed instead of an error */\n    loading: PropTypes.bool,\n    /** Define if error should be logged to console. Default: true */\n    log: PropTypes.bool,\n    /** @ignore from withUser */\n    LoggedInUser: PropTypes.object,\n    /** @deprecated please generate errors with the `createError` helper  */\n    message: PropTypes.string,\n    /** @deprecated please generate errors with the `createError` helper */\n    data: PropTypes.object, // we can pass the data object of Apollo to detect and handle GraphQL errors\n    router: PropTypes.object,\n  };\n\n  getErrorComponent() {\n    const { error, data, loading, log = true } = this.props;\n\n    if (log && get(data, 'error')) {\n      if (data.error.message !== 'Test error') {\n        // That might not be the right place to log the error. Remove?\n        // eslint-disable-next-line no-console\n        console.error(data.error);\n      }\n    }\n\n    if (get(data, 'error.networkError')) {\n      return this.networkError();\n    }\n\n    if (loading || get(data, 'loading')) {\n      return <Loading />;\n    }\n\n    if (error) {\n      switch (error.type) {\n        case ERROR.NOT_FOUND:\n          return <NotFound searchTerm={get(error.payload, 'searchTerm')} />;\n        case ERROR.BAD_COLLECTIVE_TYPE:\n          return this.renderErrorMessage(\n            <FormattedMessage id=\"Error.BadCollectiveType\" defaultMessage=\"This profile type is not supported\" />,\n          );\n      }\n    } else if (get(data, 'error.message', '').includes('No collective found')) {\n      return <NotFound searchTerm={get(this.props.data, 'variables.slug')} />;\n    }\n\n    // If error message is provided, we display it. This behaviour should be deprecated\n    // as we loose the context of the page where the error took place.\n    if (this.props.message) {\n      return this.renderErrorMessage(this.props.message);\n    }\n\n    return this.unknownError();\n  }\n\n  renderErrorMessage(message) {\n    return (\n      <Flex flexDirection=\"column\" alignItems=\"center\" px={2} py={6}>\n        <MessageBox type=\"error\" withIcon mb={5}>\n          {message}\n        </MessageBox>\n        <StyledButton buttonSize=\"large\" buttonStyle=\"primary\" onClick={() => this.props.router.back()}>\n          &larr; <FormattedMessage id=\"error.goBack\" defaultMessage=\"Go back to the previous page\" />\n        </StyledButton>\n      </Flex>\n    );\n  }\n\n  networkError() {\n    return (\n      <Flex flexDirection=\"column\" alignItems=\"center\" px={2} py={6}>\n        <H1 fontSize={30} textAlign=\"center\">\n          <FormattedMessage id=\"page.error.networkError\" defaultMessage=\"Open Collective is momentarily unreachable\" />\n          &nbsp; ðŸ™€\n        </H1>\n        <Flex mt={3}>\n          <P textAlign=\"center\">\n            <FormattedMessage\n              id=\"page.error.networkError.description\"\n              defaultMessage=\"Don't worry! One of our engineers is probably already on it ðŸ‘©ðŸ»â€ðŸ’»ðŸ‘¨ðŸ¿â€ðŸ’». Please try again later. Thank you for your patience ðŸ™ (and sorry for the inconvenience!)\"\n            />\n          </P>\n        </Flex>\n      </Flex>\n    );\n  }\n\n  unknownError() {\n    const message = get(this.props, 'data.error.message');\n    const stackTrace = get(this.props, 'data.error.stack');\n    const expandError = process.env.OC_ENV !== 'production';\n    const fontSize = ['ci', 'e2e', 'test'].includes(process.env.OC_ENV) ? 22 : 13;\n\n    return (\n      <Flex flexDirection=\"column\" alignItems=\"center\" px={2} py={[4, 6]}>\n        <H1 fontSize={30} textAlign=\"center\">\n          <FormattedMessage id=\"error.unexpected\" defaultMessage=\"Oops, an unexpected error seems to have occurred\" />\n          &nbsp; ðŸ¤•\n        </H1>\n        <Flex mt={5} flexWrap=\"wrap\" alignItems=\"center\" justifyContent=\"center\">\n          <StyledLink my={2} as={Link} href=\"/contact\" mx={2} buttonStyle=\"standard\" buttonSize=\"large\">\n            <Support size=\"1em\" /> <FormattedMessage id=\"error.contactSupport\" defaultMessage=\"Contact support\" />\n          </StyledLink>\n          <StyledButton my={2} mx={2} buttonSize=\"large\" onClick={() => location.reload()}>\n            <Redo size=\"0.8em\" /> <FormattedMessage id=\"error.reload\" defaultMessage=\"Reload the page\" />\n          </StyledButton>\n        </Flex>\n        {(stackTrace || message) && (\n          <Container mt={5} maxWidth={1200}>\n            <details open={expandError}>\n              <summary style={{ textAlign: 'center', marginBottom: 12 }}>\n                <FormattedMessage id=\"error.details\" defaultMessage=\"Error details\" />\n              </summary>\n              <Container p={3}>\n                {message && (\n                  <React.Fragment>\n                    <strong>Message</strong>\n                    <pre style={{ whiteSpace: 'pre-wrap', fontSize }}>{message}</pre>\n                    <br />\n                  </React.Fragment>\n                )}\n                {stackTrace && (\n                  <React.Fragment>\n                    <strong>Trace</strong>\n                    <pre style={{ whiteSpace: 'pre-wrap', fontSize }}>{stackTrace}</pre>\n                  </React.Fragment>\n                )}\n              </Container>\n            </details>\n          </Container>\n        )}\n      </Flex>\n    );\n  }\n\n  render() {\n    const { LoggedInUser } = this.props;\n\n    const component = this.getErrorComponent();\n\n    return (\n      <div className=\"ErrorPage\" data-cy=\"error-page\">\n        <Header LoggedInUser={LoggedInUser} />\n        <Body>\n          <Container py={[5, 6]}>{component}</Container>\n        </Body>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default withUser(withRouter(ErrorPage));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Router from 'next/router';\nimport { FormattedMessage } from 'react-intl';\n\nimport { Flex } from './Grid';\nimport Link from './Link';\nimport StyledButton from './StyledButton';\nimport { H1, P } from './Text';\n\nconst NotFound = ({ searchTerm }) => {\n  return (\n    <Flex data-cy=\"not-found\" flexDirection=\"column\" alignItems=\"center\">\n      <H1 textAlign=\"center\">\n        <FormattedMessage id=\"notFound\" defaultMessage=\"Not found\" />\n      </H1>\n      <P fontSize=\"3.6rem\" color=\"primary.500\" mt={4} mb={5}>\n        Â¯\\_(ãƒ„)_/Â¯\n      </P>\n      {searchTerm && (\n        <Flex flexWrap=\"wrap\" justifyContent=\"center\">\n          <StyledButton m={2} onClick={() => Router.back()}>\n            &larr; <FormattedMessage id=\"error.goBack\" defaultMessage=\"Go back to the previous page\" />\n          </StyledButton>\n          <Link href={{ pathname: '/search', query: { q: searchTerm } }}>\n            <StyledButton m={2} buttonStyle=\"primary\">\n              <FormattedMessage\n                id=\"notFound.search\"\n                defaultMessage=\"Search for {term}\"\n                values={{ term: <strong>{searchTerm}</strong> }}\n              />\n            </StyledButton>\n          </Link>\n        </Flex>\n      )}\n    </Flex>\n  );\n};\n\nNotFound.propTypes = {\n  searchTerm: PropTypes.string,\n};\n\nexport default NotFound;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { defineMessages, useIntl } from 'react-intl';\n\nimport SearchForm from './SearchForm';\n\nconst messages = defineMessages({\n  searchPlaceholder: {\n    id: 'search.placeholder',\n    defaultMessage: 'Search...',\n  },\n});\n\n/**\n * A wrapper around `SearchForm` that holds state and interacts with parent\n * through `onSubmit`, rather than `onChange`.\n */\nconst SearchBar = ({ onSubmit, defaultValue, placeholder, ...props }) => {\n  const [value, setValue] = React.useState(defaultValue || '');\n  const intl = useIntl();\n\n  // Reset value when `defaultValue` change, to handle reset filters\n  React.useEffect(() => {\n    setValue(defaultValue || '');\n  }, [defaultValue]);\n\n  return (\n    <SearchForm\n      placeholder={placeholder || intl.formatMessage(messages.searchPlaceholder)}\n      value={value}\n      onChange={setValue}\n      onSubmit={event => {\n        event.preventDefault();\n        const searchInput = event.target.elements.q;\n        onSubmit(searchInput.value || null);\n      }}\n      {...props}\n    />\n  );\n};\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  defaultValue: PropTypes.string,\n  placeholder: PropTypes.string,\n};\n\nexport default SearchBar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport CustomStyledIcon from './CustomStyledIcon';\n\nconst AddReactionIcon = props => (\n  <CustomStyledIcon fill=\"none\" width=\"17\" height=\"16\" viewBox=\"0 0 17 16\" {...props}>\n    <path\n      fill=\"#9D9FA3\"\n      fillRule=\"evenodd\"\n      d=\"M13.136 3.81v2.285h1.546V3.81H17V2.286h-2.318V0h-1.546v2.286h-2.318V3.81h2.318zM0 8.762c0-3.996 3.281-7.238 7.334-7.238.94 0 1.84.174 2.666.491v1.668a5.84 5.84 0 00-2.66-.635c-3.201 0-5.795 2.557-5.795 5.714 0 3.157 2.594 5.714 5.796 5.714 3.202 0 5.795-2.557 5.795-5.714A5.64 5.64 0 0012.856 7h1.607c.143.564.219 1.154.219 1.762 0 3.995-3.289 7.238-7.348 7.238C3.28 16 0 12.757 0 8.762zm9.66-.381c.64 0 1.158-.51 1.158-1.143A1.15 1.15 0 009.66 6.095c-.641 0-1.159.51-1.159 1.143a1.15 1.15 0 001.16 1.143zM6.181 7.238a1.15 1.15 0 01-1.16 1.143 1.15 1.15 0 01-1.158-1.143 1.15 1.15 0 011.159-1.143c.641 0 1.159.51 1.159 1.143zm1.159 5.714c1.585 0 2.933-.953 3.477-2.285H3.864c.544 1.332 1.891 2.285 3.477 2.285z\"\n      clipRule=\"evenodd\"\n      strokeWidth=\"0.1\"\n    ></path>\n  </CustomStyledIcon>\n);\n\nAddReactionIcon.propTypes = {\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n};\n\nexport default AddReactionIcon;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gql, useMutation } from '@apollo/client';\nimport { Manager, Popper, Reference } from 'react-popper';\nimport styled, { css } from 'styled-components';\n\nimport { API_V2_CONTEXT } from '../../lib/graphql/helpers';\nimport useGlobalBlur from '../../lib/hooks/useGlobalBlur';\n\nimport { Flex } from '../Grid';\nimport AddReactionIcon from '../icons/AddReactionIcon';\nimport StyledButton from '../StyledButton';\nimport StyledCard from '../StyledCard';\nimport StyledRoundButton from '../StyledRoundButton';\n\nconst addReactionMutation = gql`\n  mutation AddEmojiReaction($emoji: String!, $update: UpdateReferenceInput, $comment: CommentReferenceInput) {\n    addEmojiReaction(emoji: $emoji, update: $update, comment: $comment) {\n      update {\n        id\n        reactions\n        userReactions\n      }\n      comment {\n        id\n        reactions\n        userReactions\n      }\n    }\n  }\n`;\n\nconst removeReactionMutation = gql`\n  mutation RemoveEmojiReaction($emoji: String!, $update: UpdateReferenceInput, $comment: CommentReferenceInput) {\n    removeEmojiReaction(emoji: $emoji, update: $update, comment: $comment) {\n      update {\n        id\n        reactions\n        userReactions\n      }\n      comment {\n        id\n        reactions\n        userReactions\n      }\n    }\n  }\n`;\n\nconst Emoji = styled.div`\n  font-size: 15px;\n`;\n\nconst ReactionButton = styled(StyledRoundButton).attrs({ isBorderless: true, buttonSize: 'small' })`\n  margin: 4px;\n  background: white !important;\n\n  ${Emoji} {\n    transition: transform 0.15s cubic-bezier(0.2, 0, 0.13, 2);\n  }\n\n  &:hover {\n    ${Emoji} {\n      transform: scale(1.3);\n    }\n  }\n\n  ${props =>\n    props.isSelected &&\n    css`\n      background: ${props.theme.colors.primary[200]} !important;\n    `}\n`;\n\nconst getOptimisticResponse = (entity, emoji, isAdding) => {\n  const userReactions = entity.userReactions || [];\n  const { __typename } = entity;\n  const fieldName = __typename === 'Update' ? 'update' : 'comment';\n  const fieldNameOpposite = __typename === 'Update' ? 'comment' : 'update';\n  if (isAdding) {\n    const newCount = (entity.reactions[emoji] || 0) + 1;\n\n    return {\n      __typename: 'Mutation',\n      addEmojiReaction: {\n        __typename: 'EmojiReactionsResponse',\n        [fieldName]: {\n          __typename,\n          id: entity.id,\n          reactions: { ...entity.reactions, [emoji]: newCount },\n          userReactions: [...userReactions, emoji],\n        },\n        [fieldNameOpposite]: null,\n      },\n    };\n  } else {\n    const newCount = (entity.reactions[emoji] || 0) - 1;\n    const reactions = { ...entity.reactions, [emoji]: newCount };\n\n    if (!reactions[emoji]) {\n      delete reactions[emoji];\n    }\n\n    return {\n      __typename: 'Mutation',\n      removeEmojiReaction: {\n        __typename: 'EmojiReactionsResponse',\n        [fieldName]: {\n          __typename,\n          id: entity.id,\n          reactions,\n          userReactions: userReactions.filter(userEmoji => userEmoji !== emoji),\n        },\n        [fieldNameOpposite]: null,\n      },\n    };\n  }\n};\n\nconst mutationOptions = { context: API_V2_CONTEXT };\n\n/**\n * A component to render the reaction picker on comments.\n */\nconst EmojiReactionPicker = ({ comment, update }) => {\n  const emojiFirstRow = ['ðŸ‘ï¸', 'ðŸ‘Ž', 'ðŸ˜€', 'ðŸŽ‰'];\n  const emojiSecondRow = ['ðŸ˜•', 'â¤ï¸', 'ðŸš€', 'ðŸ‘€'];\n  const [open, setOpen] = React.useState(false);\n  const wrapperRef = React.useRef();\n  const [addReaction] = useMutation(addReactionMutation, mutationOptions);\n  const [removeReaction] = useMutation(removeReactionMutation, mutationOptions);\n\n  useGlobalBlur(wrapperRef, outside => {\n    if (outside) {\n      setOpen(false);\n    }\n  });\n\n  const getReactionBtnProps = emoji => {\n    let isSelected;\n    if (comment) {\n      isSelected = comment.userReactions?.includes(emoji);\n    } else if (update) {\n      isSelected = update.userReactions?.includes(emoji);\n    }\n    return {\n      children: <Emoji>{emoji}</Emoji>,\n      isSelected,\n      onClick: () => {\n        setOpen(false);\n        const action = isSelected ? removeReaction : addReaction;\n        if (comment) {\n          return action({\n            variables: { emoji: emoji, comment: { id: comment.id } },\n            optimisticResponse: getOptimisticResponse(comment, emoji, !isSelected, true),\n          });\n        } else if (update) {\n          return action({\n            variables: { emoji: emoji, update: { id: update.id } },\n            optimisticResponse: getOptimisticResponse(update, emoji, !isSelected, false),\n          });\n        }\n      },\n    };\n  };\n\n  return (\n    <Manager>\n      <div ref={wrapperRef}>\n        <Reference>\n          {({ ref }) => (\n            <StyledButton\n              buttonSize=\"tiny\"\n              display=\"inline-block\"\n              whiteSpace=\"nowrap\"\n              onClick={() => setOpen(true)}\n              ref={ref}\n              margin=\"4px 8px 4px 0\"\n              data-cy=\"comment-reaction-picker-trigger\"\n            >\n              <AddReactionIcon />\n            </StyledButton>\n          )}\n        </Reference>\n        {open && (\n          <Popper placement=\"bottom\">\n            {({ placement, ref, style }) => (\n              <StyledCard\n                boxShadow=\"-2px -1px 3px 0px #e8e8e8\"\n                zIndex={9999}\n                data-placement={placement}\n                ref={ref}\n                style={style}\n                data-cy=\"comment-reaction-picker-popper\"\n              >\n                <Flex>\n                  {emojiFirstRow.map(emoji => (\n                    <ReactionButton key={emoji} {...getReactionBtnProps(emoji)} />\n                  ))}\n                </Flex>\n                <Flex>\n                  {emojiSecondRow.map(emoji => (\n                    <ReactionButton key={emoji} {...getReactionBtnProps(emoji)} />\n                  ))}\n                </Flex>\n              </StyledCard>\n            )}\n          </Popper>\n        )}\n      </div>\n    </Manager>\n  );\n};\n\nEmojiReactionPicker.propTypes = {\n  comment: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    html: PropTypes.string,\n    createdAt: PropTypes.string,\n    userReactions: PropTypes.array,\n  }),\n  update: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    html: PropTypes.string,\n    createdAt: PropTypes.string,\n    fromAccount: PropTypes.shape({\n      id: PropTypes.string,\n      name: PropTypes.string,\n    }),\n    userReactions: PropTypes.array,\n  }),\n};\n\nexport default EmojiReactionPicker;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport { Span } from '../Text';\n\nconst EmojiLabel = styled(Span)`\n  outline: 0;\n  border: 1px solid #dadada;\n  border-style: solid;\n  border-width: 1px;\n  border-radius: 100px;\n  text-align: center;\n  padding: 5px 14px 5px 14px;\n  font-size: 12px;\n  line-height: 14px;\n  margin: 4px 8px 4px 0;\n`;\n\nconst EmojiReactions = ({ reactions }) => {\n  return Object.keys(reactions)\n    .sort()\n    .map(emoji => {\n      return (\n        <EmojiLabel key={emoji}>\n          {emoji}&nbsp;&nbsp;{reactions[emoji]}\n        </EmojiLabel>\n      );\n    });\n};\n\nEmojiReactions.propTypes = {\n  /** Reactions associated with this comment */\n  reactions: PropTypes.object,\n};\n\nexport default React.memo(EmojiReactions);\n","import { css } from 'styled-components';\n\n/**\n * A custom scrollbar for Chrome, more prettier than the system one.\n */\nexport const CustomScrollbarCSS = css`\n  @media (pointer: fine) {\n    &::-webkit-scrollbar {\n      height: 8px;\n      margin: 0 16px;\n    }\n\n    &::-webkit-scrollbar-thumb {\n      background: #d1d1d3;\n      border-radius: 16px;\n      &:hover {\n        background: #aaa;\n      }\n    }\n\n    &::-webkit-scrollbar-track {\n      background: #f2f3f4;\n      border-radius: 20px;\n    }\n\n    &::-webkit-scrollbar-button {\n      color: white;\n    }\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport styled from 'styled-components';\n\nimport Container from './Container';\nimport StyledButton from './StyledButton';\nimport StyledUpdate from './StyledUpdate';\n\nconst LoadingContainer = styled.div`\n  color: #797d7f;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: rgba(255, 255, 255, 0.85);\n  text-transform: uppercase;\n  letter-spacing: 3px;\n  font-weight: bold;\n  z-index: 10;\n  -webkit-backdrop-filter: blur(2px);\n  backdrop-filter: blur(5px);\n`;\n\nclass Updates extends React.Component {\n  static propTypes = {\n    collective: PropTypes.object,\n    updates: PropTypes.object,\n    fetchMore: PropTypes.func,\n    LoggedInUser: PropTypes.object,\n  };\n\n  constructor(props) {\n    super(props);\n    this.fetchMore = this.fetchMore.bind(this);\n    this.state = { loading: false, isPayActionLocked: false };\n  }\n\n  fetchMore(e) {\n    e.target.blur();\n    this.setState({ loading: true });\n    this.props.fetchMore().then(() => {\n      this.setState({ loading: false });\n    });\n  }\n\n  setPayActionLock(val) {\n    this.setState({ isPayActionLocked: val });\n  }\n\n  render() {\n    const { collective, updates } = this.props;\n    const showLoadMore = updates?.nodes.length < updates?.totalCount;\n\n    if (!updates) {\n      return <div />;\n    }\n\n    return (\n      <div className=\"Updates\">\n        <Container position=\"relative\" border=\"1px solid #e6e8eb\" borderRadius={5}>\n          {this.state.loading && (\n            <LoadingContainer>\n              <FormattedMessage id=\"loading\" defaultMessage=\"loading\" />\n            </LoadingContainer>\n          )}\n          {updates.nodes.map((update, index) => (\n            <Container key={update.id} padding=\"0\">\n              <StyledUpdate\n                update={update}\n                collective={collective}\n                compact={true}\n                borderTop={index !== 0 ? '1px solid #e6e8eb' : 'none'}\n              />\n            </Container>\n          ))}\n          {updates.nodes.length === 0 && (\n            <Container color=\"black.700\" p={4}>\n              <FormattedMessage id=\"updates.empty\" defaultMessage=\"No Updates\" />\n            </Container>\n          )}\n        </Container>\n        {showLoadMore && (\n          <Container margin=\"1rem\" textAlign=\"center\">\n            <StyledButton onClick={this.fetchMore} textTransform=\"capitalize\">\n              {this.state.loading && <FormattedMessage id=\"loading\" defaultMessage=\"loading\" />}\n              {!this.state.loading && <FormattedMessage id=\"loadMore\" defaultMessage=\"load more\" />}\n            </StyledButton>\n          </Container>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Updates;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { defineMessages, FormattedMessage, useIntl } from 'react-intl';\nimport styled from 'styled-components';\n\nimport Container from '../../Container';\nimport { StyledSelectFilter } from '../../StyledSelectFilter';\n\nconst FilterLabel = styled.label`\n  font-weight: 500;\n  font-size: 12px;\n  line-height: 16px;\n  letter-spacing: 0.06em;\n  text-transform: uppercase;\n  color: #4e5052;\n  margin-bottom: 10px;\n`;\n\nconst labels = defineMessages({\n  'most-recent': {\n    id: 'Collectives.MostRecent',\n    defaultMessage: 'Most recent',\n  },\n  oldest: {\n    id: 'Collectives.Oldest',\n    defaultMessage: 'Oldest',\n  },\n});\n\nconst UpdateOrderByFilter = ({ value, onChange, ...props }) => {\n  const intl = useIntl();\n  const getOption = value => ({ label: intl.formatMessage(labels[value]), value });\n  const options = [getOption('most-recent'), getOption('oldest')];\n\n  return (\n    <Container>\n      <FilterLabel htmlFor=\"update-filter-sort-by\">\n        <FormattedMessage id=\"Update.SortBy\" defaultMessage=\"Sort By\" />\n      </FilterLabel>\n      <StyledSelectFilter\n        inputId=\"update-filter-sort-by\"\n        value={labels[value] ? getOption(value) : options[0]}\n        onChange={({ value }) => onChange(value)}\n        options={options}\n        {...props}\n      />\n    </Container>\n  );\n};\n\nUpdateOrderByFilter.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.string,\n};\n\nexport default React.memo(UpdateOrderByFilter);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { defineMessages, FormattedMessage, useIntl } from 'react-intl';\nimport styled from 'styled-components';\n\nimport Container from '../../Container';\nimport { Box } from '../../Grid';\nimport SearchBar from '../../SearchBar';\n\nconst FilterLabel = styled.label`\n  font-weight: 500;\n  font-size: 12px;\n  line-height: 16px;\n  letter-spacing: 0.06em;\n  text-transform: uppercase;\n  color: #4e5052;\n  margin-bottom: 10px;\n`;\n\nconst SearchFormContainer = styled(Box)`\n  width: 100%;\n  min-width: 10rem;\n`;\n\nconst messages = defineMessages({\n  searchFilterPlaceholder: {\n    id: 'UpdateSearchFilter.placeholder',\n    defaultMessage: 'Search by user, title, content...',\n  },\n});\n\nconst UpdateSearchFilter = ({ searchTerm, onChange }) => {\n  const { formatMessage } = useIntl();\n  return (\n    <Container>\n      <FilterLabel htmlFor=\"update-filter-search\">\n        <FormattedMessage id=\"Search\" defaultMessage=\"Search\" />\n      </FilterLabel>\n      <SearchFormContainer>\n        <SearchBar\n          id=\"update-filter-search\"\n          placeholder={formatMessage(messages.searchFilterPlaceholder)}\n          height=\"38px\"\n          defaultValue={searchTerm}\n          onSubmit={onChange}\n        />\n      </SearchFormContainer>\n    </Container>\n  );\n};\n\nUpdateSearchFilter.propTypes = {\n  searchTerm: PropTypes.string,\n  onChange: PropTypes.func,\n};\n\nexport default React.memo(UpdateSearchFilter);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Box, Flex } from '../Grid';\n\nimport UpdateOrderByFilter from './filters/UpdateOrderByFilter';\nimport UpdateSearchFilter from './filters/UpdateSearchFilter';\n\nconst UpdateFilters = ({ values, onChange }) => {\n  const getFilterProps = name => ({\n    inputId: `updates-filter-${name}`,\n    value: values?.[name],\n    onChange: value => {\n      onChange({ ...values, [name]: value === 'ALL' ? null : value });\n    },\n  });\n\n  return (\n    <Flex flexWrap=\"wrap\">\n      <Box width={[1, 1, 2 / 12]} mr={['none', '15px']}>\n        <UpdateOrderByFilter {...getFilterProps('orderBy')} />\n      </Box>\n      <Box width={[1, 1, '82%']}>\n        <UpdateSearchFilter {...getFilterProps('searchTerm')} />\n      </Box>\n    </Flex>\n  );\n};\n\nUpdateFilters.propTypes = {\n  values: PropTypes.object,\n  onChange: PropTypes.func,\n};\n\nexport default React.memo(UpdateFilters);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gql } from '@apollo/client';\nimport { graphql } from '@apollo/client/react/hoc';\nimport { cloneDeep, omitBy } from 'lodash';\nimport { withRouter } from 'next/router';\nimport { FormattedMessage } from 'react-intl';\n\nimport { API_V2_CONTEXT } from '../lib/graphql/helpers';\nimport { addParentToURLIfMissing, getCollectivePageCanonicalURL, getCollectivePageRoute } from '../lib/url-helpers';\n\nimport Body from '../components/Body';\nimport CollectiveNavbar from '../components/collective-navbar';\nimport { NAVBAR_CATEGORIES } from '../components/collective-navbar/constants';\nimport { collectiveNavbarFieldsFragment } from '../components/collective-page/graphql/fragments';\nimport Container from '../components/Container';\nimport ErrorPage from '../components/ErrorPage';\nimport Footer from '../components/Footer';\nimport { Box, Flex } from '../components/Grid';\nimport Header from '../components/Header';\nimport Link from '../components/Link';\nimport Loading from '../components/Loading';\nimport StyledButton from '../components/StyledButton';\nimport { H1, P } from '../components/Text';\nimport Updates from '../components/Updates';\nimport UpdateFilters from '../components/updates/UpdateFilters';\nimport { withUser } from '../components/UserProvider';\n\nconst ROUTE_PARAMS = ['collectiveSlug', 'offset'];\n\nclass UpdatesPage extends React.Component {\n  static getInitialProps({ query: { collectiveSlug, orderBy, searchTerm } }) {\n    return { slug: collectiveSlug, orderBy, searchTerm };\n  }\n\n  static propTypes = {\n    slug: PropTypes.string, // for addCollectiveNavbarData\n    LoggedInUser: PropTypes.object, // from withUser\n    router: PropTypes.object, // from withRouter\n    fetchMore: PropTypes.func, // from withData\n    data: PropTypes.shape({\n      account: PropTypes.object,\n      loading: PropTypes.bool,\n      refetch: PropTypes.func,\n    }).isRequired, // from withData\n  };\n\n  componentDidMount() {\n    const { router, data } = this.props;\n    const account = data?.account;\n    addParentToURLIfMissing(router, account, '/updates');\n  }\n\n  componentDidUpdate(prevProps) {\n    const { data, LoggedInUser } = this.props;\n    const collective = data.account;\n    if (!prevProps.LoggedInUser && LoggedInUser && LoggedInUser.isAdminOfCollective(collective)) {\n      // We refetch the data to get the updates that are not published yet\n      data.refetch({ options: { fetchPolicy: 'network-only' } });\n    }\n  }\n\n  updateQuery = (router, newParams) => {\n    const query = omitBy({ ...router.query, ...newParams }, (value, key) => !value || ROUTE_PARAMS.includes(key));\n    const pathname = router.asPath.split('?')[0];\n    return router.push({ pathname, query });\n  };\n\n  render() {\n    const { data, LoggedInUser, router } = this.props;\n\n    if (!data.account) {\n      return <ErrorPage data={data} />;\n    }\n\n    const collective = data.account;\n    const updates = collective?.updates;\n    return (\n      <div className=\"UpdatesPage\">\n        <Header\n          collective={collective}\n          LoggedInUser={LoggedInUser}\n          canonicalURL={`${getCollectivePageCanonicalURL(collective)}/updates`}\n        />\n\n        <Body>\n          <CollectiveNavbar\n            collective={collective}\n            isAdmin={LoggedInUser && LoggedInUser.isAdminOfCollective(collective)}\n            selectedCategory={NAVBAR_CATEGORIES.CONNECT}\n          />\n\n          <div className=\"content\">\n            <Flex flexWrap=\"wrap\" alignItems=\"center\" pr={2} justifyContent=\"space-between\">\n              <Container padding=\"0.8rem 0\" my={4}>\n                <H1 fontSize=\"40px\" fontWeight=\"normal\" textAlign=\"left\" mb={2}>\n                  <FormattedMessage id=\"updates\" defaultMessage=\"Updates\" />\n                </H1>\n                <P color=\"black.700\" css={{ flex: '0 1 70%' }}>\n                  <FormattedMessage\n                    id=\"section.updates.subtitle\"\n                    defaultMessage=\"Updates on our activities and progress.\"\n                  />\n                </P>\n              </Container>\n              {LoggedInUser?.isAdminOfCollective(collective) && (\n                <Link href={`${getCollectivePageRoute(collective)}/updates/new`}>\n                  <StyledButton buttonStyle=\"primary\" m={2}>\n                    <FormattedMessage id=\"sections.update.new\" defaultMessage=\"Create an Update\" />\n                  </StyledButton>\n                </Link>\n              )}\n            </Flex>\n            <UpdateFilters\n              values={router.query}\n              onChange={queryParams =>\n                this.updateQuery(router, {\n                  ...queryParams,\n                  offset: null,\n                })\n              }\n            />\n            <Box mt={4} mb={5}>\n              {data.loading ? (\n                <Loading />\n              ) : (\n                <Updates\n                  collective={collective}\n                  updates={updates}\n                  fetchMore={this.props.fetchMore}\n                  LoggedInUser={LoggedInUser}\n                />\n              )}\n            </Box>\n          </div>\n        </Body>\n\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport const updatesQuery = gql`\n  query Updates(\n    $collectiveSlug: String!\n    $limit: Int\n    $offset: Int\n    $searchTerm: String\n    $orderBy: UpdateChronologicalOrderInput\n  ) {\n    account(slug: $collectiveSlug, throwIfMissing: false) {\n      id\n      legacyId\n      name\n      slug\n      type\n      ... on Event {\n        parent {\n          id\n          slug\n        }\n      }\n      ... on Project {\n        parent {\n          id\n          slug\n        }\n      }\n      features {\n        id\n        ...NavbarFields\n      }\n      updates(limit: $limit, offset: $offset, searchTerm: $searchTerm, orderBy: $orderBy) {\n        totalCount\n        nodes {\n          id\n          slug\n          title\n          summary\n          createdAt\n          publishedAt\n          updatedAt\n          userCanSeeUpdate\n          tags\n          isPrivate\n          isChangelog\n          makePublicOn\n          fromAccount {\n            id\n            type\n            name\n            slug\n            imageUrl\n          }\n        }\n      }\n    }\n  }\n  ${collectiveNavbarFieldsFragment}\n`;\n\nexport const getUpdatesVariables = (slug, orderBy = null, searchTerm = null) => {\n  return {\n    collectiveSlug: slug,\n    offset: 0,\n    limit: UPDATES_PER_PAGE * 2,\n    orderBy: { field: 'PUBLISHED_AT', direction: orderBy === 'oldest' ? 'ASC' : 'DESC' },\n    searchTerm: searchTerm,\n  };\n};\n\nexport const UPDATES_PER_PAGE = 10;\n\nconst addUpdatesData = graphql(updatesQuery, {\n  options: props => ({\n    context: API_V2_CONTEXT,\n    variables: getUpdatesVariables(props.slug, props.orderBy, props.searchTerm),\n  }),\n  props: ({ data }) => ({\n    data,\n    fetchMore: () => {\n      return data.fetchMore({\n        variables: {\n          offset: data.account.updates.nodes.length,\n          limit: UPDATES_PER_PAGE,\n        },\n        updateQuery: (previousResult, { fetchMoreResult }) => {\n          if (!fetchMoreResult) {\n            return previousResult;\n          }\n          const previousResultNodes = Object.assign({}, previousResult.account.updates, {\n            // Append the new posts results to the old one\n            nodes: [...previousResult.account.updates.nodes, ...fetchMoreResult.account.updates.nodes],\n          });\n\n          const previousResultClone = cloneDeep(previousResult);\n          previousResultClone.account.updates.nodes = previousResultNodes.nodes;\n          return previousResultClone;\n        },\n      });\n    },\n  }),\n});\n\nexport default withUser(withRouter(addUpdatesData(UpdatesPage)));\n"],"names":["React","Support","Redo","withRouter","FormattedMessage","ERROR","Body","Container","Footer","Flex","Header","Link","Loading","MessageBox","NotFound","StyledButton","StyledLink","H1","P","withUser","ErrorPage","props","error","data","loading","log","message","console","networkError","type","NOT_FOUND","payload","BAD_COLLECTIVE_TYPE","renderErrorMessage","includes","unknownError","router","back","stackTrace","expandError","process","env","OC_ENV","fontSize","location","reload","textAlign","marginBottom","whiteSpace","LoggedInUser","component","getErrorComponent","Component","Router","searchTerm","pathname","query","q","term","defineMessages","useIntl","SearchForm","messages","searchPlaceholder","id","defaultMessage","SearchBar","onSubmit","defaultValue","placeholder","useState","value","setValue","intl","useEffect","formatMessage","event","preventDefault","searchInput","target","elements","CustomStyledIcon","AddReactionIcon","gql","useMutation","Manager","Popper","Reference","styled","css","API_V2_CONTEXT","useGlobalBlur","StyledCard","StyledRoundButton","addReactionMutation","removeReactionMutation","Emoji","div","ReactionButton","attrs","isBorderless","buttonSize","isSelected","theme","colors","primary","getOptimisticResponse","entity","emoji","isAdding","userReactions","__typename","fieldName","fieldNameOpposite","newCount","reactions","addEmojiReaction","removeEmojiReaction","filter","userEmoji","mutationOptions","context","EmojiReactionPicker","comment","update","emojiFirstRow","emojiSecondRow","open","setOpen","wrapperRef","useRef","addReaction","removeReaction","outside","getReactionBtnProps","children","onClick","action","variables","optimisticResponse","ref","placement","style","map","Span","EmojiLabel","EmojiReactions","Object","keys","sort","memo","CustomScrollbarCSS","StyledUpdate","LoadingContainer","Updates","fetchMore","bind","state","isPayActionLocked","e","blur","setState","then","val","collective","updates","showLoadMore","nodes","length","totalCount","index","StyledSelectFilter","FilterLabel","label","labels","oldest","UpdateOrderByFilter","onChange","getOption","options","Box","SearchFormContainer","searchFilterPlaceholder","UpdateSearchFilter","UpdateFilters","values","getFilterProps","name","inputId","graphql","addParentToURLIfMissing","getCollectivePageCanonicalURL","getCollectivePageRoute","CollectiveNavbar","NAVBAR_CATEGORIES","collectiveNavbarFieldsFragment","ROUTE_PARAMS","UpdatesPage","newParams","key","asPath","split","push","account","prevProps","isAdminOfCollective","refetch","fetchPolicy","CONNECT","queryParams","updateQuery","offset","collectiveSlug","orderBy","slug","updatesQuery","getUpdatesVariables","limit","UPDATES_PER_PAGE","field","direction","addUpdatesData","previousResult","fetchMoreResult","previousResultNodes","assign","previousResultClone","flex"],"sourceRoot":""}