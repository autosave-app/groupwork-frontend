{"version":3,"file":"static/chunks/5963-5d2af39b86ae0f2c.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAOA;AAEA;AACA;AACA;AAEA;AACA;AACA;;;AAEO,IAAMyB,eAAe,GAAGpB,qEAAH,sWAArB;;AAgBP,IAAMqB,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAuC;EACxD;EACA;EACA,IAAMC,WAA8C,GAAG,SAAjDA,WAAiD,CAAAC,CAAC,EAAI;IAC1DA,CAAC,CAACC,cAAF;IACAD,CAAC,CAACE,eAAF;EACD,CAHD;;EAKA,mBAAiFpB,wEAAW,CAAC;IAC3FqB,EAAE,EAAEL,KAAK,CAACM,IAAN,CAAWC;EAD4E,CAAD,CAA5F;EAAA,IAAQC,UAAR,gBAAQA,UAAR;EAAA,IAAoBC,UAApB,gBAAoBA,UAApB;EAAA,IAAgCC,SAAhC,gBAAgCA,SAAhC;EAAA,IAA2CC,UAA3C,gBAA2CA,UAA3C;EAAA,IAAuDC,SAAvD,gBAAuDA,SAAvD;EAAA,IAAkEC,UAAlE,gBAAkEA,UAAlE;;EAIA,IAAMC,KAAK,GAAG;IACZF,SAAS,EAAE3B,mGAAA,CAAuB2B,SAAvB,CADC;IAEZC,UAAU,EAAVA,UAFY;IAGZI,OAAO,EAAER,UAAU,GAAG,KAAH,GAAWS;EAHlB,CAAd;EAMA,oBACE;IAAK,KAAK,EAAEJ,KAAZ;IAAmB,GAAG,EAAEH;EAAxB,GAAwCH,UAAxC,GAAwDE,SAAxD;IAAA,uBACE,wDAAC,4DAAD;MACE,CAAC,EAAC,KADJ;MAEE,OAAO,EAAC,eAFV;MAGE,SAAS,EAAC,MAHZ;MAIE,KAAK,EAAE;QAAES,MAAM,EAAE;MAAV,CAJT;MAKE,WAAW,EAAElB,WALf;MAME,gBAAgB,kCAAOD,KAAK,CAACoB,WAAb;QAA0BC,SAAS,EAAErB,KAAK,CAACqB,SAA3C;QAAsDC,aAAa,EAAE,uBAAApB,CAAC;UAAA,OAAIA,CAAC,CAACE,eAAF,EAAJ;QAAA;MAAtE,EANlB;MAAA,UAQGJ,KAAK,CAACuB;IART;EADF,GADF;AAcD,CAhCD;;AAkCA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACxB,KAAD,EAAuB;EACnC,oBAAO,wDAAC,kDAAD,kCAAiCA,KAAjC;IAAwC,WAAS;EAAjD,GAAP;AACD,CAFD;;AAIA,IAAMyB,MAAM,GAAG,SAATA,MAAS,OAA2C;EAAA,IAAxCC,UAAwC,QAAxCA,UAAwC;EAAA,IAAzB1B,KAAyB;;EACxD,oBACE,wDAAC,mDAAD,kCACMA,KADN;IAEE,UAAU,kCAEH0B,UAFG;MAGN,wCAAiC1B,KAAK,CAACM,IAAN,CAAW,OAAX,CAAjC;IAHM;EAFZ,GADF;AAWD,CAZD;;AAcA,IAAMqB,eAAe,GAAG,SAAlBA,eAAkB;EAAA,IAAGD,UAAH,SAAGA,UAAH;EAAA,IAAkB1B,KAAlB;;EAAA,oBACtB,wDAAC,4DAAD,kCACMA,KADN;IAEE,UAAU,kCAAO0B,UAAP;MAAmB,WAAW;IAA9B;EAFZ,GADsB;AAAA,CAAxB;;AAOA,IAAME,eAAe,GAAG,uDAAS,UAACC,UAAD,EAAaC,SAAb,EAA2B;EAC1D,OAAOD,UAAU,CAAC;IAAEC,SAAS,EAATA;EAAF,CAAD,CAAjB;AACD,CAFuB,EAErB,GAFqB,CAAxB;;AAIA,SAASC,mBAAT,QAAkF;EAAA,+BAAnDC,YAAmD;EAAA,IAAnDA,YAAmD,mCAApC,EAAoC;EAAA,IAAhCC,QAAgC,SAAhCA,QAAgC;EAAA,gCAAtBC,aAAsB;EAAA,IAAtBA,aAAsB,oCAAN,EAAM;EAChF,IAAMC,IAAI,GAAG/C,gEAAO,EAApB;;EACA,oBAAkDT,6DAAY,CAACmB,eAAD,EAAkB;IAC9EsC,OAAO,EAAE3C,0EAAcA;EADuD,CAAlB,CAA9D;EAAA;EAAA,IAAO4C,UAAP;EAAA;EAAA,IAA8BC,QAA9B,mBAAqBC,OAArB;EAAA,IAAwCjC,IAAxC,mBAAwCA,IAAxC;;EAGA,gBAAoC7B,+CAAQ,CAAU,KAAV,CAA5C;EAAA,IAAO+D,UAAP;EAAA,IAAmBC,aAAnB;;EACA,IAAMF,OAAO,GAAGD,QAAQ,IAAIE,UAA5B;;EACA,iBAA0B/D,+CAAQ,CAAS,EAAT,CAAlC;EAAA,IAAOiE,KAAP;EAAA,IAAcC,QAAd;;EACA,iBAA8BlE,+CAAQ,CAAc,EAAd,CAAtC;EAAA,IAAOmE,OAAP;EAAA,IAAgBC,UAAhB;;EACA,iBAAgCpE,+CAAQ,CAAc,CAAAuD,YAAY,SAAZ,IAAAA,YAAY,WAAZ,YAAAA,YAAY,CAAEc,GAAd,CAAkB,UAAAC,GAAG;IAAA,OAAK;MAAEC,KAAK,EAAED,GAAT;MAAcxC,KAAK,EAAEwC;IAArB,CAAL;EAAA,CAArB,MAA0D,EAAxE,CAAxC;EAAA,IAAOE,QAAP;EAAA,IAAiBC,WAAjB;;EACA,iBAAsCzE,+CAAQ,CAAgB,IAAhB,CAA9C;EAAA,IAAO0E,WAAP;EAAA,IAAoBC,cAApB;;EAEA5E,gDAAS,CAAC,YAAM;IACdyD,QAAQ,CAACgB,QAAD,CAAR;EACD,CAFQ,EAEN,CAACA,QAAD,CAFM,CAAT;EAIAzE,gDAAS,CAAC,YAAM;IACd,IAAIkE,KAAJ,aAAIA,KAAJ,eAAIA,KAAK,CAAEW,MAAX,EAAmB;MACjBZ,aAAa,CAAC,IAAD,CAAb;MACAb,eAAe,CAACS,UAAD,EAAa;QAC1BiB,IAAI,EAAEZ;MADoB,CAAb,CAAf;IAGD,CALD,MAKO;MACL;MACAL,UAAU;IACX;EACF,CAVQ,EAUN,CAACK,KAAD,CAVM,CAAT;EAYAlE,gDAAS,CAAC,YAAM;IACd,IAAI,CAAC8D,QAAL,EAAe;MAAA;;MACbO,UAAU,CACR,CAAAvC,IAAI,SAAJ,IAAAA,IAAI,WAAJ,8BAAAA,IAAI,CAAEiD,QAAN,kEAAgBC,KAAhB,CACGC,MADH,CACU;QAAA,IAAGV,GAAH,SAAGA,GAAH;QAAA,OAAa,CAACvD,iGAAA,CAAsBuD,GAAtB,CAAd;MAAA,CADV,EAEGD,GAFH,CAEO;QAAA,IAAGC,GAAH,SAAGA,GAAH;QAAA,OAAc;UACjBC,KAAK,EAAED,GADU;UAEjBxC,KAAK,EAAEwC;QAFU,CAAd;MAAA,CAFP,MAKS,EAND,CAAV;MAQAN,aAAa,CAAC,KAAD,CAAb;IACD;EACF,CAZQ,EAYN,CAACH,QAAD,EAAWhC,IAAX,CAZM,CAAT;;EAcA,SAASqD,cAAT,CAAwBC,KAAxB,EAA+B;IAC7B,IAAQC,MAAR,GAAyBD,KAAzB,CAAQC,MAAR;IAAA,IAAgBC,IAAhB,GAAyBF,KAAzB,CAAgBE,IAAhB;;IAEA,IAAIA,IAAI,IAAID,MAAM,CAACxD,EAAP,KAAcyD,IAAI,CAACzD,EAA/B,EAAmC;MACjC6C,WAAW,CAAC,UAAAD,QAAQ,EAAI;QACtB,IAAMc,QAAQ,GAAGd,QAAQ,CAACe,SAAT,CAAmB,UAAAC,IAAI;UAAA,OAAIA,IAAI,CAAC1D,KAAL,KAAesD,MAAM,CAACxD,EAA1B;QAAA,CAAvB,CAAjB;QACA,IAAM6D,QAAQ,GAAGjB,QAAQ,CAACe,SAAT,CAAmB,UAAAC,IAAI;UAAA,OAAIA,IAAI,CAAC1D,KAAL,KAAeuD,IAAI,CAACzD,EAAxB;QAAA,CAAvB,CAAjB;QACA,OAAOvB,sEAAS,CAACmE,QAAD,EAAWc,QAAX,EAAqBG,QAArB,CAAhB;MACD,CAJU,CAAX;IAKD;EACF,CApD+E,CAsDhF;;;EACA,IAAMC,iBAAiB,GAAG5F,kDAAW,CACnC,uDAASoF,cAAT,EAAyB,EAAzB,EAA6B;IAC3BS,QAAQ,EAAE,KADiB;IAE3BC,OAAO,EAAE;EAFkB,CAA7B,CADmC,EAKnC,EALmC,CAArC;;EAQA,SAASC,eAAT,CAAyBV,KAAzB,EAAgC;IAC9BR,cAAc,CAACQ,KAAK,CAACC,MAAN,CAAaxD,EAAd,CAAd;EACD;;EAED,SAASkE,aAAT,GAAyB;IACvBnB,cAAc,CAAC,IAAD,CAAd;EACD;;EAED,oBACE,yDAAC,2CAAD;IAAA,wBACE,yDAAC,+DAAD;MACE,WAAW,EAAEkB,eADf;MAEE,UAAU,EAAEH,iBAFd;MAGE,SAAS,EAAEI,aAHb;MAIE,YAAY,EAAEA,aAJhB;MAAA,wBAME,wDAAC,wEAAD;QAAiB,KAAK,EAAEtB,QAAQ,CAACH,GAAT,CAAa,UAAA0B,CAAC;UAAA,OAAIA,CAAC,CAACjE,KAAN;QAAA,CAAd,CAAxB;QAAA,uBACE,wDAAC,wEAAD;UACE,eAAe,MADjB;UAEE,WAAW,EAAE4B,IAAI,CAACsC,aAAL,CAAmB;YAAEpE,EAAE,qCAAJ;YAA2CqE,cAAc;cAAA;cAAA;YAAA;UAAzD,CAAnB,CAFf;UAGE,OAAO,MAHT;UAIE,KAAK,EAAEzB,QAJT;UAKE,gBAAgB,EAAE0B,QAAQ,CAACC,IAL7B;UAME,UAAU,EAAE;YACV7E,UAAU,EAAVA,UADU;YAEV4B,eAAe,EAAfA,eAFU;YAGVH,KAAK,EAALA,KAHU;YAIVC,MAAM,EAANA;UAJU,CANd;UAYE,SAAS,EAAE,mBAAAvB,CAAC,EAAI;YACd;YACA,IAAIA,CAAC,CAAC2E,GAAF,KAAU,OAAV,IAAqBtC,OAArB,IAAgCK,OAAO,CAACS,MAAR,KAAmB,CAAvD,EAA0D;cACxDnD,CAAC,CAACC,cAAF;YACD;UACF,CAjBH;UAkBE,aAAa,EAAE,uBAAAI,KAAK;YAAA,OAAIoC,QAAQ,CAACpC,KAAD,CAAZ;UAAA,CAlBtB;UAmBE,OAAO,EAAEqC,OAnBX;UAoBE,SAAS,EAAEL,OApBb;UAqBE,QAAQ,EAAE,kBAACuC,eAAD;YAAA,OAAkC5B,WAAW,CAAC4B,eAAD,CAA7C;UAAA,CArBZ;UAsBE,MAAM,EAAE;YACNC,UAAU,EAAE,oBAAAC,MAAM;cAAA,uCAAUA,MAAV;gBAAkBC,MAAM,EAAE;cAA1B;YAAA,CADZ;YAENC,OAAO,EAAE,iBAACC,UAAD,EAAaC,KAAb;cAAA,uCACJD,UADI;gBAEPE,SAAS,8BAAuB3F,2FAAvB,CAFF;gBAGP6F,WAAW,EAAEH,KAAK,CAAC/D,SAAN,GAAkB3B,6FAAlB,GAAwCA,yFAH9C;gBAIP,WAAW;kBACT6F,WAAW,EAAEH,KAAK,CAAC/D,SAAN,GAAkB3B,6FAAlB,GAAwCA,6FAAA;gBAD5C;cAJJ;YAAA;UAFH;QAtBV;MADF,EANF,eA0CE,wDAAC,gEAAD;QAAA,UACGyD,WAAW,gBACV,wDAAC,4DAAD;UACE,CAAC,EAAC,KADJ;UAEE,OAAO,EAAC,eAFV;UAGE,KAAK,EAAE;YAAEhC,MAAM,EAAE,UAAV;YAAsBsE,KAAK,EAAE;UAA7B,CAHT;UAIE,SAAS,EAAC,MAJZ;UAKE,eAAe,EAAC,WALlB;UAME,gBAAgB,EAAE,IANpB;UAAA,UAQGtC;QARH,EADU,GAWR;MAZN,EA1CF;IAAA,EADF,eA0DE,wDAAC,sEAAD;MAAe,MAAM,EAAE,CAAAjB,aAAa,SAAb,IAAAA,aAAa,WAAb,YAAAA,aAAa,CAAEmB,MAAf,IAAwB,CAAxB,GAA4B,MAA5B,GAAqC,CAA5D;MAAA,uBACE,yDAAC,kDAAD;QAAM,EAAE,EAAE,CAAV;QAAa,GAAG,EAAE,KAAlB;QAAyB,QAAQ,EAAC,MAAlC;QAAyC,UAAU,EAAE,QAArD;QAAA,WACGnB,aAAa,iBACZ,wDAAC,kDAAD;UAAM,KAAK,EAAC,WAAZ;UAAwB,EAAE,EAAE,CAA5B;UAAA,uBACE,wDAAC,4DAAD;YAAA;YAAkB,cAAc;cAAA;cAAA;YAAA;UAAhC;QADF,EAFJ,EAOGA,aAPH,aAOGA,aAPH,uBAOGA,aAAa,CAAEY,GAAf,CAAmB,UAAAC,GAAG,EAAI;UACzB,IAAM2C,UAAU,GAAGzC,QAAQ,CAAC0C,IAAT,CAAc;YAAA,IAAGpF,KAAH,SAAGA,KAAH;YAAA,OAAeA,KAAK,KAAKwC,GAAzB;UAAA,CAAd,CAAnB;UACA,oBACE,wDAAC,4DAAD;YACE,OAAO,EAAC,eADV;YAEE,IAAI,EAAC,QAFP;YAGE,QAAQ,EAAE,CAAC,CAHb;YAKE,gBAAgB,EAAE,KALpB;YAME,KAAK,EAAE;cAAE9B,OAAO,EAAEyE,UAAU,GAAG,GAAH,GAAS,CAA9B;cAAiCvE,MAAM,EAAE;YAAzC,CANT;YAOE,OAAO,EAAE;cAAA,OACPuE,UAAU,GACNxC,WAAW,CAACD,QAAQ,CAACQ,MAAT,CAAgB;gBAAA,IAAGlD,KAAH,SAAGA,KAAH;gBAAA,OAAeA,KAAK,KAAKwC,GAAzB;cAAA,CAAhB,CAAD,CADL,GAENG,WAAW,qLAAKD,QAAL,IAAe;gBAAE1C,KAAK,EAAEwC,GAAT;gBAAcC,KAAK,EAAED;cAArB,CAAf,GAHR;YAAA,CAPX;YAAA,UAaGA;UAbH,GAIOA,GAJP,CADF;QAiBD,CAnBA,CAPH;MAAA;IADF,EA1DF;EAAA,EADF;AA2FD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASD,yDAAehB,mBAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpRA;AAEA;AAEA;;;;AAEA,IAAM8D,SAAS,GAAG,SAAZA,SAAY,CAACC,IAAD,EAAOC,IAAP,EAAgB;EAChC;EACA,OAAQD,IAAI,GAAGE,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYF,IAAZ,CAAR,GAA6B,GAA7B,GAAmC,GAA1C;AACD,CAHD;;AAKA,IAAMG,QAAQ,GAAG,SAAXA,QAAW,CAACJ,IAAD,EAAOC,IAAP,EAAgB;EAC/B,IAAMI,CAAC,GAAGH,IAAI,CAACI,EAAL,GAAW,IAAIJ,IAAI,CAACI,EAAT,GAAcN,IAAf,GAAuBE,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYF,IAAZ,CAA3C;EACA,OAAQ,MAAMC,IAAI,CAACI,EAAZ,GAAkBJ,IAAI,CAACK,IAAL,CAAU,OAAOL,IAAI,CAACM,GAAL,CAASH,CAAT,IAAcH,IAAI,CAACM,GAAL,CAAS,CAACH,CAAV,CAArB,CAAV,CAAzB;AACD,CAHD;;AAKA,IAAMI,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD,EAAOT,IAAP,EAAgB;EAChC,OAAOC,IAAI,CAACS,KAAL,CAAY,CAACD,KAAI,GAAG,GAAR,IAAe,GAAhB,GAAuBR,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYF,IAAZ,CAAlC,CAAP;AACD,CAFD;;AAIA,IAAMW,QAAQ,GAAG,SAAXA,QAAW,CAACC,GAAD,EAAMZ,IAAN,EAAe;EAC9B,OAAOC,IAAI,CAACS,KAAL,CACJ,CAAC,IAAIT,IAAI,CAACY,GAAL,CAASZ,IAAI,CAACa,GAAL,CAAUF,GAAG,GAAGX,IAAI,CAACI,EAAZ,GAAkB,GAA3B,IAAkC,IAAIJ,IAAI,CAACc,GAAL,CAAUH,GAAG,GAAGX,IAAI,CAACI,EAAZ,GAAkB,GAA3B,CAA/C,IAAkFJ,IAAI,CAACI,EAA5F,IAAkG,CAAnG,GACEJ,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYF,IAAZ,CAFG,CAAP;AAID,CALD;;AAOA,IAAMgB,QAAQ,GAAG,SAAXA,QAAW,OAAoB;EAAA,IAAjBC,CAAiB,QAAjBA,CAAiB;EAAA,IAAdC,CAAc,QAAdA,CAAc;EAAA,IAAXlB,IAAW,QAAXA,IAAW;EACnC;EACA,IAAMmB,KAAK,GAAGhB,QAAQ,CAACe,CAAC,GAAG,CAAL,EAAQlB,IAAR,CAAtB;EACA,IAAMoB,KAAK,GAAGjB,QAAQ,CAACe,CAAD,EAAIlB,IAAJ,CAAtB;EACA,IAAMqB,IAAI,GAAGvB,SAAS,CAACmB,CAAD,EAAIjB,IAAJ,CAAtB;EACA,IAAMsB,IAAI,GAAGxB,SAAS,CAACmB,CAAC,GAAG,CAAL,EAAQjB,IAAR,CAAtB;EAEA,iBAAUqB,IAAV,gBAAoBF,KAApB,gBAA+BG,IAA/B,gBAAyCF,KAAzC;AACD,CARD;;AAUA,IAAMG,GAAG,GAAG,SAANA,GAAM,QAAmB;EAAA,IAAhBX,GAAgB,SAAhBA,GAAgB;EAAA,IAAXH,MAAW;;EAC7B,gBAA0B/H,kBAAQ,CAAC,IAAD,CAAlC;EAAA,IAAO8I,GAAP;EAAA,IAAYC,UAAZ;;EAEAhJ,mBAAS,CAAC,YAAM;IACd,IAAMuH,IAAI,GAAG,EAAb;IACA,IAAMiB,CAAC,GAAGT,SAAS,CAACC,MAAD,EAAOT,IAAP,CAAnB;IACA,IAAMkB,CAAC,GAAGP,QAAQ,CAACC,GAAD,EAAMZ,IAAN,CAAlB;IACA,IAAM0B,IAAI,GAAGV,QAAQ,CAAC;MAAEC,CAAC,EAADA,CAAF;MAAKC,CAAC,EAADA,CAAL;MAAQlB,IAAI,EAAJA;IAAR,CAAD,CAArB,CAJc,CAMd;;IACA,IAAMwB,GAAG,kEAA2DE,IAA3D,qBAA0Ed,GAA1E,gBAAmFH,MAAnF,eAAT;IAEAgB,UAAU,CAACD,GAAD,CAAV;EACD,CAVQ,EAUN,CAACZ,GAAD,EAAMH,MAAN,CAVM,CAAT;EAYA,oBACE;IAAK,KAAK,EAAE;MAAEkB,KAAK,EAAE,MAAT;MAAiBC,MAAM,EAAE;IAAzB,CAAZ;IAAA,wBACE;MAAQ,KAAK,EAAC,iBAAd;MAAgC,KAAK,EAAC,MAAtC;MAA6C,MAAM,EAAC,MAApD;MAA2D,WAAW,EAAC,GAAvE;MAA2E,SAAS,EAAC,IAArF;MAA0F,GAAG,EAAEJ;IAA/F,EADF,eAEE,oBAAC,yBAAD;MACE,YAAY,MADd;MAEE,IAAI,gDAAyCZ,GAAzC,uBAAyDH,MAAzD,qBAAwEG,GAAxE,cAA+EH,MAA/E,CAFN;MAAA,uBAIE,oBAAC,sBAAD;QAAkB,EAAE,kBAApB;QAAsC,cAAc;UAAA;UAAA;QAAA;MAApD;IAJF,EAFF;EAAA,EADF;AAWD,CA1BD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,mDAAec,GAAf;;;;;;;;;;;;;;;ACvEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;AAEA,IAAMU,eAAe,GAAGJ,mFAAH;EAAA;EAAA;AAAA,0BAArB;;IAIMM;;;;;;;;;;;;;WAUJ,kBAAS;MACP,IAAI,CAAC,KAAKlI,KAAL,CAAWmI,QAAhB,EAA0B;QACxB,OAAO,IAAP;MACD;;MAED,2BAA8C,KAAKnI,KAAL,CAAWmI,QAAzD;MAAA,IAAQC,IAAR,wBAAQA,IAAR;MAAA,IAAcC,OAAd,wBAAcA,OAAd;MAAA,IAAuB1B,GAAvB,wBAAuBA,GAAvB;MAAA,IAA4BH,KAA5B;MAAA,IAAkC8B,OAAlC,wBAAkCA,OAAlC;;MACA,IAAIF,IAAI,KAAK,QAAb,EAAuB;QACrB,IAAIC,OAAO,IAAIR,mBAAK,CAACQ,OAAD,CAApB,EAA+B;UAC7B,oBACE,oBAAC,iBAAD;YAAM,aAAa,EAAC,QAApB;YAA6B,UAAU,EAAC,QAAxC;YAAA,uBACE,oBAAC,MAAD;cAAG,SAAS,EAAC,QAAb;cAAA,uBACE,oBAAC,yBAAD;gBAAY,oBAAoB,MAAhC;gBAAiC,IAAI,EAAEA,OAAvC;gBAAA,UACGA;cADH;YADF;UADF,EADF;QASD,CAVD,MAUO;UACL,oBACE,oBAAC,MAAD;YAAG,SAAS,EAAC,QAAb;YAAA,uBACE,oBAAC,sBAAD;cAAkB,EAAE,mBAApB;cAAuC,cAAc;gBAAA;gBAAA;cAAA;YAArD;UADF,EADF;QAKD;MACF,CAlBD,MAkBO,IAAI,CAACD,IAAD,IAAS,CAACC,OAAV,IAAqB,CAAC1B,GAAtB,IAA6B,CAACH,KAA9B,IAAsC,CAAC8B,OAA3C,EAAoD;QACzD,OAAO,IAAP;MACD;;MAED,oBACE,qBAAC,eAAD;QAAiB,EAAE,EAAC,UAApB;QAAA,wBACE,qBAAC,wBAAD;UAAW,MAAM,EAAC,WAAlB;UAAA,WACG,KAAKtI,KAAL,CAAWuI,SAAX,iBAAwB;YAAA;UAAA,EAD3B,eAEE,oBAAC,wBAAD;YAAW,aAAU,QAArB;YAA8B,MAAM,EAAC,SAArC;YAAA,UACGH;UADH,EAFF,eAKE,oBAAC,wBAAD;YAAW,SAAS,EAAC,SAArB;YAA+B,KAAK,EAAC,WAArC;YAAA,uBACE,qBAAC,yBAAD;cACE,IAAI,gDAAyCzB,GAAzC,uBAAyDH,KAAzD,qBAAwEG,GAAxE,cAA+EH,KAA/E,CADN;cAEE,YAAY,MAFd;cAAA,WAIG6B,OAJH,EAKGC,OAAO,eAAQA,OAAR,IAAoB,EAL9B;YAAA;UADF,EALF;QAAA,EADF,EAgBG3B,GAAG,IAAIH,KAAP,iBACC;UAAK,SAAS,EAAC,KAAf;UAAA,uBACE,oBAAC,cAAD;YAAK,GAAG,EAAEG,GAAV;YAAe,QAAMH;UAArB;QADF,EAjBJ;MAAA,EADF;IAwBD;;;;EA9DoBnI;;yBAAjB6J,0BAMkB;EACpBK,SAAS,EAAE;AADS;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DxB,wDAAeL,QAAf","sources":["webpack://_N_E/./components/CollectiveTagsInput.tsx","webpack://_N_E/./components/Map.js","webpack://_N_E/./components/Location.js"],"sourcesContent":["import React, { Fragment, MouseEventHandler, useCallback, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { gql, useLazyQuery } from '@apollo/client';\nimport { DndContext, DragOverlay } from '@dnd-kit/core';\nimport { arrayMove, SortableContext, useSortable } from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport { debounce } from 'lodash';\nimport AnimateHeight from 'react-animate-height';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport {\n  components as ReactSelectComponents,\n  ContainerProps,\n  InputProps,\n  MultiValueProps,\n  OptionProps,\n} from 'react-select';\nimport CreatableSelect from 'react-select/creatable';\n\nimport { IGNORED_TAGS } from '../lib/constants/collectives';\nimport { API_V2_CONTEXT } from '../lib/graphql/helpers';\nimport colors from '../lib/theme/colors';\n\nimport { Flex } from './Grid';\nimport StyledTag from './StyledTag';\nimport { Span } from './Text';\n\nexport const searchTagsQuery = gql`\n  query SearchTags($term: String) {\n    tagStats(tagSearchTerm: $term) {\n      nodes {\n        id\n        tag\n      }\n    }\n  }\n`;\n\ntype TagOption = {\n  label: string;\n  value: string;\n};\n\nconst MultiValue = (props: MultiValueProps<TagOption>) => {\n  // This prevents the menu from being opened/closed when the user clicks\n  // on a value to begin dragging it\n  const onMouseDown: MouseEventHandler<HTMLDivElement> = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const { attributes, isDragging, listeners, setNodeRef, transform, transition } = useSortable({\n    id: props.data.value,\n  });\n\n  const style = {\n    transform: CSS.Translate.toString(transform),\n    transition,\n    opacity: isDragging ? '0.4' : undefined,\n  };\n\n  return (\n    <div style={style} ref={setNodeRef} {...attributes} {...listeners}>\n      <StyledTag\n        m=\"4px\"\n        variant=\"rounded-right\"\n        maxHeight=\"none\"\n        style={{ cursor: 'grab' }}\n        onMouseDown={onMouseDown}\n        closeButtonProps={{ ...props.removeProps, isFocused: props.isFocused, onPointerDown: e => e.stopPropagation() }}\n      >\n        {props.children}\n      </StyledTag>\n    </div>\n  );\n};\n\nconst Input = (props: InputProps) => {\n  return <ReactSelectComponents.Input {...props} data-cy={'tags-select-input'} />;\n};\n\nconst Option = ({ innerProps, ...props }: OptionProps) => {\n  return (\n    <ReactSelectComponents.Option\n      {...props}\n      innerProps={\n        {\n          ...innerProps,\n          'data-cy': `tags-select-option-${props.data['value']}`,\n        } as React.HTMLProps<HTMLDivElement>\n      }\n    />\n  );\n};\n\nconst SelectContainer = ({ innerProps, ...props }: ContainerProps) => (\n  <ReactSelectComponents.SelectContainer\n    {...props}\n    innerProps={{ ...innerProps, 'data-cy': 'tags-select' } as React.HTMLProps<HTMLDivElement>}\n  />\n);\n\nconst debouncedSearch = debounce((searchFunc, variables) => {\n  return searchFunc({ variables });\n}, 500);\n\nfunction CollectiveTagsInput({ defaultValue = [], onChange, suggestedTags = [] }) {\n  const intl = useIntl();\n  const [searchTags, { loading: fetching, data }] = useLazyQuery(searchTagsQuery, {\n    context: API_V2_CONTEXT,\n  });\n  const [debouncing, setDebouncing] = useState<boolean>(false);\n  const loading = fetching || debouncing;\n  const [input, setInput] = useState<string>('');\n  const [options, setOptions] = useState<TagOption[]>([]);\n  const [selected, setSelected] = useState<TagOption[]>(defaultValue?.map(tag => ({ label: tag, value: tag })) || []);\n  const [draggingTag, setDraggingTag] = useState<string | null>(null);\n\n  useEffect(() => {\n    onChange(selected);\n  }, [selected]);\n\n  useEffect(() => {\n    if (input?.length) {\n      setDebouncing(true);\n      debouncedSearch(searchTags, {\n        term: input,\n      });\n    } else {\n      // Skip debouncing when input is empty (on initial load for instance)\n      searchTags();\n    }\n  }, [input]);\n\n  useEffect(() => {\n    if (!fetching) {\n      setOptions(\n        data?.tagStats?.nodes\n          .filter(({ tag }) => !IGNORED_TAGS.includes(tag))\n          .map(({ tag }) => ({\n            label: tag,\n            value: tag,\n          })) || [],\n      );\n      setDebouncing(false);\n    }\n  }, [fetching, data]);\n\n  function handleDragOver(event) {\n    const { active, over } = event;\n\n    if (over && active.id !== over.id) {\n      setSelected(selected => {\n        const oldIndex = selected.findIndex(item => item.value === active.id);\n        const newIndex = selected.findIndex(item => item.value === over.id);\n        return arrayMove(selected, oldIndex, newIndex);\n      });\n    }\n  }\n\n  // Fix to avoid infinite loop caused by dragging over two items with variable sizes: https://github.com/clauderic/dnd-kit/issues/44#issuecomment-1018686592\n  const debouncedDragOver = useCallback(\n    debounce(handleDragOver, 40, {\n      trailing: false,\n      leading: true,\n    }),\n    [],\n  );\n\n  function handleDragStart(event) {\n    setDraggingTag(event.active.id);\n  }\n\n  function handleDragEnd() {\n    setDraggingTag(null);\n  }\n\n  return (\n    <Fragment>\n      <DndContext\n        onDragStart={handleDragStart}\n        onDragOver={debouncedDragOver}\n        onDragEnd={handleDragEnd}\n        onDragCancel={handleDragEnd}\n      >\n        <SortableContext items={selected.map(o => o.value)}>\n          <CreatableSelect\n            openMenuOnFocus\n            placeholder={intl.formatMessage({ id: 'collective.tags.input.placeholder', defaultMessage: '+ Add tags' })}\n            isMulti\n            value={selected}\n            menuPortalTarget={document.body}\n            components={{\n              MultiValue,\n              SelectContainer,\n              Input,\n              Option,\n            }}\n            onKeyDown={e => {\n              // Stop enter key from closing the menu and submitting the form when it's loading and there are no options\n              if (e.key === 'Enter' && loading && options.length === 0) {\n                e.preventDefault();\n              }\n            }}\n            onInputChange={value => setInput(value)}\n            options={options}\n            isLoading={loading}\n            onChange={(selectedOptions: TagOption[]) => setSelected(selectedOptions)}\n            styles={{\n              menuPortal: styles => ({ ...styles, zIndex: 9999 }),\n              control: (baseStyles, state) => ({\n                ...baseStyles,\n                boxShadow: `inset 0px 2px 2px ${colors.primary[50]}`,\n                borderColor: state.isFocused ? colors.primary[500] : colors.black[300],\n                '&:hover': {\n                  borderColor: state.isFocused ? colors.primary[500] : colors.primary[300],\n                },\n              }),\n            }}\n          />\n        </SortableContext>\n        <DragOverlay>\n          {draggingTag ? (\n            <StyledTag\n              m=\"4px\"\n              variant=\"rounded-right\"\n              style={{ cursor: 'grabbing', color: 'black' }}\n              maxHeight=\"none\"\n              backgroundColor=\"black.200\"\n              closeButtonProps={true}\n            >\n              {draggingTag}\n            </StyledTag>\n          ) : null}\n        </DragOverlay>\n      </DndContext>\n      <AnimateHeight height={suggestedTags?.length > 0 ? 'auto' : 0}>\n        <Flex mt={2} gap={'6px'} flexWrap=\"wrap\" alignItems={'center'}>\n          {suggestedTags && (\n            <Span color=\"black.600\" mr={1}>\n              <FormattedMessage defaultMessage=\"Popular tags:\" />\n            </Span>\n          )}\n\n          {suggestedTags?.map(tag => {\n            const isSelected = selected.some(({ value }) => value === tag);\n            return (\n              <StyledTag\n                variant=\"rounded-right\"\n                type=\"button\"\n                tabIndex={-1}\n                key={tag}\n                closeButtonProps={false}\n                style={{ opacity: isSelected ? 0.5 : 1, cursor: 'pointer' }}\n                onClick={() =>\n                  isSelected\n                    ? setSelected(selected.filter(({ value }) => value !== tag))\n                    : setSelected([...selected, { value: tag, label: tag }])\n                }\n              >\n                {tag}\n              </StyledTag>\n            );\n          })}\n        </Flex>\n      </AnimateHeight>\n    </Fragment>\n  );\n}\n\nCollectiveTagsInput.propTypes = {\n  defaultValue: PropTypes.arrayOf(PropTypes.string),\n  suggestedTags: PropTypes.arrayOf(PropTypes.string),\n  onChange: PropTypes.func,\n  preload: PropTypes.bool,\n};\n\nexport default CollectiveTagsInput;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport StyledLink from './StyledLink';\n\nconst tile2Long = (tile, zoom) => {\n  // see https://wiki.openstreetmap.org/wiki/Slippy_map_tilenames#ECMAScript_.28JavaScript.2FActionScript.2C_etc..29\n  return (tile / Math.pow(2, zoom)) * 360 - 180;\n};\n\nconst tile2Lat = (tile, zoom) => {\n  const n = Math.PI - (2 * Math.PI * tile) / Math.pow(2, zoom);\n  return (180 / Math.PI) * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\n};\n\nconst long2tile = (long, zoom) => {\n  return Math.floor(((long + 180) / 360) * Math.pow(2, zoom));\n};\n\nconst lat2tile = (lat, zoom) => {\n  return Math.floor(\n    ((1 - Math.log(Math.tan((lat * Math.PI) / 180) + 1 / Math.cos((lat * Math.PI) / 180)) / Math.PI) / 2) *\n      Math.pow(2, zoom),\n  );\n};\n\nconst makeBbox = ({ x, y, zoom }) => {\n  // https://wiki.openstreetmap.org/wiki/Slippy_Map\n  const south = tile2Lat(y + 1, zoom);\n  const north = tile2Lat(y, zoom);\n  const west = tile2Long(x, zoom);\n  const east = tile2Long(x + 1, zoom);\n\n  return `${west}%2C${south}%2C${east}%2C${north}`;\n};\n\nconst Map = ({ lat, long }) => {\n  const [src, prepareMap] = useState(null);\n\n  useEffect(() => {\n    const zoom = 16;\n    const x = long2tile(long, zoom);\n    const y = lat2tile(lat, zoom);\n    const bbox = makeBbox({ x, y, zoom });\n\n    // Set iframe url after component has mounted to prevent https://github.com/opencollective/opencollective/issues/2845\n    const src = `https://www.openstreetmap.org/export/embed.html?bbox=${bbox}&marker=${lat}%2C${long}&layers=ND`;\n\n    prepareMap(src);\n  }, [lat, long]);\n\n  return (\n    <div style={{ width: '100%', height: '100%' }}>\n      <iframe title=\"Open Street Map\" width=\"100%\" height=\"100%\" frameBorder=\"0\" scrolling=\"no\" src={src}></iframe>\n      <StyledLink\n        openInNewTab\n        href={`https://www.openstreetmap.org/?mlat=${lat}&amp;mlon=${long}#map=16/${lat}/${long}`}\n      >\n        <FormattedMessage id=\"map.viewLarger\" defaultMessage=\"View Larger Map\" />\n      </StyledLink>\n    </div>\n  );\n};\n\nMap.propTypes = {\n  lat: PropTypes.number,\n  long: PropTypes.number,\n  address: PropTypes.string,\n};\n\nexport default Map;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport styled from 'styled-components';\nimport { isURL } from 'validator';\n\nimport Container from './Container';\nimport { Flex } from './Grid';\nimport Map from './Map';\nimport StyledLink from './StyledLink';\nimport { P } from './Text';\n\nconst LocationSection = styled.section`\n  text-align: center;\n`;\n\nclass Location extends React.Component {\n  static propTypes = {\n    location: PropTypes.object,\n    showTitle: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    showTitle: true,\n  };\n\n  render() {\n    if (!this.props.location) {\n      return null;\n    }\n\n    const { name, address, lat, long, country } = this.props.location;\n    if (name === 'Online') {\n      if (address && isURL(address)) {\n        return (\n          <Flex flexDirection=\"Column\" alignItems=\"center\">\n            <P textAlign=\"center\">\n              <StyledLink openInNewTabNoFollow href={address}>\n                {address}\n              </StyledLink>\n            </P>\n          </Flex>\n        );\n      } else {\n        return (\n          <P textAlign=\"center\">\n            <FormattedMessage id=\"Location.online\" defaultMessage=\"Online\" />\n          </P>\n        );\n      }\n    } else if (!name && !address && !lat && !long && !country) {\n      return null;\n    }\n\n    return (\n      <LocationSection id=\"location\">\n        <Container margin=\"30px 10px\">\n          {this.props.showTitle && <h1>Location</h1>}\n          <Container font-size=\"1.7rem\" margin=\"5px 0px\">\n            {name}\n          </Container>\n          <Container className=\"address\" color=\"black.600\">\n            <StyledLink\n              href={`https://www.openstreetmap.org/?mlat=${lat}&amp;mlon=${long}#map=16/${lat}/${long}`}\n              openInNewTab\n            >\n              {address}\n              {country ? `, ${country}` : ''}\n            </StyledLink>\n          </Container>\n        </Container>\n        {lat && long && (\n          <div className=\"map\">\n            <Map lat={lat} long={long} />\n          </div>\n        )}\n      </LocationSection>\n    );\n  }\n}\n\nexport default Location;\n"],"names":["React","Fragment","useCallback","useEffect","useState","gql","useLazyQuery","DndContext","DragOverlay","arrayMove","SortableContext","useSortable","CSS","AnimateHeight","FormattedMessage","useIntl","components","ReactSelectComponents","CreatableSelect","IGNORED_TAGS","API_V2_CONTEXT","colors","Flex","StyledTag","Span","searchTagsQuery","MultiValue","props","onMouseDown","e","preventDefault","stopPropagation","id","data","value","attributes","isDragging","listeners","setNodeRef","transform","transition","style","Translate","toString","opacity","undefined","cursor","removeProps","isFocused","onPointerDown","children","Input","Option","innerProps","SelectContainer","debouncedSearch","searchFunc","variables","CollectiveTagsInput","defaultValue","onChange","suggestedTags","intl","context","searchTags","fetching","loading","debouncing","setDebouncing","input","setInput","options","setOptions","map","tag","label","selected","setSelected","draggingTag","setDraggingTag","length","term","tagStats","nodes","filter","includes","handleDragOver","event","active","over","oldIndex","findIndex","item","newIndex","debouncedDragOver","trailing","leading","handleDragStart","handleDragEnd","o","formatMessage","defaultMessage","document","body","key","selectedOptions","menuPortal","styles","zIndex","control","baseStyles","state","boxShadow","primary","borderColor","black","color","isSelected","some","StyledLink","tile2Long","tile","zoom","Math","pow","tile2Lat","n","PI","atan","exp","long2tile","long","floor","lat2tile","lat","log","tan","cos","makeBbox","x","y","south","north","west","east","Map","src","prepareMap","bbox","width","height","styled","isURL","Container","P","LocationSection","section","Location","location","name","address","country","showTitle","Component"],"sourceRoot":""}