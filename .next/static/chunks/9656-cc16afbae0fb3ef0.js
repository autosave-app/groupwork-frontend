"use strict";
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([[9656],{

/***/ 77596:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7980);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(49376);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(85696);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(930);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(3323);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(92358);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lodash_pick__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(78718);
/* harmony import */ var lodash_pick__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_pick__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(35161);
/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var lodash_isNil__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(14293);
/* harmony import */ var lodash_isNil__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash_isNil__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(27361);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(87794);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(67294);
/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(15020);
/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(46829);
/* harmony import */ var _styled_icons_feather_PlusCircle__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(18967);
/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(82580);
/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(11163);
/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(59448);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(44012);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(86896);
/* harmony import */ var _lib_constants_collectives__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(82525);
/* harmony import */ var _lib_errors__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(12136);
/* harmony import */ var _lib_form_utils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(40986);
/* harmony import */ var _lib_graphql_helpers__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(32651);
/* harmony import */ var _ocf_host_application_ApplicationDescription__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(78936);
/* harmony import */ var _ocf_host_application_OCFPrimaryButton__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(58689);
/* harmony import */ var _onboarding_modal_OnboardingProfileCard__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(14574);
/* harmony import */ var _Avatar__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(11194);
/* harmony import */ var _CollectivePicker__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(41861);
/* harmony import */ var _CollectivePickerAsync__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(5993);
/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(16159);
/* harmony import */ var _HTMLContent__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(74770);
/* harmony import */ var _I18nFormatters__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(88705);
/* harmony import */ var _Link__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(92129);
/* harmony import */ var _LoadingPlaceholder__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(29242);
/* harmony import */ var _MessageBox__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(86702);
/* harmony import */ var _StepsProgress__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(65598);
/* harmony import */ var _StyledButton__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(87268);
/* harmony import */ var _StyledCheckbox__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(41433);
/* harmony import */ var _StyledHr__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(173);
/* harmony import */ var _StyledInputFormikField__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(75667);
/* harmony import */ var _StyledModal__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(71792);
/* harmony import */ var _StyledTextarea__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(93150);
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(90998);
/* harmony import */ var _ToastProvider__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(31330);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(85893);










var _excluded = ["hostSlug", "collective", "onClose", "onSuccess", "router"];

var _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5;



function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_3___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }


































var messages = (0,react_intl__WEBPACK_IMPORTED_MODULE_40__.defineMessages)({
  SUCCESS: {
    id: "SubmitApplication.SUCCESS",
    defaultMessage: [{
      "type": 1,
      "value": "collectiveName"
    }, {
      "type": 0,
      "value": "'s application to "
    }, {
      "type": 1,
      "value": "hostName"
    }, {
      "type": 0,
      "value": " has been "
    }, {
      "type": 5,
      "value": "type",
      "options": {
        "APPROVED": {
          "value": [{
            "type": 0,
            "value": "approved"
          }]
        },
        "other": {
          "value": [{
            "type": 0,
            "value": "submitted"
          }]
        }
      }
    }]
  }
});
var hostFields = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_41__/* ["default"] */ .ZP)(_templateObject || (_templateObject = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5___default()(["\n  fragment ApplyToHostFields on Host {\n    id\n    legacyId\n    type\n    slug\n    name\n    createdAt\n    currency\n    isOpenToApplications\n    termsUrl\n    longDescription\n    hostFeePercent\n    settings\n    policies {\n      COLLECTIVE_MINIMUM_ADMINS {\n        numberOfAdmins\n      }\n    }\n  }\n"])));
var accountFields = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_41__/* ["default"] */ .ZP)(_templateObject2 || (_templateObject2 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5___default()(["\n  fragment ApplyToHostAccountFields on Account {\n    id\n    slug\n    name\n    type\n    imageUrl\n    memberInvitations(role: [ADMIN]) {\n      id\n      role\n      memberAccount {\n        id\n        type\n        slug\n        name\n        imageUrl\n      }\n    }\n    admins: members(role: ADMIN) {\n      nodes {\n        id\n        role\n        account {\n          id\n          type\n          slug\n          name\n          imageUrl\n        }\n      }\n    }\n  }\n"])));
var applyToHostQuery = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_41__/* ["default"] */ .ZP)(_templateObject3 || (_templateObject3 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5___default()(["\n  query ApplyToHost($hostSlug: String!, $collectiveSlug: String!) {\n    host(slug: $hostSlug) {\n      id\n      ...ApplyToHostFields\n    }\n    account(slug: $collectiveSlug) {\n      id\n      ...ApplyToHostAccountFields\n    }\n  }\n  ", "\n  ", "\n"])), hostFields, accountFields);
/**
 * A query similar to `applyToHostQuery`, except we also fetch user's administrated collectives for the picker
 */

var applyToHostWithAccountsQuery = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_41__/* ["default"] */ .ZP)(_templateObject4 || (_templateObject4 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5___default()(["\n  query ApplyToHostWithAccounts($hostSlug: String!) {\n    host(slug: $hostSlug) {\n      id\n      ...ApplyToHostFields\n    }\n    loggedInAccount {\n      id\n      memberOf(role: ADMIN, accountType: [COLLECTIVE, FUND], isApproved: false, isArchived: false) {\n        nodes {\n          id\n          account {\n            id\n            ...ApplyToHostAccountFields\n            ... on AccountWithHost {\n              host {\n                id\n                legacyId\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  ", "\n  ", "\n"])), hostFields, accountFields);
var applyToHostMutation = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_41__/* ["default"] */ .ZP)(_templateObject5 || (_templateObject5 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5___default()(["\n  mutation ApplyToHost(\n    $collective: AccountReferenceInput!\n    $host: AccountReferenceInput!\n    $message: String\n    $inviteMembers: [InviteMemberInput]\n  ) {\n    applyToHost(collective: $collective, host: $host, message: $message, inviteMembers: $inviteMembers) {\n      id\n      slug\n      ... on AccountWithHost {\n        isActive\n        isApproved\n        host {\n          id\n          ...ApplyToHostFields\n        }\n      }\n    }\n  }\n  ", "\n"])), hostFields);
var GQL_CONTEXT = {
  context: _lib_graphql_helpers__WEBPACK_IMPORTED_MODULE_17__/* .API_V2_CONTEXT */ .T
};
var INITIAL_FORM_VALUES = {
  message: '',
  areTosChecked: false,
  collective: null,
  inviteMembers: []
};
var STEPS = {
  INFORMATION: {
    name: 'Information',
    label: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_42__/* ["default"] */ .Z, {
      id: "E80WrK",
      defaultMessage: [{
        "type": 0,
        "value": "Information"
      }]
    })
  },
  APPLY: {
    name: 'Apply',
    label: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_42__/* ["default"] */ .Z, {
      id: "Apply",
      defaultMessage: [{
        "type": 0,
        "value": "Apply"
      }]
    })
  }
};

var getAccountInput = function getAccountInput(collective) {
  return typeof collective.id === 'number' ? {
    legacyId: collective.id
  } : {
    id: collective.id
  };
};

var ConfirmButtons = function ConfirmButtons(_ref) {
  var onClose = _ref.onClose,
      onBack = _ref.onBack,
      onSubmit = _ref.onSubmit,
      isSubmitting = _ref.isSubmitting,
      canSubmit = _ref.canSubmit,
      isOCFHost = _ref.isOCFHost,
      isOSCHost = _ref.isOSCHost;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(_Grid__WEBPACK_IMPORTED_MODULE_24__/* .Flex */ .kC, {
    justifyContent: "flex-end",
    width: "100%",
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_StyledButton__WEBPACK_IMPORTED_MODULE_31__/* ["default"] */ .Z, {
      buttonType: "button",
      onClick: onBack || onClose,
      disabled: isSubmitting,
      buttonStyle: "standard",
      mt: [2, 3],
      mb: 2,
      px: 3,
      children: onBack ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_42__/* ["default"] */ .Z, {
        id: "Back",
        defaultMessage: [{
          "type": 0,
          "value": "Back"
        }]
      }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_42__/* ["default"] */ .Z, {
        id: "actions.cancel",
        defaultMessage: [{
          "type": 0,
          "value": "Cancel"
        }]
      })
    }), isOCFHost ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_ocf_host_application_OCFPrimaryButton__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .Z, {
      type: "submit",
      disabled: !canSubmit,
      loading: isSubmitting,
      onClick: onSubmit,
      mt: [2, 3],
      mb: 2,
      ml: 3,
      px: 3,
      minWidth: 153,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_42__/* ["default"] */ .Z, {
        id: "actions.continue",
        defaultMessage: [{
          "type": 0,
          "value": "Continue"
        }]
      })
    }) : isOSCHost ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_StyledButton__WEBPACK_IMPORTED_MODULE_31__/* ["default"] */ .Z, {
      type: "submit",
      disabled: !canSubmit,
      loading: isSubmitting,
      buttonStyle: "primary",
      onClick: onSubmit,
      mt: [2, 3],
      mb: 2,
      ml: 3,
      px: 3,
      minWidth: 153,
      "data-cy": "afc-host-submit-button",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_42__/* ["default"] */ .Z, {
        id: "actions.continue",
        defaultMessage: [{
          "type": 0,
          "value": "Continue"
        }]
      })
    }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_StyledButton__WEBPACK_IMPORTED_MODULE_31__/* ["default"] */ .Z, {
      type: "submit",
      disabled: !canSubmit,
      loading: isSubmitting,
      buttonStyle: "primary",
      onClick: onSubmit,
      mt: [2, 3],
      mb: 2,
      ml: 3,
      px: 3,
      minWidth: 153,
      "data-cy": "afc-host-submit-button",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_42__/* ["default"] */ .Z, {
        id: "actions.submitApplication",
        defaultMessage: [{
          "type": 0,
          "value": "Submit application"
        }]
      })
    })]
  });
};

/**
 * A modal to apply to a given host
 * This modal triggers a query when mounted
 */
var ApplyToHostModal = function ApplyToHostModal(_ref2) {
  var _data$host, _data$host2;

  var hostSlug = _ref2.hostSlug,
      collective = _ref2.collective,
      onClose = _ref2.onClose,
      onSuccess = _ref2.onSuccess,
      router = _ref2.router,
      props = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4___default()(_ref2, _excluded);

  var query = collective ? applyToHostQuery : applyToHostWithAccountsQuery;

  var _useQuery = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_43__.useQuery)(query, _objectSpread(_objectSpread({}, GQL_CONTEXT), {}, {
    variables: {
      hostSlug: hostSlug,
      collectiveSlug: collective === null || collective === void 0 ? void 0 : collective.slug
    },
    fetchPolicy: 'network-only'
  })),
      data = _useQuery.data,
      loading = _useQuery.loading,
      error = _useQuery.error;

  var _useMutation = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_43__.useMutation)(applyToHostMutation, GQL_CONTEXT),
      _useMutation2 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2___default()(_useMutation, 2),
      applyToHost = _useMutation2[0],
      submitting = _useMutation2[1].loading;

  var intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_44__/* ["default"] */ .Z)();

  var _useToasts = (0,_ToastProvider__WEBPACK_IMPORTED_MODULE_38__/* .useToasts */ .e1)(),
      addToast = _useToasts.addToast;

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_11__.useState(STEPS.INFORMATION),
      _React$useState2 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2___default()(_React$useState, 2),
      step = _React$useState2[0],
      setStep = _React$useState2[1];

  var contentRef = react__WEBPACK_IMPORTED_MODULE_11__.useRef();
  var canApply = Boolean(data === null || data === void 0 ? void 0 : (_data$host = data.host) === null || _data$host === void 0 ? void 0 : _data$host.isOpenToApplications);

  var collectives = lodash_map__WEBPACK_IMPORTED_MODULE_7___default()(lodash_get__WEBPACK_IMPORTED_MODULE_9___default()(data, 'loggedInAccount.memberOf.nodes'), 'account');

  var selectedCollective = collective ? _objectSpread(_objectSpread({}, collective), lodash_pick__WEBPACK_IMPORTED_MODULE_6___default()(data === null || data === void 0 ? void 0 : data.account, ['admins', 'memberInvitations'])) : collectives.length === 1 ? collectives[0] : undefined;
  var host = data === null || data === void 0 ? void 0 : data.host;
  var isOCFHost = (host === null || host === void 0 ? void 0 : host.legacyId) === _lib_constants_collectives__WEBPACK_IMPORTED_MODULE_14__/* .OPENCOLLECTIVE_FOUNDATION_ID */ .SQ;
  var isOSCHost = (host === null || host === void 0 ? void 0 : host.legacyId) === _lib_constants_collectives__WEBPACK_IMPORTED_MODULE_14__/* .OPENSOURCE_COLLECTIVE_ID */ .kp;
  var useTwoSteps = !lodash_isNil__WEBPACK_IMPORTED_MODULE_8___default()(data === null || data === void 0 ? void 0 : (_data$host2 = data.host) === null || _data$host2 === void 0 ? void 0 : _data$host2.longDescription);
  react__WEBPACK_IMPORTED_MODULE_11__.useEffect(function () {
    if (host && !useTwoSteps) {
      setStep(STEPS.APPLY);
    }
  }, [useTwoSteps]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_StyledModal__WEBPACK_IMPORTED_MODULE_35__/* ["default"] */ .ZP, _objectSpread(_objectSpread({
    onClose: onClose,
    width: "570px"
  }, props), {}, {
    children: loading ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(react__WEBPACK_IMPORTED_MODULE_11__.Fragment, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_StyledModal__WEBPACK_IMPORTED_MODULE_35__/* .ModalHeader */ .xB, {
        hideCloseIcon: true,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_LoadingPlaceholder__WEBPACK_IMPORTED_MODULE_28__/* ["default"] */ .Z, {
          width: "100%",
          height: 163
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(_StyledModal__WEBPACK_IMPORTED_MODULE_35__/* .ModalBody */ .fe, {
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_StyledHr__WEBPACK_IMPORTED_MODULE_33__/* ["default"] */ .Z, {
          my: 32,
          borderColor: "black.300"
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_LoadingPlaceholder__WEBPACK_IMPORTED_MODULE_28__/* ["default"] */ .Z, {
          width: "100%",
          height: 225
        })]
      })]
    }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(formik__WEBPACK_IMPORTED_MODULE_12__/* .Formik */ .J9, {
      validateOnBlur: false,
      initialValues: _objectSpread(_objectSpread({}, INITIAL_FORM_VALUES), {}, {
        collective: selectedCollective
      }),
      validate: function validate(values) {
        if (!values.collective && contentRef.current) {
          contentRef.current.scrollIntoView({
            behavior: 'smooth'
          });
        } // Since the OSC flow is using a standalone form, without any TOS checkbox in this modal, skip validation here


        if (isOSCHost) {
          return {};
        }

        return (0,_lib_form_utils__WEBPACK_IMPORTED_MODULE_16__/* .requireFields */ .ay)(values, host.termsUrl ? ['areTosChecked', 'collective'] : ['collective']);
      },
      onSubmit: /*#__PURE__*/function () {
        var _ref3 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_10___default().mark(function _callee(values) {
          var result;
          return _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_10___default().wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  if (!isOCFHost) {
                    _context.next = 7;
                    break;
                  }

                  _context.next = 3;
                  return router.push("/foundation/apply/intro?collectiveSlug=".concat(values.collective.slug));

                case 3:
                  window.scrollTo(0, 0);
                  return _context.abrupt("return");

                case 7:
                  if (!isOSCHost) {
                    _context.next = 12;
                    break;
                  }

                  _context.next = 10;
                  return router.push("/opensource/apply/intro?collectiveSlug=".concat(values.collective.slug));

                case 10:
                  window.scrollTo(0, 0);
                  return _context.abrupt("return");

                case 12:
                  _context.prev = 12;
                  _context.next = 15;
                  return applyToHost({
                    variables: {
                      host: getAccountInput(host),
                      collective: getAccountInput(values.collective),
                      message: values.message,
                      inviteMembers: values.inviteMembers.map(function (invite) {
                        return _objectSpread(_objectSpread({}, invite), {}, {
                          memberAccount: {
                            legacyId: invite.memberAccount.id
                          }
                        });
                      })
                    }
                  });

                case 15:
                  result = _context.sent;

                  if (!onSuccess) {
                    _context.next = 21;
                    break;
                  }

                  _context.next = 19;
                  return onSuccess(result);

                case 19:
                  _context.next = 23;
                  break;

                case 21:
                  addToast({
                    type: _ToastProvider__WEBPACK_IMPORTED_MODULE_38__/* .TOAST_TYPE.SUCCESS */ ["do"].SUCCESS,
                    message: intl.formatMessage(messages.SUCCESS, {
                      hostName: host.name,
                      collectiveName: values.collective.name,
                      type: result.data.applyToHost.isApproved ? 'APPROVED' : 'SENT'
                    })
                  });
                  onClose();

                case 23:
                  _context.next = 28;
                  break;

                case 25:
                  _context.prev = 25;
                  _context.t0 = _context["catch"](12);
                  addToast({
                    type: _ToastProvider__WEBPACK_IMPORTED_MODULE_38__/* .TOAST_TYPE.ERROR */ ["do"].ERROR,
                    message: (0,_lib_errors__WEBPACK_IMPORTED_MODULE_15__/* .i18nGraphqlException */ .t2)(intl, _context.t0)
                  });

                case 28:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee, null, [[12, 25]]);
        }));

        return function (_x) {
          return _ref3.apply(this, arguments);
        };
      }(),
      children: function children(_ref4) {
        var _host$policies, _host$policies$COLLEC, _values$collective, _values$collective$ad, _values$collective2, _values$collective2$m, _values$collective3, _values$collective3$a, _values$collective4, _values$collective4$m, _values$inviteMembers, _host$policies2;

        var handleSubmit = _ref4.handleSubmit,
            values = _ref4.values,
            setFieldValue = _ref4.setFieldValue;
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(react__WEBPACK_IMPORTED_MODULE_11__.Fragment, {
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_StyledModal__WEBPACK_IMPORTED_MODULE_35__/* .ModalHeader */ .xB, {
            hideCloseIcon: true,
            children: loading ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_LoadingPlaceholder__WEBPACK_IMPORTED_MODULE_28__/* ["default"] */ .Z, {
              width: "100%",
              height: 163
            }) : host ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(_Grid__WEBPACK_IMPORTED_MODULE_24__/* .Flex */ .kC, {
              flexDirection: "column",
              alignItems: "center",
              width: "100%",
              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_Avatar__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */ .ZP, {
                collective: host,
                type: host.type,
                radius: 64
              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_37__.H1, {
                fontSize: "20px",
                lineHeight: "28px",
                color: "black.900",
                mt: 3,
                mb: 3,
                children: host.name
              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(_Grid__WEBPACK_IMPORTED_MODULE_24__/* .Flex */ .kC, {
                justifyContent: "center",
                width: "100%",
                gap: "32px",
                flexWrap: "wrap",
                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(_Grid__WEBPACK_IMPORTED_MODULE_24__/* .Flex */ .kC, {
                  flexDirection: "column",
                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_37__.P, {
                    fontWeight: "400",
                    fontSize: "12px",
                    lineHeight: "18px",
                    color: "black.600",
                    mb: 1,
                    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_42__/* ["default"] */ .Z, {
                      id: "HostSince",
                      defaultMessage: [{
                        "type": 0,
                        "value": "Host since"
                      }]
                    })
                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_37__.P, {
                    fontSize: "16px",
                    fontWeight: "500",
                    lineHeight: "24px",
                    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_40__.FormattedDate, {
                      value: host.createdAt,
                      month: "short",
                      year: "numeric"
                    })
                  })]
                }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(_Grid__WEBPACK_IMPORTED_MODULE_24__/* .Flex */ .kC, {
                  flexDirection: "column",
                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_37__.P, {
                    fontWeight: "400",
                    fontSize: "12px",
                    lineHeight: "18px",
                    color: "black.600",
                    mb: 1,
                    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_42__/* ["default"] */ .Z, {
                      id: "Currency",
                      defaultMessage: [{
                        "type": 0,
                        "value": "Currency"
                      }]
                    })
                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_37__.P, {
                    fontSize: "16px",
                    fontWeight: "500",
                    lineHeight: "24px",
                    children: host.currency
                  })]
                }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(_Grid__WEBPACK_IMPORTED_MODULE_24__/* .Flex */ .kC, {
                  flexDirection: "column",
                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_37__.P, {
                    fontWeight: "400",
                    fontSize: "12px",
                    lineHeight: "18px",
                    color: "black.600",
                    mb: 1,
                    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_42__/* ["default"] */ .Z, {
                      id: "HostFee",
                      defaultMessage: [{
                        "type": 0,
                        "value": "Host fee"
                      }]
                    })
                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(_Text__WEBPACK_IMPORTED_MODULE_37__.P, {
                    fontSize: "16px",
                    fontWeight: "500",
                    lineHeight: "24px",
                    children: [host.hostFeePercent, "%"]
                  })]
                })]
              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_24__/* .Box */ .xu, {
                my: 3,
                children: useTwoSteps && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_StepsProgress__WEBPACK_IMPORTED_MODULE_30__/* ["default"] */ .Z, {
                  steps: Object.values(STEPS),
                  focus: step,
                  onStepSelect: setStep,
                  children: function children(_ref5) {
                    var step = _ref5.step;
                    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_37__.P, {
                      fontWeight: "500",
                      fontSize: "14px",
                      textTransform: "uppercase",
                      children: step.label
                    });
                  }
                })
              })]
            }) : null
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_StyledModal__WEBPACK_IMPORTED_MODULE_35__/* .ModalBody */ .fe, {
            children: loading ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_LoadingPlaceholder__WEBPACK_IMPORTED_MODULE_28__/* ["default"] */ .Z, {
              width: "100%",
              height: 250
            }) : !host ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_MessageBox__WEBPACK_IMPORTED_MODULE_29__/* ["default"] */ .Z, {
              type: "warning",
              withIcon: true,
              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_42__/* ["default"] */ .Z, {
                id: "notFound",
                defaultMessage: [{
                  "type": 0,
                  "value": "Not found"
                }]
              })
            }) : !canApply ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_MessageBox__WEBPACK_IMPORTED_MODULE_29__/* ["default"] */ .Z, {
              type: "warning",
              withIcon: true,
              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_42__/* ["default"] */ .Z, {
                id: "collectives.create.error.HostNotOpenToApplications",
                defaultMessage: [{
                  "type": 0,
                  "value": "This Fiscal Host is not open to applications"
                }]
              })
            }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(formik__WEBPACK_IMPORTED_MODULE_12__/* .Form */ .l0, {
              ref: contentRef,
              children: [step === STEPS.INFORMATION && host.longDescription && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_HTMLContent__WEBPACK_IMPORTED_MODULE_25__/* ["default"] */ .Z, {
                content: host.longDescription
              }), step === STEPS.APPLY && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(react__WEBPACK_IMPORTED_MODULE_11__.Fragment, {
                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_24__/* .Box */ .xu, {
                  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_StyledInputFormikField__WEBPACK_IMPORTED_MODULE_34__/* ["default"] */ .Z, {
                    name: "collective",
                    children: function children(_ref6) {
                      var form = _ref6.form,
                          field = _ref6.field;
                      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)("div", {
                        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_37__.P, {
                          fontSize: "13px",
                          lineHeight: "16px",
                          fontWeight: "600",
                          color: "black.700",
                          mb: 2,
                          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_42__/* ["default"] */ .Z, {
                            id: "ApplyToHost.PickCollective",
                            defaultMessage: [{
                              "type": 0,
                              "value": "Which account is applying to "
                            }, {
                              "type": 1,
                              "value": "hostName"
                            }, {
                              "type": 0,
                              "value": "?"
                            }],
                            values: {
                              hostName: host.name
                            }
                          })
                        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_CollectivePicker__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .ZP, {
                          inputId: "host-apply-collective-picker",
                          "data-cy": "host-apply-collective-picker",
                          collective: field.value,
                          collectives: collectives,
                          isDisabled: Boolean(collective),
                          error: field.error,
                          onBlur: function onBlur() {
                            return form.setFieldTouched(field.name, true);
                          },
                          onChange: function onChange(_ref7) {
                            var value = _ref7.value;
                            return form.setFieldValue(field.name, value);
                          },
                          isSearchable: collectives.length > 8,
                          types: ['COLLECTIVE'],
                          creatable: true,
                          renderNewCollectiveOption: function renderNewCollectiveOption() {
                            return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_Link__WEBPACK_IMPORTED_MODULE_27__/* ["default"] */ .Z, {
                              href: isOCFHost ? "/foundation/apply/intro" : isOSCHost ? '/opensource/apply/intro' : "/".concat(host.slug, "/create"),
                              "data-cy": "host-apply-new-collective-link",
                              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_StyledButton__WEBPACK_IMPORTED_MODULE_31__/* ["default"] */ .Z, {
                                borderRadius: "14px",
                                width: "100%",
                                children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(_Grid__WEBPACK_IMPORTED_MODULE_24__/* .Flex */ .kC, {
                                  alignItems: "center",
                                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_styled_icons_feather_PlusCircle__WEBPACK_IMPORTED_MODULE_45__/* .PlusCircle */ .F, {
                                    size: 24
                                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_24__/* .Box */ .xu, {
                                    ml: "16px",
                                    fontSize: "11px",
                                    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_42__/* ["default"] */ .Z, {
                                      id: "Collective.CreateNew",
                                      defaultMessage: [{
                                        "type": 0,
                                        "value": "Create new Collective"
                                      }]
                                    })
                                  })]
                                })
                              })
                            });
                          }
                        })]
                      });
                    }
                  })
                }), !isOSCHost && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(react__WEBPACK_IMPORTED_MODULE_11__.Fragment, {
                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_StyledHr__WEBPACK_IMPORTED_MODULE_33__/* ["default"] */ .Z, {
                    my: "18px",
                    width: "100%",
                    borderColor: "black.300"
                  }), (host === null || host === void 0 ? void 0 : (_host$policies = host.policies) === null || _host$policies === void 0 ? void 0 : (_host$policies$COLLEC = _host$policies.COLLECTIVE_MINIMUM_ADMINS) === null || _host$policies$COLLEC === void 0 ? void 0 : _host$policies$COLLEC.numberOfAdmins) > 1 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(react__WEBPACK_IMPORTED_MODULE_11__.Fragment, {
                    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(_Grid__WEBPACK_IMPORTED_MODULE_24__/* .Box */ .xu, {
                      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_37__.P, {
                        fontSize: "13px",
                        lineHeight: "16px",
                        fontWeight: "600",
                        color: "black.700",
                        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_42__/* ["default"] */ .Z, {
                          id: "ceGKEG",
                          defaultMessage: [{
                            "type": 0,
                            "value": "Minimum Administrators Required"
                          }]
                        })
                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(_Grid__WEBPACK_IMPORTED_MODULE_24__/* .Flex */ .kC, {
                        mt: 1,
                        width: "100%",
                        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(_Text__WEBPACK_IMPORTED_MODULE_37__.P, {
                          my: 2,
                          fontSize: "9px",
                          textTransform: "uppercase",
                          color: "black.700",
                          letterSpacing: "0.06em",
                          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_42__/* ["default"] */ .Z, {
                            id: "administrators",
                            defaultMessage: [{
                              "type": 0,
                              "value": "Administrators"
                            }]
                          }), values.collective && " (".concat(((_values$collective = values.collective) === null || _values$collective === void 0 ? void 0 : (_values$collective$ad = _values$collective.admins) === null || _values$collective$ad === void 0 ? void 0 : _values$collective$ad.nodes.length) + ((_values$collective2 = values.collective) === null || _values$collective2 === void 0 ? void 0 : (_values$collective2$m = _values$collective2.memberInvitations) === null || _values$collective2$m === void 0 ? void 0 : _values$collective2$m.length) + values.inviteMembers.length, "/").concat(host.policies.COLLECTIVE_MINIMUM_ADMINS.numberOfAdmins, ")")]
                        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_24__/* .Flex */ .kC, {
                          flexGrow: 1,
                          alignItems: "center",
                          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_StyledHr__WEBPACK_IMPORTED_MODULE_33__/* ["default"] */ .Z, {
                            width: "100%",
                            ml: 2,
                            borderColor: "black.300"
                          })
                        })]
                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(_Grid__WEBPACK_IMPORTED_MODULE_24__/* .Flex */ .kC, {
                        width: "100%",
                        flexWrap: "wrap",
                        "data-cy": "profile-card",
                        children: [(_values$collective3 = values.collective) === null || _values$collective3 === void 0 ? void 0 : (_values$collective3$a = _values$collective3.admins) === null || _values$collective3$a === void 0 ? void 0 : _values$collective3$a.nodes.map(function (admin) {
                          return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_onboarding_modal_OnboardingProfileCard__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z, {
                            collective: admin.account
                          }, admin.account.id);
                        }), (_values$collective4 = values.collective) === null || _values$collective4 === void 0 ? void 0 : (_values$collective4$m = _values$collective4.memberInvitations) === null || _values$collective4$m === void 0 ? void 0 : _values$collective4$m.map(function (invitations) {
                          return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_onboarding_modal_OnboardingProfileCard__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z, {
                            collective: invitations.memberAccount,
                            isPending: true
                          }, invitations.memberAccount.id);
                        }), (_values$inviteMembers = values.inviteMembers) === null || _values$inviteMembers === void 0 ? void 0 : _values$inviteMembers.map(function (invite) {
                          return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_onboarding_modal_OnboardingProfileCard__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z, {
                            collective: invite.memberAccount,
                            removeAdmin: function removeAdmin() {
                              return setFieldValue('inviteMembers', values.inviteMembers.filter(function (i) {
                                return i.memberAccount.id !== invite.memberAccount.id;
                              }));
                            }
                          }, invite.memberAccount.id);
                        })]
                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(_Grid__WEBPACK_IMPORTED_MODULE_24__/* .Flex */ .kC, {
                        mt: 1,
                        width: "100%",
                        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_37__.P, {
                          my: 2,
                          fontSize: "9px",
                          textTransform: "uppercase",
                          color: "black.700",
                          letterSpacing: "0.06em",
                          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_42__/* ["default"] */ .Z, {
                            id: "InviteAdministrators",
                            defaultMessage: [{
                              "type": 0,
                              "value": "Invite Administrators"
                            }]
                          })
                        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_24__/* .Flex */ .kC, {
                          flexGrow: 1,
                          alignItems: "center",
                          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_StyledHr__WEBPACK_IMPORTED_MODULE_33__/* ["default"] */ .Z, {
                            width: "100%",
                            ml: 2,
                            borderColor: "black.300"
                          })
                        })]
                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_24__/* .Box */ .xu, {
                        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_CollectivePickerAsync__WEBPACK_IMPORTED_MODULE_23__/* ["default"] */ .Z, {
                          inputId: "onboarding-admin-picker",
                          creatable: true,
                          collective: null,
                          types: ['USER'],
                          "data-cy": "admin-picker",
                          filterResults: function filterResults(collectives) {
                            return collectives.filter(function (collective) {
                              return !values.inviteMembers.some(function (invite) {
                                return invite.memberAccount.id === collective.id;
                              });
                            });
                          },
                          onChange: function onChange(option) {
                            setFieldValue('inviteMembers', [].concat(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0___default()(values.inviteMembers), [{
                              role: 'ADMIN',
                              memberAccount: option.value
                            }]));
                          }
                        })
                      }), (host === null || host === void 0 ? void 0 : (_host$policies2 = host.policies) === null || _host$policies2 === void 0 ? void 0 : _host$policies2.COLLECTIVE_MINIMUM_ADMINS) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_MessageBox__WEBPACK_IMPORTED_MODULE_29__/* ["default"] */ .Z, {
                        type: "info",
                        mt: 3,
                        fontSize: "13px",
                        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_42__/* ["default"] */ .Z, {
                          id: "GTK0Wf",
                          defaultMessage: [{
                            "type": 0,
                            "value": "Your selected Fiscal Host requires you to add a minimum of "
                          }, {
                            "type": 6,
                            "value": "numberOfAdmins",
                            "options": {
                              "one": {
                                "value": [{
                                  "type": 7
                                }, {
                                  "type": 0,
                                  "value": " admin"
                                }]
                              },
                              "other": {
                                "value": [{
                                  "type": 7
                                }, {
                                  "type": 0,
                                  "value": " admins"
                                }]
                              }
                            },
                            "offset": 0,
                            "pluralType": "cardinal"
                          }, {
                            "type": 0,
                            "value": ". You can manage your admins from the Collective Settings."
                          }],
                          values: host.policies.COLLECTIVE_MINIMUM_ADMINS
                        })
                      })]
                    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_StyledHr__WEBPACK_IMPORTED_MODULE_33__/* ["default"] */ .Z, {
                      my: "18px",
                      width: "100%",
                      borderColor: "black.300"
                    })]
                  }), isOCFHost ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_ocf_host_application_ApplicationDescription__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z, {}) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react__WEBPACK_IMPORTED_MODULE_11__.Fragment, {
                    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_StyledInputFormikField__WEBPACK_IMPORTED_MODULE_34__/* ["default"] */ .Z, {
                      name: "message",
                      htmlFor: "apply-host-modal-message",
                      label: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_37__/* .Span */ .Dr, {
                        fontSize: "13px",
                        lineHeight: "16px",
                        fontWeight: "600",
                        color: "black.700",
                        children: lodash_get__WEBPACK_IMPORTED_MODULE_9___default()(host, 'settings.applyMessage') || /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_42__/* ["default"] */ .Z, {
                          id: "ApplyToHost.WriteMessage",
                          defaultMessage: [{
                            "type": 0,
                            "value": "Message to the Fiscal Host"
                          }]
                        })
                      }),
                      children: function children(_ref8) {
                        var field = _ref8.field;
                        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_StyledTextarea__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z, _objectSpread(_objectSpread({}, field), {}, {
                          width: "100%",
                          minHeight: 76,
                          maxLength: 3000,
                          showCount: true
                        }));
                      }
                    })
                  }), host.termsUrl && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_StyledInputFormikField__WEBPACK_IMPORTED_MODULE_34__/* ["default"] */ .Z, {
                    name: "areTosChecked",
                    children: function children(_ref9) {
                      var form = _ref9.form,
                          field = _ref9.field;
                      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_24__/* .Flex */ .kC, {
                        flexDirection: "column",
                        mx: 1,
                        mt: 18,
                        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_StyledCheckbox__WEBPACK_IMPORTED_MODULE_32__/* ["default"] */ .Z, {
                          name: "tos",
                          label: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_42__/* ["default"] */ .Z, {
                            id: "Host.TOSCheckbox",
                            defaultMessage: [{
                              "type": 0,
                              "value": "I agree with the "
                            }, {
                              "type": 8,
                              "value": "TOSLink",
                              "children": [{
                                "type": 0,
                                "value": "terms of service"
                              }]
                            }, {
                              "type": 0,
                              "value": " of "
                            }, {
                              "type": 1,
                              "value": "hostName"
                            }],
                            values: {
                              hostName: host.name,
                              TOSLink: (0,_I18nFormatters__WEBPACK_IMPORTED_MODULE_26__/* .getI18nLink */ .fw)(_objectSpread(_objectSpread({
                                href: host.termsUrl,
                                openInNewTabNoFollow: true
                              }, isOCFHost && {
                                color: '#396C6F'
                              }), {}, {
                                onClick: function onClick(e) {
                                  return e.stopPropagation();
                                } // don't check the checkbox when clicking on the link

                              }))
                            }
                          }),
                          required: true,
                          checked: field.value,
                          onChange: function onChange(_ref10) {
                            var checked = _ref10.checked;
                            return form.setFieldValue('areTosChecked', checked);
                          },
                          error: field.error
                        })
                      });
                    }
                  })]
                }), error && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_MessageBox__WEBPACK_IMPORTED_MODULE_29__/* ["default"] */ .Z, {
                  type: "error",
                  withIcon: true,
                  my: [1, 3],
                  children: error
                })]
              })]
            })
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(_StyledModal__WEBPACK_IMPORTED_MODULE_35__/* .ModalFooter */ .mz, {
            isFullWidth: true,
            children: [step === STEPS.INFORMATION && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_24__/* .Flex */ .kC, {
              justifyContent: "flex-end",
              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_StyledButton__WEBPACK_IMPORTED_MODULE_31__/* ["default"] */ .Z, {
                "data-cy": "host-apply-modal-next",
                buttonStyle: "primary",
                onClick: function onClick() {
                  return setStep(STEPS.APPLY);
                },
                children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_42__/* ["default"] */ .Z, {
                  id: "Pagination.Next",
                  defaultMessage: [{
                    "type": 0,
                    "value": "Next"
                  }]
                })
              })
            }), step === STEPS.APPLY && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(ConfirmButtons, {
              onBack: function onBack() {
                return setStep(STEPS.INFORMATION);
              },
              onSubmit: handleSubmit,
              isSubmitting: submitting,
              canSubmit: canApply,
              isOCFHost: isOCFHost,
              isOSCHost: isOSCHost
            })]
          })]
        });
      }
    })
  }));
};

ApplyToHostModal.__docgenInfo = {
  "description": "A modal to apply to a given host\nThis modal triggers a query when mounted",
  "methods": [],
  "displayName": "ApplyToHostModal",
  "props": {
    "hostSlug": {
      "description": "",
      "type": {
        "name": "string"
      },
      "required": true
    },
    "onClose": {
      "description": "",
      "type": {
        "name": "func"
      },
      "required": true
    },
    "onSuccess": {
      "description": "If not provided, the default is to ad a success toast and to call onClose",
      "type": {
        "name": "func"
      },
      "required": false
    },
    "collective": {
      "description": "Use this to force the value for `collective`. If not specified, user's administrated collectives will be displayed instead",
      "type": {
        "name": "object"
      },
      "required": false
    },
    "router": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": false
    }
  }
};
/* harmony default export */ __webpack_exports__["Z"] = ((0,next_router__WEBPACK_IMPORTED_MODULE_13__.withRouter)(ApplyToHostModal));

/***/ }),

/***/ 92235:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(49376);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(930);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(85696);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(92358);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(27361);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(87794);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(67294);
/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(15020);
/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(46829);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(44012);
/* harmony import */ var _lib_graphql_helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(32651);
/* harmony import */ var _Container__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(69078);
/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(16159);
/* harmony import */ var _MessageBox__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(86702);
/* harmony import */ var _MessageBoxGraphqlError__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(68185);
/* harmony import */ var _StyledButton__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(87268);
/* harmony import */ var _StyledInput__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(97274);
/* harmony import */ var _StyledInputField__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(87262);
/* harmony import */ var _StyledTextarea__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(93150);
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(90998);
/* harmony import */ var _ToastProvider__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(31330);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(85893);






var _templateObject;



function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

















var sendMessageMutation = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .ZP)(_templateObject || (_templateObject = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_3___default()(["\n  mutation SendMessage($account: AccountReferenceInput!, $message: NonEmptyString!, $subject: String) {\n    sendMessage(account: $account, message: $message, subject: $subject) {\n      success\n    }\n  }\n"])));

var CollectiveContactForm = function CollectiveContactForm(_ref) {
  var collective = _ref.collective,
      _ref$isModal = _ref.isModal,
      isModal = _ref$isModal === void 0 ? false : _ref$isModal,
      onClose = _ref.onClose,
      onChange = _ref.onChange;

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_6__.useState(''),
      _React$useState2 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2___default()(_React$useState, 2),
      subject = _React$useState2[0],
      setSubject = _React$useState2[1];

  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_6__.useState(''),
      _React$useState4 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2___default()(_React$useState3, 2),
      message = _React$useState4[0],
      setMessage = _React$useState4[1];

  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_6__.useState(null),
      _React$useState6 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2___default()(_React$useState5, 2),
      error = _React$useState6[0],
      setError = _React$useState6[1];

  var _useMutation = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_20__.useMutation)(sendMessageMutation, {
    context: _lib_graphql_helpers__WEBPACK_IMPORTED_MODULE_7__/* .API_V2_CONTEXT */ .T
  }),
      _useMutation2 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2___default()(_useMutation, 2),
      submit = _useMutation2[0],
      _useMutation2$ = _useMutation2[1],
      data = _useMutation2$.data,
      loading = _useMutation2$.loading;

  var _useToasts = (0,_ToastProvider__WEBPACK_IMPORTED_MODULE_17__/* .useToasts */ .e1)(),
      addToast = _useToasts.addToast; // Dispatch changes to onChange if set


  react__WEBPACK_IMPORTED_MODULE_6__.useEffect(function () {
    if (onChange) {
      onChange({
        subject: subject,
        message: message
      });
    }
  }, [subject, message]);

  if (lodash_get__WEBPACK_IMPORTED_MODULE_4___default()(data, 'sendMessage.success') && !isModal) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_MessageBox__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z, {
      type: "success",
      withIcon: true,
      maxWidth: 400,
      m: "32px auto",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */ .Z, {
        id: "MessageSent",
        defaultMessage: [{
          "type": 0,
          "value": "Message sent"
        }]
      })
    });
  }

  var messageLabel = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_16__/* .Span */ .Dr, {
    fontWeight: 700,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */ .Z, {
      id: "Contact.Message",
      defaultMessage: [{
        "type": 0,
        "value": "Message"
      }]
    })
  });

  var subjectLabel = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */ .Z, {
    id: "OptionalFieldLabel",
    defaultMessage: [{
      "type": 1,
      "value": "field"
    }, {
      "type": 0,
      "value": " (optional)"
    }],
    values: {
      field: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_16__/* .Span */ .Dr, {
        fontWeight: 700,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */ .Z, {
          id: "Contact.Subject",
          defaultMessage: [{
            "type": 0,
            "value": "Subject"
          }]
        })
      })
    }
  });

  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(_Grid__WEBPACK_IMPORTED_MODULE_9__/* .Box */ .xu, {
    flexDirection: "column",
    alignItems: ['center', 'flex-start'],
    maxWidth: 1160,
    m: "0 auto",
    children: [!isModal && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_16__.H2, {
      mb: 2,
      fontSize: '40px',
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */ .Z, {
        id: "ContactCollective",
        defaultMessage: [{
          "type": 0,
          "value": "Contact "
        }, {
          "type": 1,
          "value": "collective"
        }],
        values: {
          collective: collective.name
        }
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_16__.P, {
      mb: 4,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */ .Z, {
        id: "CollectiveContactForm.Disclaimer",
        defaultMessage: [{
          "type": 0,
          "value": "Your email address will be shared with the admins who will receive this message."
        }]
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_StyledInputField__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z, {
      label: subjectLabel,
      htmlFor: "subject",
      mb: 4,
      width: "100%",
      children: function children(inputProps) {
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_StyledInput__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .ZP, _objectSpread(_objectSpread({}, inputProps), {}, {
          width: "100%",
          maxWidth: 500,
          maxLength: 60,
          onChange: function onChange(e) {
            return setSubject(e.target.value);
          },
          "data-cy": "subject"
        }));
      }
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_StyledInputField__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z, {
      label: messageLabel,
      htmlFor: "message",
      width: "100%",
      maxWidth: 800,
      children: function children(inputProps) {
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_StyledTextarea__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z, _objectSpread(_objectSpread({}, inputProps), {}, {
          width: "100%",
          minHeight: 200,
          onChange: function onChange(e) {
            return setMessage(e.target.value);
          },
          minLength: 10,
          maxLength: 4000,
          value: message,
          showCount: true,
          "data-cy": "message"
        }));
      }
    }), error && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_MessageBoxGraphqlError__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z, {
      error: error,
      mt: 3
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_Container__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z, {
      mt: 2,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */ .Z, {
        id: "322m9e",
        defaultMessage: [{
          "type": 0,
          "value": "Message needs to be at least 10 characters long"
        }]
      })
    }), isModal && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("hr", {}), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_9__/* .Box */ .xu, {
      textAlign: isModal ? 'right' : '',
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_StyledButton__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z, {
        mt: isModal ? 0 : 4,
        minWidth: 200,
        buttonStyle: "primary",
        disabled: message.length < 10,
        loading: loading,
        "data-cy": "submit",
        onClick: /*#__PURE__*/_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_5___default().mark(function _callee() {
          return _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_5___default().wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  _context.prev = 0;
                  setError(null);
                  _context.next = 4;
                  return submit({
                    variables: {
                      account: {
                        slug: collective.slug
                      },
                      subject: subject,
                      message: message
                    }
                  });

                case 4:
                  if (isModal) {
                    addToast({
                      type: _ToastProvider__WEBPACK_IMPORTED_MODULE_17__/* .TOAST_TYPE.SUCCESS */ ["do"].SUCCESS,
                      message: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */ .Z, {
                        id: "MessageSent",
                        defaultMessage: [{
                          "type": 0,
                          "value": "Message sent"
                        }]
                      })
                    });
                    onClose();
                  }

                  _context.next = 10;
                  break;

                case 7:
                  _context.prev = 7;
                  _context.t0 = _context["catch"](0);
                  setError(_context.t0);

                case 10:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee, null, [[0, 7]]);
        })),
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */ .Z, {
          id: "FAYdqn",
          defaultMessage: [{
            "type": 0,
            "value": "Contact Collective"
          }]
        })
      })
    })]
  });
};

CollectiveContactForm.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "CollectiveContactForm",
  "props": {
    "isModal": {
      "defaultValue": {
        "value": "false",
        "computed": false
      },
      "description": "",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "collective": {
      "description": "",
      "type": {
        "name": "shape",
        "value": {
          "id": {
            "name": "union",
            "value": [{
              "name": "number"
            }, {
              "name": "string"
            }],
            "required": false
          },
          "legacyId": {
            "name": "number",
            "required": false
          },
          "name": {
            "name": "string",
            "required": true
          },
          "slug": {
            "name": "string",
            "required": false
          }
        }
      },
      "required": false
    },
    "onClose": {
      "description": "",
      "type": {
        "name": "func"
      },
      "required": false
    },
    "onChange": {
      "description": "",
      "type": {
        "name": "func"
      },
      "required": false
    }
  }
};
/* harmony default export */ __webpack_exports__["Z"] = (CollectiveContactForm);

/***/ }),

/***/ 66277:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "Z": function() { return /* binding */ components_ContactCollectiveBtn; }
});

// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/defineProperty.js
var defineProperty = __webpack_require__(930);
var defineProperty_default = /*#__PURE__*/__webpack_require__.n(defineProperty);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/slicedToArray.js
var slicedToArray = __webpack_require__(85696);
var slicedToArray_default = /*#__PURE__*/__webpack_require__.n(slicedToArray);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
// EXTERNAL MODULE: ./node_modules/next/router.js
var next_router = __webpack_require__(11163);
// EXTERNAL MODULE: ./node_modules/react-intl/lib/src/components/message.js
var message = __webpack_require__(44012);
// EXTERNAL MODULE: ./components/CollectiveContactForm.js
var CollectiveContactForm = __webpack_require__(92235);
// EXTERNAL MODULE: ./components/StyledModal.tsx
var StyledModal = __webpack_require__(71792);
// EXTERNAL MODULE: ./components/Text.ts
var Text = __webpack_require__(90998);
// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(85893);
;// CONCATENATED MODULE: ./components/ContactCollectiveModal.js









var ContactCollectiveModal = function ContactCollectiveModal(_ref) {
  var collective = _ref.collective,
      onClose = _ref.onClose;

  var _React$useState = react.useState(false),
      _React$useState2 = slicedToArray_default()(_React$useState, 2),
      hasData = _React$useState2[0],
      setHasData = _React$useState2[1];

  return /*#__PURE__*/(0,jsx_runtime.jsxs)(StyledModal/* default */.ZP, {
    role: "alertdialog",
    width: "578px",
    onClose: onClose,
    trapFocus: true,
    hasUnsavedChanges: hasData,
    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(StyledModal/* ModalHeader */.xB, {
      children: /*#__PURE__*/(0,jsx_runtime.jsx)(Text.H2, {
        mb: 2,
        fontSize: '28px',
        children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
          id: "ContactCollective",
          defaultMessage: [{
            "type": 0,
            "value": "Contact "
          }, {
            "type": 1,
            "value": "collective"
          }],
          values: {
            collective: collective.name
          }
        })
      })
    }), /*#__PURE__*/(0,jsx_runtime.jsx)(CollectiveContactForm/* default */.Z, {
      collective: collective,
      isModal: true,
      onClose: onClose,
      onChange: function onChange(values) {
        return setHasData(Object.values(values).some(Boolean));
      }
    })]
  });
};

ContactCollectiveModal.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "ContactCollectiveModal",
  "props": {
    "collective": {
      "description": "the collective that is contacted",
      "type": {
        "name": "object"
      },
      "required": false
    },
    "onClose": {
      "description": "handles how the modal is closed",
      "type": {
        "name": "func"
      },
      "required": true
    }
  }
};
/* harmony default export */ var components_ContactCollectiveModal = (ContactCollectiveModal);
// EXTERNAL MODULE: ./components/StyledButton.tsx
var StyledButton = __webpack_require__(87268);
;// CONCATENATED MODULE: ./components/ContactCollectiveBtn.js



function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { defineProperty_default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }









var ContactCollectiveBtn = function ContactCollectiveBtn(_ref) {
  var children = _ref.children,
      collective = _ref.collective,
      LoggedInUser = _ref.LoggedInUser;

  var _React$useState = react.useState(false),
      _React$useState2 = slicedToArray_default()(_React$useState, 2),
      showModal = _React$useState2[0],
      setShowModal = _React$useState2[1];

  var router = (0,next_router.useRouter)();
  var isOpenCollective = collective.slug === 'opencollective';
  return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {
    children: [children({
      onClick: function onClick() {
        return isOpenCollective ? router.push('/help') : LoggedInUser ? setShowModal(true) : router.push("/".concat(collective.slug, "/contact"));
      }
    }), showModal && /*#__PURE__*/(0,jsx_runtime.jsx)(components_ContactCollectiveModal, {
      collective: collective,
      onClose: function onClose() {
        return setShowModal(null);
      }
    })]
  });
};

var DefaultContactCollectiveButton = function DefaultContactCollectiveButton(props) {
  return /*#__PURE__*/(0,jsx_runtime.jsx)(StyledButton/* default */.Z, _objectSpread(_objectSpread({}, props), {}, {
    children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
      id: "Contact",
      defaultMessage: [{
        "type": 0,
        "value": "Contact"
      }]
    })
  }));
};

ContactCollectiveBtn.defaultProps = {
  children: DefaultContactCollectiveButton
};
ContactCollectiveBtn.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "ContactCollectiveBtn",
  "props": {
    "children": {
      "defaultValue": {
        "value": "props => (\n  <StyledButton {...props}>\n    <FormattedMessage id=\"Contact\" defaultMessage=\"Contact\" />\n  </StyledButton>\n)",
        "computed": false
      },
      "description": "",
      "type": {
        "name": "func"
      },
      "required": false
    },
    "collective": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": true
    },
    "LoggedInUser": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": false
    }
  }
};
/* harmony default export */ var components_ContactCollectiveBtn = (ContactCollectiveBtn);

/***/ }),

/***/ 65598:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(930);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67294);
/* harmony import */ var _styled_icons_fa_solid_Check__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(46336);
/* harmony import */ var _styled_system_theme_get__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(50056);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(44012);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(52015);
/* harmony import */ var _lib_withViewport__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(74387);
/* harmony import */ var _Container__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(69078);
/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(16159);
/* harmony import */ var _StyledSpinner__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(771);
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(90998);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(85893);




function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }













var Circle = styled_components__WEBPACK_IMPORTED_MODULE_9__/* ["default"].svg.withConfig */ .ZP.svg.withConfig({
  displayName: "StepsProgress__Circle",
  componentId: "sc-1xgfvkb-0"
})(["circle{fill:", ";stroke:#c4c7cc;stroke-width:1px;", " ", " ", "}text{font-size:14px;", "}"], (0,_styled_system_theme_get__WEBPACK_IMPORTED_MODULE_2__/* .themeGet */ .R)('colors.white.full'), function (props) {
  return !props.disabled && (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* .css */ .iv)(["stroke:", ";"], (0,_styled_system_theme_get__WEBPACK_IMPORTED_MODULE_2__/* .themeGet */ .R)('colors.primary.600'));
}, function (props) {
  return !props.disabled && (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* .css */ .iv)(["cursor:pointer;stroke-width:2px;&:hover{fill:", ";}"], (0,_styled_system_theme_get__WEBPACK_IMPORTED_MODULE_2__/* .themeGet */ .R)('colors.black.100'));
}, function (props) {
  return props.checked && (props.disabled ? (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* .css */ .iv)(["fill:", ";"], (0,_styled_system_theme_get__WEBPACK_IMPORTED_MODULE_2__/* .themeGet */ .R)('colors.black.500')) : (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* .css */ .iv)(["fill:", ";&:hover{fill:", ";})"], (0,_styled_system_theme_get__WEBPACK_IMPORTED_MODULE_2__/* .themeGet */ .R)('colors.primary.600'), (0,_styled_system_theme_get__WEBPACK_IMPORTED_MODULE_2__/* .themeGet */ .R)('colors.primary.400')));
}, function (props) {
  return !props.disabled && (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* .css */ .iv)(["fill:", ";"], (0,_styled_system_theme_get__WEBPACK_IMPORTED_MODULE_2__/* .themeGet */ .R)('colors.primary.600'));
});
var Bubble = (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .ZP)(_Grid__WEBPACK_IMPORTED_MODULE_5__/* .Flex */ .kC).withConfig({
  displayName: "StepsProgress__Bubble",
  componentId: "sc-1xgfvkb-1"
})(["justify-content:center;align-items:center;flex:0 0 34px;height:34px;width:34px;border-radius:16px;cursor:default;color:#c4c7cc;background:", ";transition:box-shadow 0.3s,background 0.3s;z-index:2;", " ", " ", " ", ""], (0,_styled_system_theme_get__WEBPACK_IMPORTED_MODULE_2__/* .themeGet */ .R)('colors.white.full'), function (props) {
  return !props.disabled && (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* .css */ .iv)(["color:", ";"], (0,_styled_system_theme_get__WEBPACK_IMPORTED_MODULE_2__/* .themeGet */ .R)('colors.primary.600'));
}, function (props) {
  return !props.disabled && props.onClick && (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* .css */ .iv)(["cursor:pointer;&:hover{background:", ";}"], (0,_styled_system_theme_get__WEBPACK_IMPORTED_MODULE_2__/* .themeGet */ .R)('colors.black.100'));
}, function (props) {
  return props.checked && (props.disabled ? (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* .css */ .iv)(["background:", ";"], (0,_styled_system_theme_get__WEBPACK_IMPORTED_MODULE_2__/* .themeGet */ .R)('colors.black.500')) : (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* .css */ .iv)(["background:", ";&:hover{background:", ";})"], (0,_styled_system_theme_get__WEBPACK_IMPORTED_MODULE_2__/* .themeGet */ .R)('colors.primary.600'), (0,_styled_system_theme_get__WEBPACK_IMPORTED_MODULE_2__/* .themeGet */ .R)('colors.primary.400')));
}, function (props) {
  return props.focus && (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* .css */ .iv)(["box-shadow:0 0 0 4px ", ";"], function (props) {
    return props.theme.colors.primary[100];
  });
});
/**
 * Border generated with https://gigacore.github.io/demos/svg-stroke-dasharray-generator/
 * to have a consistent result across browsers.
 */

var SeparatorLine = (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .ZP)(function (props) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_5__/* .Flex */ .kC, _objectSpread(_objectSpread({
    alignItems: "center"
  }, props), {}, {
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("svg", {
      width: "100%",
      height: "2",
      version: "1.1",
      xmlns: "http://www.w3.org/2000/svg",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("line", {
        strokeDasharray: "5%",
        x1: "0",
        y1: "0",
        x2: "100%",
        y2: "0"
      })
    })
  }));
}).withConfig({
  displayName: "StepsProgress__SeparatorLine",
  componentId: "sc-1xgfvkb-2"
})(["height:100%;z-index:1;flex-grow:1;flex-shrink:1;line{stroke-width:1;stroke:#c4c7cc;transition:stroke 0.3s;}", " ", ""], function (props) {
  return props.active && (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* .css */ .iv)(["line{stroke:", ";}"], (0,_styled_system_theme_get__WEBPACK_IMPORTED_MODULE_2__/* .themeGet */ .R)('colors.primary.400'));
}, function (props) {
  return props.transparent && (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* .css */ .iv)(["visibility:hidden;"]);
});
var StepMobile = (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .ZP)(_Grid__WEBPACK_IMPORTED_MODULE_5__/* .Flex */ .kC).withConfig({
  displayName: "StepsProgress__StepMobile",
  componentId: "sc-1xgfvkb-3"
})(["width:100%;align-items:center;"]);
var StepsOuter = (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .ZP)(_Grid__WEBPACK_IMPORTED_MODULE_5__/* .Flex */ .kC).withConfig({
  displayName: "StepsProgress__StepsOuter",
  componentId: "sc-1xgfvkb-4"
})(["padding:12px 16px;@media (max-width:640px){background:#f5f7fa;}"]);
var StepsMobileLeft = (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .ZP)(_Grid__WEBPACK_IMPORTED_MODULE_5__/* .Box */ .xu).withConfig({
  displayName: "StepsProgress__StepsMobileLeft",
  componentId: "sc-1xgfvkb-5"
})(["flex-grow:2;flex-direction:column;"]);
var StepsMobileRight = (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .ZP)(_Grid__WEBPACK_IMPORTED_MODULE_5__/* .Flex */ .kC).withConfig({
  displayName: "StepsProgress__StepsMobileRight",
  componentId: "sc-1xgfvkb-6"
})(["margin-left:auto;width:56px;height:56px;align-items:center;justify-content:center;flex-shrink:0;position:relative;"]);
var PieProgressWrapper = styled_components__WEBPACK_IMPORTED_MODULE_9__/* ["default"].div.withConfig */ .ZP.div.withConfig({
  displayName: "StepsProgress__PieProgressWrapper",
  componentId: "sc-1xgfvkb-7"
})(["left:0;position:absolute;top:0;width:100%;height:100%;z-index:0;"]);
var PieProgress = (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .ZP)(_Grid__WEBPACK_IMPORTED_MODULE_5__/* .Box */ .xu).withConfig({
  displayName: "StepsProgress__PieProgress",
  componentId: "sc-1xgfvkb-8"
})(["left:0;position:absolute;top:0;width:100%;height:100%;border-radius:50%;overflow:hidden;", " ", ""], function (props) {
  return (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* .css */ .iv)(["clip:rect(0,", "px,", "px,", "px);"], props.pieSize, props.pieSize, props.pieSize / 2);
}, function (props) {
  return props.progress && props.progress > 50 && (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* .css */ .iv)(["clip:rect(auto,auto,auto,auto);"]);
});
var PieShadow = (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .ZP)(_Grid__WEBPACK_IMPORTED_MODULE_5__/* .Box */ .xu).withConfig({
  displayName: "StepsProgress__PieShadow",
  componentId: "sc-1xgfvkb-9"
})(["width:100%;height:100%;", " border-radius:50%;"], function (props) {
  return (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* .css */ .iv)(["border:", "px solid ", ";"], props.pieSize / 10, props.bgColor);
});
var PieHalfCircle = (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .ZP)(_Grid__WEBPACK_IMPORTED_MODULE_5__/* .Box */ .xu).withConfig({
  displayName: "StepsProgress__PieHalfCircle",
  componentId: "sc-1xgfvkb-10"
})(["width:100%;height:100%;position:absolute;left:0;top:0;", " border-radius:50%;", ""], function (props) {
  return (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* .css */ .iv)(["border:", "px solid #3498db;clip:rect(0,", "px,", "px,0);"], props.pieSize / 10, props.pieSize / 2, props.pieSize);
}, function (props) {
  return props.progress && (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* .css */ .iv)(["border-color:", ";"], (0,_styled_system_theme_get__WEBPACK_IMPORTED_MODULE_2__/* .themeGet */ .R)('colors.primary.500'));
});
var PieHalfCircleLeft = (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .ZP)(PieHalfCircle).withConfig({
  displayName: "StepsProgress__PieHalfCircleLeft",
  componentId: "sc-1xgfvkb-11"
})(["", ""], function (props) {
  return props.progress && (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* .css */ .iv)(["transform:rotate(", "deg);"], props.progress * 3.6);
});
var PieHalfCircleRight = (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .ZP)(PieHalfCircle).withConfig({
  displayName: "StepsProgress__PieHalfCircleRight",
  componentId: "sc-1xgfvkb-12"
})(["", ""], function (props) {
  return props.progress && props.progress > 50 ? (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* .css */ .iv)(["transform:rotate(180deg);"]) : (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* .css */ .iv)(["display:none;"]);
});

var getBubbleContent = function getBubbleContent(idx, checked, disabled, focused, loading) {
  if (loading) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_StyledSpinner__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z, {
      color: checked ? '#FFFFFF' : 'primary.700',
      size: 14
    });
  } else if (checked) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_styled_icons_fa_solid_Check__WEBPACK_IMPORTED_MODULE_10__/* .Check */ .J, {
      color: "white",
      size: 14
    });
  }

  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(Circle, {
    disabled: disabled,
    checked: checked,
    focus: focused,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("circle", {
      cx: "50%",
      cy: "50%",
      r: "16px"
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("text", {
      x: "50%",
      y: "51%",
      dominantBaseline: "middle",
      textAnchor: "middle",
      children: idx + 1
    })]
  });
};
/**
 * Shows numerated steps circles that can be clicked.
 */


var StepsProgress = function StepsProgress(_ref) {
  var steps = _ref.steps,
      disabledStepNames = _ref.disabledStepNames,
      children = _ref.children,
      focus = _ref.focus,
      loadingStep = _ref.loadingStep,
      onStepSelect = _ref.onStepSelect,
      allCompleted = _ref.allCompleted,
      stepWidth = _ref.stepWidth,
      viewport = _ref.viewport;
  var focusIdx = focus ? steps.findIndex(function (step) {
    return step.name === focus.name;
  }) : -1;
  var mobileStepIdx = allCompleted ? steps.length - 1 : focusIdx > -1 ? focusIdx : 0;
  var mobileNextStepName = mobileStepIdx < steps.length - 1 ? steps[mobileStepIdx + 1].name : null;
  var mobileNextStepIdx = mobileNextStepName ? steps.findIndex(function (step) {
    return step.name === mobileNextStepName;
  }) : -1;
  var mobileNextStep = mobileNextStepIdx !== -1 && steps[mobileNextStepIdx];
  var progress = allCompleted ? 100 : 100 / steps.length * (mobileStepIdx + 1);
  var bgColor = '#D9DBDD';
  var pieSize = '56';
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(StepsOuter, {
    "data-cy": "steps-progress",
    children: [(viewport === _lib_withViewport__WEBPACK_IMPORTED_MODULE_3__/* .VIEWPORTS.XSMALL */ .Pm.XSMALL || viewport === _lib_withViewport__WEBPACK_IMPORTED_MODULE_3__/* .VIEWPORTS.UNKNOWN */ .Pm.UNKNOWN) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Container__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z, {
      display: ['block', null, 'none'],
      width: "100%",
      "data-cy": "progress-destkop",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(StepMobile, {
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(StepsMobileLeft, {
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_7__.P, {
            color: "black.900",
            fontWeight: "500",
            fontSize: "18px",
            lineHeight: "26px",
            mb: 1,
            children: steps[mobileStepIdx].label || steps[mobileStepIdx].name
          }), mobileNextStep && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_7__.P, {
            color: "black.700",
            fontSize: "12px",
            lineHeight: "18px",
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z, {
              id: "StepsProgress.mobile.next",
              defaultMessage: [{
                "type": 0,
                "value": "Next: "
              }, {
                "type": 1,
                "value": "stepName"
              }],
              values: {
                stepName: mobileNextStep.label || mobileNextStep.name
              }
            })
          })]
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(StepsMobileRight, {
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(PieProgressWrapper, {
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(PieProgress, {
              progress: progress,
              pieSize: pieSize,
              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(PieHalfCircleLeft, {
                progress: progress,
                pieSize: pieSize
              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(PieHalfCircleRight, {
                progress: progress,
                pieSize: pieSize
              })]
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(PieShadow, {
              pieSize: pieSize,
              bgColor: bgColor
            })]
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_7__.P, {
            color: "black.700",
            fontSize: "12px",
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z, {
              id: "StepsProgress.mobile.status",
              defaultMessage: [{
                "type": 1,
                "value": "from"
              }, {
                "type": 0,
                "value": " of "
              }, {
                "type": 1,
                "value": "to"
              }],
              values: {
                from: mobileStepIdx + 1,
                to: steps.length
              }
            })
          })]
        })]
      })
    }), (viewport !== _lib_withViewport__WEBPACK_IMPORTED_MODULE_3__/* .VIEWPORTS.XSMALL */ .Pm.XSMALL || viewport === _lib_withViewport__WEBPACK_IMPORTED_MODULE_3__/* .VIEWPORTS.UNKNOWN */ .Pm.UNKNOWN) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Container__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z, {
      display: ['none', null, 'flex'],
      "data-cy": "progress-destkop",
      children: steps.map(function (step, idx) {
        var stepName = step.name;
        var checked = idx < focusIdx || allCompleted;
        var focused = idx === focusIdx;
        var disabled = disabledStepNames.includes(stepName);
        var loading = loadingStep && stepName === loadingStep.name;
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(_StyledFlex, {
          "data-cy": "progress-step-".concat(stepName),
          flexDirection: "column",
          alignItems: "center",
          "data-disabled": disabled,
          $_css: stepWidth,
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(_StyledFlex2, {
            alignItems: "center",
            mb: 2,
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(SeparatorLine, {
              active: checked || focused,
              transparent: idx === 0
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(Bubble, {
              disabled: disabled,
              onClick: disabled ? undefined : onStepSelect && function () {
                return onStepSelect(step);
              },
              checked: checked,
              focus: focused,
              children: getBubbleContent(idx, checked, disabled, focused, loading)
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(SeparatorLine, {
              active: checked,
              transparent: idx === steps.length - 1
            })]
          }), children && children({
            step: step,
            checked: checked,
            focused: focused
          })]
        }, stepName);
      })
    })]
  });
};

StepsProgress.defaultProps = {
  focused: null,
  loadingStep: null,
  disabledStepNames: [],
  stepWidth: '100%'
};
StepsProgress.__docgenInfo = {
  "description": "Shows numerated steps circles that can be clicked.",
  "methods": [],
  "displayName": "StepsProgress",
  "props": {
    "focused": {
      "defaultValue": {
        "value": "null",
        "computed": false
      },
      "required": false
    },
    "loadingStep": {
      "defaultValue": {
        "value": "null",
        "computed": false
      },
      "description": "Step will show a loading spinner",
      "type": {
        "name": "custom",
        "raw": "stepType"
      },
      "required": false
    },
    "disabledStepNames": {
      "defaultValue": {
        "value": "[]",
        "computed": false
      },
      "description": "A list of steps that will be disabled (unclickable). Steps must exist in `steps`",
      "type": {
        "name": "arrayOf",
        "value": {
          "name": "string"
        }
      },
      "required": false
    },
    "stepWidth": {
      "defaultValue": {
        "value": "'100%'",
        "computed": false
      },
      "description": "Base step width",
      "type": {
        "name": "union",
        "value": [{
          "name": "string"
        }, {
          "name": "number"
        }]
      },
      "required": false
    },
    "steps": {
      "description": "The list of steps. Each step **must** be unique",
      "type": {
        "name": "arrayOf",
        "value": {
          "name": "custom",
          "raw": "stepType"
        }
      },
      "required": true
    },
    "children": {
      "description": "A renderer func. Gets passed an object like `{step, checked, focused}`",
      "type": {
        "name": "func"
      },
      "required": false
    },
    "focus": {
      "description": "The currently focused step, or null if none focused yet",
      "type": {
        "name": "custom",
        "raw": "stepType"
      },
      "required": false
    },
    "onStepSelect": {
      "description": "Called when a step is clicked",
      "type": {
        "name": "func"
      },
      "required": false
    },
    "allCompleted": {
      "description": "If true, all steps will be marked as completed",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "viewport": {
      "description": "@ignore from withViewport",
      "type": {
        "name": "enum",
        "computed": true,
        "value": "Object.values(VIEWPORTS)"
      },
      "required": false
    }
  }
};
/* harmony default export */ __webpack_exports__["Z"] = ((0,_lib_withViewport__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .ZP)(StepsProgress));

var _StyledFlex = (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .ZP)(_Grid__WEBPACK_IMPORTED_MODULE_5__/* .Flex */ .kC).withConfig({
  displayName: "StepsProgress___StyledFlex",
  componentId: "sc-1xgfvkb-13"
})(function (p) {
  return {
    flexGrow: 1,
    flexBasis: p.$_css
  };
});

var _StyledFlex2 = (0,styled_components__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .ZP)(_Grid__WEBPACK_IMPORTED_MODULE_5__/* .Flex */ .kC).withConfig({
  displayName: "StepsProgress___StyledFlex2",
  componentId: "sc-1xgfvkb-14"
})({
  width: '100%'
});

/***/ }),

/***/ 99656:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "i": function() { return /* binding */ NAVBAR_HEIGHT; },
  "Z": function() { return /* binding */ collective_navbar; }
});

// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/slicedToArray.js
var slicedToArray = __webpack_require__(85696);
var slicedToArray_default = /*#__PURE__*/__webpack_require__.n(slicedToArray);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/defineProperty.js
var defineProperty = __webpack_require__(930);
var defineProperty_default = /*#__PURE__*/__webpack_require__.n(defineProperty);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/taggedTemplateLiteral.js
var taggedTemplateLiteral = __webpack_require__(92358);
var taggedTemplateLiteral_default = /*#__PURE__*/__webpack_require__.n(taggedTemplateLiteral);
// EXTERNAL MODULE: ./node_modules/lodash/without.js
var without = __webpack_require__(82569);
var without_default = /*#__PURE__*/__webpack_require__.n(without);
// EXTERNAL MODULE: ./node_modules/lodash/pickBy.js
var pickBy = __webpack_require__(35937);
var pickBy_default = /*#__PURE__*/__webpack_require__.n(pickBy);
// EXTERNAL MODULE: ./node_modules/lodash/get.js
var get = __webpack_require__(27361);
var get_default = /*#__PURE__*/__webpack_require__.n(get);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
// EXTERNAL MODULE: ./node_modules/graphql-tag/lib/index.js + 13 modules
var lib = __webpack_require__(15020);
// EXTERNAL MODULE: ./node_modules/@apollo/client/index.js
var client = __webpack_require__(46829);
// EXTERNAL MODULE: ./node_modules/@styled-icons/boxicons-regular/DotsVerticalRounded/DotsVerticalRounded.esm.js
var DotsVerticalRounded_esm = __webpack_require__(25559);
// EXTERNAL MODULE: ./node_modules/@styled-icons/boxicons-regular/Envelope/Envelope.esm.js
var Envelope_esm = __webpack_require__(12530);
// EXTERNAL MODULE: ./node_modules/@styled-icons/boxicons-regular/Planet/Planet.esm.js
var Planet_esm = __webpack_require__(66243);
// EXTERNAL MODULE: ./node_modules/@styled-icons/boxicons-regular/Receipt/Receipt.esm.js
var Receipt_esm = __webpack_require__(96901);
// EXTERNAL MODULE: ./node_modules/@styled-icons/fa-solid/MoneyCheckAlt/MoneyCheckAlt.esm.js
var MoneyCheckAlt_esm = __webpack_require__(67705);
// EXTERNAL MODULE: ./node_modules/@styled-icons/material/AttachMoney/AttachMoney.esm.js
var AttachMoney_esm = __webpack_require__(35840);
// EXTERNAL MODULE: ./node_modules/@styled-icons/material/Close/Close.esm.js
var Close_esm = __webpack_require__(58410);
// EXTERNAL MODULE: ./node_modules/@styled-icons/material/Settings/Settings.esm.js
var Settings_esm = __webpack_require__(40242);
// EXTERNAL MODULE: ./node_modules/@styled-icons/remix-line/Stack/Stack.esm.js
var Stack_esm = __webpack_require__(58310);
// EXTERNAL MODULE: ./node_modules/@styled-system/theme-get/dist/index.esm.js
var index_esm = __webpack_require__(50056);
// EXTERNAL MODULE: ./node_modules/react-intl/lib/src/components/message.js
var message = __webpack_require__(44012);
// EXTERNAL MODULE: ./node_modules/react-intl/lib/src/components/useIntl.js
var useIntl = __webpack_require__(86896);
// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js + 3 modules
var styled_components_browser_esm = __webpack_require__(52015);
// EXTERNAL MODULE: ./node_modules/styled-system/dist/index.esm.js + 11 modules
var dist_index_esm = __webpack_require__(16678);
// EXTERNAL MODULE: ./lib/collective.lib.js
var collective_lib = __webpack_require__(5700);
// EXTERNAL MODULE: ./lib/collective-sections.js
var collective_sections = __webpack_require__(64453);
// EXTERNAL MODULE: ./lib/constants/collectives.js
var collectives = __webpack_require__(82525);
// EXTERNAL MODULE: ./lib/constants/expenseTypes.ts
var expenseTypes = __webpack_require__(19878);
// EXTERNAL MODULE: ./lib/constants/roles.js
var roles = __webpack_require__(98216);
// EXTERNAL MODULE: ./lib/expenses.js
var expenses = __webpack_require__(45624);
// EXTERNAL MODULE: ./lib/graphql/helpers.js
var helpers = __webpack_require__(32651);
// EXTERNAL MODULE: ./lib/hooks/useGlobalBlur.js
var useGlobalBlur = __webpack_require__(55348);
// EXTERNAL MODULE: ./lib/hooks/useLoggedInUser.ts
var useLoggedInUser = __webpack_require__(62131);
// EXTERNAL MODULE: ./lib/url-helpers.js
var url_helpers = __webpack_require__(25896);
// EXTERNAL MODULE: ./node_modules/prop-types/index.js
var prop_types = __webpack_require__(45697);
var prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);
// EXTERNAL MODULE: ./components/StyledButton.tsx
var StyledButton = __webpack_require__(87268);
;// CONCATENATED MODULE: ./components/ActionButton.js




/**
 * An action button, as defined in https://www.figma.com/file/N4Xbl652BhzOutXmzhcrLGch/%5BDS%5D-02-Atoms?node-id=3842%3A222.
 * Based on `StyledButton`.
 */

var ActionButton = (0,styled_components_browser_esm/* default */.ZP)(StyledButton/* default */.Z).attrs({
  buttonSize: 'tiny',
  padding: '7px 16px',
  borderRadius: '8px'
}).withConfig({
  displayName: "ActionButton",
  componentId: "sc-tqwhqc-0"
})(["font-weight:500;font-size:14px;line-height:16px;white-space:nowrap;text-transform:uppercase;border:none;color:", ";&,span{letter-spacing:0.01em;}span{vertical-align:middle;}", ""], (0,index_esm/* themeGet */.R)('colors.primary.800'), function (props) {
  return props.isSecondary ? (0,styled_components_browser_esm/* css */.iv)(["&:focus{background:", ";}&:hover:not(:active){background:", ";box-shadow:0 0 0 2px ", ";}&:active{background:", ";color:", ";box-shadow:none;}"], (0,index_esm/* themeGet */.R)('colors.primary.100'), (0,index_esm/* themeGet */.R)('colors.primary.100'), (0,index_esm/* themeGet */.R)('colors.primary.800'), (0,index_esm/* themeGet */.R)('colors.primary.200'), (0,index_esm/* themeGet */.R)('colors.primary.800')) : (0,styled_components_browser_esm/* css */.iv)(["background:", ";&:focus{background:", ";}&:hover:not(:active){background:", ";color:", ";}&:active{background:", ";color:", ";}"], (0,index_esm/* themeGet */.R)('colors.primary.100'), (0,index_esm/* themeGet */.R)('colors.primary.100'), (0,index_esm/* themeGet */.R)('colors.primary.800'), (0,index_esm/* themeGet */.R)('colors.white.full'), (0,index_esm/* themeGet */.R)('colors.primary.200'), (0,index_esm/* themeGet */.R)('colors.primary.800'));
});
ActionButton.propTypes = {
  borderRadius: (prop_types_default()).string,
  isSecondary: (prop_types_default()).bool
};
/* harmony default export */ var components_ActionButton = (ActionButton);
// EXTERNAL MODULE: ./components/host-dashboard/AddFundsModal.js
var AddFundsModal = __webpack_require__(29301);
// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(85893);
;// CONCATENATED MODULE: ./components/AddFundsBtn.js



function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { defineProperty_default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }








var AddFundsBtn = function AddFundsBtn(_ref) {
  var children = _ref.children,
      collective = _ref.collective;

  var _React$useState = react.useState(false),
      _React$useState2 = slicedToArray_default()(_React$useState, 2),
      showModal = _React$useState2[0],
      setShowModal = _React$useState2[1];

  return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {
    children: [children({
      onClick: function onClick() {
        return setShowModal(true);
      }
    }), showModal && /*#__PURE__*/(0,jsx_runtime.jsx)(AddFundsModal/* default */.Z, {
      collective: collective,
      onClose: function onClose() {
        return setShowModal(null);
      }
    })]
  });
};

var DefaultAddFundsButton = function DefaultAddFundsButton(props) {
  return /*#__PURE__*/(0,jsx_runtime.jsx)(StyledButton/* default */.Z, _objectSpread(_objectSpread({}, props), {}, {
    children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
      id: "menu.addFunds",
      defaultMessage: [{
        "type": 0,
        "value": "Add Funds"
      }]
    })
  }));
};

AddFundsBtn.defaultProps = {
  children: DefaultAddFundsButton
};
AddFundsBtn.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "AddFundsBtn",
  "props": {
    "children": {
      "defaultValue": {
        "value": "props => (\n  <StyledButton {...props}>\n    <FormattedMessage id=\"menu.addFunds\" defaultMessage=\"Add Funds\" />\n  </StyledButton>\n)",
        "computed": false
      },
      "description": "",
      "type": {
        "name": "func"
      },
      "required": false
    },
    "collective": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": true
    }
  }
};
/* harmony default export */ var components_AddFundsBtn = (AddFundsBtn);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/classCallCheck.js
var classCallCheck = __webpack_require__(33227);
var classCallCheck_default = /*#__PURE__*/__webpack_require__.n(classCallCheck);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/createClass.js
var createClass = __webpack_require__(88361);
var createClass_default = /*#__PURE__*/__webpack_require__.n(createClass);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/inherits.js
var inherits = __webpack_require__(85971);
var inherits_default = /*#__PURE__*/__webpack_require__.n(inherits);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/possibleConstructorReturn.js
var possibleConstructorReturn = __webpack_require__(52715);
var possibleConstructorReturn_default = /*#__PURE__*/__webpack_require__.n(possibleConstructorReturn);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/getPrototypeOf.js
var getPrototypeOf = __webpack_require__(91193);
var getPrototypeOf_default = /*#__PURE__*/__webpack_require__.n(getPrototypeOf);
// EXTERNAL MODULE: ./node_modules/@styled-icons/boxicons-regular/CheckCircle/CheckCircle.esm.js
var CheckCircle_esm = __webpack_require__(49020);
// EXTERNAL MODULE: ./node_modules/next/router.js
var router = __webpack_require__(11163);
// EXTERNAL MODULE: ./components/ApplyToHostModal.js
var ApplyToHostModal = __webpack_require__(77596);
;// CONCATENATED MODULE: ./components/ApplyToHostBtn.js







function ApplyToHostBtn_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function ApplyToHostBtn_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ApplyToHostBtn_ownKeys(Object(source), !0).forEach(function (key) { defineProperty_default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ApplyToHostBtn_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }










var ApplyToHostBtn = /*#__PURE__*/function (_React$Component) {
  inherits_default()(ApplyToHostBtn, _React$Component);

  var _super = _createSuper(ApplyToHostBtn);

  function ApplyToHostBtn(props) {
    var _this;

    classCallCheck_default()(this, ApplyToHostBtn);

    _this = _super.call(this, props);
    _this.state = {
      showModal: false
    };
    return _this;
  }

  createClass_default()(ApplyToHostBtn, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var router = this.props.router;

      if (router.query.action === 'apply') {
        this.setState({
          showModal: true
        });
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var router = this.props.router;

      if (router.query.action !== 'apply' && prevProps.router.query.action === 'apply') {
        this.setState({
          showModal: false
        });
      }

      if (router.query.action === 'apply' && prevProps.router.query.action !== 'apply') {
        this.setState({
          showModal: true
        });
      }
    }
  }, {
    key: "renderButton",
    value: function renderButton() {
      var _this$props = this.props,
          buttonRenderer = _this$props.buttonRenderer,
          withoutIcon = _this$props.withoutIcon,
          buttonProps = _this$props.buttonProps,
          minWidth = _this$props.minWidth,
          hostSlug = _this$props.hostSlug,
          router = _this$props.router;

      if (buttonRenderer) {
        return buttonRenderer(ApplyToHostBtn_objectSpread(ApplyToHostBtn_objectSpread({
          onClick: function onClick() {
            return router.push("".concat(hostSlug, "/apply"));
          },
          'data-cy': 'host-apply-btn'
        }, buttonProps), {}, {
          children: /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {
            children: [!withoutIcon && /*#__PURE__*/(0,jsx_runtime.jsx)(CheckCircle_esm/* CheckCircle */.f, {
              size: "1em"
            }), !withoutIcon && ' ', /*#__PURE__*/(0,jsx_runtime.jsx)("span", {
              children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                id: "Apply",
                defaultMessage: [{
                  "type": 0,
                  "value": "Apply"
                }]
              })
            })]
          })
        }));
      }

      return /*#__PURE__*/(0,jsx_runtime.jsxs)(StyledButton/* default */.Z, ApplyToHostBtn_objectSpread(ApplyToHostBtn_objectSpread({
        buttonStyle: "secondary",
        buttonSize: "small",
        onClick: function onClick() {
          return router.push("".concat(hostSlug, "/apply"));
        },
        minWidth: minWidth,
        "data-cy": "host-apply-btn"
      }, buttonProps), {}, {
        children: [!withoutIcon && /*#__PURE__*/(0,jsx_runtime.jsx)(CheckCircle_esm/* CheckCircle */.f, {
          size: "20px",
          color: "#304CDC"
        }), /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
          id: "Apply",
          defaultMessage: [{
            "type": 0,
            "value": "Apply"
          }]
        })]
      }));
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          hostSlug = _this$props2.hostSlug,
          router = _this$props2.router,
          isHidden = _this$props2.isHidden;
      return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {
        children: [this.renderButton(), this.state.showModal && !isHidden && /*#__PURE__*/(0,jsx_runtime.jsx)(ApplyToHostModal/* default */.Z, {
          hostSlug: hostSlug,
          onClose: function onClose() {
            return router.push(hostSlug);
          }
        })]
      });
    }
  }]);

  return ApplyToHostBtn;
}(react.Component);

ApplyToHostBtn.__docgenInfo = {
  "description": "",
  "methods": [{
    "name": "renderButton",
    "docblock": null,
    "modifiers": [],
    "params": [],
    "returns": null
  }],
  "displayName": "ApplyToHostBtn",
  "props": {
    "hostSlug": {
      "description": "",
      "type": {
        "name": "string"
      },
      "required": true
    },
    "minWidth": {
      "description": "",
      "type": {
        "name": "union",
        "value": [{
          "name": "number"
        }, {
          "name": "string"
        }]
      },
      "required": false
    },
    "withoutIcon": {
      "description": "",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "buttonProps": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": false
    },
    "buttonRenderer": {
      "description": "",
      "type": {
        "name": "func"
      },
      "required": false
    },
    "router": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": false
    },
    "isHidden": {
      "description": "",
      "type": {
        "name": "bool"
      },
      "required": false
    }
  }
};
/* harmony default export */ var components_ApplyToHostBtn = ((0,router.withRouter)(ApplyToHostBtn));
// EXTERNAL MODULE: ./components/Avatar.tsx
var Avatar = __webpack_require__(11194);
// EXTERNAL MODULE: ./components/collective-page/_constants.js
var _constants = __webpack_require__(24839);
// EXTERNAL MODULE: ./components/ContactCollectiveBtn.js + 1 modules
var ContactCollectiveBtn = __webpack_require__(66277);
// EXTERNAL MODULE: ./components/Container.tsx
var Container = __webpack_require__(69078);
// EXTERNAL MODULE: ./components/Grid.ts
var Grid = __webpack_require__(16159);
// EXTERNAL MODULE: ./components/Link.js
var Link = __webpack_require__(92129);
// EXTERNAL MODULE: ./components/LinkCollective.js
var LinkCollective = __webpack_require__(97619);
// EXTERNAL MODULE: ./components/LoadingPlaceholder.tsx
var LoadingPlaceholder = __webpack_require__(29242);
// EXTERNAL MODULE: ./components/StyledKeyframes.js
var StyledKeyframes = __webpack_require__(29925);
// EXTERNAL MODULE: ./components/Text.ts
var Text = __webpack_require__(90998);
// EXTERNAL MODULE: ./node_modules/@styled-icons/fa-solid/CreditCard/CreditCard.esm.js
var CreditCard_esm = __webpack_require__(34243);
// EXTERNAL MODULE: ./node_modules/@styled-icons/feather/ChevronDown/ChevronDown.js
var ChevronDown = __webpack_require__(22733);
// EXTERNAL MODULE: ./components/edit-collective/AssignVirtualCardModal.js + 1 modules
var AssignVirtualCardModal = __webpack_require__(64677);
// EXTERNAL MODULE: ./components/ToastProvider.tsx
var ToastProvider = __webpack_require__(31330);
;// CONCATENATED MODULE: ./components/AssignVirtualCardBtn.js



function AssignVirtualCardBtn_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function AssignVirtualCardBtn_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? AssignVirtualCardBtn_ownKeys(Object(source), !0).forEach(function (key) { defineProperty_default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : AssignVirtualCardBtn_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }









var AssignVirtualCardBtn = function AssignVirtualCardBtn(_ref) {
  var children = _ref.children,
      collective = _ref.collective,
      host = _ref.host;

  var _React$useState = react.useState(false),
      _React$useState2 = slicedToArray_default()(_React$useState, 2),
      showModal = _React$useState2[0],
      setShowModal = _React$useState2[1];

  var _useToasts = (0,ToastProvider/* useToasts */.e1)(),
      addToast = _useToasts.addToast;

  var handleAssignCardSuccess = function handleAssignCardSuccess() {
    addToast({
      type: ToastProvider/* TOAST_TYPE.SUCCESS */["do"].SUCCESS,
      message: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
        id: "Host.VirtualCards.AssignCard.Success",
        defaultMessage: [{
          "type": 0,
          "value": "Card successfully assigned"
        }]
      })
    });
    setShowModal(false);
  };

  return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {
    children: [children({
      onClick: function onClick() {
        return setShowModal(true);
      }
    }), showModal && /*#__PURE__*/(0,jsx_runtime.jsx)(AssignVirtualCardModal/* default */.Z, {
      host: host,
      collective: collective,
      onClose: function onClose() {
        return setShowModal(false);
      },
      onSuccess: handleAssignCardSuccess
    })]
  });
};

var AssignVirtualCardBtn_DefaultAddFundsButton = function DefaultAddFundsButton(props) {
  return /*#__PURE__*/(0,jsx_runtime.jsx)(StyledButton/* default */.Z, AssignVirtualCardBtn_objectSpread(AssignVirtualCardBtn_objectSpread({}, props), {}, {
    children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
      id: "menu.assignCard",
      defaultMessage: [{
        "type": 0,
        "value": "Assign a Card"
      }]
    })
  }));
};

AssignVirtualCardBtn.defaultProps = {
  children: AssignVirtualCardBtn_DefaultAddFundsButton
};
AssignVirtualCardBtn.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "AssignVirtualCardBtn",
  "props": {
    "children": {
      "defaultValue": {
        "value": "props => (\n  <StyledButton {...props}>\n    <FormattedMessage id=\"menu.assignCard\" defaultMessage=\"Assign a Card\" />\n  </StyledButton>\n)",
        "computed": false
      },
      "description": "",
      "type": {
        "name": "func"
      },
      "required": false
    },
    "collective": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": true
    },
    "host": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": true
    }
  }
};
/* harmony default export */ var components_AssignVirtualCardBtn = (AssignVirtualCardBtn);
// EXTERNAL MODULE: ./components/edit-collective/EditVirtualCardModal.tsx + 1 modules
var EditVirtualCardModal = __webpack_require__(99967);
;// CONCATENATED MODULE: ./components/CreateVirtualCardBtn.js



function CreateVirtualCardBtn_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function CreateVirtualCardBtn_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? CreateVirtualCardBtn_ownKeys(Object(source), !0).forEach(function (key) { defineProperty_default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : CreateVirtualCardBtn_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }









var CreateVirtualCardBtn = function CreateVirtualCardBtn(_ref) {
  var children = _ref.children,
      host = _ref.host,
      collective = _ref.collective;

  var _React$useState = react.useState(false),
      _React$useState2 = slicedToArray_default()(_React$useState, 2),
      showModal = _React$useState2[0],
      setShowModal = _React$useState2[1];

  var _useToasts = (0,ToastProvider/* useToasts */.e1)(),
      addToast = _useToasts.addToast;

  var handleCreateCardSuccess = function handleCreateCardSuccess() {
    addToast({
      type: ToastProvider/* TOAST_TYPE.SUCCESS */["do"].SUCCESS,
      message: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
        id: "YdC/Ok",
        defaultMessage: [{
          "type": 0,
          "value": "Card successfully created"
        }]
      })
    });
    setShowModal(false);
  };

  return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {
    children: [children({
      onClick: function onClick() {
        return setShowModal(true);
      }
    }), showModal && /*#__PURE__*/(0,jsx_runtime.jsx)(EditVirtualCardModal/* default */.Z, {
      host: host,
      collective: collective,
      onClose: function onClose() {
        return setShowModal(false);
      },
      onSuccess: handleCreateCardSuccess
    })]
  });
};

var DefaultButton = function DefaultButton(props) {
  return /*#__PURE__*/(0,jsx_runtime.jsx)(StyledButton/* default */.Z, CreateVirtualCardBtn_objectSpread(CreateVirtualCardBtn_objectSpread({}, props), {}, {
    children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
      id: "xLybrm",
      defaultMessage: [{
        "type": 0,
        "value": "Create a Card"
      }]
    })
  }));
};

CreateVirtualCardBtn.defaultProps = {
  children: DefaultButton
};
CreateVirtualCardBtn.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "CreateVirtualCardBtn",
  "props": {
    "children": {
      "defaultValue": {
        "value": "props => (\n  <StyledButton {...props}>\n    <FormattedMessage defaultMessage=\"Create a Card\" />\n  </StyledButton>\n)",
        "computed": false
      },
      "description": "",
      "type": {
        "name": "func"
      },
      "required": false
    },
    "host": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": true
    },
    "collective": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": true
    }
  }
};
/* harmony default export */ var components_CreateVirtualCardBtn = (CreateVirtualCardBtn);
// EXTERNAL MODULE: ./components/RequestVirtualCardBtn.js + 1 modules
var RequestVirtualCardBtn = __webpack_require__(59924);
// EXTERNAL MODULE: ./components/StyledDropdown.js
var StyledDropdown = __webpack_require__(206);
// EXTERNAL MODULE: ./components/StyledHr.tsx
var StyledHr = __webpack_require__(173);
// EXTERNAL MODULE: ./components/StyledLink.tsx
var StyledLink = __webpack_require__(51082);
// EXTERNAL MODULE: ./node_modules/react-intl/lib/index.js + 3 modules
var react_intl_lib = __webpack_require__(59448);
// EXTERNAL MODULE: ./lib/allowed-features.js
var allowed_features = __webpack_require__(99708);
// EXTERNAL MODULE: ./lib/i18n-collective-page-section.js
var i18n_collective_page_section = __webpack_require__(42994);
// EXTERNAL MODULE: ./components/collective-navbar/constants.js
var constants = __webpack_require__(97585);
;// CONCATENATED MODULE: ./components/collective-navbar/menu.js








var NAVBAR_ACTION_TYPE = {
  SUBMIT_EXPENSE: 'hasSubmitExpense',
  DASHBOARD: 'hasDashboard',
  APPLY: 'hasApply',
  CONTACT: 'hasContact',
  ADD_FUNDS: 'addFunds',
  ASSIGN_CARD: 'assignCard',
  REQUEST_CARD: 'requestCard',
  CONTRIBUTE: 'hasContribute',
  MANAGE_SUBSCRIPTIONS: 'hasManageSubscriptions',
  REQUEST_GRANT: 'hasRequestGrant',
  SETTINGS: 'hasSettings'
};
var titles = (0,react_intl_lib.defineMessages)({
  CONTRIBUTE: {
    id: "SectionContribute.All",
    defaultMessage: [{
      "type": 0,
      "value": "All ways to contribute"
    }]
  },
  TRANSACTIONS: {
    id: "menu.transactions",
    defaultMessage: [{
      "type": 0,
      "value": "Transactions"
    }]
  },
  EXPENSES: {
    id: "Expenses",
    defaultMessage: [{
      "type": 0,
      "value": "Expenses"
    }]
  },
  SUBMITTED_EXPENSES: {
    id: "NpGb+x",
    defaultMessage: [{
      "type": 0,
      "value": "Submitted Expenses"
    }]
  },
  UPDATES: {
    id: "updates",
    defaultMessage: [{
      "type": 0,
      "value": "Updates"
    }]
  },
  EVENTS: {
    id: "Events",
    defaultMessage: [{
      "type": 0,
      "value": "Events"
    }]
  },
  PROJECTS: {
    id: "Projects",
    defaultMessage: [{
      "type": 0,
      "value": "Projects"
    }]
  },
  CONNECTED_COLLECTIVES: {
    id: "ConnectedCollectives",
    defaultMessage: [{
      "type": 0,
      "value": "Connected Collectives"
    }]
  },
  CONVERSATIONS: {
    id: "conversations",
    defaultMessage: [{
      "type": 0,
      "value": "Conversations"
    }]
  }
});

var addSectionLink = function addSectionLink(intl, links, collective, sections, section) {
  if ((0,collective_sections/* hasSection */.Qg)(sections, section)) {
    links.push({
      route: "/".concat(collective.slug, "#section-").concat(section),
      title: (0,i18n_collective_page_section/* default */.Z)(intl, section),
      hide: true // Section links are not displayed yet

    });
  }
};
/**
 * Builds all menu entries, based on categories & enabled features
 */


var getCategoryMenuLinks = function getCategoryMenuLinks(intl, collective, sections, category) {
  var links = [];
  var collectivePageRoute = (0,url_helpers/* getCollectivePageRoute */.x0)(collective);

  if (category === constants/* NAVBAR_CATEGORIES.ABOUT */.t.ABOUT) {
    // About
    addSectionLink(intl, links, collective, sections, _constants/* Sections.ABOUT */.bx.ABOUT);
    addSectionLink(intl, links, collective, sections, _constants/* Sections.OUR_TEAM */.bx.OUR_TEAM);
    addSectionLink(intl, links, collective, sections, _constants/* Sections.GOALS */.bx.GOALS);
  } else if (category === constants/* NAVBAR_CATEGORIES.CONTRIBUTE */.t.CONTRIBUTE) {
    // Contribute
    if ((0,allowed_features/* default */.ZP)(collective, allowed_features/* FEATURES.RECEIVE_FINANCIAL_CONTRIBUTIONS */.h6.RECEIVE_FINANCIAL_CONTRIBUTIONS) && (0,collective_sections/* hasSection */.Qg)(sections, _constants/* Sections.CONTRIBUTE */.bx.CONTRIBUTE)) {
      links.push({
        route: "".concat(collectivePageRoute, "/contribute"),
        title: intl.formatMessage(titles.CONTRIBUTE)
      });
    }

    if ((0,allowed_features/* default */.ZP)(collective, allowed_features/* FEATURES.EVENTS */.h6.EVENTS) && (0,collective_sections/* hasSection */.Qg)(sections, _constants/* Sections.EVENTS */.bx.EVENTS)) {
      links.push({
        route: "".concat(collectivePageRoute, "/events"),
        title: intl.formatMessage(titles.EVENTS)
      });
    }

    if ((0,allowed_features/* default */.ZP)(collective, allowed_features/* FEATURES.PROJECTS */.h6.PROJECTS) && (0,collective_sections/* hasSection */.Qg)(sections, _constants/* Sections.PROJECTS */.bx.PROJECTS)) {
      links.push({
        route: "".concat(collectivePageRoute, "/projects"),
        title: intl.formatMessage(titles.PROJECTS)
      });
    }

    if ((0,allowed_features/* default */.ZP)(collective, allowed_features/* FEATURES.CONNECTED_ACCOUNTS */.h6.CONNECTED_ACCOUNTS) && (0,collective_sections/* hasSection */.Qg)(sections, _constants/* Sections.CONNECTED_COLLECTIVES */.bx.CONNECTED_COLLECTIVES)) {
      links.push({
        route: "".concat(collectivePageRoute, "/connected-collectives"),
        title: intl.formatMessage(titles.CONNECTED_COLLECTIVES)
      });
    }

    if ((0,collective_sections/* hasSection */.Qg)(sections, _constants/* Sections.CONTRIBUTORS */.bx.CONTRIBUTORS)) {
      addSectionLink(intl, links, collective, sections, _constants/* Sections.CONTRIBUTORS */.bx.CONTRIBUTORS);
    }
  } else if (category === constants/* NAVBAR_CATEGORIES.CONTRIBUTIONS */.t.CONTRIBUTIONS) {
    addSectionLink(intl, links, collective, sections, _constants/* Sections.CONTRIBUTIONS */.bx.CONTRIBUTIONS);
  } else if (category === constants/* NAVBAR_CATEGORIES.BUDGET */.t.BUDGET) {
    // Budget
    links.push({
      route: "".concat(collectivePageRoute, "/transactions"),
      title: intl.formatMessage(titles.TRANSACTIONS)
    });

    if ((0,collective_lib/* isIndividualAccount */.Sh)(collective) && !collective.isHost) {
      links.push({
        route: "".concat(collectivePageRoute, "/submitted-expenses"),
        title: intl.formatMessage(titles.SUBMITTED_EXPENSES)
      });
    } else {
      links.push({
        route: "".concat(collectivePageRoute, "/expenses"),
        title: intl.formatMessage(titles.EXPENSES)
      });
    }
  } else if (category === constants/* NAVBAR_CATEGORIES.CONNECT */.t.CONNECT) {
    // Connect
    if ((0,allowed_features/* default */.ZP)(collective, allowed_features/* FEATURES.UPDATES */.h6.UPDATES) && (0,collective_sections/* hasSection */.Qg)(sections, _constants/* Sections.UPDATES */.bx.UPDATES)) {
      links.push({
        route: "".concat(collectivePageRoute, "/updates"),
        title: intl.formatMessage(titles.UPDATES)
      });
    }

    if ((0,allowed_features/* default */.ZP)(collective, allowed_features/* FEATURES.CONVERSATIONS */.h6.CONVERSATIONS) && (0,collective_sections/* hasSection */.Qg)(sections, _constants/* Sections.CONVERSATIONS */.bx.CONVERSATIONS)) {
      links.push({
        route: "".concat(collectivePageRoute, "/conversations"),
        title: intl.formatMessage(titles.CONVERSATIONS)
      });
    }
  }

  return links;
};

var getNavBarMenu = function getNavBarMenu(intl, collective, sections) {
  var menu = [];
  sections.forEach(function (_ref) {
    var type = _ref.type,
        name = _ref.name;

    if (type === 'CATEGORY') {
      var links = getCategoryMenuLinks(intl, collective, sections, name);

      if (links.length) {
        menu.push({
          category: name,
          links: links
        });
      }
    }
  });
  return menu;
};
;// CONCATENATED MODULE: ./components/collective-navbar/ActionsMenu.js



function ActionsMenu_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function ActionsMenu_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ActionsMenu_ownKeys(Object(source), !0).forEach(function (key) { defineProperty_default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ActionsMenu_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }






























 //  Styled components



var MenuItem = (0,styled_components_browser_esm/* default */.ZP)('li').withConfig({
  displayName: "ActionsMenu__MenuItem",
  componentId: "sc-1bycej1-0"
})(["display:flex;align-items:center;&,a,button{width:100%;text-align:left;font-style:normal;font-weight:500;font-size:13px;line-height:16px;letter-spacing:-0.4px;outline:none;@media (max-width:40em){font-size:14px;}&:not(:hover){color:#313233;}&:hover:not(:disabled){background:white;color:", ";&:not(:active){background:white;text-decoration:underline;}}&:focus{box-shadow:none;outline:none;background:white;text-shadow:0px 0px 1px black;}&:disabled{color:#8c8c8c;}}a,button{&:not(:active){margin-right:24px;}&:active{outline:1px solid #e8e9eb;margin-left:12px;margin-right:12px;background:white;}}svg{margin-right:8px;fill:", ";color:", ";}", ""], function (props) {
  return props.theme.colors.black[800];
}, function (props) {
  return props.theme.colors.primary[600];
}, function (props) {
  return props.theme.colors.primary[600];
}, function (props) {
  return props.isHiddenOnMobile && (0,styled_components_browser_esm/* css */.iv)(["@media screen and (min-width:40em){display:none;}"]);
});
var ActionsDropdown = (0,styled_components_browser_esm/* default */.ZP)(StyledDropdown/* Dropdown */.Lt).withConfig({
  displayName: "ActionsMenu__ActionsDropdown",
  componentId: "sc-1bycej1-1"
})(["", "{padding:8px 0;}@media screen and (min-width:40em) and (max-width:88em){", "{right:50px;}}@media (max-width:40em){", "{display:none !important;}", "{display:block;position:relative;box-shadow:none;border:none;padding-top:0;text-transform:uppercase;button{text-transform:uppercase;}svg{margin-right:16px;}}}", ""], StyledDropdown/* DropdownContent */.Nv, StyledDropdown/* DropdownContent */.Nv, StyledDropdown/* DropdownArrow */.Wi, StyledDropdown/* DropdownContent */.Nv, function (props) {
  return props.$isHiddenOnNonMobile && (0,styled_components_browser_esm/* css */.iv)(["@media screen and (min-width:40em){display:none;}"]);
});
var StyledActionButton = (0,styled_components_browser_esm/* default */.ZP)(components_ActionButton).attrs({
  isSecondary: true
}).withConfig({
  displayName: "ActionsMenu__StyledActionButton",
  componentId: "sc-1bycej1-2"
})(["svg{stroke-width:2;}span{vertical-align:middle;margin-right:4px;}@media (max-width:40em){cursor:none;pointer-events:none;}"]);
var StyledChevronDown = (0,styled_components_browser_esm/* default */.ZP)(ChevronDown/* ChevronDown */._M).withConfig({
  displayName: "ActionsMenu__StyledChevronDown",
  componentId: "sc-1bycej1-3"
})(["@media (max-width:40em){display:none;}"]);
var ITEM_PADDING = '11px 14px';

var CollectiveNavbarActionsMenu = function CollectiveNavbarActionsMenu(_ref) {
  var collective = _ref.collective,
      callsToAction = _ref.callsToAction,
      hiddenActionForNonMobile = _ref.hiddenActionForNonMobile,
      LoggedInUser = _ref.LoggedInUser;
  var enabledCTAs = Object.keys(pickBy_default()(callsToAction, Boolean));
  var isEmpty = enabledCTAs.length < 1;
  var hasOnlyOneHiddenCTA = enabledCTAs.length === 1 && hiddenActionForNonMobile === enabledCTAs[0]; // Do not render the menu if there are no available CTAs

  if (isEmpty) {
    return null;
  }

  return /*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
    display: hasOnlyOneHiddenCTA ? ['flex', 'none'] : 'flex',
    alignItems: "center",
    order: [-1, 0],
    borderTop: ['1px solid #e1e1e1', 'none'],
    ml: 1,
    children: /*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Box */.xu, {
      px: 1,
      children: /*#__PURE__*/(0,jsx_runtime.jsx)(ActionsDropdown, {
        trigger: "click",
        $isHiddenOnNonMobile: enabledCTAs.length <= 2,
        children: function children(_ref2) {
          var triggerProps = _ref2.triggerProps,
              dropdownProps = _ref2.dropdownProps;
          return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {
            children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Flex */.kC, {
              alignItems: "center",
              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Box */.xu, {
                display: ['block', 'none'],
                width: '32px',
                ml: 2,
                children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledHr/* default */.Z, {
                  borderStyle: "solid",
                  borderColor: "primary.600"
                })
              }), /*#__PURE__*/(0,jsx_runtime.jsxs)(StyledActionButton, ActionsMenu_objectSpread(ActionsMenu_objectSpread({
                "data-cy": "collective-navbar-actions-btn",
                my: 2
              }, triggerProps), {}, {
                children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Text/* Span */.Dr, {
                  children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                    id: "CollectivePage.NavBar.ActionMenu.Actions",
                    defaultMessage: [{
                      "type": 0,
                      "value": "Actions"
                    }]
                  })
                }), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledChevronDown, {
                  size: "14px"
                })]
              }))]
            }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", ActionsMenu_objectSpread(ActionsMenu_objectSpread({}, dropdownProps), {}, {
              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(StyledDropdown/* DropdownArrow */.Wi, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledDropdown/* DropdownContent */.Nv, {
                children: /*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Box */.xu, {
                  as: "ul",
                  p: 0,
                  m: 0,
                  minWidth: 184,
                  children: [callsToAction.hasSettings && /*#__PURE__*/(0,jsx_runtime.jsx)(MenuItem, {
                    py: 1,
                    isHiddenOnMobile: hiddenActionForNonMobile === NAVBAR_ACTION_TYPE.SETTINGS,
                    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(StyledLink/* default */.Z, {
                      as: Link/* default */.Z,
                      href: (0,url_helpers/* getSettingsRoute */.aT)(collective),
                      p: ITEM_PADDING,
                      "data-cy": "edit-collective-btn",
                      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Settings_esm/* Settings */.Z, {
                        size: 20
                      }), /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                        id: "Settings",
                        defaultMessage: [{
                          "type": 0,
                          "value": "Settings"
                        }]
                      })]
                    })
                  }), callsToAction.hasSubmitExpense && /*#__PURE__*/(0,jsx_runtime.jsx)(MenuItem, {
                    isHiddenOnMobile: hiddenActionForNonMobile === NAVBAR_ACTION_TYPE.SUBMIT_EXPENSE,
                    children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledLink/* default */.Z, {
                      "data-cy": "submit-expense-dropdown",
                      as: Link/* default */.Z,
                      href: "".concat((0,url_helpers/* getCollectivePageRoute */.x0)(collective), "/expenses/new"),
                      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(Container/* default */.Z, {
                        p: ITEM_PADDING,
                        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Receipt_esm/* Receipt */.p, {
                          size: "20px"
                        }), /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                          id: "ExpenseForm.Submit",
                          defaultMessage: [{
                            "type": 0,
                            "value": "Submit expense"
                          }]
                        })]
                      })
                    })
                  }), callsToAction.hasRequestGrant && /*#__PURE__*/(0,jsx_runtime.jsx)(MenuItem, {
                    py: 1,
                    isHiddenOnMobile: hiddenActionForNonMobile === NAVBAR_ACTION_TYPE.REQUEST_GRANT,
                    children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledLink/* default */.Z, {
                      as: Link/* default */.Z,
                      href: "".concat((0,url_helpers/* getCollectivePageRoute */.x0)(collective), "/expenses/new"),
                      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(Container/* default */.Z, {
                        p: ITEM_PADDING,
                        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(MoneyCheckAlt_esm/* MoneyCheckAlt */.I, {
                          size: "20px"
                        }), /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                          id: "ExpenseForm.Type.Request",
                          defaultMessage: [{
                            "type": 0,
                            "value": "Request Grant"
                          }]
                        })]
                      })
                    })
                  }), callsToAction.hasManageSubscriptions && /*#__PURE__*/(0,jsx_runtime.jsx)(MenuItem, {
                    isHiddenOnMobile: hiddenActionForNonMobile === NAVBAR_ACTION_TYPE.MANAGE_SUBSCRIPTIONS,
                    children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledLink/* default */.Z, {
                      as: Link/* default */.Z,
                      href: "".concat((0,url_helpers/* getCollectivePageRoute */.x0)(collective), "/manage-contributions"),
                      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(Container/* default */.Z, {
                        p: ITEM_PADDING,
                        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Stack_esm/* Stack */.K, {
                          size: "20px"
                        }), /*#__PURE__*/(0,jsx_runtime.jsx)("span", {
                          children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                            id: "menu.subscriptions",
                            defaultMessage: [{
                              "type": 0,
                              "value": "Manage Contributions"
                            }]
                          })
                        })]
                      })
                    })
                  }), callsToAction.hasContribute && /*#__PURE__*/(0,jsx_runtime.jsx)(MenuItem, {
                    py: 1,
                    isHiddenOnMobile: hiddenActionForNonMobile === NAVBAR_ACTION_TYPE.CONTRIBUTE,
                    children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledLink/* default */.Z, {
                      as: Link/* default */.Z,
                      href: (0,collective_lib/* getContributeRoute */.oe)(collective),
                      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(Container/* default */.Z, {
                        p: ITEM_PADDING,
                        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Planet_esm/* Planet */.j, {
                          size: "20px"
                        }), /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                          id: "menu.contributeMoney",
                          defaultMessage: [{
                            "type": 0,
                            "value": "Contribute Money"
                          }]
                        })]
                      })
                    })
                  }), callsToAction.addFunds && /*#__PURE__*/(0,jsx_runtime.jsx)(components_AddFundsBtn, {
                    collective: collective,
                    children: function children(btnProps) {
                      return /*#__PURE__*/(0,jsx_runtime.jsx)(MenuItem, {
                        py: 1,
                        isHiddenOnMobile: hiddenActionForNonMobile === NAVBAR_ACTION_TYPE.ADD_FUNDS,
                        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(StyledButton/* default */.Z, ActionsMenu_objectSpread(ActionsMenu_objectSpread({
                          borderRadius: 0,
                          p: ITEM_PADDING,
                          isBorderless: true
                        }, btnProps), {}, {
                          "data-cy": "add-funds-btn",
                          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(AttachMoney_esm/* AttachMoney */.T, {
                            size: "20px"
                          }), /*#__PURE__*/(0,jsx_runtime.jsx)(Text/* Span */.Dr, {
                            children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                              id: "menu.addFunds",
                              defaultMessage: [{
                                "type": 0,
                                "value": "Add Funds"
                              }]
                            })
                          })]
                        }))
                      });
                    }
                  }), callsToAction.hasContact && /*#__PURE__*/(0,jsx_runtime.jsx)(MenuItem, {
                    py: 1,
                    isHiddenOnMobile: hiddenActionForNonMobile === NAVBAR_ACTION_TYPE.CONTACT,
                    children: /*#__PURE__*/(0,jsx_runtime.jsx)(ContactCollectiveBtn/* default */.Z, {
                      collective: collective,
                      LoggedInUser: LoggedInUser,
                      children: function children(btnProps) {
                        return /*#__PURE__*/(0,jsx_runtime.jsxs)(StyledButton/* default */.Z, ActionsMenu_objectSpread(ActionsMenu_objectSpread({}, btnProps), {}, {
                          borderRadius: 0,
                          p: ITEM_PADDING,
                          isBorderless: true,
                          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Envelope_esm/* Envelope */.w, {
                            size: "20px"
                          }), /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                            id: "Contact",
                            defaultMessage: [{
                              "type": 0,
                              "value": "Contact"
                            }]
                          })]
                        }));
                      }
                    })
                  }), callsToAction.hasApply && /*#__PURE__*/(0,jsx_runtime.jsx)(MenuItem, {
                    py: 1,
                    isHiddenOnMobile: hiddenActionForNonMobile === NAVBAR_ACTION_TYPE.APPLY,
                    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_ApplyToHostBtn, {
                      hostSlug: collective.slug,
                      isHidden: hiddenActionForNonMobile === NAVBAR_ACTION_TYPE.APPLY,
                      buttonProps: {
                        isBorderless: true,
                        p: ITEM_PADDING
                      }
                    })
                  }), callsToAction.createVirtualCard && collective.isApproved && /*#__PURE__*/(0,jsx_runtime.jsx)(components_CreateVirtualCardBtn, {
                    collective: collective,
                    host: collective.host,
                    children: function children(btnProps) {
                      return /*#__PURE__*/(0,jsx_runtime.jsx)(MenuItem, {
                        py: 1,
                        isHiddenOnMobile: hiddenActionForNonMobile === NAVBAR_ACTION_TYPE.CREATE_CARD,
                        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(StyledButton/* default */.Z, ActionsMenu_objectSpread(ActionsMenu_objectSpread({
                          borderRadius: 0,
                          p: ITEM_PADDING,
                          isBorderless: true
                        }, btnProps), {}, {
                          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(CreditCard_esm/* CreditCard */.a, {
                            size: "20px"
                          }), /*#__PURE__*/(0,jsx_runtime.jsx)(Text/* Span */.Dr, {
                            children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                              id: "xLybrm",
                              defaultMessage: [{
                                "type": 0,
                                "value": "Create a Card"
                              }]
                            })
                          })]
                        }))
                      });
                    }
                  }), callsToAction.assignVirtualCard && collective.isApproved && /*#__PURE__*/(0,jsx_runtime.jsx)(components_AssignVirtualCardBtn, {
                    collective: collective,
                    host: collective.host,
                    children: function children(btnProps) {
                      return /*#__PURE__*/(0,jsx_runtime.jsx)(MenuItem, {
                        py: 1,
                        isHiddenOnMobile: hiddenActionForNonMobile === NAVBAR_ACTION_TYPE.ASSIGN_CARD,
                        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(StyledButton/* default */.Z, ActionsMenu_objectSpread(ActionsMenu_objectSpread({
                          borderRadius: 0,
                          p: ITEM_PADDING,
                          isBorderless: true
                        }, btnProps), {}, {
                          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(CreditCard_esm/* CreditCard */.a, {
                            size: "20px"
                          }), /*#__PURE__*/(0,jsx_runtime.jsx)(Text/* Span */.Dr, {
                            children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                              id: "menu.assignCard",
                              defaultMessage: [{
                                "type": 0,
                                "value": "Assign a Card"
                              }]
                            })
                          })]
                        }))
                      });
                    }
                  }), callsToAction.requestVirtualCard && collective.isApproved && /*#__PURE__*/(0,jsx_runtime.jsx)(RequestVirtualCardBtn/* default */.Z, {
                    collective: collective,
                    host: collective.host,
                    children: function children(btnProps) {
                      return /*#__PURE__*/(0,jsx_runtime.jsx)(MenuItem, {
                        py: 1,
                        isHiddenOnMobile: hiddenActionForNonMobile === NAVBAR_ACTION_TYPE.ASSIGN_CARD,
                        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(StyledButton/* default */.Z, ActionsMenu_objectSpread(ActionsMenu_objectSpread({
                          borderRadius: 0,
                          p: ITEM_PADDING,
                          isBorderless: true
                        }, btnProps), {}, {
                          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(CreditCard_esm/* CreditCard */.a, {
                            size: "20px"
                          }), /*#__PURE__*/(0,jsx_runtime.jsx)(Text/* Span */.Dr, {
                            children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                              id: "Collective.VirtualCards.RequestCard",
                              defaultMessage: [{
                                "type": 0,
                                "value": "Request a Card"
                              }]
                            })
                          })]
                        }))
                      });
                    }
                  })]
                })
              })]
            }))]
          });
        }
      })
    })
  });
};

CollectiveNavbarActionsMenu.defaultProps = {
  callsToAction: {},
  buttonsMinWidth: 100
};
CollectiveNavbarActionsMenu.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "CollectiveNavbarActionsMenu",
  "props": {
    "callsToAction": {
      "defaultValue": {
        "value": "{}",
        "computed": false
      },
      "description": "",
      "type": {
        "name": "shape",
        "value": {
          "hasContact": {
            "name": "bool",
            "description": "Button to contact the collective",
            "required": false
          },
          "hasSubmitExpense": {
            "name": "bool",
            "description": "Submit new expense button",
            "required": false
          },
          "hasApply": {
            "name": "bool",
            "description": "Host's \"Apply\" button",
            "required": false
          },
          "hasDashboard": {
            "name": "bool",
            "description": "Host's dashboard",
            "required": false
          },
          "hasManageSubscriptions": {
            "name": "bool",
            "description": "Manage recurring contributions",
            "required": false
          },
          "hasRequestGrant": {
            "name": "bool",
            "description": "Request a grant from a fund",
            "required": false
          },
          "hasContribute": {
            "name": "bool",
            "description": "Contribute financially to a collective",
            "required": false
          },
          "addFunds": {
            "name": "bool",
            "description": "Add funds to a collective",
            "required": false
          },
          "createVirtualCard": {
            "name": "bool",
            "description": "Create new card for Collective",
            "required": false
          },
          "assignVirtualCard": {
            "name": "bool",
            "description": "Assign card to Collective",
            "required": false
          },
          "requestVirtualCard": {
            "name": "bool",
            "description": "Request card to Collective",
            "required": false
          },
          "hasSettings": {
            "name": "bool",
            "description": "Button to Edit the Collective",
            "required": false
          }
        }
      },
      "required": false
    },
    "buttonsMinWidth": {
      "defaultValue": {
        "value": "100",
        "computed": false
      },
      "required": false
    },
    "collective": {
      "description": "",
      "type": {
        "name": "shape",
        "value": {
          "id": {
            "name": "union",
            "value": [{
              "name": "number"
            }, {
              "name": "string"
            }],
            "required": true
          },
          "legacyId": {
            "name": "number",
            "required": false
          },
          "name": {
            "name": "string",
            "required": true
          },
          "slug": {
            "name": "string",
            "required": true
          },
          "type": {
            "name": "string",
            "required": false
          },
          "settings": {
            "name": "object",
            "required": false
          },
          "tiers": {
            "name": "array",
            "required": false
          },
          "isApproved": {
            "name": "bool",
            "required": false
          },
          "host": {
            "name": "shape",
            "value": {
              "hostFees": {
                "name": "bool",
                "required": false
              }
            },
            "required": false
          }
        }
      },
      "required": false
    },
    "hiddenActionForNonMobile": {
      "description": "",
      "type": {
        "name": "enum",
        "computed": true,
        "value": "Object.values(NAVBAR_ACTION_TYPE)"
      },
      "required": false
    },
    "LoggedInUser": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": false
    }
  }
};
/* harmony default export */ var ActionsMenu = (CollectiveNavbarActionsMenu);
// EXTERNAL MODULE: ./node_modules/react-scrollchor/lib/scrollchor.es.js + 1 modules
var scrollchor_es = __webpack_require__(11374);
;// CONCATENATED MODULE: ./components/collective-navbar/NavBarCategoryDropdown.js


function NavBarCategoryDropdown_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function NavBarCategoryDropdown_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? NavBarCategoryDropdown_ownKeys(Object(source), !0).forEach(function (key) { defineProperty_default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : NavBarCategoryDropdown_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
















var IconIllustration = styled_components_browser_esm/* default.img.attrs */.ZP.img.attrs({
  alt: ''
}).withConfig({
  displayName: "NavBarCategoryDropdown__IconIllustration",
  componentId: "sc-6bxcs7-0"
})(["width:32px;height:32px;"]);
var CategoryContainer = (0,styled_components_browser_esm/* default */.ZP)(Container/* default */.Z).attrs({
  px: [1, 3, 0]
}).withConfig({
  displayName: "NavBarCategoryDropdown__CategoryContainer",
  componentId: "sc-6bxcs7-1"
})(["display:block;width:100%;span{font-size:14px;line-height:16px;text-decoration:none;white-space:nowrap;color:", ";letter-spacing:0.06em;text-transform:uppercase;font-weight:500;&::after{display:block;content:attr(aria-label);font-weight:700;height:1px;color:transparent;overflow:hidden;visibility:hidden;}}&:focus,&:hover,&:focus span,&:hover span{text-decoration:none;font-weight:700;outline:0;color:", ";}&::after{content:'';display:block;width:0%;height:3px;background:", ";transition:width 0.3s;float:center;opacity:0;}", " @media (max-width:64em){border-top:1px solid #e1e1e1;&::after{display:none;}}"], (0,index_esm/* themeGet */.R)('colors.black.800'), (0,index_esm/* themeGet */.R)('colors.black.800'), (0,index_esm/* themeGet */.R)('colors.primary.500'), function (props) {
  return props.isSelected && (0,styled_components_browser_esm/* css */.iv)(["@media (min-width:64em){&::after{width:100%;margin:0 auto;opacity:1;}}"]);
});
var NavBarCategoryDropdown_MenuItem = (0,styled_components_browser_esm/* default */.ZP)('li').withConfig({
  displayName: "NavBarCategoryDropdown__MenuItem",
  componentId: "sc-6bxcs7-2"
})(["display:flex;align-items:center;& > a{padding:12px;@media (max-width:40em){padding-top:4px;}}&,& > a{width:100%;text-align:left;font-style:normal;font-size:13px;font-weight:500;line-height:16px;letter-spacing:-0.4px;outline:none;&:hover,&:focus{text-decoration:underline;}&:not(:hover){color:#313233;}}"]);
var CategoryDropdown = (0,styled_components_browser_esm/* default */.ZP)(StyledDropdown/* Dropdown */.Lt).withConfig({
  displayName: "NavBarCategoryDropdown__CategoryDropdown",
  componentId: "sc-6bxcs7-3"
})(["@media (max-width:64em){", "{display:none !important;}", "{display:block;position:relative;box-shadow:none;border:none;padding-left:48px;}}"], StyledDropdown/* DropdownArrow */.Wi, StyledDropdown/* DropdownContent */.Nv);

var getLinkProps = function getLinkProps(useAnchor, collective, category) {
  var anchor = "#category-".concat(category);

  if (useAnchor) {
    return {
      href: anchor
    };
  } else {
    return {
      as: Link/* default */.Z,
      href: "/".concat(collective.slug).concat(anchor)
    };
  }
};

var NavBarCategory = function NavBarCategory(_ref) {
  var category = _ref.category,
      collective = _ref.collective;
  var intl = (0,useIntl/* default */.Z)();
  var categoryDetails = (0,collective_sections/* getSectionsCategoryDetails */.iJ)(intl, collective, category);
  return /*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Flex */.kC, {
    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Flex */.kC, {
      alignItems: "center",
      mr: 2,
      children: /*#__PURE__*/(0,jsx_runtime.jsx)(IconIllustration, {
        src: categoryDetails.img || collective_sections/* SECTIONS_CATEGORY_ICON.CONTRIBUTE */.yz.CONTRIBUTE
      })
    }), /*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Flex */.kC, {
      alignItems: "center",
      children: /*#__PURE__*/(0,jsx_runtime.jsx)(Text/* Span */.Dr, {
        textTransform: "uppercase",
        fontSize: "14px",
        fontWeight: "500",
        color: "black.800",
        letterSpacing: "0.02em",
        "aria-label": categoryDetails.title,
        children: categoryDetails.title
      })
    })]
  });
};

var NavBarScrollContainer = function NavBarScrollContainer(_ref2) {
  var useAnchor = _ref2.useAnchor,
      category = _ref2.category,
      children = _ref2.children;
  return useAnchor ? /*#__PURE__*/(0,jsx_runtime.jsx)(scrollchor_es/* Scrollchor */.Av, {
    to: "#category-".concat(category),
    children: children
  }) : children;
};

var NavBarCategoryDropdown = function NavBarCategoryDropdown(_ref3) {
  var useAnchor = _ref3.useAnchor,
      collective = _ref3.collective,
      category = _ref3.category,
      isSelected = _ref3.isSelected,
      links = _ref3.links;
  var displayedLinks = links.filter(function (link) {
    return !link.hide;
  });
  return /*#__PURE__*/(0,jsx_runtime.jsxs)(CategoryDropdown, {
    trigger: "hover",
    tabIndex: "-1",
    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(NavBarScrollContainer, {
      category: category,
      useAnchor: useAnchor,
      children: /*#__PURE__*/(0,jsx_runtime.jsx)(CategoryContainer, NavBarCategoryDropdown_objectSpread(NavBarCategoryDropdown_objectSpread({
        mr: [0, null, 3],
        isSelected: isSelected
      }, getLinkProps(useAnchor, collective, category)), {}, {
        onClick: function onClick(e) {
          var _document$activeEleme;

          // Remove focus to make sure dropdown gets closed
          if ((_document$activeEleme = document.activeElement) !== null && _document$activeEleme !== void 0 && _document$activeEleme.contains(e.target)) {
            document.activeElement.blur();
          }
        },
        children: /*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Flex */.kC, {
          pt: "15px",
          pb: "14px",
          px: [3, 1, 3, 1],
          children: /*#__PURE__*/(0,jsx_runtime.jsx)(NavBarCategory, {
            category: category,
            collective: collective
          })
        })
      }))
    }), displayedLinks.length > 0 && /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {
      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(StyledDropdown/* DropdownArrow */.Wi, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledDropdown/* DropdownContent */.Nv, {
        children: /*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Box */.xu, {
          as: "ul",
          p: 0,
          m: 0,
          minWidth: 184,
          children: displayedLinks.map(function (_ref4) {
            var route = _ref4.route,
                title = _ref4.title;
            return /*#__PURE__*/(0,jsx_runtime.jsx)(NavBarCategoryDropdown_MenuItem, {
              children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledLink/* default */.Z, {
                as: Link/* default */.Z,
                href: route,
                children: title
              })
            }, route);
          })
        })
      })]
    })]
  });
};

NavBarCategoryDropdown.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "NavBarCategoryDropdown",
  "props": {
    "category": {
      "description": "",
      "type": {
        "name": "enum",
        "computed": true,
        "value": "Object.values(NAVBAR_CATEGORIES)"
      },
      "required": true
    },
    "collective": {
      "description": "",
      "type": {
        "name": "shape",
        "value": {
          "slug": {
            "name": "string",
            "required": false
          },
          "type": {
            "name": "string",
            "required": false
          }
        }
      },
      "required": true
    },
    "isSelected": {
      "description": "",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "useAnchor": {
      "description": "",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "links": {
      "description": "",
      "type": {
        "name": "arrayOf",
        "value": {
          "name": "shape",
          "value": {
            "route": {
              "name": "string",
              "required": false
            },
            "title": {
              "name": "node",
              "required": false
            },
            "hide": {
              "name": "bool",
              "required": false
            }
          }
        }
      },
      "required": false
    }
  }
};
/* harmony default export */ var collective_navbar_NavBarCategoryDropdown = (NavBarCategoryDropdown);
NavBarCategory.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "NavBarCategory",
  "props": {
    "category": {
      "description": "",
      "type": {
        "name": "enum",
        "computed": true,
        "value": "Object.values(NAVBAR_CATEGORIES)"
      },
      "required": true
    },
    "collective": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": true
    }
  }
};
;// CONCATENATED MODULE: ./components/collective-navbar/index.js







var _templateObject;

function collective_navbar_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function collective_navbar_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? collective_navbar_ownKeys(Object(source), !0).forEach(function (key) { defineProperty_default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : collective_navbar_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }














































var DisableGlobalScrollOnMobile = (0,styled_components_browser_esm/* createGlobalStyle */.vJ)(["@media (max-width:64em){body{overflow:hidden;}#footer{display:none;}}"]);
var NavBarContainer = styled_components_browser_esm/* default.div.withConfig */.ZP.div.withConfig({
  displayName: "collective-navbar__NavBarContainer",
  componentId: "sc-6vapjf-0"
})(["position:sticky;top:0;z-index:999;background:white;box-shadow:0px 6px 10px -5px rgba(214,214,214,0.5);"]); // CSS hack to target only Safari
// Hotfix for https://github.com/opencollective/opencollective/issues/4403
// https://stackoverflow.com/questions/16348489/is-there-a-way-to-apply-styles-to-safari-only

var NavBarContainerGlobalStyle = (0,styled_components_browser_esm/* createGlobalStyle */.vJ)(["_::-webkit-full-page-media,_:future,:root ", "{position:relative;}"], NavBarContainer);
var NavbarContentContainer = (0,styled_components_browser_esm/* default */.ZP)(Container/* default */.Z).withConfig({
  displayName: "collective-navbar__NavbarContentContainer",
  componentId: "sc-6vapjf-1"
})(["background:white;display:flex;justify-content:flex-start;"]);
var AvatarBox = (0,styled_components_browser_esm/* default */.ZP)(Grid/* Box */.xu).withConfig({
  displayName: "collective-navbar__AvatarBox",
  componentId: "sc-6vapjf-2"
})(["position:relative;&::before{content:'';height:24px;position:absolute;right:0;top:0;bottom:0;margin-top:auto;margin-bottom:auto;border-right:2px solid rgba(214,214,214,1);}"]);
var BackButtonAndAvatar = styled_components_browser_esm/* default.div.withConfig */.ZP.div.withConfig({
  displayName: "collective-navbar__BackButtonAndAvatar",
  componentId: "sc-6vapjf-3"
})(["display:flex;@media (min-width:64em){&[data-hide-on-desktop='false']{width:48px;opacity:1;visibility:visible;margin-right:8px;transition:opacity 0.1s ease-out,visibility 0.2s ease-out,margin 0.075s,width 0.075s ease-in-out;}&[data-hide-on-desktop='true']{width:0px;margin-right:0px;visibility:hidden;opacity:0;transition:opacity 0.1s ease-out,visibility 0.2s ease-out,margin 0.075s,width 0.075s ease-in-out;}}"]);
var InfosContainer = (0,styled_components_browser_esm/* default */.ZP)(Container/* default */.Z).withConfig({
  displayName: "collective-navbar__InfosContainer",
  componentId: "sc-6vapjf-4"
})(["display:flex;align-items:center;justify-content:space-between;min-width:0;"]);
var CollectiveName = (0,styled_components_browser_esm/* default */.ZP)(LinkCollective/* default */.Z).attrs({
  fontSize: ['16px', '18px'],
  color: 'black.800'
}).withConfig({
  displayName: "collective-navbar__CollectiveName",
  componentId: "sc-6vapjf-5"
})(["", " letter-spacing:-0.8px;margin:8px;min-width:0;text-decoration:none;text-align:center;font-weight:500;line-height:24px;&,a{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}&:not(:hover){color:#313233;}"], dist_index_esm/* display */.jf);
var CategoriesContainer = (0,styled_components_browser_esm/* default */.ZP)(Container/* default */.Z).withConfig({
  displayName: "collective-navbar__CategoriesContainer",
  componentId: "sc-6vapjf-6"
})(["background-color:#ffffff;max-height:calc(100vh - 70px);flex-shrink:2;flex-grow:1;overflow:auto;@media screen and (max-width:40em){max-height:none;flex-shrink:0;}@media screen and (min-width:40em) and (max-width:64em){border:1px solid rgba(214,214,214,0.3);border-radius:0px 0px 0px 8px;box-shadow:0px 6px 10px -5px rgba(214,214,214,0.5);position:absolute;right:0;top:64px;width:0;visibility:hidden;opacity:0;transition:opacity 0.4s ease-out,visibility 0.4s ease-out,width 0.2s ease-out;", "}"], function (props) {
  return props.isExpanded && (0,styled_components_browser_esm/* css */.iv)(["width:400px;visibility:visible;opacity:1;"]);
});
var accountPermissionsQuery = (0,lib/* default */.ZP)(_templateObject || (_templateObject = taggedTemplateLiteral_default()(["\n  query AccountPermissions($slug: String!) {\n    account(slug: $slug) {\n      id\n      permissions {\n        id\n        addFunds {\n          allowed\n          reason\n        }\n      }\n    }\n  }\n"])));
var MobileCategoryContainer = (0,styled_components_browser_esm/* default */.ZP)(Container/* default */.Z).attrs({
  display: ['block', null, null, 'none']
}).withConfig({
  displayName: "collective-navbar__MobileCategoryContainer",
  componentId: "sc-6vapjf-7"
})(["animation:", " 0.2s;margin-left:8px;"], StyledKeyframes/* fadeIn */.Ji);
/** Displayed on mobile & tablet to toggle the menu */

var ExpandMenuIcon = (0,styled_components_browser_esm/* default */.ZP)(DotsVerticalRounded_esm/* DotsVerticalRounded */.n).attrs({
  size: 28
}).withConfig({
  displayName: "collective-navbar__ExpandMenuIcon",
  componentId: "sc-6vapjf-8"
})(["cursor:pointer;margin-right:4px;flex:0 0 28px;color:", ";&:hover{background:radial-gradient(transparent 14px,white 3px),linear-gradient(rgba(255,255,255,0.8),rgba(255,255,255,0.8)),linear-gradient(", ",", ");}&:active{background:radial-gradient(", " 14px,white 3px);color:", ";}@media (min-width:64em){display:none;}"], (0,index_esm/* themeGet */.R)('colors.primary.600'), (0,index_esm/* themeGet */.R)('colors.primary.600'), (0,index_esm/* themeGet */.R)('colors.primary.600'), (0,index_esm/* themeGet */.R)('colors.primary.600'), (0,index_esm/* themeGet */.R)('colors.white.full'));
var CloseMenuIcon = (0,styled_components_browser_esm/* default */.ZP)(Close_esm/* Close */.x).attrs({
  size: 28
}).withConfig({
  displayName: "collective-navbar__CloseMenuIcon",
  componentId: "sc-6vapjf-9"
})(["cursor:pointer;margin-right:4px;flex:0 0 28px;color:", ";&:hover{background:radial-gradient(transparent 14px,white 3px),linear-gradient(rgba(255,255,255,0.8),rgba(255,255,255,0.8)),linear-gradient(", ",", ");}&:active{background:radial-gradient(", " 14px,white 3px);color:", ";}@media (min-width:64em){display:none;}"], (0,index_esm/* themeGet */.R)('colors.primary.600'), (0,index_esm/* themeGet */.R)('colors.primary.600'), (0,index_esm/* themeGet */.R)('colors.primary.600'), (0,index_esm/* themeGet */.R)('colors.primary.600'), (0,index_esm/* themeGet */.R)('colors.white.full'));

var isFeatureAvailable = function isFeatureAvailable(collective, feature) {
  var status = get_default()(collective.features, feature);

  return status === 'ACTIVE' || status === 'AVAILABLE';
};

var getHasContribute = function getHasContribute(collective, sections, isAdmin) {
  return [collectives/* CollectiveType.FUND */.eV.FUND, collectives/* CollectiveType.PROJECT */.eV.PROJECT].includes(collective.type) && collective.isActive && (0,collective_lib/* getContributeRoute */.oe)(collective) && (0,collective_sections/* isSectionEnabled */.sy)(sections, _constants/* Sections.CONTRIBUTE */.bx.CONTRIBUTE, isAdmin);
};

var getDefaultCallsToActions = function getDefaultCallsToActions(collective, sections, isAdmin, isAccountant, isHostAdmin, LoggedInUser, isAllowedAddFunds) {
  if (!collective) {
    return {};
  }

  var features = collective.features,
      host = collective.host;
  return {
    hasContribute: getHasContribute(collective, sections, isAdmin),
    hasContact: isFeatureAvailable(collective, 'CONTACT_FORM'),
    hasApply: isFeatureAvailable(collective, 'RECEIVE_HOST_APPLICATIONS'),
    hasSubmitExpense: isFeatureAvailable(collective, 'RECEIVE_EXPENSES') && (0,collective_lib/* expenseSubmissionAllowed */.cm)(collective, LoggedInUser),
    hasManageSubscriptions: isAdmin && get_default()(features, 'RECURRING_CONTRIBUTIONS') === 'ACTIVE',
    hasDashboard: isAdmin && isFeatureAvailable(collective, 'HOST_DASHBOARD'),
    hasRequestGrant: (0,expenses/* isSupportedExpenseType */.wx)(collective, expenseTypes/* default.GRANT */.Z.GRANT) && (0,collective_lib/* expenseSubmissionAllowed */.cm)(collective, LoggedInUser),
    addFunds: isAllowedAddFunds,
    createVirtualCard: isHostAdmin && isFeatureAvailable(host, 'VIRTUAL_CARDS'),
    assignVirtualCard: isHostAdmin && isFeatureAvailable(host, 'VIRTUAL_CARDS'),
    requestVirtualCard: isAdmin && isFeatureAvailable(collective, 'REQUEST_VIRTUAL_CARDS'),
    hasSettings: isAdmin || isAccountant
  };
};
/**
 * Returns the main CTA that should be displayed as a button outside of the action menu in this component.
 */


var getMainAction = function getMainAction(collective, callsToAction, LoggedInUser) {
  if (!collective || !callsToAction) {
    return null;
  } // Order of the condition defines main call to action: first match gets displayed


  if (callsToAction.includes(NAVBAR_ACTION_TYPE.SETTINGS)) {
    return {
      type: NAVBAR_ACTION_TYPE.SETTINGS,
      component: /*#__PURE__*/(0,jsx_runtime.jsx)(Link/* default */.Z, {
        href: (0,url_helpers/* getSettingsRoute */.aT)(collective),
        "data-cy": "edit-collective-btn",
        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_ActionButton, {
          tabIndex: "-1",
          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Settings_esm/* Settings */.Z, {
            size: "1em"
          }), /*#__PURE__*/(0,jsx_runtime.jsx)(Text/* Span */.Dr, {
            ml: 2,
            children: collective.isHost ? /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
              id: "AdminPanel.button",
              defaultMessage: [{
                "type": 0,
                "value": "Admin"
              }]
            }) : /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
              id: "Settings",
              defaultMessage: [{
                "type": 0,
                "value": "Settings"
              }]
            })
          })]
        })
      })
    };
  } else if (callsToAction.includes('hasContribute')) {
    return {
      type: NAVBAR_ACTION_TYPE.CONTRIBUTE,
      component: /*#__PURE__*/(0,jsx_runtime.jsx)(Link/* default */.Z, {
        href: (0,collective_lib/* getContributeRoute */.oe)(collective),
        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_ActionButton, {
          tabIndex: "-1",
          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Planet_esm/* Planet */.j, {
            size: "1em"
          }), /*#__PURE__*/(0,jsx_runtime.jsx)(Text/* Span */.Dr, {
            ml: 2,
            children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
              id: "menu.contributeMoney",
              defaultMessage: [{
                "type": 0,
                "value": "Contribute Money"
              }]
            })
          })]
        })
      })
    };
  } else if (callsToAction.includes('hasApply')) {
    return {
      type: NAVBAR_ACTION_TYPE.APPLY,
      component: /*#__PURE__*/(0,jsx_runtime.jsx)(components_ApplyToHostBtn, {
        hostSlug: collective.slug,
        buttonRenderer: function buttonRenderer(props) {
          return /*#__PURE__*/(0,jsx_runtime.jsx)(components_ActionButton, collective_navbar_objectSpread({}, props));
        }
      })
    };
  } else if (callsToAction.includes('hasRequestGrant')) {
    return {
      type: NAVBAR_ACTION_TYPE.REQUEST_GRANT,
      component: /*#__PURE__*/(0,jsx_runtime.jsx)(Link/* default */.Z, {
        href: "".concat((0,url_helpers/* getCollectivePageRoute */.x0)(collective), "/expenses/new"),
        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_ActionButton, {
          tabIndex: "-1",
          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(MoneyCheckAlt_esm/* MoneyCheckAlt */.I, {
            size: "1em"
          }), /*#__PURE__*/(0,jsx_runtime.jsx)(Text/* Span */.Dr, {
            ml: 2,
            children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
              id: "ExpenseForm.Type.Request",
              defaultMessage: [{
                "type": 0,
                "value": "Request Grant"
              }]
            })
          })]
        })
      })
    };
  } else if (callsToAction.includes('hasSubmitExpense')) {
    return {
      type: NAVBAR_ACTION_TYPE.SUBMIT_EXPENSE,
      component: /*#__PURE__*/(0,jsx_runtime.jsx)(Link/* default */.Z, {
        href: "".concat((0,url_helpers/* getCollectivePageRoute */.x0)(collective), "/expenses/new"),
        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_ActionButton, {
          tabIndex: "-1",
          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Receipt_esm/* Receipt */.p, {
            size: "1em"
          }), /*#__PURE__*/(0,jsx_runtime.jsx)(Text/* Span */.Dr, {
            ml: 2,
            children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
              id: "menu.submitExpense",
              defaultMessage: [{
                "type": 0,
                "value": "Submit Expense"
              }]
            })
          })]
        })
      })
    };
  } else if (callsToAction.includes('hasManageSubscriptions')) {
    return {
      type: NAVBAR_ACTION_TYPE.MANAGE_SUBSCRIPTIONS,
      component: /*#__PURE__*/(0,jsx_runtime.jsx)(Link/* default */.Z, {
        href: "".concat((0,url_helpers/* getCollectivePageRoute */.x0)(collective), "/manage-contributions"),
        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_ActionButton, {
          tabIndex: "-1",
          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Stack_esm/* Stack */.K, {
            size: "1em"
          }), /*#__PURE__*/(0,jsx_runtime.jsx)(Text/* Span */.Dr, {
            ml: 2,
            children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
              id: "menu.subscriptions",
              defaultMessage: [{
                "type": 0,
                "value": "Manage Contributions"
              }]
            })
          })]
        })
      })
    };
  } else if (callsToAction.includes('hasContact')) {
    return {
      type: NAVBAR_ACTION_TYPE.CONTACT,
      component: /*#__PURE__*/(0,jsx_runtime.jsx)(ContactCollectiveBtn/* default */.Z, {
        collective: collective,
        LoggedInUser: LoggedInUser,
        children: function children(btnProps) {
          return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_ActionButton, collective_navbar_objectSpread(collective_navbar_objectSpread({}, btnProps), {}, {
            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Envelope_esm/* Envelope */.w, {
              size: "1em"
            }), /*#__PURE__*/(0,jsx_runtime.jsx)(Text/* Span */.Dr, {
              ml: 2,
              children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                id: "Contact",
                defaultMessage: [{
                  "type": 0,
                  "value": "Contact"
                }]
              })
            })]
          }));
        }
      })
    };
  } else if (callsToAction.includes(NAVBAR_ACTION_TYPE.ADD_FUNDS) && collective.host) {
    return {
      type: NAVBAR_ACTION_TYPE.ADD_FUNDS,
      component: /*#__PURE__*/(0,jsx_runtime.jsx)(components_AddFundsBtn, {
        collective: collective,
        children: function children(btnProps) {
          return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_ActionButton, collective_navbar_objectSpread(collective_navbar_objectSpread({}, btnProps), {}, {
            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(AttachMoney_esm/* AttachMoney */.T, {
              size: "1em"
            }), /*#__PURE__*/(0,jsx_runtime.jsx)(Text/* Span */.Dr, {
              children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                id: "menu.addFunds",
                defaultMessage: [{
                  "type": 0,
                  "value": "Add Funds"
                }]
              })
            })]
          }));
        }
      })
    };
  } else {
    return null;
  }
};

var NAVBAR_HEIGHT = [56, 64];
/**
 * The NavBar that displays all the individual sections.
 */

var CollectiveNavbar = function CollectiveNavbar(_ref) {
  var _data$account, _data$account$permiss, _data$account$permiss2;

  var collective = _ref.collective,
      isAdmin = _ref.isAdmin,
      isLoading = _ref.isLoading,
      sectionsFromParent = _ref.sections,
      selectedCategory = _ref.selectedCategory,
      callsToAction = _ref.callsToAction,
      onCollectiveClick = _ref.onCollectiveClick,
      isInHero = _ref.isInHero,
      onlyInfos = _ref.onlyInfos,
      showBackButton = _ref.showBackButton,
      useAnchorsForCategories = _ref.useAnchorsForCategories,
      showSelectedCategoryOnMobile = _ref.showSelectedCategoryOnMobile;
  var intl = (0,useIntl/* default */.Z)();

  var _React$useState = react.useState(false),
      _React$useState2 = slicedToArray_default()(_React$useState, 2),
      isExpanded = _React$useState2[0],
      setExpanded = _React$useState2[1];

  var _useLoggedInUser = (0,useLoggedInUser/* default */.Z)(),
      LoggedInUser = _useLoggedInUser.LoggedInUser;

  var isAccountant = LoggedInUser === null || LoggedInUser === void 0 ? void 0 : LoggedInUser.hasRole(roles/* default.ACCOUNTANT */.Z.ACCOUNTANT, collective);
  isAdmin = isAdmin || (LoggedInUser === null || LoggedInUser === void 0 ? void 0 : LoggedInUser.isAdminOfCollective(collective));
  var isHostAdmin = LoggedInUser === null || LoggedInUser === void 0 ? void 0 : LoggedInUser.isHostAdmin(collective);

  var _useQuery = (0,client.useQuery)(accountPermissionsQuery, {
    context: helpers/* API_V2_CONTEXT */.T,
    variables: {
      slug: collective === null || collective === void 0 ? void 0 : collective.slug
    },
    skip: !(collective !== null && collective !== void 0 && collective.slug)
  }),
      data = _useQuery.data,
      dataLoading = _useQuery.dataLoading;

  var loading = isLoading || dataLoading;
  var isAllowedAddFunds = data === null || data === void 0 ? void 0 : (_data$account = data.account) === null || _data$account === void 0 ? void 0 : (_data$account$permiss = _data$account.permissions) === null || _data$account$permiss === void 0 ? void 0 : (_data$account$permiss2 = _data$account$permiss.addFunds) === null || _data$account$permiss2 === void 0 ? void 0 : _data$account$permiss2.allowed;
  var sections = react.useMemo(function () {
    return sectionsFromParent || (0,collective_sections/* getFilteredSectionsForCollective */.vY)(collective, isAdmin, isHostAdmin);
  }, [sectionsFromParent, collective, isAdmin, isHostAdmin]);
  callsToAction = collective_navbar_objectSpread(collective_navbar_objectSpread({}, getDefaultCallsToActions(collective, sections, isAdmin, isAccountant, isHostAdmin, LoggedInUser, isAllowedAddFunds)), callsToAction);
  var actionsArray = Object.keys(pickBy_default()(callsToAction, Boolean));
  var mainAction = getMainAction(collective, actionsArray, LoggedInUser);
  var secondAction = actionsArray.length === 2 && getMainAction(collective, without_default()(actionsArray, mainAction === null || mainAction === void 0 ? void 0 : mainAction.type), LoggedInUser);
  var navbarRef = (0,react.useRef)();
  var mainContainerRef = (0,react.useRef)();
  /** This is to close the navbar dropdown menus (desktop)/slide-out menu (tablet)/non-collapsible menu (mobile)
   * when we click a category header to scroll down to (i.e. Connect) or sub-section page to open (i.e. Updates) */

  (0,useGlobalBlur/* default */.Z)(navbarRef, function (outside) {
    if (!outside && isExpanded) {
      setTimeout(function () {
        setExpanded(false);
      }, 500);
    }
  });
  return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {
    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(NavBarContainerGlobalStyle, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(NavBarContainer, {
      ref: mainContainerRef,
      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(NavbarContentContainer, {
        flexDirection: ['column', 'row'],
        px: [0, 3, null, _constants/* Dimensions.PADDING_X.1 */.Db.PADDING_X[1]],
        mx: "auto",
        maxWidth: _constants/* Dimensions.MAX_SECTION_WIDTH */.Db.MAX_SECTION_WIDTH,
        maxHeight: "100vh",
        minHeight: NAVBAR_HEIGHT,
        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(InfosContainer, {
          px: [3, 0],
          py: [2, 1],
          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Flex */.kC, {
            alignItems: "center",
            maxWidth: ['90%', '100%'],
            flex: "1 1",
            children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(BackButtonAndAvatar, {
              "data-hide-on-desktop": isInHero,
              children: [showBackButton && /*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
                display: ['none', null, null, null, 'block'],
                position: "absolute",
                left: -30,
                children: collective && /*#__PURE__*/(0,jsx_runtime.jsx)(Link/* default */.Z, {
                  href: (0,url_helpers/* getCollectivePageRoute */.x0)(collective),
                  children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledButton/* default */.Z, {
                    px: 1,
                    isBorderless: true,
                    children: "\u2190"
                  })
                })
              }), /*#__PURE__*/(0,jsx_runtime.jsx)(AvatarBox, {
                children: /*#__PURE__*/(0,jsx_runtime.jsx)(LinkCollective/* default */.Z, {
                  collective: collective,
                  onClick: onCollectiveClick,
                  children: /*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
                    borderRadius: "25%",
                    mr: 2,
                    children: /*#__PURE__*/(0,jsx_runtime.jsx)(Avatar/* default */.ZP, {
                      collective: collective,
                      radius: 40
                    })
                  })
                })
              })]
            }), /*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
              display: onlyInfos ? 'flex' : ['flex', null, null, 'none'],
              minWidth: 0,
              children: loading ? /*#__PURE__*/(0,jsx_runtime.jsx)(LoadingPlaceholder/* default */.Z, {
                height: 14,
                minWidth: 100
              }) : isInHero ? /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {
                children: [/*#__PURE__*/(0,jsx_runtime.jsx)(CollectiveName, {
                  collective: collective,
                  display: ['block', 'none'],
                  children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                    id: "NavBar.ThisIsCollective",
                    defaultMessage: [{
                      "type": 0,
                      "value": "This is "
                    }, {
                      "type": 1,
                      "value": "collectiveName"
                    }, {
                      "type": 0,
                      "value": "'s page"
                    }],
                    values: {
                      collectiveName: collective.name
                    }
                  })
                }), /*#__PURE__*/(0,jsx_runtime.jsx)(CollectiveName, {
                  collective: collective,
                  display: ['none', 'block']
                })]
              }) : selectedCategory && showSelectedCategoryOnMobile ? /*#__PURE__*/(0,jsx_runtime.jsx)(MobileCategoryContainer, {
                children: /*#__PURE__*/(0,jsx_runtime.jsx)(NavBarCategory, {
                  collective: collective,
                  category: selectedCategory
                })
              }) : /*#__PURE__*/(0,jsx_runtime.jsx)(CollectiveName, {
                collective: collective,
                onClick: onCollectiveClick
              })
            })]
          }), !onlyInfos && /*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Box */.xu, {
            display: ['block', 'none'],
            flex: "0 0 32px",
            children: isExpanded ? /*#__PURE__*/(0,jsx_runtime.jsx)(CloseMenuIcon, {
              onClick: function onClick() {
                return setExpanded(!isExpanded);
              }
            }) : /*#__PURE__*/(0,jsx_runtime.jsx)(ExpandMenuIcon, {
              onClick: function onClick() {
                var _mainContainerRef$cur;

                (_mainContainerRef$cur = mainContainerRef.current) === null || _mainContainerRef$cur === void 0 ? void 0 : _mainContainerRef$cur.scrollIntoView(true);
                setExpanded(true);
              }
            })
          })]
        }), !onlyInfos && /*#__PURE__*/(0,jsx_runtime.jsxs)(Container/* default */.Z, {
          overflowY: "auto",
          display: ['block', 'flex'],
          width: "100%",
          justifyContent: "space-between",
          flexDirection: ['column', 'row'],
          children: [isExpanded && /*#__PURE__*/(0,jsx_runtime.jsx)(DisableGlobalScrollOnMobile, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(CategoriesContainer, {
            ref: navbarRef,
            display: isExpanded ? 'flex' : ['none', 'flex'],
            flexDirection: ['column', null, null, 'row'],
            justifyContent: ['space-between', null, 'flex-start'],
            order: [0, 3, 0],
            isExpanded: isExpanded,
            children: loading ? /*#__PURE__*/(0,jsx_runtime.jsx)(LoadingPlaceholder/* default */.Z, {
              height: 34,
              minWidth: 100,
              maxWidth: 200,
              my: 15
            }) : getNavBarMenu(intl, collective, sections).map(function (_ref2) {
              var category = _ref2.category,
                  links = _ref2.links;
              return /*#__PURE__*/(0,jsx_runtime.jsx)(collective_navbar_NavBarCategoryDropdown, {
                collective: collective,
                category: category,
                links: links,
                isSelected: selectedCategory === category,
                useAnchor: useAnchorsForCategories
              }, category);
            })
          }), /*#__PURE__*/(0,jsx_runtime.jsxs)(Container/* default */.Z, {
            display: isExpanded ? 'flex' : ['none', 'flex'],
            flexDirection: ['column', 'row'],
            flexBasis: "fit-content",
            marginLeft: [0, 'auto'],
            backgroundColor: "#fff",
            zIndex: 1,
            children: [mainAction && /*#__PURE__*/(0,jsx_runtime.jsxs)(Container/* default */.Z, {
              display: ['none', 'flex'],
              alignItems: "center",
              children: [mainAction.component, secondAction !== null && secondAction !== void 0 && secondAction.component ? /*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
                ml: 2,
                children: secondAction === null || secondAction === void 0 ? void 0 : secondAction.component
              }) : null]
            }), !loading && /*#__PURE__*/(0,jsx_runtime.jsx)(ActionsMenu, {
              collective: collective,
              callsToAction: callsToAction,
              hiddenActionForNonMobile: mainAction === null || mainAction === void 0 ? void 0 : mainAction.type,
              LoggedInUser: LoggedInUser
            }), !onlyInfos && /*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
              display: ['none', 'flex', null, null, 'none'],
              alignItems: "center",
              children: isExpanded ? /*#__PURE__*/(0,jsx_runtime.jsx)(CloseMenuIcon, {
                onClick: function onClick() {
                  return setExpanded(!isExpanded);
                }
              }) : /*#__PURE__*/(0,jsx_runtime.jsx)(ExpandMenuIcon, {
                onClick: function onClick() {
                  var _mainContainerRef$cur2;

                  (_mainContainerRef$cur2 = mainContainerRef.current) === null || _mainContainerRef$cur2 === void 0 ? void 0 : _mainContainerRef$cur2.scrollIntoView(true);
                  setExpanded(!isExpanded);
                }
              })
            })]
          })]
        })]
      })
    })]
  });
};

CollectiveNavbar.defaultProps = {
  isInHero: false,
  onlyInfos: false,
  callsToAction: {},
  showBackButton: true
};
CollectiveNavbar.__docgenInfo = {
  "description": "The NavBar that displays all the individual sections.",
  "methods": [],
  "displayName": "CollectiveNavbar",
  "props": {
    "isInHero": {
      "defaultValue": {
        "value": "false",
        "computed": false
      },
      "description": "The behavior of the navbar is slightly different when integrated in a hero (in the collective page)",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "onlyInfos": {
      "defaultValue": {
        "value": "false",
        "computed": false
      },
      "description": "If true, the Navbar items and buttons will be skipped",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "callsToAction": {
      "defaultValue": {
        "value": "{}",
        "computed": false
      },
      "description": "Defines the calls to action displayed next to the NavBar items. Match PropTypes of `CollectiveCallsToAction`",
      "type": {
        "name": "shape",
        "value": {
          "hasContact": {
            "name": "bool",
            "required": false
          },
          "hasSubmitExpense": {
            "name": "bool",
            "required": false
          },
          "hasApply": {
            "name": "bool",
            "required": false
          },
          "hasDashboard": {
            "name": "bool",
            "required": false
          },
          "hasManageSubscriptions": {
            "name": "bool",
            "required": false
          },
          "hasSettings": {
            "name": "bool",
            "required": false
          }
        }
      },
      "required": false
    },
    "showBackButton": {
      "defaultValue": {
        "value": "true",
        "computed": false
      },
      "description": "",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "collective": {
      "description": "Collective to show info about",
      "type": {
        "name": "shape",
        "value": {
          "name": {
            "name": "string",
            "required": true
          },
          "slug": {
            "name": "string",
            "required": true
          },
          "type": {
            "name": "string",
            "required": true
          },
          "path": {
            "name": "string",
            "required": false
          },
          "isArchived": {
            "name": "bool",
            "required": false
          },
          "canContact": {
            "name": "bool",
            "required": false
          },
          "canApply": {
            "name": "bool",
            "required": false
          },
          "host": {
            "name": "object",
            "required": false
          },
          "plan": {
            "name": "object",
            "required": false
          },
          "parentCollective": {
            "name": "object",
            "required": false
          }
        }
      },
      "required": false
    },
    "isAdmin": {
      "description": "Used to check what sections can be used",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "isLoading": {
      "description": "Will show loading state",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "sections": {
      "description": "The list of sections to be displayed by the NavBar. If not provided, will show all the sections available to this collective type.",
      "type": {
        "name": "arrayOf",
        "value": {
          "name": "shape",
          "value": {
            "type": {
              "name": "enum",
              "value": [{
                "value": "'CATEGORY'",
                "computed": false
              }, {
                "value": "'SECTION'",
                "computed": false
              }],
              "required": false
            },
            "name": {
              "name": "string",
              "required": false
            }
          }
        }
      },
      "required": false
    },
    "onCollectiveClick": {
      "description": "Called when users click the collective logo or name",
      "type": {
        "name": "func"
      },
      "required": false
    },
    "selectedCategory": {
      "description": "Currently selected category",
      "type": {
        "name": "enum",
        "computed": true,
        "value": "Object.values(NAVBAR_CATEGORIES)"
      },
      "required": false
    },
    "hideButtonsOnMobile": {
      "description": "If true, the CTAs will be hidden on mobile",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "isSmall": {
      "description": "Set this to true to make the component smaller in height",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "showSelectedCategoryOnMobile": {
      "description": "",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "useAnchorsForCategories": {
      "description": "To use on the collective page. Sets links to anchors rather than full URLs for faster navigation",
      "type": {
        "name": "bool"
      },
      "required": false
    }
  }
};
/* harmony default export */ var collective_navbar = (/*#__PURE__*/react.memo(CollectiveNavbar));

/***/ }),

/***/ 78936:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(44012);
/* harmony import */ var _I18nFormatters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(88705);
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(90998);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(85893);







var ApplicationDescription = function ApplicationDescription() {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_2__.P, {
      fontSize: "13px",
      lineHeight: "20px",
      color: "#090A0A",
      mb: 3,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z, {
        id: "OCFHostApplication.importance",
        defaultMessage: [{
          "type": 0,
          "value": "It can take years for a group to get 501(c)(3) non-profit status. Fiscal hosts are especially helpful to newly formed nonprofit groups, large and small. We act as a legal entity for your group, organizing the back-end of your fundraising efforts. It’s fast and easy to apply. Once your group is approved, you can begin collecting funds immediately."
        }]
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_2__.H5, {
      fontSize: "13px",
      lineHeight: "20px",
      color: "#090A0A",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z, {
        id: "OCFHostApplication.howItWorks",
        defaultMessage: [{
          "type": 0,
          "value": "How it works:"
        }]
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_2__.P, {
      fontSize: "13px",
      lineHeight: "20px",
      color: "#090A0A",
      mb: 3,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z, {
        id: "OCFHostApplication.howItWorks.list",
        values: {
          lineBreak: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("br", {})
        },
        defaultMessage: [{
          "type": 0,
          "value": "• Donations are made to our 501(c)(3) (tax-exempt status applies)"
        }, {
          "type": 1,
          "value": "lineBreak"
        }, {
          "type": 0,
          "value": " • We make a “grant” to your group/project"
        }, {
          "type": 1,
          "value": "lineBreak"
        }, {
          "type": 0,
          "value": " • We send donors their receipts, disburse funds/reimburse expenses after your approval, send out the tax forms to independent contractors as applicable"
        }, {
          "type": 1,
          "value": "lineBreak"
        }, {
          "type": 0,
          "value": " • You have complete access to collect, spend, manage your money on our platform."
        }]
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_2__.P, {
      fontSize: "13px",
      lineHeight: "20px",
      color: "#090A0A",
      mb: 3,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z, {
        id: "OCFHostApplication.readInfoGuideAndTOS",
        values: {
          InfoGuideLink: (0,_I18nFormatters__WEBPACK_IMPORTED_MODULE_1__/* .getI18nLink */ .fw)({
            color: '#396C6F',
            textDecoration: 'underline',
            openInNewTab: true,
            href: 'https://docs.opencollective.foundation'
          }),
          TOSLink: (0,_I18nFormatters__WEBPACK_IMPORTED_MODULE_1__/* .getI18nLink */ .fw)({
            color: '#396C6F',
            textDecoration: 'underline',
            openInNewTab: true,
            href: 'https://docs.google.com/document/u/2/d/e/2PACX-1vQ_fs7IOojAHaMBKYtaJetlTXJZLnJ7flIWkwxUSQtTkWUMtwFYC2ssb-ooBnT-Ldl6wbVhNQiCkSms/pub'
          })
        },
        defaultMessage: [{
          "type": 0,
          "value": "Please take a moment to read our "
        }, {
          "type": 8,
          "value": "InfoGuideLink",
          "children": [{
            "type": 0,
            "value": "documentation"
          }]
        }, {
          "type": 0,
          "value": " and "
        }, {
          "type": 8,
          "value": "TOSLink",
          "children": [{
            "type": 0,
            "value": "Terms and Conditions"
          }]
        }, {
          "type": 0,
          "value": " before applying. We want to make this process as easy for you as possible; you will need to know a few things to have a smooth experience."
        }]
      })
    })]
  });
};

ApplicationDescription.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "ApplicationDescription"
};
/* harmony default export */ __webpack_exports__["Z"] = (ApplicationDescription);

/***/ }),

/***/ 74387:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Pm": function() { return /* binding */ VIEWPORTS; }
/* harmony export */ });
/* unused harmony exports BREAKPOINTS_NAMES, BREAKPOINTS_WIDTHS, BREAKPOINTS, viewportIsAbove, isDesktopOrAbove, getViewportFromWidth */
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_classCallCheck_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(33227);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_classCallCheck_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_classCallCheck_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_createClass_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(88361);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_createClass_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_createClass_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(92191);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_inherits_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(85971);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_inherits_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_inherits_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(52715);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(91193);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(930);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash_zipObject__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(7287);
/* harmony import */ var lodash_zipObject__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_zipObject__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(18446);
/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var lodash_findLastIndex__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(7436);
/* harmony import */ var lodash_findLastIndex__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash_findLastIndex__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(23279);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(67294);
/* harmony import */ var _theme_breakpoints__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(74200);
/* harmony import */ var _theme_helpers__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(13875);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(85893);












function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_6___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }




/**
 * Defines all the breakpoints names as passed by `withViewport`
 */


var VIEWPORTS = {
  XSMALL: 'XSMALL',
  SMALL: 'SMALL',
  MEDIUM: 'MEDIUM',
  LARGE: 'LARGE',
  UNKNOWN: 'UNKNOWN'
}; // Please keep the same length for these two arrays

var BREAKPOINTS_NAMES = [VIEWPORTS.XSMALL, VIEWPORTS.SMALL, VIEWPORTS.MEDIUM, VIEWPORTS.LARGE];
var BREAKPOINTS_WIDTHS = BREAKPOINTS_NAMES.map(function (_, idx) {
  return (0,_theme_helpers__WEBPACK_IMPORTED_MODULE_13__/* .emToPx */ .x8)(_theme_breakpoints__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z[idx]);
});
var BREAKPOINTS = lodash_zipObject__WEBPACK_IMPORTED_MODULE_7___default()(BREAKPOINTS_NAMES, BREAKPOINTS_WIDTHS);
/**
 * Helper to check if a viewport is superior or equal to another one.
 * Always returns false for `UNKNOWN`
 *
 * @param {VIEWPORTS} viewport
 * @param {VIEWPORTS} breakpointName
 */

var viewportIsAbove = function viewportIsAbove(viewport, breakpointName) {
  return BREAKPOINTS_NAMES.indexOf(viewport) >= BREAKPOINTS_NAMES.indexOf(breakpointName);
};
/**
 * Returns true if viewport is not `UNKNOWN` and is >= desktop.
 *
 * @param {VIEWPORTS} viewport
 */

var isDesktopOrAbove = function isDesktopOrAbove(viewport) {
  return BREAKPOINTS_NAMES.indexOf(viewport) >= BREAKPOINTS_NAMES.indexOf(VIEWPORTS.MEDIUM);
};
/** Returns the name of the viewport (see `BREAKPOINTS_NAMES`) */

var getViewportFromWidth = function getViewportFromWidth(width) {
  var breakpointIdx = lodash_findLastIndex__WEBPACK_IMPORTED_MODULE_9___default()(BREAKPOINTS_WIDTHS, function (b) {
    return width >= b;
  });

  return breakpointIdx === -1 ? BREAKPOINTS_NAMES[0] : BREAKPOINTS_NAMES[breakpointIdx];
};
/** Function to build component's state */

var getStateBuilder = function getStateBuilder(withWidth, withHeight) {
  if (withWidth && withHeight) {
    return function (width, height, viewport) {
      return {
        width: width,
        height: height,
        viewport: viewport
      };
    };
  } else if (withWidth) {
    return function (width, height, viewport) {
      return {
        width: width,
        viewport: viewport
      };
    };
  } else if (withHeight) {
    return function (width, height, viewport) {
      return {
        height: height,
        viewport: viewport
      };
    };
  } else {
    return function (width, height, viewport) {
      return {
        viewport: viewport
      };
    };
  }
};
/**
 * Watch window resize and provide info about the screen size. Has default to
 * properly render on SSR (customizable with `defaultViewport`).
 *
 * @param {ReactNode} ChildComponent
 * @param {object} options
 *  - `withWidth` (default: false) - pass the width of the window
 *  - `withHeight` (default: false) - pass the height of the window
 *  - `defaultViewport` (default: UNKNOWN) - if detection fails, fallback on this screen size
 */


var withViewport = function withViewport(ChildComponent, options) {
  var _ref = options || {},
      withWidth = _ref.withWidth,
      withHeight = _ref.withHeight,
      _ref$defaultViewport = _ref.defaultViewport,
      defaultViewport = _ref$defaultViewport === void 0 ? VIEWPORTS.UNKNOWN : _ref$defaultViewport;

  var buildState = getStateBuilder(withWidth || false, withHeight || false);
  return /*#__PURE__*/function (_React$Component) {
    _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_inherits_js__WEBPACK_IMPORTED_MODULE_3___default()(Viewport, _React$Component);

    var _super = _createSuper(Viewport);

    // Default height usually doesn't matters much, so we use the width as default
    function Viewport(props) {
      var _this;

      _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_classCallCheck_js__WEBPACK_IMPORTED_MODULE_0___default()(this, Viewport);

      _this = _super.call(this, props); // Always initialize without `window`, to make sure SSR and client render are the same
      // Could trigger "DOM not matching" errors otherwise

      _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_6___default()(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_2___default()(_this), "doResize", function () {
        var viewport = getViewportFromWidth(window.innerWidth);
        var state = buildState(window.innerWidth, window.innerHeight, viewport);

        if (!lodash_isEqual__WEBPACK_IMPORTED_MODULE_8___default()(_this.state, state)) {
          _this.setState(state);
        }
      });

      _this.state = buildState(BREAKPOINTS[defaultViewport] || BREAKPOINTS_WIDTHS[0], BREAKPOINTS[defaultViewport] || BREAKPOINTS_WIDTHS[0], defaultViewport);
      return _this;
    }

    _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_createClass_js__WEBPACK_IMPORTED_MODULE_1___default()(Viewport, [{
      key: "componentDidMount",
      value: function componentDidMount() {
        this.doResize();
        this.onResize = lodash_debounce__WEBPACK_IMPORTED_MODULE_10___default()(this.doResize, 500, {
          maxWait: 300
        });
        window.addEventListener('resize', this.onResize);
      }
    }, {
      key: "componentWillUnmount",
      value: function componentWillUnmount() {
        window.removeEventListener('resize', this.onResize);
      }
    }, {
      key: "render",
      value: function render() {
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(ChildComponent, _objectSpread(_objectSpread({}, this.state), this.props));
      }
    }]);

    return Viewport;
  }(react__WEBPACK_IMPORTED_MODULE_11__.Component);
};

/* harmony default export */ __webpack_exports__["ZP"] = (withViewport);

/***/ })

}]);
//# sourceMappingURL=9656-cc16afbae0fb3ef0.js.map