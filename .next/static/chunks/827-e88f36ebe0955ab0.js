(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([[827],{

/***/ 49020:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "f": function() { return /* binding */ CheckCircle; }
/* harmony export */ });
/* unused harmony export CheckCircleDimensions */
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(87462);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(54142);



var CheckCircle = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {
  var attrs = {
    "fill": "currentColor",
    "xmlns": "http://www.w3.org/2000/svg"
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__.StyledIconBase, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)({
    iconAttrs: attrs,
    iconVerticalAlign: "middle",
    iconViewBox: "0 0 24 24"
  }, props, {
    ref: ref
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M9.999 13.587 7.7 11.292l-1.412 1.416 3.713 3.705 6.706-6.706-1.414-1.414z"
  }));
});
CheckCircle.displayName = 'CheckCircle';
var CheckCircleDimensions = {
  height: 24,
  width: 24
};

/***/ }),

/***/ 12530:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "w": function() { return /* binding */ Envelope; }
/* harmony export */ });
/* unused harmony export EnvelopeDimensions */
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(87462);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(54142);



var Envelope = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {
  var attrs = {
    "fill": "currentColor",
    "xmlns": "http://www.w3.org/2000/svg"
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__.StyledIconBase, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)({
    iconAttrs: attrs,
    iconVerticalAlign: "middle",
    iconViewBox: "0 0 24 24"
  }, props, {
    ref: ref
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M20 4H4c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2zm0 2v.511l-8 6.223-8-6.222V6h16zM4 18V9.044l7.386 5.745a.994.994 0 0 0 1.228 0L20 9.044 20.002 18H4z"
  }));
});
Envelope.displayName = 'Envelope';
var EnvelopeDimensions = {
  height: 24,
  width: 24
};

/***/ }),

/***/ 66243:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "j": function() { return /* binding */ Planet; }
/* harmony export */ });
/* unused harmony export PlanetDimensions */
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(87462);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(54142);



var Planet = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {
  var attrs = {
    "fill": "currentColor",
    "xmlns": "http://www.w3.org/2000/svg"
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__.StyledIconBase, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)({
    iconAttrs: attrs,
    iconVerticalAlign: "middle",
    iconViewBox: "0 0 24 24"
  }, props, {
    ref: ref
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M2.76 20.2a2.73 2.73 0 0 0 2.15.85 8.86 8.86 0 0 0 3.37-.86 9 9 0 0 0 12.27-10.9c1.31-2.23 1.75-4.26.67-5.48a2.94 2.94 0 0 0-2.57-1A5 5 0 0 0 16.1 4 9 9 0 0 0 3.58 15.14c-1.06 1.21-2.05 3.68-.82 5.06zm1.5-1.32c-.22-.25 0-1.07.37-1.76a9.26 9.26 0 0 0 1.57 1.74c-1.03.3-1.71.28-1.94.02zm14.51-5.17A7 7 0 0 1 15.58 18 7.12 7.12 0 0 1 12 19a6.44 6.44 0 0 1-1.24-.13 30.73 30.73 0 0 0 4.42-3.29 31.5 31.5 0 0 0 3.8-4 6.88 6.88 0 0 1-.21 2.13zm.09-8.89a.94.94 0 0 1 .87.32c.23.26.16.94-.26 1.93a9.2 9.2 0 0 0-1.61-1.86 2.48 2.48 0 0 1 1-.39zM5.22 10.31A6.94 6.94 0 0 1 8.41 6 7 7 0 0 1 12 5a6.9 6.9 0 0 1 6 3.41 5.19 5.19 0 0 1 .35.66 27.43 27.43 0 0 1-4.49 5A27.35 27.35 0 0 1 8.35 18a7 7 0 0 1-3.13-7.65z"
  }));
});
Planet.displayName = 'Planet';
var PlanetDimensions = {
  height: 24,
  width: 24
};

/***/ }),

/***/ 96901:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "p": function() { return /* binding */ Receipt; }
/* harmony export */ });
/* unused harmony export ReceiptDimensions */
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(87462);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(54142);



var Receipt = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {
  var attrs = {
    "fill": "currentColor",
    "xmlns": "http://www.w3.org/2000/svg"
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__.StyledIconBase, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)({
    iconAttrs: attrs,
    iconVerticalAlign: "middle",
    iconViewBox: "0 0 24 24"
  }, props, {
    ref: ref
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M21 11h-3V4a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v14c0 1.654 1.346 3 3 3h14c1.654 0 3-1.346 3-3v-6a1 1 0 0 0-1-1zM5 19a1 1 0 0 1-1-1V5h12v13c0 .351.061.688.171 1H5zm15-1a1 1 0 0 1-2 0v-5h2v5z"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M6 7h8v2H6zm0 4h8v2H6zm5 4h3v2h-3z"
  }));
});
Receipt.displayName = 'Receipt';
var ReceiptDimensions = {
  height: 24,
  width: 24
};

/***/ }),

/***/ 30742:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "H": function() { return /* binding */ Lock; }
/* harmony export */ });
/* unused harmony export LockDimensions */
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(87462);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(54142);



var Lock = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {
  var attrs = {
    "fill": "currentColor",
    "xmlns": "http://www.w3.org/2000/svg"
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__.StyledIconBase, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)({
    iconAttrs: attrs,
    iconVerticalAlign: "middle",
    iconViewBox: "0 0 448 512"
  }, props, {
    ref: ref
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    fill: "currentColor",
    d: "M144 144v48h160v-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zm-64 48v-48C80 64.5 144.5 0 224 0s144 64.5 144 144v48h16c35.3 0 64 28.7 64 64v192c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64h16z"
  }));
});
Lock.displayName = 'Lock';
var LockDimensions = {
  height: 512,
  width: 448
};

/***/ }),

/***/ 67705:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "I": function() { return /* binding */ MoneyCheckAlt; }
/* harmony export */ });
/* unused harmony export MoneyCheckAltDimensions */
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(87462);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(54142);



var MoneyCheckAlt = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {
  var attrs = {
    "fill": "currentColor",
    "xmlns": "http://www.w3.org/2000/svg"
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__.StyledIconBase, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)({
    iconAttrs: attrs,
    iconVerticalAlign: "middle",
    iconViewBox: "0 0 576 512"
  }, props, {
    ref: ref
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    fill: "currentColor",
    d: "M64 64C28.7 64 0 92.7 0 128v256c0 35.3 28.7 64 64 64h448c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H64zm208 128h224c8.8 0 16 7.2 16 16s-7.2 16-16 16H272c-8.8 0-16-7.2-16-16s7.2-16 16-16zm-16 112c0-8.8 7.2-16 16-16h224c8.8 0 16 7.2 16 16s-7.2 16-16 16H272c-8.8 0-16-7.2-16-16zm-91.9-144v6.3c6.6 1.2 16.6 3.2 21 4.4 10.7 2.8 17 13.8 14.2 24.5s-13.8 17-24.5 14.2c-3.8-1-17.4-3.7-21.7-4.3-12.2-1.9-22.2-.3-28.6 2.6-6.3 2.9-7.9 6.2-8.2 8.1-.6 3.4 0 4.7.1 5 .3.5 1 1.8 3.6 3.5 6.1 4.2 15.7 7.2 29.9 11.4l.8.2c12.1 3.7 28.3 8.5 40.4 17.4 6.7 4.9 13 11.4 16.9 20.5 4 9.1 4.8 19.1 3 29.4-3.3 19-15.9 32-31.6 38.7-4.9 2.1-10 3.6-15.4 4.6v5.5c0 11.1-9 20.1-20.1 20.1s-20.1-9-20.1-20.1v-6.4c-9.5-2.2-21.9-6.4-29.8-9.1-1.7-.6-3.2-1.1-4.4-1.5-10.5-3.5-16.1-14.8-12.7-25.3s14.8-16.1 25.3-12.7c2 .7 4.1 1.4 6.4 2.1 9.5 3.2 20.2 6.9 26.2 7.9 12.8 2 22.7.7 28.8-1.9 5.5-2.3 7.4-5.3 8-8.8.7-4 .1-5.9-.2-6.7-.4-.9-1.3-2.2-3.7-4-5.9-4.3-15.3-7.5-29.3-11.7l-2.2-.7c-11.7-3.5-27-8.1-38.6-16-6.6-4.5-13.2-10.7-17.3-19.5-4.2-9-5.2-18.8-3.4-29 3.2-18.3 16.2-30.9 31.1-37.7 5-2.3 10.3-4 15.9-5.1v-6c0-11.1 9-20.1 20.1-20.1s20.1 9 20.1 20.1z"
  }));
});
MoneyCheckAlt.displayName = 'MoneyCheckAlt';
var MoneyCheckAltDimensions = {
  height: 512,
  width: 576
};

/***/ }),

/***/ 35840:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "T": function() { return /* binding */ AttachMoney; }
/* harmony export */ });
/* unused harmony export AttachMoneyDimensions */
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(87462);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(54142);



var AttachMoney = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {
  var attrs = {
    "fill": "currentColor",
    "xmlns": "http://www.w3.org/2000/svg"
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__.StyledIconBase, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)({
    iconAttrs: attrs,
    iconVerticalAlign: "middle",
    iconViewBox: "0 0 24 24"
  }, props, {
    ref: ref
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"
  }));
});
AttachMoney.displayName = 'AttachMoney';
var AttachMoneyDimensions = {
  height: 24,
  width: 24
};

/***/ }),

/***/ 40242:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ Settings; }
/* harmony export */ });
/* unused harmony export SettingsDimensions */
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(87462);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(54142);



var Settings = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {
  var attrs = {
    "fill": "currentColor",
    "xmlns": "http://www.w3.org/2000/svg"
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__.StyledIconBase, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)({
    iconAttrs: attrs,
    iconVerticalAlign: "middle",
    iconViewBox: "0 0 24 24"
  }, props, {
    ref: ref
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"
  }));
});
Settings.displayName = 'Settings';
var SettingsDimensions = {
  height: 24,
  width: 24
};

/***/ }),

/***/ 58310:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "K": function() { return /* binding */ Stack; }
/* harmony export */ });
/* unused harmony export StackDimensions */
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(87462);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(54142);



var Stack = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {
  var attrs = {
    "fill": "currentColor",
    "xmlns": "http://www.w3.org/2000/svg"
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__.StyledIconBase, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)({
    iconAttrs: attrs,
    iconVerticalAlign: "middle",
    iconViewBox: "0 0 24 24"
  }, props, {
    ref: ref
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    fill: "none",
    d: "M0 0h24v24H0z"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    d: "m20.083 15.2 1.202.721a.5.5 0 0 1 0 .858l-8.77 5.262a1 1 0 0 1-1.03 0l-8.77-5.262a.5.5 0 0 1 0-.858l1.202-.721L12 20.05l8.083-4.85zm0-4.7 1.202.721a.5.5 0 0 1 0 .858L12 17.65l-9.285-5.571a.5.5 0 0 1 0-.858l1.202-.721L12 15.35l8.083-4.85zm-7.569-9.191 8.771 5.262a.5.5 0 0 1 0 .858L12 13 2.715 7.429a.5.5 0 0 1 0-.858l8.77-5.262a1 1 0 0 1 1.03 0zM12 3.332 5.887 7 12 10.668 18.113 7 12 3.332z"
  }));
});
Stack.displayName = 'Stack';
var StackDimensions = {
  height: 24,
  width: 24
};

/***/ }),

/***/ 1757:
/***/ (function(module) {

/**
 * This base implementation of `_.zipObject` which assigns values using `assignFunc`.
 *
 * @private
 * @param {Array} props The property identifiers.
 * @param {Array} values The property values.
 * @param {Function} assignFunc The function to assign values.
 * @returns {Object} Returns the new object.
 */
function baseZipObject(props, values, assignFunc) {
  var index = -1,
      length = props.length,
      valsLength = values.length,
      result = {};

  while (++index < length) {
    var value = index < valsLength ? values[index] : undefined;
    assignFunc(result, props[index], value);
  }
  return result;
}

module.exports = baseZipObject;


/***/ }),

/***/ 35161:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var arrayMap = __webpack_require__(29932),
    baseIteratee = __webpack_require__(67206),
    baseMap = __webpack_require__(69199),
    isArray = __webpack_require__(1469);

/**
 * Creates an array of values by running each element in `collection` thru
 * `iteratee`. The iteratee is invoked with three arguments:
 * (value, index|key, collection).
 *
 * Many lodash methods are guarded to work as iteratees for methods like
 * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.
 *
 * The guarded methods are:
 * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,
 * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,
 * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,
 * `template`, `trim`, `trimEnd`, `trimStart`, and `words`
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Collection
 * @param {Array|Object} collection The collection to iterate over.
 * @param {Function} [iteratee=_.identity] The function invoked per iteration.
 * @returns {Array} Returns the new mapped array.
 * @example
 *
 * function square(n) {
 *   return n * n;
 * }
 *
 * _.map([4, 8], square);
 * // => [16, 64]
 *
 * _.map({ 'a': 4, 'b': 8 }, square);
 * // => [16, 64] (iteration order is not guaranteed)
 *
 * var users = [
 *   { 'user': 'barney' },
 *   { 'user': 'fred' }
 * ];
 *
 * // The `_.property` iteratee shorthand.
 * _.map(users, 'user');
 * // => ['barney', 'fred']
 */
function map(collection, iteratee) {
  var func = isArray(collection) ? arrayMap : baseMap;
  return func(collection, baseIteratee(iteratee, 3));
}

module.exports = map;


/***/ }),

/***/ 12297:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var baseSum = __webpack_require__(67762),
    identity = __webpack_require__(6557);

/**
 * Computes the sum of the values in `array`.
 *
 * @static
 * @memberOf _
 * @since 3.4.0
 * @category Math
 * @param {Array} array The array to iterate over.
 * @returns {number} Returns the sum.
 * @example
 *
 * _.sum([4, 2, 8, 6]);
 * // => 20
 */
function sum(array) {
  return (array && array.length)
    ? baseSum(array, identity)
    : 0;
}

module.exports = sum;


/***/ }),

/***/ 82569:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var baseDifference = __webpack_require__(20731),
    baseRest = __webpack_require__(5976),
    isArrayLikeObject = __webpack_require__(29246);

/**
 * Creates an array excluding all given values using
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * for equality comparisons.
 *
 * **Note:** Unlike `_.pull`, this method returns a new array.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Array
 * @param {Array} array The array to inspect.
 * @param {...*} [values] The values to exclude.
 * @returns {Array} Returns the new array of filtered values.
 * @see _.difference, _.xor
 * @example
 *
 * _.without([2, 1, 2, 3], 1, 2);
 * // => [3]
 */
var without = baseRest(function(array, values) {
  return isArrayLikeObject(array)
    ? baseDifference(array, values)
    : [];
});

module.exports = without;


/***/ }),

/***/ 7287:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var assignValue = __webpack_require__(34865),
    baseZipObject = __webpack_require__(1757);

/**
 * This method is like `_.fromPairs` except that it accepts two arrays,
 * one of property identifiers and one of corresponding values.
 *
 * @static
 * @memberOf _
 * @since 0.4.0
 * @category Array
 * @param {Array} [props=[]] The property identifiers.
 * @param {Array} [values=[]] The property values.
 * @returns {Object} Returns the new object.
 * @example
 *
 * _.zipObject(['a', 'b'], [1, 2]);
 * // => { 'a': 1, 'b': 2 }
 */
function zipObject(props, values) {
  return baseZipObject(props || [], values || [], assignValue);
}

module.exports = zipObject;


/***/ }),

/***/ 4666:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "Z": function() { return /* binding */ components_EditUpdateForm; }
});

// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/asyncToGenerator.js
var asyncToGenerator = __webpack_require__(49376);
var asyncToGenerator_default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/defineProperty.js
var defineProperty = __webpack_require__(930);
var defineProperty_default = /*#__PURE__*/__webpack_require__.n(defineProperty);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/classCallCheck.js
var classCallCheck = __webpack_require__(33227);
var classCallCheck_default = /*#__PURE__*/__webpack_require__.n(classCallCheck);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/createClass.js
var createClass = __webpack_require__(88361);
var createClass_default = /*#__PURE__*/__webpack_require__.n(createClass);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/assertThisInitialized.js
var assertThisInitialized = __webpack_require__(92191);
var assertThisInitialized_default = /*#__PURE__*/__webpack_require__.n(assertThisInitialized);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/inherits.js
var inherits = __webpack_require__(85971);
var inherits_default = /*#__PURE__*/__webpack_require__.n(inherits);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/possibleConstructorReturn.js
var possibleConstructorReturn = __webpack_require__(52715);
var possibleConstructorReturn_default = /*#__PURE__*/__webpack_require__.n(possibleConstructorReturn);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/getPrototypeOf.js
var getPrototypeOf = __webpack_require__(91193);
var getPrototypeOf_default = /*#__PURE__*/__webpack_require__.n(getPrototypeOf);
// EXTERNAL MODULE: ./node_modules/lodash/pick.js
var pick = __webpack_require__(78718);
var pick_default = /*#__PURE__*/__webpack_require__.n(pick);
// EXTERNAL MODULE: ./node_modules/lodash/get.js
var get = __webpack_require__(27361);
var get_default = /*#__PURE__*/__webpack_require__.n(get);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/regenerator/index.js
var regenerator = __webpack_require__(87794);
var regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
// EXTERNAL MODULE: ./node_modules/react-intl/lib/src/components/message.js
var message = __webpack_require__(44012);
// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js + 3 modules
var styled_components_browser_esm = __webpack_require__(52015);
// EXTERNAL MODULE: ./lib/date-utils.js
var date_utils = __webpack_require__(15078);
// EXTERNAL MODULE: ./lib/local-storage.ts
var local_storage = __webpack_require__(35427);
;// CONCATENATED MODULE: ./lib/storage.js


function set(key, value) {
  var ttl = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000 * 60 * 60;

  if (!value) {
    return (0,local_storage/* removeFromLocalStorage */.bZ)(key);
  }

  var expire = new Date(Date.now() + ttl).getTime();
  (0,local_storage/* setLocalStorage */.qQ)(key, JSON.stringify({
    timestamp: new Date().getTime(),
    expire: expire,
    value: value
  }));
}

function storage_get(key) {
  var entry = (0,local_storage/* getFromLocalStorage */.fp)(key);

  if (!entry) {
    return;
  }

  try {
    var obj = JSON.parse(entry);

    if (Number(obj.expire) < Date.now()) {
      // eslint-disable-next-line no-console
      console.error('>>> entry for ', key, 'has expired');
      return;
    }

    return obj.value;
  } catch (e) {
    // eslint-disable-next-line no-console
    console.error('>>> unable to parse entry for ', key, 'entry: ', entry);
    return;
  }
}

/* harmony default export */ var storage = ({
  set: set,
  get: storage_get
});
// EXTERNAL MODULE: ./components/Container.tsx
var Container = __webpack_require__(69078);
// EXTERNAL MODULE: ./components/Grid.ts
var Grid = __webpack_require__(16159);
// EXTERNAL MODULE: ./components/RichTextEditor.js
var RichTextEditor = __webpack_require__(59139);
// EXTERNAL MODULE: ./components/StyledButton.tsx
var StyledButton = __webpack_require__(87268);
// EXTERNAL MODULE: ./components/StyledCheckbox.js
var StyledCheckbox = __webpack_require__(41433);
// EXTERNAL MODULE: ./components/StyledInput.tsx
var StyledInput = __webpack_require__(97274);
// EXTERNAL MODULE: ./components/StyledInputField.js
var StyledInputField = __webpack_require__(87262);
// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(85893);
;// CONCATENATED MODULE: ./components/EditUpdateForm.js












function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { defineProperty_default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }















var UpdateFormWrapper = (0,styled_components_browser_esm/* default */.ZP)(Container/* default */.Z).withConfig({
  displayName: "EditUpdateForm__UpdateFormWrapper",
  componentId: "sc-r2hx3c-0"
})(["width:100%;"]);
var ActionButtonWrapper = (0,styled_components_browser_esm/* default */.ZP)(Container/* default */.Z).withConfig({
  displayName: "EditUpdateForm__ActionButtonWrapper",
  componentId: "sc-r2hx3c-1"
})(["@media (max-width:600px){justify-content:center;}"]);

var EditUpdateForm = /*#__PURE__*/function (_React$Component) {
  inherits_default()(EditUpdateForm, _React$Component);

  var _super = _createSuper(EditUpdateForm);

  function EditUpdateForm(props) {
    var _this;

    classCallCheck_default()(this, EditUpdateForm);

    _this = _super.call(this, props);
    _this.handleChange = _this.handleChange.bind(assertThisInitialized_default()(_this));
    _this.tryUpdateDate = _this.tryUpdateDate.bind(assertThisInitialized_default()(_this));
    _this.onSubmit = _this.onSubmit.bind(assertThisInitialized_default()(_this));
    _this.state = {
      modified: false,
      update: props.update ? pick_default()(props.update, 'title', 'html', 'isPrivate', 'makePublicOn') : {},
      loading: false,
      error: '',
      uploading: false
    };
    _this.storageKey = "EditUpdateForm#".concat(get_default()(_this.props, 'update.id') || get_default()(_this.props, 'collective.slug'));
    return _this;
  }

  createClass_default()(EditUpdateForm, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var savedState = storage.get(this.storageKey);

      if (savedState && !this.props.update) {
        this.setState(savedState);
      }

      this._isMounted = true;
      this.forceUpdate();
    }
  }, {
    key: "tryUpdateDate",
    value: function tryUpdateDate(attr, value) {
      if (!value) {
        this.handleChange(attr, null);
      } else {
        var d = new Date(value).toISOString();
        this.handleChange(attr, d);
      }
    }
  }, {
    key: "handleChange",
    value: function handleChange(attr, value) {
      var update = _objectSpread(_objectSpread({}, this.state.update), {}, defineProperty_default()({}, attr, value));

      var newState = {
        modified: true,
        update: update
      };
      storage.set(this.storageKey, newState);
      this.setState(newState);
      this.props.onChange && this.props.onChange(update);
    }
  }, {
    key: "onSubmit",
    value: function () {
      var _onSubmit = asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee(e) {
        return regenerator_default().wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                this.setState({
                  loading: true,
                  error: ''
                });

                if (e) {
                  e.preventDefault();
                }

                _context.prev = 2;
                _context.next = 5;
                return this.props.onSubmit(this.state.update);

              case 5:
                this.setState({
                  modified: false,
                  loading: false
                });
                storage.set(this.storageKey, null);
                _context.next = 12;
                break;

              case 9:
                _context.prev = 9;
                _context.t0 = _context["catch"](2);
                this.setState({
                  loading: false,
                  error: _context.t0.message
                });

              case 12:
                return _context.abrupt("return", false);

              case 13:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[2, 9]]);
      }));

      function onSubmit(_x) {
        return _onSubmit.apply(this, arguments);
      }

      return onSubmit;
    }()
  }, {
    key: "render",
    value: function render() {
      var _this2 = this,
          _this$props$update;

      var collective = this.props.collective;
      var update = this.state.update;

      if (!this._isMounted) {
        return /*#__PURE__*/(0,jsx_runtime.jsx)("div", {});
      }

      return /*#__PURE__*/(0,jsx_runtime.jsx)(UpdateFormWrapper, {
        className: "EditUpdateForm ".concat(this.props.mode),
        children: /*#__PURE__*/(0,jsx_runtime.jsxs)("form", {
          "data-cy": "edit-update-form",
          onSubmit: this.onSubmit,
          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
            margin: "auto 0",
            children: /*#__PURE__*/(0,jsx_runtime.jsxs)(Container/* default */.Z, {
              width: 1,
              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
                mb: 2,
                mt: 2,
                fontWeight: "500",
                fontSize: "1.6rem",
                lineHeight: "1.7",
                children: /*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Box */.xu, {
                  as: "span",
                  children: "Title"
                })
              }), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledInputField/* default */.Z, {
                htmlFor: "title",
                children: function children(inputProps) {
                  return /*#__PURE__*/(0,jsx_runtime.jsx)(StyledInput/* default */.ZP, _objectSpread(_objectSpread({}, inputProps), {}, {
                    type: "text",
                    value: update.title,
                    onChange: function onChange(e) {
                      return _this2.handleChange('title', e.target.value);
                    },
                    width: "100%",
                    maxWidth: "40em",
                    placeHolder: "Normal",
                    maxLength: 250,
                    "data-cy": "titleInput",
                    required: true
                  }));
                }
              })]
            })
          }), /*#__PURE__*/(0,jsx_runtime.jsxs)(Container/* default */.Z, {
            width: 1,
            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
              fontWeight: "500",
              mb: 2,
              mt: 3,
              fontSize: "1.6rem",
              lineHeight: "1.7",
              children: /*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Box */.xu, {
                as: "span",
                children: "Message"
              })
            }), /*#__PURE__*/(0,jsx_runtime.jsx)(RichTextEditor["default"], {
              kind: "UPDATE",
              onChange: function onChange(e) {
                return _this2.handleChange('html', e.target.value);
              },
              defaultValue: update.html,
              editorMinHeight: 300,
              editorMaxHeight: 600,
              withBorders: true,
              "data-cy": "update-content-editor",
              videoEmbedEnabled: true,
              setUploading: function setUploading(uploading) {
                return _this2.setState({
                  uploading: uploading
                });
              }
            })]
          }), (!collective.isHost || update.isPrivate) && !this.props.isChangelog && /*#__PURE__*/(0,jsx_runtime.jsxs)(Container/* default */.Z, {
            mb: 2,
            display: "flex",
            justifyContent: "space-between",
            alignItems: "center",
            minHeight: 75,
            flexWrap: ['wrap', 'nowrap'],
            px: 2,
            children: [!collective.isHost && /*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Box */.xu, {
              mt: 3,
              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(StyledCheckbox/* default */.Z, {
                defaultChecked: update.isPrivate,
                name: "private",
                size: "16px",
                label: "Private update",
                onChange: function onChange(isPrivate) {
                  return _this2.handleChange('isPrivate', isPrivate.checked);
                }
              }), /*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
                ml: "25px",
                fontSize: "12px",
                color: "#71757A",
                mt: 1,
                children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                  id: "YG0Ra/",
                  defaultMessage: [{
                    "type": 0,
                    "value": "Check this to limit access to the content of this update to contributors only"
                  }]
                })
              })]
            }), update.isPrivate && /*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Box */.xu, {
              mt: 3,
              ml: 2,
              minWidth: 280,
              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
                as: "label",
                htmlFor: "makePublicOn",
                fontWeight: "normal",
                fontSize: "14px",
                color: "black.900",
                mb: 2,
                children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                  id: "update.makePublicOn.label",
                  defaultMessage: [{
                    "type": 0,
                    "value": "Automatically make public on this date"
                  }]
                })
              }), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledInputField/* default */.Z, {
                htmlFor: "makePublicOn",
                children: function children(inputProps) {
                  return /*#__PURE__*/(0,jsx_runtime.jsx)(StyledInput/* default */.ZP, _objectSpread(_objectSpread({}, inputProps), {}, {
                    type: "date",
                    defaultValue: update.makePublicOn ? (0,date_utils/* toIsoDateStr */.fM)(new Date(update.makePublicOn)) : '',
                    onChange: function onChange(e) {
                      return _this2.tryUpdateDate('makePublicOn', e.target.value);
                    },
                    width: "100%",
                    maxWidth: "40em"
                  }));
                }
              })]
            })]
          }), /*#__PURE__*/(0,jsx_runtime.jsx)(ActionButtonWrapper, {
            mx: 2,
            my: 4,
            children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledButton/* default */.Z, {
              "data-cy": "edit-update-submit-btn",
              className: "bluewhite",
              buttonSize: "large",
              buttonStyle: "primary",
              type: "submit",
              disabled: this.state.loading || this.state.uploading || !this.state.update.title || !this.state.update.html,
              children: this.state.loading ? /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                id: "form.processing",
                defaultMessage: [{
                  "type": 0,
                  "value": "processing"
                }]
              }) : this.state.uploading ? /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                id: "uploadImage.isUploading",
                defaultMessage: [{
                  "type": 0,
                  "value": "Uploading image..."
                }]
              }) : (_this$props$update = this.props.update) !== null && _this$props$update !== void 0 && _this$props$update.publishedAt ? /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                id: "save",
                defaultMessage: [{
                  "type": 0,
                  "value": "Save"
                }]
              }) : /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                id: "update.new.preview",
                defaultMessage: [{
                  "type": 0,
                  "value": "Preview Update"
                }]
              })
            })
          }), /*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
            margin: "auto 0",
            children: /*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
              width: 1,
              children: this.state.error && /*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
                style: {
                  color: 'red'
                },
                children: this.state.error
              })
            })
          })]
        })
      });
    }
  }]);

  return EditUpdateForm;
}(react.Component);

EditUpdateForm.__docgenInfo = {
  "description": "",
  "methods": [{
    "name": "tryUpdateDate",
    "docblock": null,
    "modifiers": [],
    "params": [{
      "name": "attr",
      "type": null
    }, {
      "name": "value",
      "type": null
    }],
    "returns": null
  }, {
    "name": "handleChange",
    "docblock": null,
    "modifiers": [],
    "params": [{
      "name": "attr",
      "type": null
    }, {
      "name": "value",
      "type": null
    }],
    "returns": null
  }, {
    "name": "onSubmit",
    "docblock": null,
    "modifiers": ["async"],
    "params": [{
      "name": "e",
      "type": null
    }],
    "returns": null
  }],
  "displayName": "EditUpdateForm",
  "props": {
    "collective": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": false
    },
    "update": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": false
    },
    "isChangelog": {
      "description": "",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "LoggedInUser": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": false
    },
    "onSubmit": {
      "description": "",
      "type": {
        "name": "func"
      },
      "required": false
    },
    "onChange": {
      "description": "",
      "type": {
        "name": "func"
      },
      "required": false
    },
    "mode": {
      "description": "",
      "type": {
        "name": "string"
      },
      "required": false
    }
  }
};
/* harmony default export */ var components_EditUpdateForm = (EditUpdateForm);

/***/ }),

/***/ 37169:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "Z": function() { return /* binding */ components_StyledUpdate; }
});

// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/taggedTemplateLiteral.js
var taggedTemplateLiteral = __webpack_require__(92358);
var taggedTemplateLiteral_default = /*#__PURE__*/__webpack_require__.n(taggedTemplateLiteral);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/objectWithoutProperties.js
var objectWithoutProperties = __webpack_require__(3323);
var objectWithoutProperties_default = /*#__PURE__*/__webpack_require__.n(objectWithoutProperties);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/asyncToGenerator.js
var asyncToGenerator = __webpack_require__(49376);
var asyncToGenerator_default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/classCallCheck.js
var classCallCheck = __webpack_require__(33227);
var classCallCheck_default = /*#__PURE__*/__webpack_require__.n(classCallCheck);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/createClass.js
var createClass = __webpack_require__(88361);
var createClass_default = /*#__PURE__*/__webpack_require__.n(createClass);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/assertThisInitialized.js
var assertThisInitialized = __webpack_require__(92191);
var assertThisInitialized_default = /*#__PURE__*/__webpack_require__.n(assertThisInitialized);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/inherits.js
var inherits = __webpack_require__(85971);
var inherits_default = /*#__PURE__*/__webpack_require__.n(inherits);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/possibleConstructorReturn.js
var possibleConstructorReturn = __webpack_require__(52715);
var possibleConstructorReturn_default = /*#__PURE__*/__webpack_require__.n(possibleConstructorReturn);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/getPrototypeOf.js
var getPrototypeOf = __webpack_require__(91193);
var getPrototypeOf_default = /*#__PURE__*/__webpack_require__.n(getPrototypeOf);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/defineProperty.js
var defineProperty = __webpack_require__(930);
var defineProperty_default = /*#__PURE__*/__webpack_require__.n(defineProperty);
// EXTERNAL MODULE: ./node_modules/lodash/get.js
var get = __webpack_require__(27361);
var get_default = /*#__PURE__*/__webpack_require__.n(get);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/regenerator/index.js
var regenerator = __webpack_require__(87794);
var regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
// EXTERNAL MODULE: ./node_modules/graphql-tag/lib/index.js + 13 modules
var lib = __webpack_require__(15020);
// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hoc/graphql.js + 7 modules
var graphql = __webpack_require__(16608);
// EXTERNAL MODULE: ./node_modules/@styled-icons/fa-solid/Lock/Lock.esm.js
var Lock_esm = __webpack_require__(30742);
// EXTERNAL MODULE: ./node_modules/next/router.js
var router = __webpack_require__(11163);
// EXTERNAL MODULE: ./node_modules/react-intl/lib/index.js + 3 modules
var react_intl_lib = __webpack_require__(59448);
// EXTERNAL MODULE: ./node_modules/react-intl/lib/src/components/message.js
var message = __webpack_require__(44012);
// EXTERNAL MODULE: ./node_modules/react-intl/lib/src/components/injectIntl.js
var injectIntl = __webpack_require__(74806);
// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js + 3 modules
var styled_components_browser_esm = __webpack_require__(52015);
// EXTERNAL MODULE: ./node_modules/styled-system/dist/index.esm.js + 11 modules
var index_esm = __webpack_require__(16678);
// EXTERNAL MODULE: ./lib/allowed-features.js
var allowed_features = __webpack_require__(99708);
// EXTERNAL MODULE: ./lib/graphql/helpers.js
var helpers = __webpack_require__(32651);
// EXTERNAL MODULE: ./lib/url-helpers.js
var url_helpers = __webpack_require__(25896);
// EXTERNAL MODULE: ./lib/utils.js
var utils = __webpack_require__(97079);
// EXTERNAL MODULE: ./components/conversations/EmojiReactionPicker.js + 1 modules
var EmojiReactionPicker = __webpack_require__(23737);
// EXTERNAL MODULE: ./components/conversations/EmojiReactions.js
var EmojiReactions = __webpack_require__(953);
// EXTERNAL MODULE: ./components/Avatar.tsx
var Avatar = __webpack_require__(11194);
// EXTERNAL MODULE: ./components/Container.tsx
var Container = __webpack_require__(69078);
// EXTERNAL MODULE: ./components/EditUpdateForm.js + 1 modules
var EditUpdateForm = __webpack_require__(4666);
// EXTERNAL MODULE: ./components/Grid.ts
var Grid = __webpack_require__(16159);
// EXTERNAL MODULE: ./components/HTMLContent.js
var HTMLContent = __webpack_require__(74770);
// EXTERNAL MODULE: ./components/I18nFormatters.js
var I18nFormatters = __webpack_require__(88705);
// EXTERNAL MODULE: ./components/Link.js
var Link = __webpack_require__(92129);
// EXTERNAL MODULE: ./components/LinkCollective.js
var LinkCollective = __webpack_require__(97619);
// EXTERNAL MODULE: ./components/LoadingPlaceholder.tsx
var LoadingPlaceholder = __webpack_require__(29242);
// EXTERNAL MODULE: ./components/MessageBox.tsx + 2 modules
var MessageBox = __webpack_require__(86702);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/slicedToArray.js
var slicedToArray = __webpack_require__(85696);
var slicedToArray_default = /*#__PURE__*/__webpack_require__.n(slicedToArray);
// EXTERNAL MODULE: ./node_modules/@apollo/client/index.js
var client = __webpack_require__(46829);
// EXTERNAL MODULE: ./node_modules/react-intl/lib/src/components/useIntl.js
var useIntl = __webpack_require__(86896);
// EXTERNAL MODULE: ./lib/errors/index.js + 1 modules
var errors = __webpack_require__(12136);
// EXTERNAL MODULE: ./node_modules/lodash/sum.js
var sum = __webpack_require__(12297);
var sum_default = /*#__PURE__*/__webpack_require__.n(sum);
// EXTERNAL MODULE: ./node_modules/lodash/pickBy.js
var pickBy = __webpack_require__(35937);
var pickBy_default = /*#__PURE__*/__webpack_require__.n(pickBy);
// EXTERNAL MODULE: ./node_modules/lodash/pick.js
var pick = __webpack_require__(78718);
var pick_default = /*#__PURE__*/__webpack_require__.n(pick);
// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(85893);
;// CONCATENATED MODULE: ./components/updates/UpdateAudienceBreakdown.js









var translatedTypes = (0,react_intl_lib.defineMessages)({
  individuals: {
    id: "AudienceBreakdown.individuals",
    defaultMessage: [{
      "type": 1,
      "value": "count"
    }, {
      "type": 0,
      "value": " "
    }, {
      "type": 6,
      "value": "count",
      "options": {
        "one": {
          "value": [{
            "type": 0,
            "value": "individual"
          }]
        },
        "other": {
          "value": [{
            "type": 0,
            "value": "individuals"
          }]
        }
      },
      "offset": 0,
      "pluralType": "cardinal"
    }]
  },
  organizations: {
    id: "AudienceBreakdown.organizationAdmins",
    defaultMessage: [{
      "type": 0,
      "value": "The admins of "
    }, {
      "type": 1,
      "value": "count"
    }, {
      "type": 0,
      "value": " "
    }, {
      "type": 6,
      "value": "count",
      "options": {
        "one": {
          "value": [{
            "type": 0,
            "value": "organization"
          }]
        },
        "other": {
          "value": [{
            "type": 0,
            "value": "organizations"
          }]
        }
      },
      "offset": 0,
      "pluralType": "cardinal"
    }]
  },
  collectives: {
    id: "AudienceBreakdown.collectiveAdmins",
    defaultMessage: [{
      "type": 0,
      "value": "The admins of "
    }, {
      "type": 1,
      "value": "count"
    }, {
      "type": 0,
      "value": " "
    }, {
      "type": 6,
      "value": "count",
      "options": {
        "one": {
          "value": [{
            "type": 0,
            "value": "collective"
          }]
        },
        "other": {
          "value": [{
            "type": 0,
            "value": "collectives"
          }]
        }
      },
      "offset": 0,
      "pluralType": "cardinal"
    }]
  },
  hosted: {
    id: "AudienceBreakdown.hostedAdmins",
    defaultMessage: [{
      "type": 0,
      "value": "The admins of "
    }, {
      "type": 1,
      "value": "count"
    }, {
      "type": 0,
      "value": " "
    }, {
      "type": 6,
      "value": "count",
      "options": {
        "one": {
          "value": [{
            "type": 0,
            "value": "hosted account"
          }]
        },
        "other": {
          "value": [{
            "type": 0,
            "value": "hosted accounts"
          }]
        }
      },
      "offset": 0,
      "pluralType": "cardinal"
    }]
  },
  coreContributors: {
    id: "AudienceBreakdown.coreContributors",
    defaultMessage: [{
      "type": 1,
      "value": "count"
    }, {
      "type": 0,
      "value": " "
    }, {
      "type": 6,
      "value": "count",
      "options": {
        "one": {
          "value": [{
            "type": 0,
            "value": "core contributor"
          }]
        },
        "other": {
          "value": [{
            "type": 0,
            "value": "core contributors"
          }]
        }
      },
      "offset": 0,
      "pluralType": "cardinal"
    }]
  }
});

var UpdateAudienceBreakdown = function UpdateAudienceBreakdown(_ref) {
  var audienceStats = _ref.audienceStats,
      isLoading = _ref.isLoading;
  var intl = (0,useIntl/* default */.Z)();

  if (isLoading) {
    return /*#__PURE__*/(0,jsx_runtime.jsx)(LoadingPlaceholder/* default */.Z, {
      height: 50
    });
  } else if (!audienceStats || audienceStats !== null && audienceStats !== void 0 && audienceStats.id.includes('NO_ONE')) {
    return /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
      id: "qzsw+D",
      defaultMessage: [{
        "type": 0,
        "value": "Your Update will not be sent to anyone."
      }]
    });
  }

  var typesWithStats = Object.keys(translatedTypes);

  var stats = pickBy_default()(audienceStats, function (value, key) {
    return value && typesWithStats.includes(key);
  });

  var hasOnlyTotal = !sum_default()(Object.values(pick_default()(audienceStats, ['collectives', 'hosted', 'individuals', 'organizations', 'coreContributors'])));
  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
    "data-cy": "update-audience-breakdown",
    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
      id: "UpdateAudienceBreakdown.Total",
      defaultMessage: [{
        "type": 0,
        "value": "Your Update will be sent to a total of "
      }, {
        "type": 1,
        "value": "count"
      }, {
        "type": 0,
        "value": " emails"
      }],
      values: {
        count: audienceStats.total
      }
    }), hasOnlyTotal ? '.' : ':', !hasOnlyTotal && /*#__PURE__*/(0,jsx_runtime.jsx)("ul", {
      children: Object.entries(stats).map(function (_ref2) {
        var _ref3 = slicedToArray_default()(_ref2, 2),
            key = _ref3[0],
            count = _ref3[1];

        return /*#__PURE__*/(0,jsx_runtime.jsx)("li", {
          children: intl.formatMessage(translatedTypes[key], {
            count: count
          })
        }, key);
      })
    })]
  });
};

UpdateAudienceBreakdown.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "UpdateAudienceBreakdown",
  "props": {
    "isLoading": {
      "description": "",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "audienceStats": {
      "description": "",
      "type": {
        "name": "shape",
        "value": {
          "id": {
            "name": "string",
            "required": false
          },
          "total": {
            "name": "number",
            "required": false
          },
          "hosted": {
            "name": "number",
            "required": false
          },
          "individuals": {
            "name": "number",
            "required": false
          },
          "organizations": {
            "name": "number",
            "required": false
          },
          "collectives": {
            "name": "number",
            "required": false
          },
          "coreContributors": {
            "name": "number",
            "required": false
          }
        }
      },
      "required": false
    }
  }
};
/* harmony default export */ var updates_UpdateAudienceBreakdown = (UpdateAudienceBreakdown);
// EXTERNAL MODULE: ./components/ConfirmationModal.js
var ConfirmationModal = __webpack_require__(47988);
// EXTERNAL MODULE: ./components/StyledButton.tsx
var StyledButton = __webpack_require__(87268);
// EXTERNAL MODULE: ./components/StyledSelect.tsx
var StyledSelect = __webpack_require__(66943);
// EXTERNAL MODULE: ./components/Text.ts
var Text = __webpack_require__(90998);
// EXTERNAL MODULE: ./components/ToastProvider.tsx
var ToastProvider = __webpack_require__(31330);
;// CONCATENATED MODULE: ./components/PublishUpdateBtnWithData.js





var _templateObject, _templateObject2;


















var publishUpdateMutation = (0,lib/* default */.ZP)(_templateObject || (_templateObject = taggedTemplateLiteral_default()(["\n  mutation PublishUpdate($id: String!, $audience: UpdateAudience) {\n    publishUpdate(id: $id, notificationAudience: $audience) {\n      id\n      publishedAt\n      notificationAudience\n      userCanPublishUpdate\n    }\n  }\n"])));
var updateQuery = (0,lib/* default */.ZP)(_templateObject2 || (_templateObject2 = taggedTemplateLiteral_default()(["\n  query Update($id: String!, $audience: UpdateAudience) {\n    update(id: $id) {\n      id\n      userCanPublishUpdate\n      publishedAt\n      isPrivate\n      makePublicOn\n      audienceStats(audience: $audience) {\n        id\n        total\n        hosted\n        individuals\n        organizations\n        collectives\n        coreContributors\n      }\n      account {\n        id\n        isHost\n      }\n    }\n  }\n"])));
var Notice = styled_components_browser_esm/* default.div.withConfig */.ZP.div.withConfig({
  displayName: "PublishUpdateBtnWithData__Notice",
  componentId: "sc-1uaftca-0"
})(["color:", ";font-size:13px;margin-top:8px;"], function (props) {
  return props.theme.colors.black[700];
});
var StyledPublishUpdateBtn = styled_components_browser_esm/* default.div.withConfig */.ZP.div.withConfig({
  displayName: "PublishUpdateBtnWithData__StyledPublishUpdateBtn",
  componentId: "sc-1uaftca-1"
})(["display:flex;align-items:center;border-top:1px solid #e8e9eb;margin-top:32px;"]);
var selectOptions = [{
  label: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
    id: "Update.notify.everyone",
    defaultMessage: [{
      "type": 0,
      "value": "Everyone"
    }]
  }),
  value: 'ALL'
}, {
  label: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
    id: "ContributorsFilter.Financial",
    defaultMessage: [{
      "type": 0,
      "value": "Financial contributors"
    }]
  }),
  value: 'FINANCIAL_CONTRIBUTORS'
}, {
  label: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
    id: "Update.notify.hostedCollectiveAdmins",
    defaultMessage: [{
      "type": 0,
      "value": "Hosted collective's admins"
    }]
  }),
  value: 'COLLECTIVE_ADMINS'
}, {
  label: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
    id: "tcxpLX",
    defaultMessage: [{
      "type": 0,
      "value": "No one"
    }]
  }),
  value: 'NO_ONE'
}];

var PublishUpdateBtn = function PublishUpdateBtn(_ref) {
  var id = _ref.id,
      isHost = _ref.isHost,
      isChangelog = _ref.isChangelog;
  var intl = (0,useIntl/* default */.Z)();

  var _React$useState = react.useState('ALL'),
      _React$useState2 = slicedToArray_default()(_React$useState, 2),
      audience = _React$useState2[0],
      setAudience = _React$useState2[1];

  var _React$useState3 = react.useState(false),
      _React$useState4 = slicedToArray_default()(_React$useState3, 2),
      showModal = _React$useState4[0],
      setShowModal = _React$useState4[1];

  var _useToasts = (0,ToastProvider/* useToasts */.e1)(),
      addToast = _useToasts.addToast;

  var _useQuery = (0,client.useQuery)(updateQuery, {
    context: helpers/* API_V2_CONTEXT */.T,
    variables: {
      id: id,
      audience: audience
    }
  }),
      data = _useQuery.data,
      loading = _useQuery.loading;

  var _useMutation = (0,client.useMutation)(publishUpdateMutation, {
    context: helpers/* API_V2_CONTEXT */.T
  }),
      _useMutation2 = slicedToArray_default()(_useMutation, 2),
      callPublishUpdate = _useMutation2[0],
      isSubmitting = _useMutation2[1].loading;

  var update = get_default()(data, 'update');

  return /*#__PURE__*/(0,jsx_runtime.jsx)(StyledPublishUpdateBtn, {
    "data-cy": "PublishUpdateBtn",
    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(Container/* default */.Z, {
      mt: "4",
      mb: "5",
      display: "flex",
      flexDirection: "column",
      alignItems: "left",
      width: "100%",
      maxWidth: 400,
      children: [(isHost || get_default()(update, 'account.isHost')) && /*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Box */.xu, {
        mb: 2,
        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Text/* Label */.__, {
          htmlFor: "whoToNotify",
          mb: 2,
          children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
            id: "update.publish.notify.selection",
            defaultMessage: [{
              "type": 0,
              "value": "Select who should be notified"
            }]
          })
        }), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledSelect/* default */.ZP, {
          inputId: "whoToNotify",
          options: selectOptions,
          value: selectOptions.find(function (_ref2) {
            var value = _ref2.value;
            return value === audience;
          }),
          onChange: function onChange(_ref3) {
            var value = _ref3.value;
            return setAudience(value);
          },
          isSearchable: false,
          maxWidth: 300
        })]
      }), !isChangelog && /*#__PURE__*/(0,jsx_runtime.jsx)(Notice, {
        children: /*#__PURE__*/(0,jsx_runtime.jsx)(updates_UpdateAudienceBreakdown, {
          audienceStats: update === null || update === void 0 ? void 0 : update.audienceStats,
          isLoading: loading
        })
      }), showModal ? /*#__PURE__*/(0,jsx_runtime.jsx)(ConfirmationModal/* default */.Z, {
        onClose: function onClose() {
          return setShowModal(false);
        },
        continueLabel: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
          id: "update.publish.btn",
          defaultMessage: [{
            "type": 0,
            "value": "Publish"
          }]
        }),
        header: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
          id: "update.publish.modal.header",
          defaultMessage: [{
            "type": 0,
            "value": "Publish update"
          }]
        }),
        body: /*#__PURE__*/(0,jsx_runtime.jsx)(updates_UpdateAudienceBreakdown, {
          audienceStats: update === null || update === void 0 ? void 0 : update.audienceStats,
          isLoading: loading
        }),
        continueHandler: /*#__PURE__*/asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee() {
          return regenerator_default().wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  _context.prev = 0;
                  _context.next = 3;
                  return callPublishUpdate({
                    variables: {
                      id: id,
                      audience: audience
                    }
                  });

                case 3:
                  _context.next = 8;
                  break;

                case 5:
                  _context.prev = 5;
                  _context.t0 = _context["catch"](0);
                  addToast({
                    type: ToastProvider/* TOAST_TYPE.ERROR */["do"].ERROR,
                    message: (0,errors/* i18nGraphqlException */.t2)(intl, _context.t0)
                  });

                case 8:
                  _context.prev = 8;
                  setShowModal(false);
                  return _context.finish(8);

                case 11:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee, null, [[0, 5, 8, 11]]);
        }))
      }) : /*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
        mt: "3",
        display: "flex",
        alignItems: "center",
        children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledButton/* default */.Z, {
          buttonStyle: "primary",
          onClick: function onClick() {
            return isChangelog ? callPublishUpdate({
              variables: {
                id: id,
                audience: null
              }
            }) : setShowModal(true);
          },
          disabled: loading,
          loading: isSubmitting,
          minWidth: 100,
          "data-cy": "btn-publish",
          children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
            id: "update.publish.btn",
            defaultMessage: [{
              "type": 0,
              "value": "Publish"
            }]
          })
        })
      })]
    })
  });
};

PublishUpdateBtn.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "PublishUpdateBtn",
  "props": {
    "id": {
      "description": "",
      "type": {
        "name": "string"
      },
      "required": true
    },
    "isHost": {
      "description": "",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "isChangelog": {
      "description": "",
      "type": {
        "name": "bool"
      },
      "required": false
    }
  }
};
/* harmony default export */ var PublishUpdateBtnWithData = (PublishUpdateBtn);
// EXTERNAL MODULE: ./components/StyledHr.tsx
var StyledHr = __webpack_require__(173);
// EXTERNAL MODULE: ./components/StyledTag.js
var StyledTag = __webpack_require__(36422);
// EXTERNAL MODULE: ./components/StyledTooltip.js
var StyledTooltip = __webpack_require__(88609);
;// CONCATENATED MODULE: ./components/StyledUpdate.js














var StyledUpdate_templateObject, StyledUpdate_templateObject2;

var _excluded = ["update", "intl", "collective", "compact", "LoggedInUser"];

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { defineProperty_default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }



function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

































var UpdateWrapper = (0,styled_components_browser_esm/* default */.ZP)(Grid/* Flex */.kC).withConfig({
  displayName: "StyledUpdate__UpdateWrapper",
  componentId: "sc-1ciw1fp-0"
})(["max-width:100%;min-height:100px;padding:20px;", " img{max-width:100%;}@media (max-width:600px){max-width:100%;}"], index_esm/* borders */.Lz);
var PrivateUpdateMesgBox = (0,styled_components_browser_esm/* default */.ZP)(MessageBox/* default */.Z).withConfig({
  displayName: "StyledUpdate__PrivateUpdateMesgBox",
  componentId: "sc-1ciw1fp-1"
})(["height:40px;background:#f0f8ff;border:1px solid #b8deff;box-sizing:border-box;border-radius:6px;margin-top:10px;padding:10px;font-size:12px;color:#71757a;display:flex;align-items:center;"]);

var StyledUpdate = /*#__PURE__*/function (_Component) {
  inherits_default()(StyledUpdate, _Component);

  var _super = _createSuper(StyledUpdate);

  function StyledUpdate(props) {
    var _this;

    classCallCheck_default()(this, StyledUpdate);

    _this = _super.call(this, props);

    defineProperty_default()(assertThisInitialized_default()(_this), "cancelEdit", function () {
      _this.setState({
        modified: false,
        mode: 'details'
      });
    });

    defineProperty_default()(assertThisInitialized_default()(_this), "edit", function () {
      _this.setState({
        modified: false,
        mode: 'edit'
      });
    });

    defineProperty_default()(assertThisInitialized_default()(_this), "toggleEdit", function () {
      _this.state.mode === 'edit' ? _this.cancelEdit() : _this.edit();
    });

    defineProperty_default()(assertThisInitialized_default()(_this), "deleteUpdate", /*#__PURE__*/asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee() {
      return regenerator_default().wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              if (confirm('😱 Are you really sure you want to delete this update?')) {
                _context.next = 2;
                break;
              }

              return _context.abrupt("return");

            case 2:
              _context.prev = 2;
              _context.next = 5;
              return _this.props.deleteUpdate({
                variables: {
                  id: _this.props.update.id
                }
              });

            case 5:
              _this.props.router.push("/".concat(_this.props.collective.slug));

              _context.next = 11;
              break;

            case 8:
              _context.prev = 8;
              _context.t0 = _context["catch"](2);
              // TODO: this should be reported to the user
              // eslint-disable-next-line no-console
              console.error('Update -> deleteUpdate -> error: ', _context.t0);

            case 11:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[2, 8]]);
    })));

    defineProperty_default()(assertThisInitialized_default()(_this), "save", /*#__PURE__*/function () {
      var _ref2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee2(update) {
        return regenerator_default().wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                update.id = get_default()(_this.props, 'update.id');
                _context2.next = 3;
                return _this.props.editUpdate({
                  variables: {
                    update: update
                  }
                });

              case 3:
                _this.setState({
                  modified: false,
                  mode: 'details'
                });

              case 4:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2);
      }));

      return function (_x) {
        return _ref2.apply(this, arguments);
      };
    }());

    _this.state = {
      modified: false,
      update: {},
      mode: props.compact ? 'summary' : 'details'
    };
    _this.messages = (0,react_intl_lib.defineMessages)({
      edit: {
        id: "Edit",
        defaultMessage: [{
          "type": 0,
          "value": "Edit"
        }]
      },
      cancelEdit: {
        id: "CancelEdit",
        defaultMessage: [{
          "type": 0,
          "value": "Cancel edit"
        }]
      },
      viewLatestUpdates: {
        id: "update.viewLatestUpdates",
        defaultMessage: [{
          "type": 0,
          "value": "View latest updates"
        }]
      }
    });
    return _this;
  }

  createClass_default()(StyledUpdate, [{
    key: "renderUpdateMeta",
    value: function renderUpdateMeta(update, isAdmin, editable, isEditing) {
      var intl = this.props.intl;
      var mode = this.state.mode;
      var fromAccount = update.fromCollective || update.fromAccount;
      return /*#__PURE__*/(0,jsx_runtime.jsxs)(Container/* default */.Z, {
        display: "flex",
        alignItems: "Baseline",
        color: "black.700",
        "data-cy": "meta",
        flexWrap: "wrap",
        children: [!isEditing && isAdmin && /*#__PURE__*/(0,jsx_runtime.jsx)(StyledTag/* default */.Z, {
          fontSize: "11px",
          mr: 2,
          children: update.isPrivate ? /*#__PURE__*/(0,jsx_runtime.jsxs)(StyledTooltip/* default */.Z, {
            id: "privateLockText",
            content: function content() {
              return update.makePublicOn && !update.publishedAt ? /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                id: "3/51OL",
                defaultMessage: [{
                  "type": 0,
                  "value": "Will be made public on "
                }, {
                  "type": 3,
                  "value": "date",
                  "style": "short"
                }],
                values: {
                  date: new Date(update.makePublicOn)
                }
              }) : /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                id: "update.private.lock_text",
                defaultMessage: [{
                  "type": 0,
                  "value": "This update is for contributors only"
                }]
              });
            },
            children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Flex */.kC, {
              alignItems: "center",
              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Box */.xu, {
                mr: 2,
                children: /*#__PURE__*/(0,jsx_runtime.jsx)(Lock_esm/* Lock */.H, {
                  "data-tip": true,
                  "data-for": "privateLockText",
                  "data-cy": "privateIcon",
                  size: 10,
                  cursor: "pointer"
                })
              }), /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                id: "yYP4Lw",
                defaultMessage: [{
                  "type": 0,
                  "value": "Private update"
                }]
              })]
            }), ' ']
          }) : /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
            id: "BSPPvm",
            defaultMessage: [{
              "type": 0,
              "value": "Public update"
            }]
          })
        }), update.publishedAt ? /*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Box */.xu, {
          as: "span",
          mr: 1,
          fontSize: "12px",
          children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
            id: "update.publishedAtBy",
            defaultMessage: [{
              "type": 0,
              "value": "Published on "
            }, {
              "type": 1,
              "value": "date"
            }, {
              "type": 0,
              "value": " by "
            }, {
              "type": 1,
              "value": "author"
            }],
            values: {
              date: (0,utils/* formatDate */.p6)(update.publishedAt, {
                day: 'numeric',
                month: 'long',
                year: 'numeric'
              }),
              author: /*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Box */.xu, {
                as: "span",
                mr: 2,
                fontSize: "12px",
                children: /*#__PURE__*/(0,jsx_runtime.jsx)(LinkCollective/* default */.Z, {
                  collective: fromAccount
                })
              })
            }
          })
        }) : /*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Box */.xu, {
          as: "span",
          mr: 1,
          fontSize: "12px",
          children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
            id: "update.createdAtBy",
            defaultMessage: [{
              "type": 0,
              "value": "Created on "
            }, {
              "type": 1,
              "value": "date"
            }, {
              "type": 0,
              "value": " (draft) by "
            }, {
              "type": 1,
              "value": "author"
            }],
            values: {
              date: (0,utils/* formatDate */.p6)(update.createdAt),
              author: /*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Box */.xu, {
                as: "span",
                mr: 2,
                fontSize: "12px",
                children: /*#__PURE__*/(0,jsx_runtime.jsx)(LinkCollective/* default */.Z, {
                  collective: fromAccount
                })
              })
            }
          })
        }), editable && /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {
          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Box */.xu, {
            ml: 2,
            mr: 2,
            fontSize: "12px",
            children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledButton/* default */.Z, {
              buttonSize: "tiny",
              onClick: this.toggleEdit,
              "data-cy": "toggleEditUpdate",
              children: intl.formatMessage(this.messages["".concat(mode === 'edit' ? 'cancelEdit' : 'edit')])
            })
          }), !isEditing && /*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Box */.xu, {
            mr: 2,
            fontSize: "12px",
            children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledButton/* default */.Z, {
              buttonSize: "tiny",
              onClick: this.deleteUpdate,
              children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
                id: "actions.delete",
                defaultMessage: [{
                  "type": 0,
                  "value": "Delete"
                }]
              })
            })
          })]
        })]
      });
    }
  }, {
    key: "renderUpdateTitle",
    value: function renderUpdateTitle() {
      var _this$props = this.props,
          update = _this$props.update,
          collective = _this$props.collective;
      var mode = this.state.mode;

      if (mode === 'summary') {
        return /*#__PURE__*/(0,jsx_runtime.jsx)(Link/* default */.Z, {
          href: "".concat((0,url_helpers/* getCollectivePageRoute */.x0)(collective), "/updates/").concat(update.slug),
          children: /*#__PURE__*/(0,jsx_runtime.jsx)(Text.H5, {
            "data-cy": "updateTitle",
            children: update.title
          })
        });
      } else {
        return /*#__PURE__*/(0,jsx_runtime.jsx)(Text.H5, {
          "data-cy": "updateTitle",
          mb: 2,
          children: update.title
        });
      }
    }
  }, {
    key: "renderSummary",
    value: function renderSummary(update) {
      var _this$props2 = this.props,
          collective = _this$props2.collective,
          isReloadingData = _this$props2.isReloadingData;
      return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {
        children: [update.userCanSeeUpdate && /*#__PURE__*/(0,jsx_runtime.jsx)(_StyledContainer, {
          mb: 2,
          pl: [0, 60],
          fontSize: "14px",
          color: "#4B4E52",
          dangerouslySetInnerHTML: {
            __html: update.summary
          }
        }), !update.userCanSeeUpdate && !isReloadingData && /*#__PURE__*/(0,jsx_runtime.jsx)(PrivateUpdateMesgBox, {
          type: "info",
          "data-cy": "mesgBox",
          children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
            id: "update.private.cannot_view_message",
            defaultMessage: [{
              "type": 0,
              "value": "Contribute to "
            }, {
              "type": 1,
              "value": "collective"
            }, {
              "type": 0,
              "value": " to see this Update"
            }],
            values: {
              collective: collective.name
            }
          })
        })]
      });
    }
  }, {
    key: "renderFullContent",
    value: function renderFullContent() {
      var _update$account;

      var _this$props3 = this.props,
          update = _this$props3.update,
          collective = _this$props3.collective,
          isReloadingData = _this$props3.isReloadingData,
          reactions = _this$props3.reactions,
          LoggedInUser = _this$props3.LoggedInUser;
      return /*#__PURE__*/(0,jsx_runtime.jsxs)(_StyledContainer2, {
        pl: [0, 60],
        maxWidth: 718,
        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(StyledHr/* default */.Z, {
          mt: 3,
          mb: 4,
          borderColor: "black.100"
        }), update.html ? /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {
          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(HTMLContent/* default */.Z, {
            content: update.html
          }), update.publishedAt && /*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Flex */.kC, {
            mt: 3,
            flexWrap: "wrap",
            "data-cy": "update-reactions",
            children: [reactions && /*#__PURE__*/(0,jsx_runtime.jsx)(EmojiReactions/* default */.Z, {
              reactions: reactions
            }), LoggedInUser && /*#__PURE__*/(0,jsx_runtime.jsx)(EmojiReactionPicker/* default */.Z, {
              update: update
            })]
          })]
        }) : !update.userCanSeeUpdate && !isReloadingData ? /*#__PURE__*/(0,jsx_runtime.jsx)(PrivateUpdateMesgBox, {
          type: "info",
          "data-cy": "mesgBox",
          children: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
            id: "update.private.cannot_view_message",
            defaultMessage: [{
              "type": 0,
              "value": "Contribute to "
            }, {
              "type": 1,
              "value": "collective"
            }, {
              "type": 0,
              "value": " to see this Update"
            }],
            values: {
              collective: collective.name
            }
          })
        }) : isReloadingData ? /*#__PURE__*/(0,jsx_runtime.jsx)(LoadingPlaceholder/* default */.Z, {
          height: 300
        }) : null, collective.isFrozen ? /*#__PURE__*/(0,jsx_runtime.jsxs)(MessageBox/* default */.Z, {
          withIcon: true,
          type: "warning",
          mt: 3,
          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
            id: "qstjb6",
            defaultMessage: [{
              "type": 0,
              "value": "This account is currently frozen and cannot be used to publish updates."
            }]
          }), ' ', (0,allowed_features/* isFeatureEnabled */.cr)(collective.host, allowed_features/* FEATURES.CONTACT_FORM */.h6.CONTACT_FORM) && /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.Z, {
            id: "KxBiJC",
            defaultMessage: [{
              "type": 0,
              "value": "Please "
            }, {
              "type": 8,
              "value": "ContactLink",
              "children": [{
                "type": 0,
                "value": "contact"
              }]
            }, {
              "type": 0,
              "value": " your fiscal host for more details."
            }],
            values: {
              ContactLink: (0,I18nFormatters/* getI18nLink */.fw)({
                href: "".concat((0,url_helpers/* getCollectivePageRoute */.x0)(collective.host), "/contact")
              })
            }
          })]
        }) : update.userCanPublishUpdate ? /*#__PURE__*/(0,jsx_runtime.jsx)(PublishUpdateBtnWithData, {
          id: update.id,
          isHost: Boolean((_update$account = update.account) === null || _update$account === void 0 ? void 0 : _update$account.isHost),
          isChangelog: update.isChangelog,
          isPrivate: update.isPrivate
        }) : null]
      });
    }
  }, {
    key: "renderEditUpdateForm",
    value: function renderEditUpdateForm() {
      var _this$props4 = this.props,
          collective = _this$props4.collective,
          update = _this$props4.update;
      return /*#__PURE__*/(0,jsx_runtime.jsxs)(Container/* default */.Z, {
        display: "flex",
        flexDirection: "column",
        flex: "1 1",
        maxWidth: 700,
        flexWrap: "wrap",
        children: [this.renderUpdateMeta(update, true, true, true), /*#__PURE__*/(0,jsx_runtime.jsx)(EditUpdateForm/* default */.Z, {
          collective: collective,
          update: update,
          onSubmit: this.save,
          isChangelog: update.isChangelog
        })]
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props5 = this.props,
          update = _this$props5.update,
          intl = _this$props5.intl,
          collective = _this$props5.collective,
          compact = _this$props5.compact,
          LoggedInUser = _this$props5.LoggedInUser,
          props = objectWithoutProperties_default()(_this$props5, _excluded);

      var mode = this.state.mode;
      var canEditUpdate = LoggedInUser && LoggedInUser.canEditUpdate(update);
      var editable = !compact && props.editable && canEditUpdate;
      var fromAccount = update.fromCollective || update.fromAccount;
      return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {
        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(UpdateWrapper, _objectSpread(_objectSpread({}, props), {}, {
          children: [mode !== 'edit' && /*#__PURE__*/(0,jsx_runtime.jsxs)(Container/* default */.Z, {
            width: "100%",
            children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Flex */.kC, {
              mb: 2,
              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
                mr: 20,
                children: /*#__PURE__*/(0,jsx_runtime.jsx)(LinkCollective/* default */.Z, {
                  collective: fromAccount,
                  children: /*#__PURE__*/(0,jsx_runtime.jsx)(Avatar/* default */.ZP, {
                    collective: fromAccount,
                    radius: 40
                  })
                })
              }), /*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Box */.xu, {
                children: [this.renderUpdateTitle(), this.renderUpdateMeta(update, canEditUpdate, editable)]
              })]
            }), mode === 'summary' && this.renderSummary(update), mode === 'details' && this.renderFullContent()]
          }), mode === 'edit' && this.renderEditUpdateForm()]
        })), update.publishedAt && mode === 'details' && /*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Flex */.kC, {
          my: 3,
          justifyContent: ['center', 'flex-start'],
          children: /*#__PURE__*/(0,jsx_runtime.jsx)(Link/* default */.Z, {
            href: "".concat((0,url_helpers/* getCollectivePageRoute */.x0)(collective), "/updates"),
            children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledButton/* default */.Z, {
              ml: [0, 5],
              children: intl.formatMessage(this.messages['viewLatestUpdates'])
            })
          })
        })]
      });
    }
  }]);

  return StyledUpdate;
}(react.Component);

var editUpdateMutation = (0,lib/* default */.ZP)(StyledUpdate_templateObject || (StyledUpdate_templateObject = taggedTemplateLiteral_default()(["\n  mutation EditUpdate($update: UpdateUpdateInput!) {\n    editUpdate(update: $update) {\n      id\n      updatedAt\n      title\n      html\n      isPrivate\n      isChangelog\n      makePublicOn\n      userCanPublishUpdate\n    }\n  }\n"])));
var deleteUpdateMutation = (0,lib/* default */.ZP)(StyledUpdate_templateObject2 || (StyledUpdate_templateObject2 = taggedTemplateLiteral_default()(["\n  mutation DeleteUpdate($id: String!) {\n    deleteUpdate(id: $id) {\n      id\n    }\n  }\n"])));
var addEditUpdateMutation = (0,graphql/* graphql */.B)(editUpdateMutation, {
  name: 'editUpdate',
  options: {
    context: helpers/* API_V2_CONTEXT */.T
  }
});
var addDeleteUpdateMutation = (0,graphql/* graphql */.B)(deleteUpdateMutation, {
  name: 'deleteUpdate',
  options: {
    context: helpers/* API_V2_CONTEXT */.T
  }
});
var addGraphql = (0,utils/* compose */.qC)(addEditUpdateMutation, addDeleteUpdateMutation);
StyledUpdate.__docgenInfo = {
  "description": "",
  "methods": [{
    "name": "cancelEdit",
    "docblock": null,
    "modifiers": [],
    "params": [],
    "returns": null
  }, {
    "name": "edit",
    "docblock": null,
    "modifiers": [],
    "params": [],
    "returns": null
  }, {
    "name": "toggleEdit",
    "docblock": null,
    "modifiers": [],
    "params": [],
    "returns": null
  }, {
    "name": "deleteUpdate",
    "docblock": null,
    "modifiers": ["async"],
    "params": [],
    "returns": null
  }, {
    "name": "save",
    "docblock": null,
    "modifiers": ["async"],
    "params": [{
      "name": "update",
      "type": null
    }],
    "returns": null
  }, {
    "name": "renderUpdateMeta",
    "docblock": null,
    "modifiers": [],
    "params": [{
      "name": "update",
      "type": null
    }, {
      "name": "isAdmin",
      "type": null
    }, {
      "name": "editable",
      "type": null
    }, {
      "name": "isEditing",
      "type": null
    }],
    "returns": null
  }, {
    "name": "renderUpdateTitle",
    "docblock": null,
    "modifiers": [],
    "params": [],
    "returns": null
  }, {
    "name": "renderSummary",
    "docblock": null,
    "modifiers": [],
    "params": [{
      "name": "update",
      "type": null
    }],
    "returns": null
  }, {
    "name": "renderFullContent",
    "docblock": null,
    "modifiers": [],
    "params": [],
    "returns": null
  }, {
    "name": "renderEditUpdateForm",
    "docblock": null,
    "modifiers": [],
    "params": [],
    "returns": null
  }],
  "displayName": "StyledUpdate",
  "props": {
    "collective": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": true
    },
    "update": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": true
    },
    "compact": {
      "description": "",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "editable": {
      "description": "",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "LoggedInUser": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": false
    },
    "isReloadingData": {
      "description": "",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "editUpdate": {
      "description": "",
      "type": {
        "name": "func"
      },
      "required": true
    },
    "deleteUpdate": {
      "description": "",
      "type": {
        "name": "func"
      },
      "required": true
    },
    "intl": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": true
    },
    "router": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": false
    },
    "reactions": {
      "description": "Reactions associated with this update *",
      "type": {
        "name": "object"
      },
      "required": false
    }
  }
};
/* harmony default export */ var components_StyledUpdate = ((0,injectIntl/* default */.ZP)(addGraphql((0,router.withRouter)(StyledUpdate))));

var _StyledContainer = (0,styled_components_browser_esm/* default */.ZP)(Container/* default */.Z).withConfig({
  displayName: "StyledUpdate___StyledContainer",
  componentId: "sc-1ciw1fp-2"
})({
  wordBreak: 'break-word'
});

var _StyledContainer2 = (0,styled_components_browser_esm/* default */.ZP)(Container/* default */.Z).withConfig({
  displayName: "StyledUpdate___StyledContainer2",
  componentId: "sc-1ciw1fp-3"
})({
  wordBreak: 'break-word'
});

/***/ })

}]);
//# sourceMappingURL=827-e88f36ebe0955ab0.js.map