{"version":3,"file":"static/chunks/1012-8e439bd4be49ca92.js","mappings":"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","sources":["webpack://_N_E/./public/static/images/collective-navigation/CollectiveNavbarIconAbout.png","webpack://_N_E/./public/static/images/collective-navigation/CollectiveNavbarIconBudget.png","webpack://_N_E/./public/static/images/collective-navigation/CollectiveNavbarIconConnect.png","webpack://_N_E/./public/static/images/collective-navigation/CollectiveNavbarIconContribute.png","webpack://_N_E/./public/static/images/collective-navigation/CollectiveNavbarIconEvents.png","webpack://_N_E/./components/collective-navbar/constants.js","webpack://_N_E/./components/collective-page/_constants.js","webpack://_N_E/./lib/allowed-features.js","webpack://_N_E/./lib/collective-sections.js","webpack://_N_E/./lib/collective.lib.js","webpack://_N_E/./lib/constants/payment-methods.js","webpack://_N_E/./lib/i18n/navbar-categories.js"],"sourcesContent":["module.exports = \"/_next/static/images/CollectiveNavbarIconAbout-c908a14c8bb1e826b98291fc2d96f73c.png\";","module.exports = \"/_next/static/images/CollectiveNavbarIconBudget-905099b5e3610be9c44217314f08a030.png\";","module.exports = \"/_next/static/images/CollectiveNavbarIconConnect-4f0d6dda87e4fe0dc3beda6866e2d629.png\";","module.exports = \"/_next/static/images/CollectiveNavbarIconContribute-acd3951c7ccb1748a48b9f8fe8100c6f.png\";","module.exports = \"/_next/static/images/CollectiveNavbarIconEvents-6b8c5ac73d47d019dad5a8623a27ba2a.png\";","export const NAVBAR_CATEGORIES = {\n  ABOUT: 'ABOUT',\n  BUDGET: 'BUDGET',\n  CONNECT: 'CONNECT',\n  CONTRIBUTE: 'CONTRIBUTE',\n  CONTRIBUTIONS: 'CONTRIBUTIONS',\n  EVENTS: 'EVENTS', // Events, projects, connected collectives\n};\n","/**\n * Shared dimensions between collective page's components\n */\nexport const Dimensions = {\n  PADDING_X: [15, 30],\n  MAX_SECTION_WIDTH: 1260,\n};\n\n/**\n * Durations for page animations\n */\nexport const AnimationsDurations = {\n  HERO_COLLAPSE: 150,\n};\n\nexport const Sections = {\n  TOP_FINANCIAL_CONTRIBUTORS: 'top-financial-contributors',\n  CONNECTED_COLLECTIVES: 'connected-collectives',\n  OUR_TEAM: 'our-team',\n  GOALS: 'goals',\n  UPDATES: 'updates',\n  CONVERSATIONS: 'conversations',\n  RECURRING_CONTRIBUTIONS: 'recurring-contributions',\n  TICKETS: 'tickets',\n  LOCATION: 'location',\n  // Navigation v2 main sections\n  // CONTRIBUTE/CONTRIBUTIONS\n  CONTRIBUTE: 'contribute',\n  CONTRIBUTIONS: 'contributions',\n  // EVENTS/PROJECTS\n  EVENTS: 'events',\n  PROJECTS: 'projects',\n  // BUDGET/TRANSACTIONS\n  TRANSACTIONS: 'transactions',\n  BUDGET: 'budget',\n  // CONTRIBUTORS/PARTICIPANTS - is this a stand alone or in BUDGET as per Figma??\n  CONTRIBUTORS: 'contributors',\n  PARTICIPANTS: 'participants',\n  // ABOUT\n  ABOUT: 'about',\n  // EMPTY for new collectives/no data in any category sections\n  EMPTY: 'empty',\n};\n\n/** A list of all section names */\nexport const AllSectionsNames = Object.values(Sections);\n","/**\n * Makes use of but doesn't necessarily match opencollective-api/server/lib/allowed-features.ts\n */\n\nimport { get } from 'lodash';\n\nexport const FEATURES = {\n  // Collective page features\n  // Please refer to and update https://docs.google.com/spreadsheets/d/15ppKaZJCXBjvY7-AjjCj3w5D-4ebLQdEowynJksgDXE/edit#gid=0\n  ABOUT: 'ABOUT',\n  RECEIVE_FINANCIAL_CONTRIBUTIONS: 'RECEIVE_FINANCIAL_CONTRIBUTIONS',\n  RECURRING_CONTRIBUTIONS: 'RECURRING_CONTRIBUTIONS',\n  EVENTS: 'EVENTS',\n  PROJECTS: 'PROJECTS',\n  USE_EXPENSES: 'USE_EXPENSES',\n  RECURRING_EXPENSES: 'RECURRING_EXPENSES',\n  RECEIVE_EXPENSES: 'RECEIVE_EXPENSES',\n  COLLECTIVE_GOALS: 'COLLECTIVE_GOALS',\n  TOP_FINANCIAL_CONTRIBUTORS: 'TOP_FINANCIAL_CONTRIBUTORS',\n  CONVERSATIONS: 'CONVERSATIONS',\n  UPDATES: 'UPDATES',\n  TEAM: 'TEAM',\n  ADMIN_PANEL: 'ADMIN_PANEL',\n\n  // Other\n  TRANSFERWISE: 'TRANSFERWISE',\n  TRANSFERWISE_OTT: 'TRANSFERWISE_OTT',\n  TRANSACTIONS: 'TRANSACTIONS',\n  PAYPAL_DONATIONS: 'PAYPAL_DONATIONS',\n  PAYPAL_PAYOUTS: 'PAYPAL_PAYOUTS',\n  VIRTUAL_CARDS: 'VIRTUAL_CARDS',\n  MULTI_CURRENCY_EXPENSES: 'MULTI_CURRENCY_EXPENSES',\n  // Not implemented in API features endpoint yet\n  SUBMIT_EXPENSE_ON_BEHALF: 'SUBMIT_EXPENSE_ON_BEHALF',\n  CONTACT_FORM: 'CONTACT_FORM',\n  CONNECTED_ACCOUNTS: 'CONNECTED_ACCOUNTS',\n};\n\n/**\n * A map of paths to retrieve the value of a feature flag from a collective's settings.\n * 2020-11-19: deprecating: please use collective.features from now on! add it to your\n * page's GraphQL query if needed.\n */\nexport const FEATURE_FLAGS = {\n  // note: need to add collective.features to expenses query for PayExpenseModal\n  [FEATURES.PAYPAL_PAYOUTS]: 'settings.features.paypalPayouts',\n  [FEATURES.PAYPAL_DONATIONS]: 'settings.features.paypalDonations',\n  // collective page features\n  [FEATURES.COLLECTIVE_GOALS]: 'settings.collectivePage.showGoals',\n  // other features\n  [FEATURES.SUBMIT_EXPENSE_ON_BEHALF]: 'settings.features.submitExpenseOnBehalf',\n  [FEATURES.VIRTUAL_CARDS]: 'settings.features.virtualCards',\n  [FEATURES.TRANSFERWISE_OTT]: 'settings.transferwise.ott',\n  [FEATURES.ADMIN_PANEL]: 'settings.features.adminPanel',\n  [FEATURES.RECURRING_EXPENSES]: 'settings.features.recurringExpenses',\n};\n\nconst getFeatureStatus = (collective, feature) => {\n  if (!collective || !collective.features) {\n    return 'UNSUPPORTED';\n  } else {\n    return collective.features[feature];\n  }\n};\n\n/**\n * Returns true if the given feature is supported for collective (even if disabled)\n */\nexport const isFeatureSupported = (collective, feature) => {\n  return getFeatureStatus(collective, feature) !== 'UNSUPPORTED';\n};\n\n/**\n * Returns true if the feature is either active or available for collective\n */\nexport const isFeatureEnabled = (collective, feature) => {\n  const featureStatus = getFeatureStatus(collective, feature);\n  return featureStatus === 'ACTIVE' || featureStatus === 'AVAILABLE';\n};\n\n/**\n * Check if the given feature is activated for collective.\n * @deprecated Features flag should be checked using `account.features` explicitly, which this helper partially do,\n * but it also checks feature flags in settings. Prefer using `isFeatureEnabled` directly.\n */\nconst hasFeature = (collective, feature) => {\n  if (!collective) {\n    return false;\n  }\n\n  // Check opt-in flags - to be removed when all features using features endpoint?\n  const activationFlag = FEATURE_FLAGS[feature];\n  if (activationFlag) {\n    return Boolean(get(collective, activationFlag, false));\n  }\n\n  // New approach: check collective.features\n  const featureStatus = getFeatureStatus(collective, feature);\n  if (featureStatus === 'ACTIVE' || featureStatus === 'AVAILABLE') {\n    return true;\n  } else if (featureStatus === 'DISABLED' || featureStatus === 'UNSUPPORTED') {\n    return false;\n  }\n\n  return true;\n};\n\nexport default hasFeature;\n","/**\n * There are 3 levels of filtering to know if a section should appear or not:\n *\n * 1. Status of the collective: the `type`, `isActive`\n * 2. User's permissions: certain sections are displayed only to admins\n * 3. The data: we won't display a section if it's empty\n *\n * The logic for these checks is progressively moving to the API, relying on the \"features\"\n * field to know which features user has access to.\n */\n\nimport { cloneDeep, flatten, get } from 'lodash';\n\nimport { NAVBAR_CATEGORIES } from '../components/collective-navbar/constants';\nimport { Sections } from '../components/collective-page/_constants';\n\nimport { CollectiveType } from './constants/collectives';\nimport i18nNavbarCategory from './i18n/navbar-categories';\nimport { FEATURES, isFeatureEnabled } from './allowed-features';\nimport { isEmptyCollectiveLocation } from './collective.lib';\n\nimport aboutCategoryIcon from '../public/static/images/collective-navigation/CollectiveNavbarIconAbout.png';\nimport budgetCategoryIcon from '../public/static/images/collective-navigation/CollectiveNavbarIconBudget.png';\nimport connectCategoryIcon from '../public/static/images/collective-navigation/CollectiveNavbarIconConnect.png';\nimport contributeCategoryIcon from '../public/static/images/collective-navigation/CollectiveNavbarIconContribute.png';\nimport eventsCategoryIcon from '../public/static/images/collective-navigation/CollectiveNavbarIconEvents.png';\n\nconst RichCollectiveType = {\n  ...CollectiveType,\n  HOST_ORGANIZATION: 'HOST_ORGANIZATION',\n  ACTIVE_HOST_ORGANIZATION: 'ACTIVE_HOST_ORGANIZATION',\n};\n\n/**\n * A map of default sections by collective type.\n * Structure: { collectiveType: { sectionName: isDefaultEnabled } }\n */\nconst DEFAULT_SECTIONS = {\n  [CollectiveType.ORGANIZATION]: {\n    [Sections.CONTRIBUTIONS]: true,\n    [Sections.RECURRING_CONTRIBUTIONS]: true,\n    [Sections.CONNECTED_COLLECTIVES]: true,\n    [Sections.TRANSACTIONS]: true,\n    [Sections.ABOUT]: true,\n    [Sections.OUR_TEAM]: true,\n  },\n  [RichCollectiveType.HOST_ORGANIZATION]: {\n    [Sections.CONTRIBUTIONS]: true,\n    [Sections.RECURRING_CONTRIBUTIONS]: true,\n    [Sections.CONNECTED_COLLECTIVES]: true,\n    [Sections.TRANSACTIONS]: true,\n    [Sections.UPDATES]: true,\n    [Sections.CONVERSATIONS]: true,\n    [Sections.ABOUT]: true,\n    [Sections.OUR_TEAM]: true,\n  },\n  [RichCollectiveType.ACTIVE_HOST_ORGANIZATION]: {\n    [Sections.CONTRIBUTE]: true,\n    [Sections.PROJECTS]: false,\n    [Sections.EVENTS]: true,\n    [Sections.CONNECTED_COLLECTIVES]: true,\n    [Sections.TOP_FINANCIAL_CONTRIBUTORS]: true,\n    [Sections.CONTRIBUTORS]: true,\n    [Sections.CONTRIBUTIONS]: true,\n    [Sections.RECURRING_CONTRIBUTIONS]: true,\n    [Sections.BUDGET]: true,\n    [Sections.UPDATES]: true,\n    [Sections.CONVERSATIONS]: true,\n    [Sections.ABOUT]: true,\n    [Sections.OUR_TEAM]: true,\n  },\n  [CollectiveType.COLLECTIVE]: {\n    [Sections.GOALS]: true, // TODO: Should be false, but we must first migrate the checkbox from `components/edit-collective/sections/CollectiveGoals.js`\n    [Sections.CONTRIBUTE]: true,\n    [Sections.PROJECTS]: true,\n    [Sections.EVENTS]: true,\n    [Sections.CONNECTED_COLLECTIVES]: true,\n    [Sections.TOP_FINANCIAL_CONTRIBUTORS]: true,\n    [Sections.CONTRIBUTORS]: true,\n    [Sections.RECURRING_CONTRIBUTIONS]: true,\n    [Sections.BUDGET]: true,\n    [Sections.UPDATES]: true,\n    [Sections.CONVERSATIONS]: true,\n    [Sections.ABOUT]: true,\n    [Sections.OUR_TEAM]: true,\n  },\n  [CollectiveType.USER]: {\n    [Sections.CONTRIBUTIONS]: true,\n    [Sections.RECURRING_CONTRIBUTIONS]: true,\n    [Sections.BUDGET]: true,\n    [Sections.ABOUT]: true,\n  },\n  [CollectiveType.EVENT]: {\n    [Sections.CONTRIBUTE]: true,\n    [Sections.PARTICIPANTS]: true,\n    [Sections.CONNECTED_COLLECTIVES]: true,\n    [Sections.UPDATES]: true,\n    [Sections.ABOUT]: true,\n    [Sections.LOCATION]: true,\n    [Sections.OUR_TEAM]: true,\n    [Sections.BUDGET]: true,\n  },\n  [CollectiveType.FUND]: {\n    [Sections.CONTRIBUTE]: true,\n    [Sections.RECURRING_CONTRIBUTIONS]: true,\n    [Sections.CONTRIBUTORS]: true,\n    [Sections.TOP_FINANCIAL_CONTRIBUTORS]: true,\n    [Sections.PROJECTS]: true,\n    [Sections.CONNECTED_COLLECTIVES]: true,\n    [Sections.UPDATES]: false,\n    [Sections.BUDGET]: true,\n    [Sections.ABOUT]: true,\n    [Sections.OUR_TEAM]: true,\n  },\n  [CollectiveType.PROJECT]: {\n    [Sections.GOALS]: false,\n    [Sections.ABOUT]: true,\n    [Sections.OUR_TEAM]: true,\n    [Sections.CONTRIBUTE]: true,\n    [Sections.CONTRIBUTORS]: true,\n    [Sections.CONNECTED_COLLECTIVES]: true,\n    [Sections.BUDGET]: true,\n    [Sections.UPDATES]: false,\n  },\n};\n\nexport const getCollectiveTypeKey = (type, isHost, isActive) => {\n  if (type === 'INDIVIDUAL') {\n    // Layer of compatibility with GQLV2\n    return CollectiveType.USER;\n  } else if (type === 'ORGANIZATION' && isHost) {\n    return isActive ? RichCollectiveType.ACTIVE_HOST_ORGANIZATION : RichCollectiveType.HOST_ORGANIZATION;\n  }\n\n  return type;\n};\n\n/**\n * Returns all the sections than can be used for this collective type\n */\nconst getDefaultSectionsForCollectiveType = (type, isHost, isActive) => {\n  const typeKey = getCollectiveTypeKey(type, isHost, isActive);\n  return DEFAULT_SECTIONS[typeKey] || [];\n};\n\nconst filterSectionsByData = (sections, collective, isAdmin, isHostAdmin) => {\n  const toRemove = getSectionsToRemoveForUser(collective, isAdmin);\n  const checkSectionActive = section => {\n    if (toRemove.has(section.name) || !section.isEnabled) {\n      return false;\n    } else if (section.restrictedTo?.includes('ADMIN')) {\n      return isAdmin || isHostAdmin;\n    } else {\n      return true;\n    }\n  };\n\n  sections = sections.filter(e => e.type !== 'SECTION' || checkSectionActive(e));\n  sections.forEach(e => {\n    if (e.type === 'CATEGORY') {\n      e.sections = e.sections.filter(checkSectionActive);\n    }\n  });\n\n  // Filter empty categories\n  return sections.filter(e => e.type !== 'CATEGORY' || e.sections.length > 0);\n};\n\nconst showContributeSection = (collective, isAdmin) => {\n  const status = collective?.features?.[FEATURES.RECEIVE_FINANCIAL_CONTRIBUTIONS];\n  return ['ACTIVE', 'AVAILABLE'].includes(status) || isAdmin; // Allow admins to see/edit tiers, even if not active/past event\n};\n\nconst getSectionsToRemoveForUser = (collective, isAdmin) => {\n  const toRemove = new Set();\n  collective = collective || {};\n  const features = collective.features || {};\n\n  const hasAccessToFeature = feature => {\n    const status = features[feature];\n    return status === 'ACTIVE' || (status === 'AVAILABLE' && isAdmin);\n  };\n\n  if (!showContributeSection(collective, isAdmin)) {\n    toRemove.add(Sections.CONTRIBUTE);\n    toRemove.add(Sections.TOP_FINANCIAL_CONTRIBUTORS);\n  }\n  if (features[FEATURES.RECEIVE_FINANCIAL_CONTRIBUTIONS] !== 'ACTIVE') {\n    toRemove.add(Sections.PARTICIPANTS);\n  }\n  if (!hasAccessToFeature(FEATURES.PROJECTS)) {\n    toRemove.add(Sections.PROJECTS);\n  }\n  if (!hasAccessToFeature(FEATURES.COLLECTIVE_GOALS)) {\n    toRemove.add(Sections.GOALS);\n  }\n  if (features[FEATURES.RECURRING_CONTRIBUTIONS] !== 'ACTIVE') {\n    toRemove.add(Sections.RECURRING_CONTRIBUTIONS);\n  }\n  if (features[FEATURES.TRANSACTIONS] !== 'ACTIVE') {\n    toRemove.add(Sections.TRANSACTIONS);\n  }\n  if (!hasAccessToFeature(FEATURES.EVENTS)) {\n    toRemove.add(Sections.EVENTS);\n  }\n  if (!hasAccessToFeature(FEATURES.UPDATES)) {\n    toRemove.add(Sections.UPDATES);\n  }\n  if (!hasAccessToFeature(FEATURES.CONVERSATIONS)) {\n    toRemove.add(Sections.CONVERSATIONS);\n  }\n  if (features[FEATURES.CONNECTED_ACCOUNTS] !== 'ACTIVE') {\n    // If there's no connected accounts, there's no benefit in enabling the section as it will return null anyway\n    toRemove.add(Sections.CONNECTED_COLLECTIVES);\n  }\n  if (!hasAccessToFeature(FEATURES.ABOUT)) {\n    toRemove.add(Sections.ABOUT);\n  }\n  if (!collective.memberOf?.length) {\n    toRemove.add(Sections.CONTRIBUTIONS);\n  }\n  if (isEmptyCollectiveLocation(collective)) {\n    toRemove.add(Sections.LOCATION);\n  }\n  if (collective.coreContributors?.length === 0 && collective.financialContributors?.length === 0) {\n    toRemove.add(Sections.CONTRIBUTORS);\n  }\n\n  if (features[FEATURES.TRANSACTIONS] !== 'ACTIVE' && features[FEATURES.RECEIVE_EXPENSES] !== 'ACTIVE') {\n    toRemove.add(Sections.BUDGET);\n  }\n\n  return toRemove;\n};\n\n/**\n * Loads collective's sections from settings, adding the default sections to them\n */\nexport const getCollectiveSections = collective => {\n  const sections = get(collective, 'settings.collectivePage.sections');\n  return addDefaultSections(collective, sections || []);\n};\n\n/**\n * Combine all the previous steps to directly get the sections that should be\n * displayed for the user.\n */\nexport const getFilteredSectionsForCollective = (collective, isAdmin, isHostAdmin) => {\n  const sections = getCollectiveSections(collective);\n  return filterSectionsByData(sections, collective, isAdmin, isHostAdmin);\n};\n\n/**\n * Map sections to their categories. Any section that's not in this object will be considered\n * as a \"Widget\" (aka. a section without navbar category).\n */\nconst SECTIONS_CATEGORIES = {\n  // About\n  [Sections.OUR_TEAM]: NAVBAR_CATEGORIES.ABOUT,\n  [Sections.ABOUT]: NAVBAR_CATEGORIES.ABOUT,\n  [Sections.LOCATION]: NAVBAR_CATEGORIES.ABOUT,\n  // Connect\n  [Sections.CONVERSATIONS]: NAVBAR_CATEGORIES.CONNECT,\n  [Sections.UPDATES]: NAVBAR_CATEGORIES.CONNECT,\n  // Contribute\n  [Sections.TICKETS]: NAVBAR_CATEGORIES.CONTRIBUTE,\n  [Sections.CONTRIBUTE]: NAVBAR_CATEGORIES.CONTRIBUTE,\n  [Sections.CONTRIBUTORS]: NAVBAR_CATEGORIES.CONTRIBUTE,\n  [Sections.TOP_FINANCIAL_CONTRIBUTORS]: NAVBAR_CATEGORIES.CONTRIBUTE,\n  [Sections.PARTICIPANTS]: NAVBAR_CATEGORIES.CONTRIBUTE,\n  [Sections.EVENTS]: NAVBAR_CATEGORIES.CONTRIBUTE,\n  [Sections.PROJECTS]: NAVBAR_CATEGORIES.CONTRIBUTE,\n  [Sections.CONNECTED_COLLECTIVES]: NAVBAR_CATEGORIES.CONTRIBUTE,\n  // Contributions\n  [Sections.CONTRIBUTIONS]: NAVBAR_CATEGORIES.CONTRIBUTIONS,\n  [Sections.RECURRING_CONTRIBUTIONS]: NAVBAR_CATEGORIES.CONTRIBUTIONS,\n  // Budget\n  [Sections.BUDGET]: NAVBAR_CATEGORIES.BUDGET,\n  [Sections.TRANSACTIONS]: NAVBAR_CATEGORIES.BUDGET,\n};\n\nexport const getSectionCategory = sectionName => {\n  return SECTIONS_CATEGORIES[sectionName];\n};\n\n/**\n * Return all section names as an array of string\n */\nexport const getSectionsNames = sections => {\n  return flatten(\n    sections\n      .map(e => {\n        if (typeof e === 'string') {\n          return e;\n        } else if (e.type === 'SECTION') {\n          return e.name;\n        } else if (e.type === 'CATEGORY' && e.sections) {\n          return getSectionsNames(e.sections);\n        }\n      })\n      .filter(Boolean),\n  );\n};\n\n/**\n * Return the path of the section in `sections`. Works with both legacy & new format.\n * @returns {string|null}\n */\nexport const getSectionPath = (sections, sectionName) => {\n  if (!sections?.length) {\n    return null;\n  } else {\n    // New format\n    const categoryName = SECTIONS_CATEGORIES[sectionName];\n    if (categoryName) {\n      const categoryIdx = sections.findIndex(s => s.type === 'CATEGORY' && s.name === categoryName);\n      if (categoryIdx !== -1) {\n        const sectionIdx = sections[categoryIdx].sections.findIndex(s => s.name === sectionName);\n        if (sectionIdx !== -1) {\n          return `${categoryIdx}.sections.${sectionIdx}`;\n        }\n      }\n    } else {\n      const idx = sections.findIndex(s => s.name === sectionName);\n      if (idx !== -1) {\n        return idx.toString();\n      }\n    }\n  }\n\n  return null;\n};\n\nexport const hasSection = (sections, sectionName) => {\n  const path = getSectionPath(sections, sectionName);\n  if (path) {\n    return get(sections, path).isEnabled;\n  } else {\n    return false;\n  }\n};\n\nexport const isSectionEnabled = (sections, sectionName, isAdmin) => {\n  const path = getSectionPath(sections, sectionName);\n  if (path) {\n    const section = get(sections, path);\n    return section.isEnabled || (isAdmin && section.restrictedTo?.includes('ADMIN'));\n  } else {\n    return false;\n  }\n};\n\nexport const isSectionForAdminsOnly = (collective, sectionName) => {\n  const sections = getCollectiveSections(collective);\n  const path = getSectionPath(sections, sectionName);\n  if (path) {\n    return Boolean(get(sections, path).restrictedTo?.includes('ADMIN'));\n  } else {\n    return false;\n  }\n};\n\n/**\n * Adds the default sections that are not yet defined in `sections`, with `isEnabled` to false.\n * Useful to make sure newly added sections/categories are added on legacy collectives.\n */\nexport const addDefaultSections = (collective, sections) => {\n  if (!collective) {\n    return [];\n  }\n\n  const newSections = cloneDeep(sections || []);\n  const defaultSections = getDefaultSectionsForCollectiveType(collective.type, collective.isHost, collective.isActive);\n\n  Object.entries(defaultSections).forEach(([section, defaultIsEnabled]) => {\n    const sectionPath = getSectionPath(sections, section);\n    if (!sectionPath) {\n      const categoryName = getSectionCategory(section);\n      if (categoryName) {\n        let category = newSections.find(e => e.type === 'CATEGORY' && e.name === categoryName);\n        if (!category) {\n          category = { type: 'CATEGORY', name: categoryName, sections: [] };\n          newSections.push(category);\n        }\n        category.sections.push({ type: 'SECTION', name: section, isEnabled: defaultIsEnabled });\n      } else {\n        newSections.push({ type: 'SECTION', name: section, isEnabled: defaultIsEnabled });\n      }\n    }\n  });\n\n  return newSections;\n};\n\nexport const isType = (c, collectiveType) => getCollectiveTypeKey(c.type) === collectiveType;\n\nexport const isOneOfTypes = (c, collectiveTypes) => collectiveTypes.includes(getCollectiveTypeKey(c.type));\n\nexport const SECTIONS_CATEGORY_ICON = {\n  ABOUT: aboutCategoryIcon,\n  BUDGET: budgetCategoryIcon,\n  CONNECT: connectCategoryIcon,\n  CONTRIBUTE: contributeCategoryIcon,\n  CONTRIBUTIONS: contributeCategoryIcon,\n  EVENTS: eventsCategoryIcon,\n};\n\nexport const getSectionsCategoryDetails = (intl, collective, category) => {\n  // Default category details\n  const details = { img: SECTIONS_CATEGORY_ICON[category], title: i18nNavbarCategory(intl, category) };\n  if (!details.title) {\n    return null;\n  }\n\n  // Special customization on some sections\n  if (category === NAVBAR_CATEGORIES.CONTRIBUTE) {\n    const canReceiveContributions = isFeatureEnabled(collective, FEATURES.RECEIVE_FINANCIAL_CONTRIBUTIONS);\n    if (!canReceiveContributions) {\n      details.title = intl.formatMessage({ id: 'section.contributors.title', defaultMessage: 'Contributors' });\n    } else if (collective.type === CollectiveType.EVENT) {\n      details.title = intl.formatMessage({ defaultMessage: 'Get Involved' });\n      details.subtitle = intl.formatMessage({ defaultMessage: 'Support the event or buy tickets.' });\n      details.info = intl.formatMessage({ defaultMessage: 'Support the event or buy tickets to attend.' });\n    } else {\n      details.subtitle = intl.formatMessage({\n        id: 'CollectivePage.SectionContribute.Subtitle',\n        defaultMessage: 'Become a financial contributor.',\n      });\n      details.info = intl.formatMessage(\n        {\n          id: 'CollectivePage.SectionContribute.info',\n          defaultMessage: 'Support {collectiveName} by contributing to them once, monthly, or yearly.',\n        },\n        { collectiveName: collective.name },\n      );\n    }\n  } else if (category === NAVBAR_CATEGORIES.BUDGET) {\n    details.subtitle = intl.formatMessage({\n      id: 'CollectivePage.SectionBudget.Subtitle',\n      defaultMessage: 'Transparent and open finances.',\n    });\n    details.info = intl.formatMessage(\n      {\n        id: 'CollectivePage.SectionBudget.Description',\n        defaultMessage:\n          'See how funds circulate through {collectiveName}. Contributions and expenses are transparent. Learn where the money comes from and where it goes.',\n      },\n      { collectiveName: collective.name },\n    );\n  } else if (category === NAVBAR_CATEGORIES.CONNECT) {\n    details.subtitle = intl.formatMessage({\n      id: 'section.connect.subtitle',\n      defaultMessage: 'Letâ€™s get the ball rolling!',\n    });\n    details.info = intl.formatMessage({\n      id: 'section.connect.info',\n      defaultMessage: 'Start conversations with your community or share updates on how things are going.',\n    });\n  }\n\n  return details;\n};\n","import { get, trim } from 'lodash';\nimport slugify from 'slugify';\n\nimport { Sections } from '../components/collective-page/_constants';\n\nimport {\n  CollectiveCategory,\n  CollectiveTagsCategories,\n  CollectiveType,\n  OPENSOURCE_COLLECTIVE_ID,\n} from './constants/collectives';\nimport { ProvidersWithRecurringPaymentSupport } from './constants/payment-methods';\nimport MEMBER_ROLE from './constants/roles';\nimport { isSectionForAdminsOnly } from './collective-sections';\nimport { getCollectivePageRoute } from './url-helpers';\n\n/**\n * For a given host and/or a list of tags, returns the main tag for the category of the\n * collective. If none matches, defaults to `CollectiveCategory.COLLECTIVE`\n */\nexport const getCollectiveMainTag = (hostCollectiveId = null, tags = [], type, settings = null) => {\n  // All collectives from \"Open Source Collective 501c3\" are set to \"Open source\" category\n  if (hostCollectiveId === OPENSOURCE_COLLECTIVE_ID) {\n    return CollectiveCategory.OPEN_SOURCE;\n  }\n\n  // Try to guess the main category from tags\n  if (tags) {\n    const tagWithCategory = tags.find(tag => CollectiveTagsCategories[tag]);\n    if (tagWithCategory) {\n      const category = CollectiveTagsCategories[tagWithCategory];\n      return CollectiveCategory[category];\n    }\n  }\n\n  // Try to get from the type\n  if (type === CollectiveType.EVENT) {\n    return CollectiveCategory.EVENT;\n  } else if (type === CollectiveType.ORGANIZATION) {\n    return CollectiveCategory.ORGANIZATION;\n  } else if (type === CollectiveType.USER) {\n    return CollectiveCategory.USER;\n  } else if (type === CollectiveType.PROJECT) {\n    return CollectiveCategory.PROJECT;\n  } else if (type === CollectiveType.FUND) {\n    return CollectiveCategory.FUND;\n  }\n\n  // Funds MVP, to refactor\n  if (settings && settings.fund) {\n    return CollectiveCategory.FUND;\n  }\n\n  // Default to 'Collective'\n  return CollectiveCategory.COLLECTIVE;\n};\n\nexport const expenseSubmissionAllowed = (collective, user) => {\n  if (!collective?.settings?.disablePublicExpenseSubmission) {\n    return true;\n  }\n  if (user?.isRoot || user?.isAdminOfCollectiveOrHost(collective)) {\n    return true;\n  }\n  return user?.memberOf.some(member => member.collective.slug === collective.slug);\n};\n\nexport const getCollectiveTypeForUrl = collective => {\n  if (!collective) {\n    return;\n  }\n\n  if (collective.type === 'EVENT') {\n    return 'events';\n  }\n  if (collective.type === 'PROJECT') {\n    return 'projects';\n  }\n};\n\nexport const hostIsTaxDeductibleInTheUs = host => {\n  return get(host, 'settings.taxDeductibleDonations');\n};\n\nexport const suggestSlug = value => {\n  const slugOptions = {\n    replacement: '-',\n    lower: true,\n    strict: true,\n  };\n\n  return trim(slugify(value, slugOptions), '-');\n};\n\nexport const getTopContributors = contributors => {\n  const topOrgs = [];\n  const topIndividuals = [];\n\n  for (const contributor of contributors) {\n    // We only care about financial contributors that donated $$$\n    if (!contributor.isBacker || !contributor.totalAmountDonated) {\n      continue;\n    }\n\n    // Put contributors in the array corresponding to their types\n    if (contributor.type === CollectiveType.USER) {\n      topIndividuals.push(contributor);\n    } else if (\n      [CollectiveType.ORGANIZATION, CollectiveType.COLLECTIVE, CollectiveType.FUND].includes(contributor.type)\n    ) {\n      topOrgs.push(contributor);\n    }\n\n    if (topIndividuals.length >= 10 && topOrgs.length >= 10) {\n      break;\n    }\n  }\n\n  // If one of the two categories is not filled, complete with more contributors from the other\n  const nbColsPerCategory = 2;\n  const nbFreeColsFromOrgs = nbColsPerCategory - Math.ceil(topOrgs.length / 5);\n  const nbFreeColsFromIndividuals = nbColsPerCategory - Math.ceil(topOrgs.length / 5);\n  let takeNbOrgs = 10;\n  let takeNbIndividuals = 10;\n\n  if (nbFreeColsFromOrgs > 0) {\n    takeNbIndividuals += nbFreeColsFromOrgs * 5;\n  } else if (nbFreeColsFromIndividuals > 0) {\n    takeNbOrgs += nbFreeColsFromIndividuals * 5;\n  }\n\n  return [topOrgs.slice(0, takeNbOrgs), topIndividuals.slice(0, takeNbIndividuals)];\n};\n\nexport const isEmptyCollectiveLocation = account => {\n  if (!account?.location) {\n    return true;\n  } else {\n    const { name, address, country, lat, long } = account.location;\n    return !(address || country || (lat && long)) && name !== 'Online';\n  }\n};\n\nexport const getContributeRoute = collective => {\n  let pathname = `${getCollectivePageRoute(collective)}/donate`;\n  if (\n    get(collective, 'settings.disableCustomContributions', false) &&\n    get(collective, 'settings.disableCryptoContributions', true)\n  ) {\n    if (collective.tiers && collective.tiers.length > 0) {\n      const tier = collective.tiers[0];\n      pathname = `${getCollectivePageRoute(collective)}/contribute/${tier.slug}-${tier.id}/checkout`;\n    } else {\n      return null;\n    }\n  }\n  return pathname;\n};\n\nexport const getSuggestedTags = collective => {\n  return collective?.expensesTags?.map(({ tag }) => tag) || [];\n};\n\n/** Checks if recurring contributions are allowed for the user for a given collective **/\nexport const canContributeRecurring = (collective, user) => {\n  // If the host has a payment method that supports recurring payments (PayPal, Credit Card, etc.)\n  const paymentProviderSupportRecurring = pm => ProvidersWithRecurringPaymentSupport.includes(pm);\n  if (collective.host.supportedPaymentMethods.some(paymentProviderSupportRecurring)) {\n    return true;\n  }\n\n  // Otherwise the only other option to contribute recurring is if the user is an admin of another collective under the same host\n  const hostId = collective.host.legacyId;\n  const collectiveId = collective.legacyId;\n  return Boolean(\n    user?.memberOf.some(\n      member =>\n        member.collective?.host?.id === hostId && // Must be under the same host\n        member.collective.id !== collectiveId && // Must not be the same collective\n        member.role === MEMBER_ROLE.ADMIN,\n    ),\n  );\n};\n\n/*\n * Displays the name string as \"Legal name (Display name)\" if legal name exists.\n * Example: Sudharaka (Suds)\n */\nexport const formatAccountName = (displayName, legalName) => {\n  if (!legalName) {\n    return displayName;\n  } else if (legalName === displayName || legalName.includes(displayName)) {\n    return legalName;\n  } else {\n    return `${legalName} (${displayName})`;\n  }\n};\n\n/*\n * Validate the account holder name against the legal name. Following cases are considered a match,\n *\n * 1) Punctuation are ignored; \"Evil Corp, Inc\" and \"Evil Corp, Inc.\" are considered a match.\n * 2) Accents are ignored; \"FranÃ§ois\" and \"Francois\" are considered a match.\n * 3) The first name and last name order is ignored; \"Benjamin Piouffle\" and \"Piouffle Benjamin\" is considered a match.\n */\nexport const compareNames = (accountHolderName, legalName) => {\n  // Ignore 501(c)(3) in both account holder name and legal name\n  legalName = legalName?.replaceAll('501(c)(3)', '') || '';\n  accountHolderName = accountHolderName?.replaceAll('501(c)(3)', '') || '';\n\n  const namesArray = legalName.trim().split(' ');\n  let legalNameReversed;\n  if (namesArray.length === 2) {\n    const firstName = namesArray[0];\n    const lastName = namesArray[1];\n    legalNameReversed = `${lastName} ${firstName}`;\n  }\n  return !(\n    accountHolderName.localeCompare(legalName, undefined, {\n      sensitivity: 'base',\n      ignorePunctuation: true,\n    }) &&\n    accountHolderName.localeCompare(legalNameReversed, undefined, {\n      sensitivity: 'base',\n      ignorePunctuation: true,\n    })\n  );\n};\n\n/* Returns true if the account is a fiscal host. Returns false for self-hosted accounts */\nexport const isHostAccount = c => c.isHost === true && c.type !== 'COLLECTIVE';\n\n/* Returns true if the account is self-hosted */\nexport const isSelfHostedAccount = c => c.isHost === true && c.type === 'COLLECTIVE';\n\n/* Returns true if the account is an individual. Works with GQLV1 (Collectives) & GQLV2 (Accounts) */\nexport const isIndividualAccount = account => ['USER', 'INDIVIDUAL'].includes(account.type);\n\nexport const loggedInUserCanAccessFinancialData = (user, collective) => {\n  if (!isSectionForAdminsOnly(collective, Sections.BUDGET)) {\n    return true;\n  } else if (!user) {\n    return false;\n  } else {\n    return user.isRoot || user.isAdminOfCollectiveOrHost(collective);\n  }\n};\n\n/** A small helper to get the integer legacy ID for a collective/account. Works with GQLV1 and GQLV2. */\nexport const getLegacyIdForCollective = collective => {\n  if (!collective) {\n    return null;\n  } else if (typeof collective.id === 'number') {\n    return collective.id;\n  } else if (typeof collective.legacyId === 'number') {\n    return collective.legacyId;\n  }\n};\n\n/**\n * Returns the base metadata to pass to `Page` with things like title, description or image\n * properly set with the collective's info.\n */\nexport const getCollectivePageMetadata = collective => {\n  const defaultImage = '/static/images/defaultBackgroundImage.png';\n  if (collective) {\n    const parent = collective.parentCollective || collective.parent;\n    return {\n      title: collective.name,\n      description: collective.description,\n      twitterHandle: collective.twitterHandle || get(collective.parentCollective, 'twitterHandle'),\n      noRobots: collective.type === 'USER' && !collective.isHost,\n      image:\n        collective.backgroundImageUrl ||\n        collective.backgroundImage || // From GraphQL v1\n        collective.imageUrl ||\n        collective.image || // From GraphQL v1\n        get(parent, 'backgroundImageUrl') ||\n        get(parent, 'backgroundImage') || // From GraphQL v1\n        get(parent, 'imageUrl') ||\n        get(parent, 'image') || // From GraphQL v1\n        defaultImage,\n    };\n  } else {\n    return {\n      title: 'Collective',\n      image: defaultImage,\n    };\n  }\n};\n","export const PAYMENT_METHOD_SERVICE = {\n  PAYPAL: 'PAYPAL',\n  STRIPE: 'STRIPE',\n  OPENCOLLECTIVE: 'OPENCOLLECTIVE',\n  THEGIVINGBLOCK: 'THEGIVINGBLOCK',\n};\n\nexport const PAYMENT_METHOD_TYPE = {\n  ALIPAY: 'ALIPAY',\n  CREDITCARD: 'CREDITCARD',\n  PREPAID: 'PREPAID',\n  PAYMENT: 'PAYMENT',\n  SUBSCRIPTION: 'SUBSCRIPTION',\n  COLLECTIVE: 'COLLECTIVE',\n  HOST: 'HOST',\n  ADAPTIVE: 'ADAPTIVE',\n  GIFTCARD: 'GIFTCARD',\n  MANUAL: 'MANUAL',\n  CRYPTO: 'CRYPTO',\n  PAYMENT_INTENT: 'PAYMENT_INTENT',\n  US_BANK_ACCOUNT: 'US_BANK_ACCOUNT',\n  SEPA_DEBIT: 'SEPA_DEBIT',\n  BACS_DEBIT: 'BACS_DEBIT',\n  BANCONTACT: 'BANCONTACT',\n};\n\nexport const GQLV2_PAYMENT_METHOD_LEGACY_TYPES = {\n  ACCOUNT_BALANCE: 'ACCOUNT_BALANCE',\n  ALIPAY: 'ALIPAY',\n  BANK_TRANSFER: 'BANK_TRANSFER',\n  CREDIT_CARD: 'CREDIT_CARD',\n  CRYPTO: 'CRYPTO',\n  GIFT_CARD: 'GIFT_CARD',\n  PAYPAL: 'PAYPAL',\n  PREPAID_BUDGET: 'PREPAID_BUDGET',\n};\n\nexport const GQLV2_SUPPORTED_PAYMENT_METHOD_TYPES = {\n  ALIPAY: GQLV2_PAYMENT_METHOD_LEGACY_TYPES.ALIPAY,\n  BANK_TRANSFER: GQLV2_PAYMENT_METHOD_LEGACY_TYPES.BANK_TRANSFER,\n  CREDIT_CARD: GQLV2_PAYMENT_METHOD_LEGACY_TYPES.CREDIT_CARD,\n  PAYPAL: GQLV2_PAYMENT_METHOD_LEGACY_TYPES.PAYPAL,\n  PAYMENT_INTENT: PAYMENT_METHOD_TYPE.PAYMENT_INTENT,\n};\n\nexport const matchPm = (pm, service, type) => {\n  return pm && pm.service === service && pm.type === type;\n};\n\n/** Returns true if the given payment method is a prepaid */\nexport const isPrepaid = pm => {\n  return matchPm(pm, PAYMENT_METHOD_SERVICE.OPENCOLLECTIVE, PAYMENT_METHOD_TYPE.PREPAID);\n};\n\n/** Returns payment methods with recurring payment support **/\nexport const ProvidersWithRecurringPaymentSupport = [\n  GQLV2_PAYMENT_METHOD_LEGACY_TYPES.CREDIT_CARD,\n  GQLV2_PAYMENT_METHOD_LEGACY_TYPES.PAYPAL,\n  GQLV2_PAYMENT_METHOD_LEGACY_TYPES.ACCOUNT_BALANCE,\n];\n","import { defineMessages } from 'react-intl';\n\nimport { NAVBAR_CATEGORIES } from '../../components/collective-navbar/constants';\n\nconst I18N_CATEGORIES = defineMessages({\n  [NAVBAR_CATEGORIES.ABOUT]: {\n    id: 'collective.about.title',\n    defaultMessage: 'About',\n  },\n  [NAVBAR_CATEGORIES.BUDGET]: {\n    id: 'section.budget.title',\n    defaultMessage: 'Budget',\n  },\n  [NAVBAR_CATEGORIES.CONNECT]: {\n    id: 'CollectivePage.SectionConnect.Title',\n    defaultMessage: 'Connect',\n  },\n  [NAVBAR_CATEGORIES.CONTRIBUTE]: {\n    id: 'Contribute',\n    defaultMessage: 'Contribute',\n  },\n  [NAVBAR_CATEGORIES.CONTRIBUTIONS]: {\n    id: 'Contributions',\n    defaultMessage: 'Contributions',\n  },\n});\n\nconst i18nNavbarCategory = (intl, category) => {\n  return I18N_CATEGORIES[category] ? intl.formatMessage(I18N_CATEGORIES[category]) : category;\n};\n\nexport default i18nNavbarCategory;\n"],"names":["NAVBAR_CATEGORIES","ABOUT","BUDGET","CONNECT","CONTRIBUTE","CONTRIBUTIONS","EVENTS","Dimensions","PADDING_X","MAX_SECTION_WIDTH","AnimationsDurations","HERO_COLLAPSE","Sections","TOP_FINANCIAL_CONTRIBUTORS","CONNECTED_COLLECTIVES","OUR_TEAM","GOALS","UPDATES","CONVERSATIONS","RECURRING_CONTRIBUTIONS","TICKETS","LOCATION","PROJECTS","TRANSACTIONS","CONTRIBUTORS","PARTICIPANTS","EMPTY","AllSectionsNames","Object","values","FEATURES","RECEIVE_FINANCIAL_CONTRIBUTIONS","USE_EXPENSES","RECURRING_EXPENSES","RECEIVE_EXPENSES","COLLECTIVE_GOALS","TEAM","ADMIN_PANEL","TRANSFERWISE","TRANSFERWISE_OTT","PAYPAL_DONATIONS","PAYPAL_PAYOUTS","VIRTUAL_CARDS","MULTI_CURRENCY_EXPENSES","SUBMIT_EXPENSE_ON_BEHALF","CONTACT_FORM","CONNECTED_ACCOUNTS","FEATURE_FLAGS","getFeatureStatus","collective","feature","features","isFeatureSupported","isFeatureEnabled","featureStatus","hasFeature","activationFlag","Boolean","CollectiveType","i18nNavbarCategory","isEmptyCollectiveLocation","aboutCategoryIcon","budgetCategoryIcon","connectCategoryIcon","contributeCategoryIcon","eventsCategoryIcon","RichCollectiveType","HOST_ORGANIZATION","ACTIVE_HOST_ORGANIZATION","DEFAULT_SECTIONS","ORGANIZATION","COLLECTIVE","USER","EVENT","FUND","PROJECT","getCollectiveTypeKey","type","isHost","isActive","getDefaultSectionsForCollectiveType","typeKey","filterSectionsByData","sections","isAdmin","isHostAdmin","toRemove","getSectionsToRemoveForUser","checkSectionActive","section","has","name","isEnabled","restrictedTo","includes","filter","e","forEach","length","showContributeSection","status","Set","hasAccessToFeature","add","memberOf","coreContributors","financialContributors","getCollectiveSections","addDefaultSections","getFilteredSectionsForCollective","SECTIONS_CATEGORIES","getSectionCategory","sectionName","getSectionsNames","map","getSectionPath","categoryName","categoryIdx","findIndex","s","sectionIdx","idx","toString","hasSection","path","isSectionEnabled","isSectionForAdminsOnly","newSections","defaultSections","entries","defaultIsEnabled","sectionPath","category","find","push","isType","c","collectiveType","isOneOfTypes","collectiveTypes","SECTIONS_CATEGORY_ICON","getSectionsCategoryDetails","intl","details","img","title","canReceiveContributions","formatMessage","id","defaultMessage","subtitle","info","collectiveName","slugify","CollectiveCategory","CollectiveTagsCategories","OPENSOURCE_COLLECTIVE_ID","ProvidersWithRecurringPaymentSupport","MEMBER_ROLE","getCollectivePageRoute","getCollectiveMainTag","hostCollectiveId","tags","settings","OPEN_SOURCE","tagWithCategory","tag","fund","expenseSubmissionAllowed","user","disablePublicExpenseSubmission","isRoot","isAdminOfCollectiveOrHost","some","member","slug","getCollectiveTypeForUrl","hostIsTaxDeductibleInTheUs","host","suggestSlug","value","slugOptions","replacement","lower","strict","getTopContributors","contributors","topOrgs","topIndividuals","contributor","isBacker","totalAmountDonated","nbColsPerCategory","nbFreeColsFromOrgs","Math","ceil","nbFreeColsFromIndividuals","takeNbOrgs","takeNbIndividuals","slice","account","location","address","country","lat","long","getContributeRoute","pathname","tiers","tier","getSuggestedTags","expensesTags","canContributeRecurring","paymentProviderSupportRecurring","pm","supportedPaymentMethods","hostId","legacyId","collectiveId","role","ADMIN","formatAccountName","displayName","legalName","compareNames","accountHolderName","replaceAll","namesArray","trim","split","legalNameReversed","firstName","lastName","localeCompare","undefined","sensitivity","ignorePunctuation","isHostAccount","isSelfHostedAccount","isIndividualAccount","loggedInUserCanAccessFinancialData","getLegacyIdForCollective","getCollectivePageMetadata","defaultImage","parent","parentCollective","description","twitterHandle","noRobots","image","backgroundImageUrl","backgroundImage","imageUrl","PAYMENT_METHOD_SERVICE","PAYPAL","STRIPE","OPENCOLLECTIVE","THEGIVINGBLOCK","PAYMENT_METHOD_TYPE","ALIPAY","CREDITCARD","PREPAID","PAYMENT","SUBSCRIPTION","HOST","ADAPTIVE","GIFTCARD","MANUAL","CRYPTO","PAYMENT_INTENT","US_BANK_ACCOUNT","SEPA_DEBIT","BACS_DEBIT","BANCONTACT","GQLV2_PAYMENT_METHOD_LEGACY_TYPES","ACCOUNT_BALANCE","BANK_TRANSFER","CREDIT_CARD","GIFT_CARD","PREPAID_BUDGET","GQLV2_SUPPORTED_PAYMENT_METHOD_TYPES","matchPm","service","isPrepaid","defineMessages","I18N_CATEGORIES"],"sourceRoot":""}