{"version":3,"file":"static/chunks/pages/create-expense-50242996172c494a.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AACA,IAAME,gBAAgB,GAAG,SAAnBA,gBAAmB,OAAqD;EAAA,IAAlDC,cAAkD,QAAlDA,cAAkD;EAAA,IAAlCC,iBAAkC,QAAlCA,iBAAkC;EAAA,IAAZC,KAAY;;EAC5E,IAAMC,MAAM,GAAGH,cAAc,KAAK,MAAlC;EACA,IAAMI,cAAc,GAAGD,MAAM,GAAG,GAAH,GAAS,IAAtC;EACA,IAAME,OAAO,GAAG,CAAC,oDAAMJ,iBAAN,CAAD,GAA4BA,iBAA5B,GAAgDG,cAAhE;EACA,IAAME,SAAS,GAAGH,MAAM,GAAG,IAAH,GAAU,KAAlC;EACA,oBACE,uDAAC,2DAAD;IACE,QAAQ,EAAC,UADX;IAEE,OAAO,EAAC,MAFV;IAGE,aAAa,EAAC,QAHhB;IAIE,cAAc,EAAC,QAJjB;IAKE,UAAU,EAAC,QALb;IAME,UAAU,iBAAUG,SAAV,eAAwBA,SAAxB,eAAsCA,SAAtC,eAAoDD,OAApD,MANZ;IAOE,KAAK,EAAC,MAPR;IAQE,MAAM,EAAC,MART;IASE,MAAM,EAAE;EATV,GAUMH,KAVN,EADF;AAcD,CAnBD;;AA2BAH,gBAAgB,CAACQ,YAAjB,GAAgC;EAC9BP,cAAc,EAAE;AADc,CAAhC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,yDAAeD,gBAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3CA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;AACA,IAAMgB,uBAAuB,GAAG,SAA1BA,uBAA0B,OAA0C;EAAA,IAAvCC,sBAAuC,QAAvCA,sBAAuC;EAAA,IAAZd,KAAY;;EACxE,eAA0BO,+DAAO,EAAjC;EAAA,IAAQQ,aAAR,YAAQA,aAAR;;EACA,IAAMC,KAAK,GAAGD,aAAa,CAAC;IAAEE,EAAE,6BAAJ;IAAmCC,cAAc;MAAA;MAAA;IAAA;EAAjD,CAAD,CAA3B;EACA,oBACE,uDAAC,sDAAD;IAAM,QAAQ,MAAd;IAAe,KAAK,EAAEF;EAAtB,GAAiChB,KAAjC;IAAA,uBACE,wDAAC,iDAAD;MAAM,aAAa,EAAC,QAApB;MAA6B,cAAc,EAAC,QAA5C;MAAqD,UAAU,EAAC,QAAhE;MAAyE,EAAE,EAAE,CAA7E;MAAgF,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAApF;MAAA,wBACE,uDAAC,qCAAD;QAAI,QAAQ,EAAC,MAAb;QAAoB,EAAE,EAAE,CAAxB;QAA2B,SAAS,EAAC,QAArC;QAAA,UACGgB;MADH,EADF,eAIE,uDAAC,oCAAD;QAAG,QAAQ,EAAC,MAAZ;QAAmB,EAAE,EAAE,CAAvB;QAA0B,EAAE,EAAE,CAA9B;QAAA,uBACE;UAAM,IAAI,EAAC,KAAX;UAAiB,cAAW,aAA5B;UAAA;QAAA;MADF,EAJF,eASE,wDAAC,oCAAD;QAAA,wBACE,uDAAC,2DAAD;UACE,EAAE,mCADJ;UAEE,cAAc;YAAA;YAAA;UAAA;QAFhB,EADF,EAKGF,sBAAsB,iBACrB,wDAAC,2CAAD;UAAA,WACG,GADH,eAEE,uDAAC,2DAAD;YACE,EAAE,4BADJ;YAEE,cAAc;cAAA;cAAA;YAAA;cAAA;cAAA;cAAA;gBAAA;gBAAA;cAAA;YAAA;cAAA;cAAA;YAAA,EAFhB;YAGE,MAAM,EAAE;cAAEK,WAAW,EAAEV,sEAAeA;YAA9B;UAHV,EAFF;QAAA,EANJ;MAAA,EATF;IAAA;EADF,GADF;AA8BD,CAjCD;;AAuCAI,uBAAuB,CAACR,YAAxB,GAAuC;EACrCS,sBAAsB,EAAE;AADa,CAAvC;;;;;;;;;;;;;;;;;;;AAIA,yDAAeD,uBAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxDA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;AAEA,IAAMmB,mBAAmB,GAAGX,kGAAH;EAAA;EAAA;AAAA,slDACrB,UAAArB,KAAK;EAAA,OACLA,KAAK,CAACkC,WAAN,IACAd,kEAAG,CAAC;IACFe,MAAM,EAAE,WADN;IAEFC,WAAW,EAAE,CAACpC,KAAK,CAACqC,KAAP,GAAe,WAAf,GAA6B,SAFxC;IAGFC,YAAY,EAAE,EAHZ;IAIFC,OAAO,EAAE;EAJP,CAAD,CAFE;AAAA,CADgB,EAgBnBb,8FAhBmB,EAoBnB,UAAA1B,KAAK;EAAA,OAAIwC,OAAO,CAACxC,KAAK,CAACyC,eAAP,CAAP,IAAkCrB,kEAAG,CAAC;IAAEsB,SAAS,EAAE;EAAb,CAAD,CAAzC;AAAA,CApBc,EAuBnB,UAAA1C,KAAK;EAAA,OACL,CAACA,KAAK,CAACkC,WAAP,IACAd,kEAAG,CAAC;IACFuB,OAAO,EAAE,CAAC3C,KAAK,CAACqC,KAAP,GAAe,MAAf,wBAAsCrC,KAAK,CAAC4C,KAAN,CAAYC,MAAZ,CAAmBC,GAAnB,CAAuB,GAAvB,CAAtC,CADP;IAEF,WAAW;MACTH,OAAO,uBAAgB3C,KAAK,CAAC4C,KAAN,CAAYC,MAAZ,CAAmBE,KAAnB,CAAyB,GAAzB,CAAhB;IADE;EAFT,CAAD,CAFE;AAAA,CAvBc,EAkCV,UAAA/C,KAAK;EAAA,OAAIA,KAAK,CAAC4C,KAAN,CAAYC,MAAZ,CAAmBE,KAAnB,CAAyB,GAAzB,CAAJ;AAAA,CAlCK,EA0CnB,UAAA/C,KAAK;EAAA,OACLoB,kEAAG,CAAC;IACF4B,SAAS,EAAEhD,KAAK,CAACiD,eADf;IAEFC,SAAS,EAAElD,KAAK,CAACyC;EAFf,CAAD,CADE;AAAA,CA1Cc,EAmDP,UAAAzC,KAAK;EAAA,OAAIA,KAAK,CAACmD,sBAAV;AAAA,CAnDE,EAoDnB,UAAAnD,KAAK;EAAA,OAAI,CAACA,KAAK,CAACkC,WAAP,sDAAJ;AAAA,CApDc,EAuDnB,UAAAlC,KAAK;EAAA,OAAIA,KAAK,CAACkC,WAAN,wCAAJ;AAAA,CAvDc,EAsEH,UAAAlC,KAAK;EAAA,OAAIA,KAAK,CAAC4C,KAAN,CAAYC,MAAZ,CAAmBO,IAAnB,CAAwB,GAAxB,CAAJ;AAAA,CAtEF,EA0EH,UAAApD,KAAK;EAAA,OAAIA,KAAK,CAAC4C,KAAN,CAAYC,MAAZ,CAAmBO,IAAnB,CAAwB,GAAxB,CAAJ;AAAA,CA1EF,EAoFnB,UAAApD,KAAK;EAAA,OACLA,KAAK,CAACqD,OAAN,KAAkB,YAAlB,IACAjC,kEAAG,CAAC;IACF,kCAAkC;MAChCkC,OAAO,EAAE;IADuB,CADhC;IAIF,wHACE;MACEA,OAAO,EAAE;IADX,CALA;IAQF,kCAAkC;MAChCC,UAAU,EAAE;IADoB;EARhC,CAAD,CAFE;AAAA,CApFc,EA8GnB,UAAAvD,KAAK;EAAA,OACLA,KAAK,CAACwD,iBAAN,IACApC,kEAAG,CAAC;IACFqC,QAAQ,EAAE,QADR;IAEFC,GAAG,EAAE1D,KAAK,CAAC2D,UAAN,IAAoB,CAFvB;IAGFC,SAAS,EAAE5D,KAAK,CAAC6D,cAHf;IAIFC,CAAC,EAAE;EAJD,CAAD,CAFE;AAAA,CA9Gc,EAqIrB,UAAA9D,KAAK;EAAA,OACLA,KAAK,CAAC+D,UAAN,IACA3C,kEAAG,CAAC;IACF4C,aAAa,EAAE,MADb;IAEFC,MAAM,EAAE,aAFN;IAGFC,UAAU,EAAE,SAHV;IAIF,mCAAmC;MACjCA,UAAU,EAAE;IADqB;EAJjC,CAAD,CAFE;AAAA,CArIgB,CAAzB;AAiJA,IAAMC,sBAAsB,GAAG;EAAEC,OAAO,EAAE,yCAAX;EAAsDC,QAAQ,EAAE;AAAhE,CAA/B;AAEA;AACA;AACA;AACA;;IACqBC;;;;;EAyDnB,wBAAYtE,KAAZ,EAAmB;IAAA;;IAAA;;IACjB,0BAAMA,KAAN;;IADiB,2WA2CN,YAAM;MACjB,IAAI,MAAKuE,IAAL,IAAa,MAAKC,SAAL,CAAeC,OAAhC,EAAyC;QACvC;QACA,MAAKD,SAAL,CAAeC,OAAf,CAAuBC,gBAAvB,CAAwC,aAAxC,EAAuD,MAAKC,YAA5D,EAA0E,KAA1E;;QACA,MAAKH,SAAL,CAAeC,OAAf,CAAuBC,gBAAvB,CAAwC,qBAAxC,EAA+D,MAAKE,YAApE;;QACA,MAAKJ,SAAL,CAAeC,OAAf,CAAuBC,gBAAvB,CAAwC,kBAAxC,EAA4D,MAAKG,gBAAjE;;QACA,MAAKL,SAAL,CAAeC,OAAf,CAAuBC,gBAAvB,CAAwC,oBAAxC,EAA8D,MAAKI,gBAAnE;;QACA,MAAKN,SAAL,CAAeC,OAAf,CAAuBC,gBAAvB,CAAwC,iBAAxC,EAA2D,UAAAK,KAAK,EAAI;UAClE,IAAI,MAAK/E,KAAL,CAAWgF,iBAAf,EAAkC;YAChC,MAAKC,sBAAL,CAA4B,MAAKjF,KAAL,CAAWkF,KAAX,IAAoB,MAAKlF,KAAL,CAAWmF,YAA3D;;YACA,MAAKC,SAAL,CAAeL,KAAf;UACD,CAJiE,CAKlE;;;UACA,IAAI,MAAKM,gBAAL,CAAsBZ,OAA1B,EAAmC;YACjC;YACA,IAAMa,SAAS,GAAG,MAAKD,gBAAL,CAAsBZ,OAAtB,CAA8Bc,aAA9B,CAA4C,gCAA5C,CAAlB;;YACAD,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEZ,gBAAX,CAA4B,SAA5B,EAAuC,UAAAc,CAAC,EAAI;cAC1C,IAAIA,CAAC,CAACC,GAAF,KAAU,OAAd,EAAuB;gBACrB,MAAKC,UAAL;cACD;YACF,CAJD;;YAMA,IAAMC,UAAU,GAAG,MAAKN,gBAAL,CAAsBZ,OAAtB,CAA8Bc,aAA9B,CAA4C,mCAA5C,CAAnB;;YACAI,UAAU,SAAV,IAAAA,UAAU,WAAV,YAAAA,UAAU,CAAEjB,gBAAZ,CAA6B,OAA7B,EAAsC,MAAKgB,UAA3C;UACD;QACF,CAlBD,EANuC,CA0BvC;;;QACA,MAAKE,OAAL,GAAe,IAAf;MACD;IACF,CAzEkB;;IAAA,uXA6EM,UAAAV,KAAK,EAAI;MAChC,IAAMW,WAAW,GAAG,IAAIC,MAAJ,sBAAgC,IAAhC,CAApB;MACA,IAAIC,KAAJ;MACA,IAAIC,SAAS,GAAG,CAAhB;;MAEA,OAAQD,KAAK,GAAGF,WAAW,CAACI,IAAZ,CAAiBf,KAAjB,CAAhB,EAA0C;QACxC,IAAIc,SAAS,KAAK,CAAlB,EAAqB;UACnB,MAAKE,SAAL,GAAiBC,QAAjB,CAA0B,EAA1B;QACD;;QACD,IAAMC,MAAM,GAAGL,KAAK,CAAC,CAAD,CAApB;QACA,IAAMtC,QAAQ,GAAGsC,KAAK,CAACM,KAAvB;QACA,IAAMC,OAAO,GAAGpB,KAAK,CAACqB,SAAN,CAAgBP,SAAhB,EAA2BvC,QAA3B,CAAhB;;QACA,MAAKyC,SAAL,GAAiBM,gBAAjB,CAAkC,CAACR,SAAD,EAAYvC,QAAZ,CAAlC;;QACA,MAAKyC,SAAL,GAAiBO,UAAjB,CAA4BH,OAA5B;;QACA,IAAMI,UAAU,GAAG,IAAI,MAAKnC,IAAL,CAAUoC,UAAd,CAAyB;UAAEC,OAAO,EAAER;QAAX,CAAzB,CAAnB;;QACA,MAAKF,SAAL,GAAiBW,gBAAjB,CAAkCH,UAAlC;;QACAV,SAAS,GAAGD,KAAK,CAACM,KAAN,GAAcD,MAAM,CAACU,MAAjC;QACA,IAAMC,QAAQ,GAAG7B,KAAK,CAACqB,SAAN,CAAgBP,SAAhB,EAA2Bd,KAAK,CAAC4B,MAAjC,CAAjB;;QACA,MAAKZ,SAAL,GAAiBO,UAAjB,CAA4BM,QAA5B;MACD;IACF,CAjGkB;;IAAA,0WAmGP,UAAAvB,CAAC,EAAI;MACf,IAAMwB,gBAAgB,oMAAtB;MACA,IAAMC,gBAAgB,6sBAAtB;MAUA,IAAQC,cAAR,GAA2B1B,CAAC,CAAC2B,MAA7B,CAAQD,cAAR;MACA,IAAME,iBAAiB,GAAGF,cAAc,CAAC3B,aAAf,CAA6B,gCAA7B,CAA1B;MACA6B,iBAAiB,CAACC,kBAAlB,CAAqC,UAArC,EAAiDL,gBAAjD;MACA,IAAMM,UAAU,GAAGJ,cAAc,CAAC3B,aAAf,CAA6B,oBAA7B,CAAnB;MACA+B,UAAU,CAACD,kBAAX,CAA8B,UAA9B,EAA0CJ,gBAA1C;IACD,CApHkB;;IAAA,iXAsHA,UAAAzB,CAAC,EAAI;MACtB,IAAQ0B,cAAR,GAA2B1B,CAAC,CAAC2B,MAA7B,CAAQD,cAAR;;MACA,IAAI1B,CAAC,CAAC+B,UAAF,KAAiB,qBAArB,EAA4C;QAC1C,IAAMC,iBAAiB,GAAGN,cAAc,CAAC3B,aAAf,CAA6B,8BAA7B,CAA1B;QACA,IAAMkC,sBAAsB,GAAGP,cAAc,CAAC3B,aAAf,CAA6B,2BAA7B,CAA/B;;QACA,IAAIiC,iBAAiB,CAACE,YAAlB,CAA+B,kBAA/B,MAAuD,EAA3D,EAA+D;UAC7DF,iBAAiB,CAACG,eAAlB,CAAkC,kBAAlC;QACD,CAFD,MAEO;UACLH,iBAAiB,CAACI,YAAlB,CAA+B,kBAA/B,EAAmD,EAAnD;UACAH,sBAAsB,CAACE,eAAvB,CAAuC,UAAvC;QACD;MACF,CATD,MASO,IAAInC,CAAC,CAAC+B,UAAF,KAAiB,aAArB,EAAoC;QAAA;;QACzC,IAAMM,SAAS,4BAAGX,cAAc,CAAC3B,aAAf,CAA6B,2BAA7B,EAA0DL,KAA7D,0DAAG,sBAAiE4C,IAAjE,EAAlB;;QACA,IAAID,SAAJ,EAAe;UACb,MAAKE,WAAL,CAAiBF,SAAjB;QACD;MACF;IACF,CAvIkB;;IAAA,uXAyIM,UAACG,OAAD,EAAU/G,EAAV,EAAiB;MACxC,IAAI+G,OAAO,KAAK,SAAhB,EAA2B;QACzB,iBAAU7D,sBAAsB,CAACC,OAAjC,SAA2CnD,EAA3C;MACD;MAAC;AACN;AACA;MAJI,KAIU,IAAI+G,OAAO,KAAK,UAAhB,EAA4B;QACpC,iBAAU7D,sBAAsB,CAACE,QAAjC,SAA4CpD,EAA5C;MACD,CAFS,MAEH;QACL,OAAO,IAAP;MACD;IACF,CAnJkB;;IAAA,iXAqJA,UAAAgH,SAAS,EAAI;MAC9B,IAAMC,OAAO,GAAG;QACdC,OAAO,EAAE,IAAIrC,MAAJ,CACP,8HADO,EAEP,GAFO,CADK;QAKdsC,KAAK,EAAE,IAAItC,MAAJ,CACL,mGADK,CALO;QAQdzB,QAAQ,EAAE;MARI,CAAhB;;MAUA,KAAK,IAAM2D,OAAX,IAAsBE,OAAtB,EAA+B;QAC7B,IAAMG,OAAO,GAAGH,OAAO,CAACF,OAAD,CAAP,CAAiB/B,IAAjB,CAAsBgC,SAAtB,CAAhB;;QACA,IAAII,OAAJ,EAAa;UACX,IAAIL,OAAO,KAAK,UAAhB,EAA4B;YAC1B,IAAMM,WAAW,GAAGD,OAAO,CAAC,CAAD,CAA3B;YACA,IAAME,SAAS,GAAGF,OAAO,CAAC,CAAD,CAAzB;YACA,IAAMG,UAAU,aAAMF,WAAN,WAAhB;YACA,OAAO;cAAEN,OAAO,EAAPA,OAAF;cAAW/G,EAAE,EAAEsH,SAAS,aAAMC,UAAN,uBAA6BD,SAA7B,IAA2CC;YAAnE,CAAP;UACD,CALD,MAKO;YACL,OAAO;cAAER,OAAO,EAAPA,OAAF;cAAW/G,EAAE,EAAEoH,OAAO,CAACA,OAAO,CAACvB,MAAR,GAAiB,CAAlB;YAAtB,CAAP;UACD;QACF;MACF;;MACD,OAAO,EAAP;IACD,CA9KkB;;IAAA,4WAgLL,UAAAmB,SAAS,EAAI;MACzB,4BAAwB,MAAKQ,gBAAL,CAAsBR,SAAtB,CAAxB;MAAA,IAAQhH,EAAR,yBAAQA,EAAR;MAAA,IAAY+G,OAAZ,yBAAYA,OAAZ;;MACA,IAAMH,SAAS,GAAG,MAAKa,sBAAL,CAA4BV,OAA5B,EAAqC/G,EAArC,CAAlB;;MACA,IAAI4G,SAAJ,EAAe;QACb,IAAMc,aAAa,GAAGd,SAAS,CAACe,OAAV,CAAkB,QAAlB,EAA4B,EAA5B,CAAtB,CADa,CAC0C;;QACvD,IAAMC,aAAa,GAAG,CAAC,SAAD,EAAY,OAAZ,CAAtB;QACA,IAAIC,cAAJ;;QACA,IAAID,aAAa,CAACE,QAAd,CAAuBf,OAAvB,CAAJ,EAAqC;UACnCc,cAAc,GAAG;YACfE,WAAW,EAAE,sBADE;YAEfpC,OAAO,0BAAkB+B,aAAlB;UAFQ,CAAjB;QAID,CALD,MAKO;UACLG,cAAc,GAAG;YACfE,WAAW,2BAAoBhB,OAApB,CADI;YAEfpB,OAAO,0BAAkB+B,aAAlB;UAFQ,CAAjB;QAID;;QAED,MAAKzC,SAAL,GAAiBW,gBAAjB,CAAkC,IAAI,MAAKtC,IAAL,CAAUoC,UAAd,CAAyBmC,cAAzB,CAAlC;MACD;IACF,CArMkB;;IAAA,6WAuMJ,UAAAtD,CAAC,EAAI;MAClB;MACA,MAAKyD,QAAL,GAFkB,CAIlB;;;MACA,IAAI,MAAKjJ,KAAL,CAAWkJ,QAAf,EAAyB;QACvB,MAAKlJ,KAAL,CAAWkJ,QAAX,CAAoB1D,CAApB;MACD,CAPiB,CASlB;;;MACA,IAAI,MAAK2D,KAAL,CAAW9G,KAAf,EAAsB;QACpB,MAAK+G,QAAL,CAAc;UAAE/G,KAAK,EAAE;QAAT,CAAd;MACD;IACF,CApNkB;;IAAA,iXAsNA,UAAAmD,CAAC,EAAI;MACtB,IAAI,CAAC,WAAW6D,IAAX,CAAgB7D,CAAC,CAAC8D,IAAF,CAAOC,IAAvB,CAAL,EAAmC;QACjCC,KAAK,CAAC,6BAAD,CAAL;QACAhE,CAAC,CAACiE,cAAF;MACD,CAHD,MAGO,IAAIjE,CAAC,CAAC8D,IAAF,CAAOI,IAAP,GAAc,OAAlB,EAA2B;QAChC;QACAF,KAAK,CAAC,kCAAD,CAAL;QACAhE,CAAC,CAACiE,cAAF;MACD;IACF,CA/NkB;;IAAA,6WAiOJ,UAAAjE,CAAC,EAAI;MAAA;;MAClB,IAAQkB,UAAR,GAAuBlB,CAAvB,CAAQkB,UAAR;;MACA,IAAMiD,iBAAiB,GAAG,kDAAIjD,UAAJ,EAAgB,sCAAhB,CAA1B;;MACA,IAAMkD,iBAAiB,GACrB,CAAAD,iBAAiB,SAAjB,IAAAA,iBAAiB,WAAjB,YAAAA,iBAAiB,CAAEZ,QAAnB,yBAA4C5E,sBAAsB,CAACC,OAAnE,QACAuF,iBADA,aACAA,iBADA,uBACAA,iBAAiB,CAAEZ,QAAnB,yBAA4C5E,sBAAsB,CAACE,QAAnE,EADA,CADF;;MAGA,IAAIuF,iBAAJ,EAAuB;QACrB;MACD,CAFD,MAEO,IAAI,CAAClD,UAAU,CAAC4C,IAAhB,EAAsB;QAC3B5C,UAAU,CAACmD,MAAX,GAD2B,CACN;;QACrB;MACD;;MAED,8CAAK7J,KAAL,EAAW8J,YAAX,kGAA0B,IAA1B;;MAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAAC,QAAQ;QAAA,OAAItD,UAAU,CAACuD,iBAAX,CAA6BD,QAA7B,CAAJ;MAAA,CAA3B;;MACA,IAAME,SAAS,GAAG,SAAZA,SAAY,CAAAC,OAAO,EAAI;QAAA;;QAC3B,gDAAKnK,KAAL,EAAW8J,YAAX,qGAA0B,KAA1B;QACApD,UAAU,CAAC0D,aAAX,CAAyB;UAAEC,GAAG,EAAEF,OAAP;UAAgBG,IAAI,EAAEH;QAAtB,CAAzB;MACD,CAHD;;MAIA,IAAMI,SAAS,GAAG,SAAZA,SAAY,GAAM;QAAA;;QACtB,gDAAKvK,KAAL,EAAW8J,YAAX,qGAA0B,KAA1B;;QACA,MAAKV,QAAL,CAAc;UAAE/G,KAAK,EAAE;QAAT,CAAd;;QACAqE,UAAU,CAACmD,MAAX;MACD,CAJD;;MAKApI,sEAAkB,CAACiF,UAAU,CAAC4C,IAAZ,EAAkB,MAAKtJ,KAAL,CAAWwK,IAA7B,EAAmC;QAAET,UAAU,EAAVA,UAAF;QAAcG,SAAS,EAATA,SAAd;QAAyBK,SAAS,EAATA;MAAzB,CAAnC,CAAlB;MACA,OAAO/E,CAAP;IACD,CA5PkB;;IAAA,2WA8PN,YAAM;MAAA;;MACjB,IAAMiF,QAAQ,4BAAG,MAAKpF,gBAAL,CAAsBZ,OAAzB,0DAAG,sBAA+Bc,aAA/B,CAA6C,gCAA7C,CAAjB;MACA,IAAMmF,aAAa,GAAGD,QAAH,aAAGA,QAAH,0CAAGA,QAAQ,CAAEvF,KAAb,oDAAG,gBAAiB4C,IAAjB,EAAtB,CAFiB,CAIjB;;MACA,IAAI,CAAC4C,aAAL,EAAoB;QAClB;MACD,CAPgB,CASjB;MACA;;;MACA,IAAIlJ,iDAAK,CAACkJ,aAAD,EAAgB;QAAEC,gBAAgB,EAAE;MAApB,CAAhB,CAAL,IAAqD,CAACnJ,iDAAK,CAACkJ,aAAD,EAAgB;QAAEC,gBAAgB,EAAE;MAApB,CAAhB,CAA/D,EAA4G;QAC1GF,QAAQ,CAACvF,KAAT,qBAA4BwF,aAA5B;MACD;IACF,CA5QkB;;IAAA,kXA4SC,UAAAL,GAAG,EAAI;MACzB,IAAIO,qBAAqB,GAAGP,GAAG,CAACvD,MAAhC;;MAEA,OAAO8D,qBAAqB,GAAG,CAA/B,EAAkC;QAChC,IAAMC,kBAAkB,GAAGD,qBAAqB,GAAG,CAAnD;QACA,IAAME,WAAW,GAAGT,GAAG,CAACQ,kBAAD,CAAvB;QAEA,IAAIE,WAAW,SAAf;;QACA,IAAID,WAAW,KAAK,GAApB,EAAyB;UACvBC,WAAW,GAAG,GAAd;QACD,CAFD,MAEO,IAAID,WAAW,KAAK,GAApB,EAAyB;UAC9BC,WAAW,GAAG,GAAd;QACD,CAFM,MAEA,IAAID,WAAW,KAAK,GAApB,EAAyB;UAC9BC,WAAW,GAAG,GAAd;QACD,CAFM,MAEA,IAAID,WAAW,KAAK,GAApB,EAAyB;UAC9BC,WAAW,GAAG,GAAd;QACD,CAFM,MAEA,IAAID,WAAW,KAAK,GAApB,EAAyB;UAC9BC,WAAW,GAAG,GAAd;QACD,CAf+B,CAiBhC;;;QACA,IAAI,YAAYhC,QAAZ,CAAqBsB,GAAG,CAACQ,kBAAD,CAAxB,CAAJ,EAAmD;UACjDD,qBAAqB;QACtB,CAFD,MAEO,IAAIG,WAAJ,EAAiB;UACtB,IAAIC,OAAO,GAAG,CAAd;UAAA,IACEC,OAAO,GAAG,CADZ;UAGA;AACR;AACA;AACA;AACA;;UAEQ,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,qBAApB,EAA2CM,CAAC,EAA5C,EAAgD;YAC9C,IAAIb,GAAG,CAACa,CAAD,CAAH,KAAWH,WAAf,EAA4B;cAC1BC,OAAO;YACR,CAFD,MAEO,IAAIX,GAAG,CAACa,CAAD,CAAH,KAAWJ,WAAf,EAA4B;cACjCG,OAAO;YACR;UACF;;UAED,IAAID,OAAO,IAAIC,OAAf,EAAwB;YACtB;UACD;;UAEDL,qBAAqB;QACtB,CAvBM,MAuBA;UACL;QACD;MACF;;MAED,OAAOA,qBAAP;IACD,CAhWkB;;IAEjB,MAAKpG,SAAL,gBAAiB7E,4CAAA,EAAjB;IACA,MAAK0F,gBAAL,gBAAwB1F,4CAAA,EAAxB;IACA,MAAKwJ,KAAL,GAAa;MAAElI,EAAE,EAAEjB,KAAK,CAACiB,EAAZ;MAAgBoB,KAAK,EAAE;IAAvB,CAAb;IACA,MAAKuD,OAAL,GAAe,KAAf;;IAEA,IAAI,MAA+B;MACjC,MAAKrB,IAAL,GAAY6G,mBAAO,CAAC,KAAD,CAAnB;MACA,MAAK7G,IAAL,CAAU8G,MAAV,CAAiBC,eAAjB,CAAiCC,QAAjC,GAA4C;QAAEC,OAAO,EAAE;MAAX,CAA5C;MACA,MAAKjH,IAAL,CAAU8G,MAAV,CAAiBI,WAAjB,CAA6BC,OAA7B,CAAqCC,OAArC,GAA+C;QAAEC,IAAI,EAAE,KAAR;QAAelC,IAAI,EAAE;MAArB,CAA/C;IACD;;IAXgB;EAYlB;;;;WAED,6BAAoB;MAClB,IAAI,CAAC,KAAKP,KAAL,CAAWlI,EAAhB,EAAoB;QAClB,KAAKmI,QAAL,CAAc;UAAEnI,EAAE,EAAEM,0DAAI;QAAV,CAAd;MACD,CAFD,MAEO,IAAI,CAAC,KAAKqE,OAAV,EAAmB;QACxB,KAAKiG,UAAL;MACD;IACF;;;WAED,4BAAmBC,QAAnB,EAA6B;MAC3B,IAAI,CAAC,KAAKlG,OAAV,EAAmB;QACjB,KAAKiG,UAAL;MACD,CAFD,MAEO,IAAIC,QAAQ,CAACC,KAAT,KAAmB,KAAK/L,KAAL,CAAW+L,KAAlC,EAAyC;QAC9C,KAAKvH,SAAL,CAAeC,OAAf,CAAuBuH,MAAvB,CAA8B7F,QAA9B,CAAuC,EAAvC;MACD;IACF;;;WAED,gCAAuB;MACrB,IAAI,KAAKP,OAAT,EAAkB;QAChB,KAAKpB,SAAL,CAAeC,OAAf,CAAuBwH,mBAAvB,CAA2C,aAA3C,EAA0D,KAAKtH,YAA/D;QACA,KAAKH,SAAL,CAAeC,OAAf,CAAuBwH,mBAAvB,CAA2C,qBAA3C,EAAkE,KAAKrH,YAAvE;QACA,KAAKJ,SAAL,CAAeC,OAAf,CAAuBwH,mBAAvB,CAA2C,qBAA3C,EAAkE,KAAKpH,gBAAvE;QACA,KAAKL,SAAL,CAAeC,OAAf,CAAuBwH,mBAAvB,CAA2C,oBAA3C,EAAiE,KAAKnH,gBAAtE;MACD;IACF;;;WAED,qBAAY;MACV,OAAO,KAAKN,SAAL,CAAeC,OAAf,CAAuBuH,MAA9B;IACD;;;;IAqOD;IACA,oBAAW;MAAA;;MACT,IAAME,SAAS,GAAG,IAAIpG,MAAJ,8BAAwC,IAAxC,CAAlB;MACA,IAAMkG,MAAM,GAAG,KAAK9F,SAAL,EAAf;MACA,IAAMU,OAAO,GAAGoF,MAAM,CAACG,WAAP,GAAqBC,QAArB,EAAhB;MACA,IAAIrG,KAAJ;;MACA,OAAQA,KAAK,GAAGmG,SAAS,CAACjG,IAAV,CAAeW,OAAf,CAAhB,EAA0C;QACxC,IAAMyD,GAAG,GAAGtE,KAAK,CAAC,CAAD,CAAjB;;QACA,IAAIvE,iDAAK,CAAC6I,GAAD,CAAT,EAAgB;UAAA;YACd,IAAM5G,QAAQ,GAAGsC,KAAK,CAACM,KAAvB;;YACA,IAAMgG,SAAS,GAAG,MAAI,CAACC,iBAAL,CAAuBjC,GAAvB,CAAlB;;YACA,IAAMkC,KAAK,GAAG,CAAC9I,QAAD,EAAWA,QAAQ,GAAG4I,SAAtB,CAAd;YACA,IAAMG,WAAW,GAAGR,MAAM,CAACG,WAAP,GAAqBM,0BAArB,CAAgDF,KAAhD,EAAuDjC,IAA3E;YACA,IAAMoC,MAAM,GAAGrC,GAAG,CAACsC,KAAJ,CAAU,CAAV,EAAaN,SAAb,CAAf;;YACA,IAAIG,WAAW,KAAKE,MAApB,EAA4B;cAC1B,MAAI,CAACE,aAAL,CAAmBZ,MAAnB,EAA2BO,KAA3B,EAAkC,CAAlC,EAAqC,YAAM;gBACzC,IAAIP,MAAM,CAACa,oBAAP,CAA4B,MAA5B,CAAJ,EAAyC;kBACvCb,MAAM,CAACc,iBAAP,CAAyB,MAAzB,EAAiCJ,MAAjC;gBACD;cACF,CAJD;YAKD;UAZa;QAaf;MACF;IACF;IAED;AACF;AACA;AACA;AACA;;;;;IAuDE;IACA,uBAAcV,MAAd,EAAsBO,KAAtB,EAAqD;MAAA,IAAxBQ,MAAwB,uEAAf,CAAe;MAAA,IAAZC,UAAY;MACnD,IAAMC,SAAS,GAAGjB,MAAM,CAACkB,gBAAP,EAAlB;MACAlB,MAAM,CAACxF,gBAAP,CAAwB+F,KAAxB;MACAS,UAAU;MACVhB,MAAM,CAACxF,gBAAP,CAAwB,CAACyG,SAAS,CAAC,CAAD,CAAT,GAAeF,MAAhB,EAAwBE,SAAS,CAAC,CAAD,CAAT,GAAeF,MAAvC,CAAxB;IACD;IAED;;;;WAEA,kBAAS;MACP,mBAmBI,KAAK/M,KAnBT;MAAA,IACEmF,YADF,gBACEA,YADF;MAAA,IAEE3B,iBAFF,gBAEEA,iBAFF;MAAA,IAGEG,UAHF,gBAGEA,UAHF;MAAA,IAIEE,cAJF,gBAIEA,cAJF;MAAA,IAKEV,sBALF,gBAKEA,sBALF;MAAA,IAMEgK,SANF,gBAMEA,SANF;MAAA,IAOEC,WAPF,gBAOEA,WAPF;MAAA,IAQEnK,eARF,gBAQEA,eARF;MAAA,IASEf,WATF,gBASEA,WATF;MAAA,IAUEmL,SAVF,gBAUEA,SAVF;MAAA,IAWEC,QAXF,gBAWEA,QAXF;MAAA,IAYEjL,KAZF,gBAYEA,KAZF;MAAA,IAaEkL,QAbF,gBAaEA,QAbF;MAAA,IAcErI,KAdF,gBAcEA,KAdF;MAAA,IAeE7B,OAfF,gBAeEA,OAfF;MAAA,IAgBEmK,SAhBF,gBAgBEA,SAhBF;MAAA,IAiBEC,SAjBF,gBAiBEA,SAjBF;MAAA,IAkBEhL,eAlBF,gBAkBEA,eAlBF;MAqBA,OAAO,CAAC,KAAK0G,KAAL,CAAWlI,EAAZ,gBACL,wDAAC,qEAAD;QACE,SAAS,EAAEwB,eAAe,GAAGA,eAAe,GAAG,EAArB,GAA0BiL,SADtD;QAEE,MAAM,EAAEzK,eAAe,GAAGA,eAAe,GAAG,EAArB,GAA0B;MAFnD,EADK,gBAML,yDAAC,mBAAD;QACE,iBAAiB,EAAEO,iBADrB;QAEE,UAAU,EAAEG,UAFd;QAGE,cAAc,EAAEE,cAHlB;QAIE,sBAAsB,EAAEV,sBAJ1B;QAKE,eAAe,EAAEF,eALnB;QAME,eAAe,EAAER,eANnB;QAOE,WAAW,EAAEP,WAPf;QAQE,OAAO,EAAEmB,OARX;QASE,UAAU,EAAEiK,QATd;QAUE,KAAK,EAAEjL,KAVT;QAWE,WAAS,KAAKrC,KAAL,CAAW,SAAX,CAXX;QAYE,GAAG,EAAE,KAAKqF,gBAZZ;QAAA,WAcG,KAAK8D,KAAL,CAAW9G,KAAX,iBACC,wDAAC,6DAAD;UAAY,IAAI,EAAC,OAAjB;UAAyB,EAAE,EAAC,MAA5B;UAAmC,QAAQ,MAA3C;UAAA,UACG,KAAK8G,KAAL,CAAW9G,KAAX,CAAiB+J,QAAjB;QADH,EAfJ,eAmBE;UAAO,EAAE,EAAE,KAAKjD,KAAL,CAAWlI,EAAtB;UAA0B,KAAK,EAAEiE,KAAK,IAAIC,YAA1C;UAAwD,IAAI,EAAC,QAA7D;UAAsE,IAAI,EAAEkI;QAA5E,EAnBF,eAoBE,wDAAC,8DAAD;UAAa,QAAQ,EAAEE,QAAvB;UAAA,UACG,CAACC,SAAD,gBACC;YACE,GAAG,EAAE,KAAKhJ,SADZ;YAEE,KAAK,EAAE,KAAK2E,KAAL,CAAWlI,EAFpB;YAGE,SAAS,EAAEkM,SAAS,GAAG,IAAH,GAAUO,SAHhC;YAIE,WAAW,EAAEN;UAJf,EADD,gBAQC,yDAAC,4DAAD;YAAW,QAAQ,EAAC,UAApB;YAAA,wBACE;cACE,GAAG,EAAE,KAAK5I,SADZ;cAEE,KAAK,EAAE,KAAK2E,KAAL,CAAWlI,EAFpB;cAGE,SAAS,EAAEkM,SAAS,GAAG,IAAH,GAAUO,SAHhC;cAIE,WAAW,EAAEN;YAJf,EADF,eAOE,wDAAC,4DAAD;cAAW,QAAQ,EAAC,UAApB;cAA+B,MAAM,EAAC,KAAtC;cAA4C,KAAK,EAAC,KAAlD;cAAA,uBACE,yDAAC,4DAAD;gBAAW,aAAa,EAAC,WAAzB;gBAAA,wBACE;kBAAA,UAAOzL,gEAAS,CAACuD,KAAK,IAAIC,YAAV,CAAT,CAAiC2B;gBAAxC,EADF,EAEG2G,SAAS,iBAAI;kBAAA,kBAAUA,SAAV;gBAAA,EAFhB;cAAA;YADF,EAPF;UAAA;QATJ,EApBF;MAAA,EANF;IAqDD;;;;EAhfyC9N;;uKAAvB2E,gCA8CG;EACpBd,iBAAiB,EAAE,KADC;EAEpBG,UAAU,EAAE,CAFQ;EAGpBE,cAAc,EAAE,CAAC,EAHG;EAGC;EACrBwJ,SAAS,EAAE,SAJS;EAKpBlK,sBAAsB,EAAE,OALJ;EAMpBE,OAAO,EAAE,SANW;EAOpB,WAAW,gBAPS;EAQpB2B,iBAAiB,EAAE;AARC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrNxB;;IAEqB+I;EACnB,yBAAkD;IAAA,IAAtCC,MAAsC,uEAA7B,IAA6B;IAAA,IAAvBC,cAAuB,uEAAN,IAAM;;IAAA;;IAChD,KAAKD,MAAL,GAAcA,MAAd;IACA,KAAKE,UAAL,GAAkB,uDAAS,KAAKA,UAAd,EAA0BD,cAA1B,CAAlB;EACD;;;;WAED,mBAAUD,MAAV,EAAkB;MAChB,KAAKA,MAAL,uBAA2BA,MAA3B;IACD;;;WAED,oBAAWG,MAAX,EAAmB;MACjB,IAAI,KAAKH,MAAT,EAAiB;QACfF,yEAAe,CAAC,KAAKE,MAAN,EAAcI,IAAI,CAACC,SAAL,CAAeF,MAAf,CAAd,CAAf;MACD;IACF;;;WAED,sBAAa;MACX,IAAI,KAAKH,MAAT,EAAiB;QACf,IAAMM,eAAe,GAAGV,6EAAmB,CAAC,KAAKI,MAAN,CAA3C;;QACA,IAAIM,eAAJ,EAAqB;UACnB,OAAOF,IAAI,CAACG,KAAL,CAAWD,eAAX,CAAP;QACD;MACF;;MACD,OAAO,IAAP;IACD;;;WAED,uBAAc;MACZ,IAAI,KAAKN,MAAT,EAAiB;QACfH,gFAAsB,CAAC,KAAKG,MAAN,CAAtB;MACD;IACF;;;;;;;;;;;;;;;;;;;;AClCH;AACA;AAEA;AACA;AACA;AACA;AACA;;AACA,IAAMS,YAAY,GAAG,SAAfA,YAAe,GAA6B;EAAA,+EAAP,EAAO;EAAA,wBAA1BC,OAA0B;EAAA,IAA1BA,OAA0B,6BAAhB,IAAgB;;EAChD,sBAA8B/O,2CAAA,EAA9B;EAAA;EAAA,IAAOiP,QAAP;EAAA,IAAiBC,SAAjB;;EACA,uBAAwDlP,2CAAA,EAAxD;EAAA;EAAA,IAAOmP,oBAAP;EAAA,IAA6BC,uBAA7B;;EACA,OAAO;IACLH,QAAQ,EAARA,QADK;IAELJ,IAAI,EAAE,cAAAtJ,KAAK,EAAI;MACbsJ,wDAAI,CAACtJ,KAAD,CAAJ;;MACA2J,SAAS,CAAC,IAAD,CAAT;;MAEA,IAAIC,oBAAJ,EAA0B;QACxBE,YAAY,CAACF,oBAAD,CAAZ;MACD;;MAED,IAAMG,SAAS,GAAGC,UAAU,CAAC,YAAM;QACjCL,SAAS,CAAC,KAAD,CAAT;MACD,CAF2B,EAEzBH,OAFyB,CAA5B;MAIAK,uBAAuB,CAACE,SAAD,CAAvB;IACD;EAfI,CAAP;AAiBD,CApBD;;AAsBA,yDAAeR,YAAf;;;;;;;;;;;;AC9BA;AAEA;AACA;AACA;;AACO,IAAM/M,kBAAkB,GAAGN,gEAAH,kRAAxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACLP;AAEA;AAEA;AAEA;AACA;AACA;AACA;;;;AAEA,IAAMkO,6BAA6B,GAAG,SAAhCA,6BAAgC,OAAwB;EAAA,IAArBC,cAAqB,QAArBA,cAAqB;EAC5D,oBACE,oBAAC,iCAAD;IAAoB,SAAS,EAAEJ,qFAA/B;IAAA,UACG;MAAA,IAAGM,OAAH,SAAGA,OAAH;MAAA,oBACC,qBAAC,yBAAD;QAAY,IAAI,EAAC,MAAjB;QAAwB,EAAE,EAAE,CAA5B;QAA+B,EAAE,EAAE,CAAnC;QAAsC,EAAE,EAAE,CAA1C;QAAA,wBACE,oBAAC,MAAD;UAAG,QAAQ,EAAC,MAAZ;UAAmB,UAAU,EAAC,MAA9B;UAAqC,KAAK,EAAC,WAA3C;UAAuD,EAAE,EAAE,EAA3D;UAA+D,WAAQ,qBAAvE;UAAA,uBACE,oBAAC,sBAAD;YACE,EAAE,gCADJ;YAEE,cAAc;cAAA;cAAA;YAAA;cAAA;cAAA;YAAA;cAAA;cAAA;YAAA,EAFhB;YAGE,MAAM,EAAE;cAAEC,UAAU,eAAE;gBAAA,UAASH;cAAT;YAAd;UAHV;QADF,EADF,eAQE,oBAAC,2BAAD;UACE,MAAM,MADR;UAEE,OAAO,EAAEE,OAFX;UAGE,QAAQ,EAAC,MAHX;UAIE,WAAQ,6BAJV;UAKE,KAAK,EAAC,UALR;UAME,UAAU,EAAC,MANb;UAOE,EAAE,EAAE,EAPN;UAQE,EAAE,EAAE,CARN;UAAA,uBAUE,oBAAC,sBAAD;YAAkB,EAAE,iCAApB;YAAqD,cAAc;cAAA;cAAA;YAAA;UAAnE;QAVF,EARF;MAAA,EADD;IAAA;EADH,EADF;AA2BD,CA5BD;;;;;;;;;;;;;;;;AAkCA,2EAAeH,6BAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7CA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAEA,IAAMe,oBAAoB,GAAG,SAAvBA,oBAAuB,OAA6B;EAAA,IAA1BC,SAA0B,QAA1BA,SAA0B;EAAA,IAAfpH,SAAe,QAAfA,QAAe;;EACxD,sBAAoCvJ,cAAA,CAAe,CAAC,CAAC2Q,SAAjB,CAApC;EAAA;EAAA,IAAOC,WAAP;EAAA,IAAoBC,YAApB;;EAEA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAF,WAAW,EAAI;IACxC,IAAI,CAACA,WAAL,EAAkB;MAChBrH,SAAQ,CAAC,IAAD,CAAR;IACD;;IACDsH,YAAY,CAACD,WAAD,CAAZ;EACD,CALD;;EAOA,oBACE,qBAAC,gBAAD;IAAK,EAAE,EAAC,MAAR;IAAA,wBACE,oBAAC,uBAAD;MAAU,IAAI,EAAC,KAAf;MAAqB,WAAW,EAAC,WAAjC;MAA6C,EAAE,EAAE;IAAjD,EADF,eAGE,oBAAC,MAAD;MAAG,KAAK,EAAC,WAAT;MAAqB,UAAU,EAAC,KAAhC;MAAsC,QAAQ,EAAC,MAA/C;MAAsD,UAAU,EAAC,MAAjE;MAAA,uBACE,oBAAC,sBAAD;QAAkB,EAAE,2CAApB;QAA+D,cAAc;UAAA;UAAA;QAAA;MAA7E;IADF,EAHF,eAOE,oBAAC,MAAD;MAAG,EAAE,EAAE,CAAP;MAAA,uBACE,oBAAC,6BAAD;QACE,IAAI,EAAC,KADP;QAEE,KAAK,eACH,oBAAC,iBAAD;UAAM,KAAK,EAAC,WAAZ;UAAwB,UAAU,EAAC,KAAnC;UAAyC,UAAU,EAAC,MAApD;UAAA,uBACE,oBAAC,sBAAD;YACE,EAAE,iDADJ;YAEE,cAAc;cAAA;cAAA;YAAA;UAFhB;QADF,EAHJ;QAUE,IAAI,EAAC,MAVP;QAWE,QAAQ,EAAC,MAXX;QAYE,OAAO,EAAEA,WAZX;QAaE,QAAQ,EAAE;UAAA,IAAGG,OAAH,SAAGA,OAAH;UAAA,OAAiBD,kBAAkB,CAACC,OAAD,CAAnC;QAAA;MAbZ;IADF,EAPF,EAyBGH,WAAW,iBACV,qBAAC,iBAAD;MAAM,aAAa,EAAE,CAAC,QAAD,EAAW,KAAX,CAArB;MAAwC,EAAE,EAAE,CAA5C;MAAA,wBACE,oBAAC,gBAAD;QAAK,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAAT;QAAiB,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAArB;QAAA,uBACE,oBAAC,+BAAD;UACE,IAAI,EAAC,WADP;UAEE,OAAO,EAAC,WAFV;UAGE,KAAK,eAAE,oBAAC,sBAAD;YAAkB,EAAE,aAApB;YAAiC,cAAc;cAAA;cAAA;YAAA;UAA/C,EAHT;UAIE,aAAa,EAAC,MAJhB;UAKE,eAAe,EAAE,GALnB;UAME,QAAQ,MANV;UAAA,UAQG,kBAAAI,UAAU;YAAA,oBACT,oBAAC,4BAAD,kCACMA,UADN;cAEE,OAAO,EAAEd,wCAFX;cAGE,QAAQ,EAAE;gBAAA,IAAUe,QAAV,SAAG1L,KAAH;gBAAA,OAAyBgE,SAAQ,iCAAMoH,SAAN;kBAAiBM,QAAQ,EAARA;gBAAjB,GAAjC;cAAA,CAHZ;cAIE,aAAa,EAAC,MAJhB;cAKE,KAAK,EAAEf,kDAAA,CAA8B,UAAA3E,CAAC;gBAAA,OAAIA,CAAC,CAAChG,KAAF,MAAYoL,SAAZ,aAAYA,SAAZ,uBAAYA,SAAS,CAAEM,QAAvB,CAAJ;cAAA,CAA/B,CALT;cAME,YAAY,EAAE;YANhB,GADS;UAAA;QARb;MADF,EADF,eAsBE,oBAAC,gBAAD;QAAA,uBACE,oBAAC,+BAAD;UACE,IAAI,EAAC,QADP;UAEE,OAAO,EAAC,QAFV;UAGE,KAAK,eAAE,oBAAC,sBAAD;YAAkB,EAAE,WAApB;YAA+B,cAAc;cAAA;cAAA;YAAA;UAA7C,EAHT;UAIE,aAAa,EAAC,MAJhB;UAKE,eAAe,EAAE,GALnB;UAME,QAAQ,EAAE,KANZ;UAAA,UAQG,kBAAAD,UAAU;YAAA,oBACT,oBAAC,2BAAD,kCACMA,UADN;cAEE,IAAI,EAAC,MAFP;cAGE,QAAQ,EAAE,kBAAA5L,KAAK;gBAAA,OAAImE,SAAQ,iCAAMoH,SAAN;kBAAiBQ,MAAM,EAAEnB,uCAAgB,CAAC5K,KAAK,CAACoC,MAAN,CAAajC,KAAd;gBAAzC,GAAZ;cAAA,CAHjB;cAIE,aAAa,EAAC,MAJhB;cAKE,MAAM,EAAC,MALT;cAME,KAAK,EAAC,MANR;cAOE,KAAK,EAAE,CAAAoL,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEQ,MAAX,KAAqBlB,mCAAY,CAACU,SAAS,CAACQ,MAAX,CAP1C;cAQE,GAAG,EAAElB,mCAAY,CAAC,IAAImB,IAAJ,EAAD;YARnB,GADS;UAAA;QARb;MADF,EAtBF;IAAA,EA1BJ;EAAA,EADF;AA4ED,CAtFD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA,kEAAeV,oBAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/GA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAEA,IAAMiD,KAAK,GAAG,4DAAKhB,sCAAR;EAA4BiB,OAAO,EAAE;AAArC,EAAX;;IAEMC;;;;;EAoEJ,2BAAYxT,KAAZ,EAAmB;IAAA;;IAAA;;IACjB,0BAAMA,KAAN;;IADiB;MAAA,+EAyFJ,iBAAMyT,OAAN;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA;;gBAAA,KAEPA,OAAO,CAACC,KAAR,CAAcC,QAFP;kBAAA;kBAAA;gBAAA;;gBAGHC,YAHG,GAGY,eAAKH,OAAL,EAAc,CACjC,aADiC,EAEjC,iBAFiC,EAGjC,MAHiC,EAIjC,MAJiC,EAKjC,gBALiC,EAMjC,aANiC,EAOjC,eAPiC,EAQjC,OARiC,EASjC,eATiC,EAUjC,eAViC,EAWjC,cAXiC,CAAd,CAHZ;gBAgBTG,YAAY,CAAC,OAAD,CAAZ,GAAwB,eAAKH,OAAO,CAACC,KAAb,EAAoB,CAAC,IAAD,EAAO,MAAP,EAAe,MAAf,EAAuB,OAAvB,EAAgC,UAAhC,EAA4C,cAA5C,CAApB,CAAxB;gBAhBS;gBAAA,OAiBY,MAAK1T,KAAL,CAAW6T,yBAAX,CAAqC;kBACxDC,SAAS,EAAE;oBACTC,OAAO,EAAE;sBAAE9S,EAAE,EAAE,MAAKjB,KAAL,CAAWgU,IAAX,CAAgBD,OAAhB,CAAwB9S;oBAA9B,CADA;oBAETwS,OAAO,EAAEG;kBAFA;gBAD6C,CAArC,CAjBZ;;cAAA;gBAiBHK,MAjBG;;gBAuBT,IAAI,MAAK9K,KAAL,CAAW+K,aAAf,EAA8B;kBAC5B,MAAK/K,KAAL,CAAW+K,aAAX,CAAyBC,WAAzB;gBACD,CAzBQ,CA2BT;;;gBACMC,eA5BG,GA4BeH,MAAM,CAACD,IAAP,CAAYH,yBAAZ,CAAsCQ,QA5BrD;gBAAA,cA6B8C,MAAKrU,KA7BnD,EA6BDsU,cA7BC,eA6BDA,cA7BC,EA6BeC,oBA7Bf,eA6BeA,oBA7Bf,EA6BqCP,IA7BrC,eA6BqCA,IA7BrC;gBA8BHQ,yBA9BG,GA8ByBD,oBAAoB,aAAMA,oBAAN,SAAgC,EA9B7E;gBA+BHE,cA/BG,GA+BcF,oBAAoB,GAAG/C,kDAAuB,CAACwC,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAED,OAAP,CAA1B,GAA4CrG,SA/B9E;gBAgCHgH,mBAhCG,GAgCmBD,cAAc,aAAMA,cAAN,SAA0B,EAhC3D;gBAAA;gBAAA,OAiCH,MAAKzU,KAAL,CAAW2U,MAAX,CAAkBC,IAAlB,WACDJ,yBADC,SAC2BE,mBAD3B,SACiDJ,cADjD,uBAC4EF,eAD5E,EAjCG;;cAAA;gBAAA;gBAAA;;cAAA;gBAqCT,MAAKhL,QAAL,CAAc;kBAAEqK,OAAO,EAAPA,OAAF;kBAAWoB,IAAI,EAAEvB,KAAK,CAACC,OAAvB;kBAAgCuB,aAAa,EAAE;gBAA/C,CAAd;;cArCS;gBAAA;gBAAA;;cAAA;gBAAA;gBAAA;;gBAwCX,MAAK9U,KAAL,CAAW+U,QAAX,CAAoB;kBAAExL,IAAI,EAAE4J,+CAAR;kBAA0B8B,OAAO,EAAEtD,uCAAoB,CAAC,MAAK3R,KAAL,CAAWkV,IAAZ;gBAAvD,CAApB;;cAxCW;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAzFI;;MAAA;QAAA;MAAA;IAAA;;IAAA,qKAqID;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;;cAEd,MAAK9L,QAAL,CAAc;gBAAE+L,YAAY,EAAE,IAAhB;gBAAsB9S,KAAK,EAAE;cAA7B,CAAd;;cAFc,cAGiB,MAAK8G,KAHtB,EAGNsK,OAHM,eAGNA,OAHM,EAGGnD,SAHH,eAGGA,SAHH;cAAA;cAAA,OAIO,MAAKtQ,KAAL,CAAWoV,aAAX,CAAyB;gBAC5CtB,SAAS,EAAE;kBACTC,OAAO,EAAE;oBAAE9S,EAAE,EAAE,MAAKjB,KAAL,CAAWgU,IAAX,CAAgBD,OAAhB,CAAwB9S;kBAA9B,CADA;kBAETwS,OAAO,EAAElB,+CAAuB,CAACkB,OAAD,CAFvB;kBAGTnD,SAAS,EAATA;gBAHS;cADiC,CAAzB,CAJP;;YAAA;cAIR2D,MAJQ;;cAYd;cACA,IAAI,MAAK9K,KAAL,CAAW+K,aAAf,EAA8B;gBAC5B,MAAK/K,KAAL,CAAW+K,aAAX,CAAyBC,WAAzB;cACD,CAfa,CAiBd;;;cACMC,eAlBQ,GAkBUH,MAAM,CAACD,IAAP,CAAYoB,aAAZ,CAA0Bf,QAlBpC;cAAA,eAmByC,MAAKrU,KAnB9C,EAmBNsU,cAnBM,gBAmBNA,cAnBM,EAmBUC,oBAnBV,gBAmBUA,oBAnBV,EAmBgCP,IAnBhC,gBAmBgCA,IAnBhC;cAoBRQ,yBApBQ,GAoBoBD,oBAAoB,aAAMA,oBAAN,SAAgC,EApBxE;cAqBRE,cArBQ,GAqBSF,oBAAoB,GAAG/C,kDAAuB,CAACwC,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAED,OAAP,CAA1B,GAA4CrG,SArBzE;cAsBRgH,mBAtBQ,GAsBcD,cAAc,aAAMA,cAAN,SAA0B,EAtBtD;cAAA;cAAA,OAuBR,MAAKzU,KAAL,CAAW2U,MAAX,CAAkBC,IAAlB,WACDJ,yBADC,SAC2BE,mBAD3B,SACiDJ,cADjD,uBAC4EF,eAD5E,EAvBQ;;YAAA;cA0Bd,MAAKpU,KAAL,CAAW+U,QAAX,CAAoB;gBAClBxL,IAAI,EAAE4J,mDADY;gBAElBnS,KAAK,eAAE,oBAAC,sBAAD;kBAAkB,EAAE,qBAApB;kBAAyC,cAAc;oBAAA;oBAAA;kBAAA;gBAAvD,EAFW;gBAGlBiU,OAAO,eACL,oBAAC,sBAAD;kBAAkB,EAAE,uBAApB;kBAA2C,cAAc;oBAAA;oBAAA;kBAAA;gBAAzD;cAJgB,CAApB;;cAOAK,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;cAjCc;cAAA;;YAAA;cAAA;cAAA;;cAmCd,MAAKvV,KAAL,CAAW+U,QAAX,CAAoB;gBAAExL,IAAI,EAAE4J,+CAAR;gBAA0B8B,OAAO,EAAEtD,uCAAoB,CAAC,MAAK3R,KAAL,CAAWkV,IAAZ;cAAvD,CAApB;;cACA,MAAK9L,QAAL,CAAc;gBAAE+L,YAAY,EAAE;cAAhB,CAAd;;YApCc;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CArIC;;IAAA,mFA6KF,UAAA3P,CAAC,EAAI;MACpB,IAAMoG,IAAI,GAAGpG,CAAC,CAAC2B,MAAF,CAASyE,IAAtB;MACA,IAAM1G,KAAK,GAAGM,CAAC,CAAC2B,MAAF,CAASjC,KAAvB;;MACA,MAAKkE,QAAL,CAAc,UAAAD,KAAK;QAAA,OAAK;UAAEsK,OAAO,EAAE,4DAAKtK,KAAK,CAACsK,OAAb,oCAAuB7H,IAAvB,EAA8B1G,KAA9B;QAAT,CAAL;MAAA,CAAnB;IACD,CAjLkB;;IAEjB,MAAKsQ,UAAL,gBAAkB7V,eAAA,EAAlB;IACA,MAAKwJ,KAAL,GAAa;MACX0L,IAAI,EAAEvB,KAAK,CAACmC,KADD;MAEXhC,OAAO,EAAE,IAFE;MAGX0B,YAAY,EAAE,KAHH;MAIXjB,aAAa,EAAE,IAJJ;MAKXY,aAAa,EAAE,IALJ;MAMXxE,SAAS,EAAE;IANA,CAAb;IAHiB;EAWlB;;;;;mGAED;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA,KAEM,KAAKoF,eAAL,EAFN;kBAAA;kBAAA;gBAAA;;gBAAA;;cAAA;gBAME;gBACA,IAAI,KAAK1V,KAAL,CAAW2V,YAAf,EAA6B;kBAC3B,KAAK3V,KAAL,CAAWgU,IAAX,CAAgB4B,OAAhB;kBACA,KAAKC,iBAAL;gBACD;;gBAVH,eAY2B,KAAK7V,KAZhC,EAYU2U,MAZV,gBAYUA,MAZV,EAYkBX,IAZlB,gBAYkBA,IAZlB;gBAaQD,OAbR,GAakBC,IAblB,aAakBA,IAblB,uBAakBA,IAAI,CAAED,OAbxB;gBAcEjC,+CAAuB,CAAC6C,MAAD,EAASZ,OAAT,EAAkB,eAAlB,CAAvB;;cAdF;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;;;;;;;;;;;oGAiBA,kBAAyBjI,QAAzB,EAAmCgK,QAAnC;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA,KAEM,KAAKJ,eAAL,EAFN;kBAAA;kBAAA;gBAAA;;gBAAA;;cAAA;gBAME;gBACA,IAAI,CAAC5J,QAAQ,CAAC6J,YAAV,IAA0B,KAAK3V,KAAL,CAAW2V,YAAzC,EAAuD;kBACrD,KAAK3V,KAAL,CAAWgU,IAAX,CAAgB4B,OAAhB;gBACD,CATH,CAWE;;;gBACA,IAAI,CAAC,KAAKzM,KAAL,CAAW+K,aAAZ,IAA6B,mBAAApI,QAAQ,CAACkI,IAAT,2FAAeD,OAAf,gFAAwB9S,EAAxB,2BAA+B,KAAKjB,KAAL,CAAWgU,IAA1C,8EAA+B,iBAAiBD,OAAhD,0DAA+B,sBAA0B9S,EAAzD,CAAjC,EAA8F;kBAC5F,KAAK4U,iBAAL;gBACD,CAdH,CAgBE;;;gBACA,IAAIC,QAAQ,CAACjB,IAAT,KAAkB,KAAK1L,KAAL,CAAW0L,IAA7B,IAAqC,KAAKW,UAAL,CAAgB/Q,OAAzD,EAAkE;kBAChE,KAAK+Q,UAAL,CAAgB/Q,OAAhB,CAAwBsR,cAAxB,CAAuC;oBAAEC,QAAQ,EAAE;kBAAZ,CAAvC;gBACD;;cAnBH;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;;;;;;;;;;WAsBA,yBAAgBtG,UAAhB,EAA4B;MAC1B,IAAMuG,YAAY,GAAG1E,oDAAyB,CAAC7B,UAAD,CAA9C;MACA,IAAMwG,YAAY,aAAMnE,qDAA6B,CAACrC,UAAD,CAAnC,kBAAlB;;MACA,IAAIA,UAAJ,EAAgB;QACd,OAAO,4DAAKuG,YAAZ;UAA0BjV,KAAK,YAAK0O,UAAU,CAAC9D,IAAhB,mBAA/B;UAAqEsK,YAAY,EAAZA;QAArE;MACD,CAFD,MAEO;QACL,OAAO,4DAAKD,YAAZ;UAA0BjV,KAAK,eAA/B;UAAgDkV,YAAY,EAAZA;QAAhD;MACD;IACF;;;WAED,8BAAqB;MACnB,mBAA+B,KAAKlW,KAApC;MAAA,IAAQ2V,YAAR,gBAAQA,YAAR;MAAA,IAAsB3B,IAAtB,gBAAsBA,IAAtB;;MACA,IAAIA,IAAI,CAACD,OAAL,IAAgB4B,YAApB,EAAkC;QAChC,OAAO,IAAI5H,6BAAJ,mBAA6BiG,IAAI,CAACD,OAAL,CAAa9S,EAA1C,cAAgD0U,YAAY,CAAC1U,EAA7D,EAAP;MACD;IACF;;;WAED,2BAAkB;MAChB,IAAQ0T,MAAR,GAAmB,KAAK3U,KAAxB,CAAQ2U,MAAR;;MACA,IAAI3C,gCAAc,CAAC2C,MAAM,CAACwB,KAAP,CAAaC,SAAd,CAAlB,EAA4C;QAC1C,IAAMlC,aAAa,GAAG,KAAKmC,kBAAL,EAAtB;;QACA,IAAInC,aAAJ,EAAmB;UACjBA,aAAa,CAACC,WAAd;;UACA,IAAMgC,KAAK,GAAG,eAAKxB,MAAM,CAACwB,KAAZ,EAAmB,CAAC,WAAD,CAAnB,CAAd;;UACA,IAAMG,OAAO,GAAG3B,MAAM,CAAC4B,MAAP,CAAcC,KAAd,CAAoB,GAApB,EAAyB,CAAzB,CAAhB;UACA,OAAO7B,MAAM,CAACC,IAAP,CAAY;YAAE6B,QAAQ,EAAE,iBAAZ;YAA+BN,KAAK,EAALA;UAA/B,CAAZ,EAAoDG,OAApD,EAA6D;YAAEI,OAAO,EAAE;UAAX,CAA7D,CAAP;QACD;MACF;IACF;;;WAED,6BAAoB;MAClB,IAAMxC,aAAa,GAAG,KAAKmC,kBAAL,EAAtB;;MACA,IAAInC,aAAJ,EAAmB;QACjB,KAAK9K,QAAL,CAAc;UAAE8K,aAAa,EAAbA;QAAF,CAAd;MACD;IACF;;;WA4FD,0BAAiBxE,UAAjB,EAA6B;MAC3B,IAAMiH,SAAS,GAAIjH,UAAU,IAAIA,UAAU,CAACkH,YAA1B,IAA2C,IAA7D;MACA,OAAOD,SAAS,IAAIA,SAAS,CAACE,GAAV,CAAc;QAAA,IAAGC,GAAH,SAAGA,GAAH;QAAA,OAAaA,GAAb;MAAA,CAAd,CAApB;IACD;;;WAED,kBAAS;MAAA;MAAA;MAAA;;MACP,mBAA4E,KAAK9W,KAAjF;MAAA,IAAQsU,cAAR,gBAAQA,cAAR;MAAA,IAAwBN,IAAxB,gBAAwBA,IAAxB;MAAA,IAA8B2B,YAA9B,gBAA8BA,YAA9B;MAAA,IAA4CoB,mBAA5C,gBAA4CA,mBAA5C;MAAA,IAAiEpC,MAAjE,gBAAiEA,MAAjE;MACA,IAAQE,IAAR,GAAiB,KAAK1L,KAAtB,CAAQ0L,IAAR;;MAEA,IAAI,CAACb,IAAI,CAACgD,OAAV,EAAmB;QACjB,IAAI,CAAChD,IAAD,IAASA,IAAI,CAAC3R,KAAlB,EAAyB;UACvB,oBAAO,oBAAC,wBAAD;YAAW,IAAI,EAAE2R;UAAjB,EAAP;QACD,CAFD,MAEO,IAAI,CAACA,IAAI,CAACD,OAAV,EAAmB;UACxB,oBAAO,oBAAC,wBAAD;YAAW,KAAK,EAAErC,wCAAqB,CAAC4C,cAAD,CAAvC;YAAyD,GAAG,EAAE;UAA9D,EAAP;QACD,CAFM,MAEA,IACL,CAAClD,oCAAU,CAAC4C,IAAI,CAACD,OAAN,EAAe1C,mEAAf,CAAX,IACA2C,IAAI,CAACD,OAAL,CAAamD,qBAAb,CAAmCpQ,MAAnC,KAA8C,CAFzC,EAGL;UACA,oBAAO,oBAAC,sCAAD,KAAP;QACD,CALM,MAKA,IAAIkN,IAAI,CAACD,OAAL,CAAaoD,UAAjB,EAA6B;UAClC,oBAAO,oBAAC,sCAAD;YAAyB,sBAAsB,EAAE;UAAjD,EAAP;QACD;MACF;;MAED,IAAMzH,UAAU,GAAGsE,IAAI,IAAIA,IAAI,CAACD,OAAhC;MACA,IAAMqD,IAAI,GAAG1H,UAAU,IAAIA,UAAU,CAAC0H,IAAtC;MACA,IAAMC,eAAe,GAAGrD,IAAI,IAAIA,IAAI,CAACqD,eAArC;MAEA,IAAMC,cAAc,GAAG1F,sCAAiB,CAACyF,eAAD,CAAxC;MAEA,oBACE,oBAAC,mBAAD;QAAM,UAAU,EAAE3H;MAAlB,GAAkC,KAAK6H,eAAL,CAAqB7H,UAArB,CAAlC;QAAA,UACG,CAAC4B,mDAAwB,CAAC5B,UAAD,EAAaiG,YAAb,CAAzB,gBACC,oBAAC,iBAAD;UAAM,cAAc,EAAC,QAArB;UAA8B,CAAC,EAAE,CAAjC;UAAA,uBACE,oBAAC,yBAAD;YAAY,IAAI,EAAC,OAAjB;YAAyB,QAAQ,MAAjC;YAAA,uBACE,oBAAC,sBAAD;cACE,EAAE,4BADJ;cAEE,cAAc;gBAAA;gBAAA;cAAA;YAFhB;UADF;QADF,EADD,gBAUC,qBAAC,cAAD;UAAA,wBACE,oBAAC,gCAAD;YACE,UAAU,EAAEjG,UADd;YAEE,SAAS,EAAE,CAACA,UAFd;YAGE,aAAa,EAAE;cAAE8H,gBAAgB,EAAE,KAApB;cAA2BC,eAAe,EAAE;YAA5C;UAHjB,EADF,eAME,qBAAC,wBAAD;YAAW,QAAQ,EAAC,UAApB;YAA+B,SAAS,EAAE,CAAC,IAAD,EAAO,GAAP,CAA1C;YAAuD,GAAG,EAAE,KAAKjC,UAAjE;YAAA,WACG,CAACuB,mBAAD,IAAwB,CAACpB,YAAzB,iBACC,oBAAC,+BAAD;cACE,EAAE,EAAE,CAAC,CAAD,EAAI,IAAJ,EAAU,CAAV,CADN;cAEE,GAAG,EAAC,GAFN;cAGE,QAAQ,EAAE,CAAC,OAAD,EAAU,IAAV,EAAgB,UAAhB,CAHZ;cAIE,cAAc,EAAE,CAAC,QAAD,EAAW,IAAX,EAAiB,YAAjB,CAJlB;cAAA,uBAME,oBAAC,gDAAD;gBAAA,uBACE,oBAAC,gCAAD;kBACE,UAAU,EAAE,KADd;kBAEE,cAAc,EAAE,KAFlB;kBAGE,UAAU,MAHZ;kBAIE,MAAM,EAAE;oBAAE+B,IAAI,iCAA0BC,kBAAkB,CAAChD,MAAM,CAAC4B,MAAR,CAA5C;kBAAN;gBAJV;cADF;YANF,EAFJ,eAkBE,oBAAC,gBAAD;cAAK,QAAQ,EAAErE,iEAAf;cAA6C,CAAC,EAAC,QAA/C;cAAwD,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAA5D;cAAuE,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAA3E;cAAA,uBACE,qBAAC,iBAAD;gBAAM,cAAc,EAAC,eAArB;gBAAqC,aAAa,EAAE,CAAC,QAAD,EAAW,KAAX,CAApD;gBAAA,wBACE,qBAAC,gBAAD;kBAAK,QAAQ,EAAE,GAAf;kBAAoB,QAAQ,EAAE,CAAC,MAAD,EAAS,IAAT,EAAe,IAAf,EAAqB,GAArB,CAA9B;kBAAyD,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAA7D;kBAAwE,EAAE,EAAE,CAA5E;kBAA+E,QAAQ,EAAC,GAAxF;kBAAA,wBACE,oBAAC,mCAAD;oBAAe,QAAQ,EAAC,MAAxB;oBAA+B,UAAU,EAAC,MAA1C;oBAAiD,EAAE,EAAE,EAArD;oBAAyD,EAAE,EAAE,CAA7D;oBAAA,UACG2C,IAAI,KAAKvB,KAAK,CAACC,OAAf,gBACC,oBAAC,sBAAD;sBAAkB,EAAE,sBAApB;sBAA0C,cAAc;wBAAA;wBAAA;sBAAA;oBAAxD,EADD,gBAGC,oBAAC,sBAAD;sBACE,EAAE,uBADJ;sBAEE,cAAc;wBAAA;wBAAA;wBAAA;0BAAA;4BAAA;8BAAA;8BAAA;4BAAA;0BAAA;0BAAA;4BAAA;8BAAA;8BAAA;4BAAA;0BAAA;0BAAA;4BAAA;8BAAA;8BAAA;4BAAA;0BAAA;0BAAA;4BAAA;8BAAA;8BAAA;4BAAA;0BAAA;0BAAA;4BAAA;8BAAA;8BAAA;4BAAA;0BAAA;0BAAA;4BAAA;8BAAA;8BAAA;4BAAA;0BAAA;wBAAA;sBAAA;wBAAA;wBAAA;sBAAA;wBAAA;wBAAA;wBAAA;0BAAA;0BAAA;wBAAA;sBAAA,EAFhB;sBAGE,MAAM,EAAE;wBACNhK,IAAI,yBAAE,KAAKJ,KAAL,CAAWsK,OAAb,wDAAE,oBAAoBlK,IADpB;wBAENgG,cAAc,EAAEG,UAAF,aAAEA,UAAF,uBAAEA,UAAU,CAAE9D,IAFtB;wBAGNmH,cAAc,EAAE,wBAAA8E,IAAI;0BAAA,oBAAI,oBAAC,wCAAD;4BAAgB,UAAU,EAAEnI,UAA5B;4BAAA,UAAyCmI;0BAAzC,EAAJ;wBAAA;sBAHd;oBAHV;kBAJJ,EADF,EAgBG7D,IAAI,CAACgD,OAAL,IAAgBD,mBAAhB,gBACC,oBAAC,iCAAD;oBAAoB,KAAK,EAAC,MAA1B;oBAAiC,MAAM,EAAE;kBAAzC,EADD,gBAGC,qBAAC,gBAAD;oBAAA,wBACE,oBAAC,sCAAD;sBAA+B,cAAc,EAAErH,UAAU,CAAC9D;oBAA1D,EADF,EAEGiJ,IAAI,KAAKvB,KAAK,CAACC,OAAf,gBACC,oBAAC,2BAAD;sBACE,UAAU,EAAE7D,UADd;sBAEE,OAAO,EAAEqH,mBAFX;sBAGE,eAAe,EAAEM,eAHnB;sBAIE,QAAQ,EAAE,KAAKS,YAJjB;sBAKE,OAAO,EAAE,KAAK3O,KAAL,CAAWsK,OALtB;sBAME,YAAY,EAAE,KAAKsE,gBAAL,CAAsBrI,UAAtB,CANhB;sBAOE,cAAc,EAAE4H,cAPlB;sBAQE,aAAa,EAAE,KAAKnO,KAAL,CAAW+K,aAR5B;sBASE,6BAA6B,EAAE,KAAK/K,KAAL,CAAW2L,aAT5C;sBAUE,WAAW,EAAED,IAVf;sBAWE,cAAc;oBAXhB,EADD,gBAeC;sBAAA,wBACE,qBAAC,yBAAD;wBAAY,CAAC,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAAf;wBAA6B,EAAE,EAAE,CAAjC;wBAAA,wBACE,oBAAC,6BAAD;0BACE,IAAI,EAAEnF,UAAU,CAAC0H,IADnB;0BAEE,OAAO,8DACF,KAAKjO,KAAL,CAAWsK,OADT;4BAELuE,gBAAgB,EAAE,KAAKhY,KAAL,CAAWgU,IAAX,CAAgBqD;0BAF7B,EAFT;0BAME,UAAU,EAAE3H,UANd;0BAOE,UAAU,MAPZ;0BAQE,SAAS;wBARX,EADF,eAWE,oBAAC,6BAAD;0BACE,SAAS,EAAE,KAAKvG,KAAL,CAAWmH,SADxB;0BAEE,QAAQ,EAAE,kBAAAA,SAAS;4BAAA,OAAI,MAAI,CAAClH,QAAL,CAAc;8BAAEkH,SAAS,EAATA;4BAAF,CAAd,CAAJ;0BAAA;wBAFrB,EAXF;sBAAA,EADF,eAiBE,qBAAC,gBAAD;wBAAK,EAAE,EAAE,EAAT;wBAAA,wBACE,oBAAC,+BAAD;0BACE,QAAQ,EAAE,KAAK2H,cADjB;0BAEE,YAAY,EAAE,KAAK9O,KAAL,CAAWsK,OAAX,CAAmByE;wBAFnC,EADF,eAKE,qBAAC,iBAAD;0BAAM,QAAQ,EAAC,MAAf;0BAAsB,EAAE,EAAE,CAA1B;0BAAA,wBACE,qBAAC,2BAAD;4BACE,EAAE,EAAE,CADN;4BAEE,QAAQ,EAAE,GAFZ;4BAGE,KAAK,EAAE,CAAC,MAAD,EAAS,MAAT,CAHT;4BAIE,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAJN;4BAKE,EAAE,EAAE,CAAC,IAAD,EAAO,CAAP,CALN;4BAME,UAAU,EAAC,QANb;4BAOE,WAAQ,kBAPV;4BAQE,OAAO,EAAE;8BAAA,OAAM,MAAI,CAAC9O,QAAL,CAAc;gCAAEyL,IAAI,EAAEvB,KAAK,CAAC6E;8BAAd,CAAd,CAAN;4BAAA,CARX;4BASE,QAAQ,EAAE,KAAKhP,KAAL,CAAWgM,YATvB;4BAAA,mCAWI,oBAAC,sBAAD;8BAAkB,EAAE,gBAApB;8BAAoC,cAAc;gCAAA;gCAAA;8BAAA;4BAAlD,EAXJ;0BAAA,EADF,eAcE,oBAAC,2BAAD;4BACE,WAAW,EAAC,SADd;4BAEE,EAAE,EAAE,CAFN;4BAGE,KAAK,EAAE,CAAC,MAAD,EAAS,MAAT,CAHT;4BAIE,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAJN;4BAKE,UAAU,EAAC,QALb;4BAME,WAAQ,oBANV;4BAOE,OAAO,EAAE,KAAKiD,eAPhB;4BAQE,OAAO,EAAE,KAAKjP,KAAL,CAAWgM,YARtB;4BASE,QAAQ,EAAE,GATZ;4BAAA,UAWG,8BAAKhM,KAAL,CAAWsK,OAAX,8EAAoBlK,IAApB,MAA6BkI,uCAA7B,gBACC,oBAAC,sBAAD;8BAAkB,EAAE,6BAApB;8BAAiD,cAAc;gCAAA;gCAAA;8BAAA;4BAA/D,EADD,gBAGC,oBAAC,sBAAD;8BAAkB,EAAE,sBAApB;8BAA0C,cAAc;gCAAA;gCAAA;8BAAA;4BAAxD;0BAdJ,EAdF;wBAAA,EALF;sBAAA,EAjBF;oBAAA,EAjBJ;kBAAA,EAnBJ;gBAAA,EADF,eAiGE,oBAAC,gBAAD;kBAAK,QAAQ,EAAE,CAAC,MAAD,EAAS,GAAT,EAAc,IAAd,EAAoB,GAApB,CAAf;kBAAyC,EAAE,EAAE,EAA7C;kBAAA,uBACE,oBAAC,iCAAD;oBAAoB,SAAS,EAAEuC,IAAI,CAACgD,OAApC;oBAA6C,UAAU,EAAEtH,UAAzD;oBAAqE,IAAI,EAAE0H;kBAA3E;gBADF,EAjGF;cAAA;YADF,EAlBF,eAyHE,oBAAC,4CAAD;cAA+B,SAAS,EAAEpD,IAAI,CAACgD,OAA/C;cAAwD,UAAU,EAAEtH,UAApE;cAAgF,IAAI,EAAE0H;YAAtF,EAzHF;UAAA,EANF;QAAA;MAXJ,GADF;IAiJD;;;WAraD,gCAA4E;MAAA,wBAAnDjB,KAAmD;MAAA,IAA1C7B,cAA0C,eAA1CA,cAA0C;MAAA,IAA1BC,oBAA0B,eAA1BA,oBAA0B;MAC1E,OAAO;QAAED,cAAc,EAAdA,cAAF;QAAkBC,oBAAoB,EAApBA;MAAlB,CAAP;IACD;;;;EAH6B5U;;AAyahC,IAAM2Y,kBAAkB,GAAGtH,uBAAH,qdAAxB;AA4BA,IAAMuH,sBAAsB,GAAGvH,uBAAH,87CAyExB6B,oEAzEwB,EA0ExByF,kBA1EwB,EA2ExBnG,gDA3EwB,CAA5B;AA8EA,IAAMqG,wBAAwB,GAAGvH,0BAAO,CAACsH,sBAAD,EAAyB;EAC/DE,OAAO,EAAE;IACPC,OAAO,EAAE7G,6BADF;IAEP8G,WAAW,EAAE;EAFN;AADsD,CAAzB,CAAxC;AAOA,IAAMC,qBAAqB,GAAG5H,uBAAH,wXAWvB4B,0DAXuB,CAA3B;AAcA,IAAMiG,wBAAwB,GAAG5H,0BAAO,CAAC2H,qBAAD,EAAwB;EAC9DhN,IAAI,EAAE,eADwD;EAE9D6M,OAAO,EAAE;IAAEC,OAAO,EAAE7G,6BAAcA;EAAzB;AAFqD,CAAxB,CAAxC;AAKA,IAAMiH,iCAAiC,GAAG9H,uBAAH,yUAOnC4B,0DAPmC,CAAvC;AAUA,IAAMmG,oCAAoC,GAAG9H,0BAAO,CAAC6H,iCAAD,EAAoC;EACtFlN,IAAI,EAAE,2BADgF;EAEtF6M,OAAO,EAAE;IAAEC,OAAO,EAAE7G,6BAAcA;EAAzB;AAF6E,CAApC,CAApD;;AAKA,IAAMmH,MAAM,GAAG,kBACb3F,6BADa,EAEbnC,iBAFa,EAGbsH,wBAHa,EAIbK,wBAJa,EAKbE,oCALa,EAMb3F,gCANa,EAObjC,0BAPa,CAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUA,mDAAe6H,MAAM,CAACxF,iBAAD,CAArB;;;;;;;;ACtnBA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,KAAsC;AAC7D;AACA;AACA,OAAO,KAAU,EAAE,EAId;AACL","sources":["webpack://_N_E/./components/ContainerOverlay.js","webpack://_N_E/./components/PageFeatureNotSupported.js","webpack://_N_E/./components/RichTextEditor.js","webpack://_N_E/./lib/form-persister.js","webpack://_N_E/./lib/hooks/useClipboard.js","webpack://_N_E/./lib/styled-components-shared-styles.js","webpack://_N_E/./components/expenses/CreateExpenseDismissibleIntro.js","webpack://_N_E/./components/expenses/ExpenseRecurringForm.js","webpack://_N_E/./pages/create-expense.js","webpack://_N_E/?2488"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { isNil } from 'lodash';\n\nimport Container from './Container';\n\n/**\n * A specialization of `Container` that displays itself above the content, in position\n * absolute, with a dark background and content centered.\n *\n * Accepts all the props from `Container`.\n */\nconst ContainerOverlay = ({ backgroundType, backgroundOpacity, ...props }) => {\n  const isDark = backgroundType === 'dark';\n  const defaultOpacity = isDark ? 0.5 : 0.75;\n  const opacity = !isNil(backgroundOpacity) ? backgroundOpacity : defaultOpacity;\n  const lightness = isDark ? '30' : '255';\n  return (\n    <Container\n      position=\"absolute\"\n      display=\"flex\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      background={`rgba(${lightness}, ${lightness}, ${lightness}, ${opacity})`}\n      width=\"100%\"\n      height=\"100%\"\n      zIndex={9999}\n      {...props}\n    />\n  );\n};\n\nContainerOverlay.propTypes = {\n  backgroundType: PropTypes.oneOf(['dark', 'white']),\n  /** If omitted, will use 0.5 for dark and 0.75 for black */\n  backgroundOpacity: PropTypes.number,\n};\n\nContainerOverlay.defaultProps = {\n  backgroundType: 'white',\n};\n\nexport default ContainerOverlay;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage, useIntl } from 'react-intl';\n\nimport { Flex } from './Grid';\nimport { I18nSupportLink } from './I18nFormatters';\nimport Page from './Page';\nimport { H1, P } from './Text';\n\n/**\n * A page to show when the feature is not supported by the collective.\n * Ensures the page is not referenced by robots.\n */\nconst PageFeatureNotSupported = ({ showContactSupportLink, ...props }) => {\n  const { formatMessage } = useIntl();\n  const title = formatMessage({ id: 'FeatureNotSupported.title', defaultMessage: 'Page inaccessible' });\n  return (\n    <Page noRobots title={title} {...props}>\n      <Flex flexDirection=\"column\" justifyContent=\"center\" alignItems=\"center\" px={2} py={[5, 6]}>\n        <H1 fontSize=\"38px\" mb={3} textAlign=\"center\">\n          {title}\n        </H1>\n        <P fontSize=\"64px\" mt={3} mb={5}>\n          <span role=\"img\" aria-label=\"Monkey Face\">\n            🙈️\n          </span>\n        </P>\n        <P>\n          <FormattedMessage\n            id=\"FeatureNotSupported.description\"\n            defaultMessage=\"This page has not been activated for this Collective or you don't have permission to see it.\"\n          />\n          {showContactSupportLink && (\n            <React.Fragment>\n              {' '}\n              <FormattedMessage\n                id=\"ContactSupportForDetails\"\n                defaultMessage=\"Please contact <SupportLink>support</SupportLink> for more details.\"\n                values={{ SupportLink: I18nSupportLink }}\n              />\n            </React.Fragment>\n          )}\n        </P>\n      </Flex>\n    </Page>\n  );\n};\n\nPageFeatureNotSupported.propTypes = {\n  showContactSupportLink: PropTypes.bool,\n};\n\nPageFeatureNotSupported.defaultProps = {\n  showContactSupportLink: true,\n};\n\nexport default PageFeatureNotSupported;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { css } from '@styled-system/css';\nimport { get } from 'lodash';\nimport styled from 'styled-components';\nimport { v4 as uuid } from 'uuid';\nimport { isURL } from 'validator';\n\nimport { uploadImageWithXHR } from '../lib/api';\nimport { CustomScrollbarCSS } from '../lib/styled-components-shared-styles';\nimport { stripHTML } from '../lib/utils';\n\nimport Container from './Container';\nimport HTMLContent from './HTMLContent';\nimport LoadingPlaceholder from './LoadingPlaceholder';\nimport MessageBox from './MessageBox';\nimport StyledTag from './StyledTag';\n\nconst TrixEditorContainer = styled.div`\n  ${props =>\n    props.withBorders &&\n    css({\n      border: '1px solid',\n      borderColor: !props.error ? 'black.300' : 'red.300',\n      borderRadius: 10,\n      padding: 3,\n    })}\n\n  trix-editor {\n    border: none;\n    padding: 0;\n    margin-top: 8px;\n    padding-top: 8px;\n    outline-offset: 0.5em;\n    ${CustomScrollbarCSS}\n    &::-webkit-scrollbar {\n      width: 8px;\n    }\n    ${props => Boolean(props.editorMaxHeight) && css({ overflowY: 'scroll' })}\n\n    // Outline (only when there's no border)\n    ${props =>\n      !props.withBorders &&\n      css({\n        outline: !props.error ? 'none' : `1px dashed ${props.theme.colors.red[300]}`,\n        '&:focus': {\n          outline: `1px dashed ${props.theme.colors.black[200]}`,\n        },\n      })}\n\n    // Placeholder\n    &:empty:not(:focus)::before {\n      color: ${props => props.theme.colors.black[400]};\n    }\n\n    // Image captions are disabled\n    figcaption {\n      display: none;\n    }\n\n    ${props =>\n      css({\n        minHeight: props.editorMinHeight,\n        maxHeight: props.editorMaxHeight,\n      })}\n  }\n\n  trix-toolbar {\n    min-height: 40px;\n    background: ${props => props.toolbarBackgroundColor};\n    ${props => !props.withBorders && `box-shadow: 0px 5px 3px -3px rgba(0, 0, 0, 0.1);`}\n    z-index: 2;\n    margin-bottom: 8px;\n    ${props => props.withBorders && `min-height: 0px; margin-bottom: 0;`}\n\n    .trix-button-group {\n      border-radius: 6px;\n      border-color: #c4c7cc;\n      margin-bottom: 0;\n      background: white;\n    }\n\n    .trix-button {\n      border-bottom: none;\n      display: inline-block;\n      height: auto;\n\n      &:hover {\n        background: ${props => props.theme.colors.blue[100]};\n      }\n\n      &.trix-active {\n        background: ${props => props.theme.colors.blue[200]};\n      }\n\n      &::before,\n      &.trix-active::before {\n        margin: 4px; // Use this to reduce the icons size\n      }\n    }\n\n    /** Hide some buttons on the simplified version */\n    ${props =>\n      props.version === 'simplified' &&\n      css({\n        '.trix-button-group--file-tools': {\n          display: 'none',\n        },\n        '.trix-button-group--block-tools .trix-button:not(.trix-button--icon-number-list):not(.trix-button--icon-bullet-list)':\n          {\n            display: 'none',\n          },\n        '.trix-button--icon-bullet-list': {\n          borderLeft: 'none',\n        },\n      })}\n\n    /** Hide some buttons on mobile */\n    @media (max-width: 500px) {\n      .trix-button--icon-strike,\n      .trix-button--icon-number-list,\n      .trix-button--icon-decrease-nesting-level,\n      .trix-button--icon-increase-nesting-level {\n        display: none;\n      }\n    }\n\n    /** Sticky mode */\n    ${props =>\n      props.withStickyToolbar &&\n      css({\n        position: 'sticky',\n        top: props.toolbarTop || 0,\n        marginTop: props.toolbarOffsetY,\n        p: '10px',\n      })}\n\n    /** Custom icons */\n    .trix-button--icon-attach::before {\n      // See https://feathericons.com/?query=image\n      background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='3' width='18' height='18' rx='2' ry='2'/%3E%3Ccircle cx='8.5' cy='8.5' r='1.5'/%3E%3Cpolyline points='21 15 16 10 5 21'/%3E%3C/svg%3E\");\n    }\n    .trix-button--video-attach::before {\n      top: 8%;\n      bottom: 4%;\n      // See https://feathericons.com/?query=video\n      background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-video'%3E%3Cpolygon points='23 7 16 12 23 17 23 7'%3E%3C/polygon%3E%3Crect x='1' y='5' width='15' height='14' rx='2' ry='2'%3E%3C/rect%3E%3C/svg%3E\");\n    }\n  } // End of toolbar customization\n\n  /** Disabled mode */\n  ${props =>\n    props.isDisabled &&\n    css({\n      pointerEvents: 'none',\n      cursor: 'not-allowed',\n      background: '#f3f3f3',\n      'trix-toolbar,.trix-button-group': {\n        background: '#f3f3f3 !important',\n      },\n    })}\n`;\n\nconst SUPPORTED_SERVICE_URLS = { youTube: 'https://www.youtube-nocookie.com/embed/', anchorFm: 'https://anchor.fm/' };\n\n/**\n * A React wrapper around the Trix library to edit rich text.\n * Produces HTML and clear text.\n */\nexport default class RichTextEditor extends React.Component {\n  static propTypes = {\n    /** If not provided, an id will be automatically generated which will require a component update */\n    id: PropTypes.string,\n    defaultValue: PropTypes.string,\n    value: PropTypes.string,\n    placeholder: PropTypes.string,\n    toolbarBackgroundColor: PropTypes.string.isRequired,\n    /** A unique identified for the category of uploaded files. Required if version is not \"simplified\" */\n    kind: PropTypes.string,\n    /** Font size for the text */\n    fontSize: PropTypes.string,\n    autoFocus: PropTypes.bool,\n    /** Called when text is changed with html content as first param and text content as second param */\n    onChange: PropTypes.func,\n    /** A name for the input */\n    inputName: PropTypes.string,\n    /** Change this prop to reset the value */\n    reset: PropTypes.any,\n    /** If true, max text length will be displayed at the bottom right */\n    showCount: PropTypes.bool,\n    /** max length which is allowed */\n    maxLength: PropTypes.number,\n    /** Whether the toolbar should stick to the top */\n    withStickyToolbar: PropTypes.bool,\n    /** This component is borderless by default. Set this to `true` to change that. */\n    withBorders: PropTypes.bool,\n    /** This component is borderless by default. Set this to `true` to change that. */\n    version: PropTypes.oneOf(['default', 'simplified']),\n    /** Whether the field should be disabled */\n    disabled: PropTypes.bool,\n    /** If position is sticky, this prop defines the `top` property. Support responsive arrays */\n    toolbarTop: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.array]),\n    /** Useful to compensate the height of the toolbar when editing inline */\n    toolbarOffsetY: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.array]),\n    /** Min height for the full component */\n    editorMinHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.array]),\n    editorMaxHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.array]),\n    /** If truthy, will display a red outline */\n    error: PropTypes.any,\n    'data-cy': PropTypes.string,\n    videoEmbedEnabled: PropTypes.bool,\n    /** Called when an image is being uploaded to set a boolean */\n    setUploading: PropTypes.func,\n  };\n\n  static defaultProps = {\n    withStickyToolbar: false,\n    toolbarTop: 0,\n    toolbarOffsetY: -62, // Default Trix toolbar height\n    inputName: 'content',\n    toolbarBackgroundColor: 'white',\n    version: 'default',\n    'data-cy': 'RichTextEditor',\n    videoEmbedEnabled: false,\n  };\n\n  constructor(props) {\n    super(props);\n    this.editorRef = React.createRef();\n    this.mainContainerRef = React.createRef();\n    this.state = { id: props.id, error: null };\n    this.isReady = false;\n\n    if (typeof window !== 'undefined') {\n      this.Trix = require('trix');\n      this.Trix.config.blockAttributes.heading1 = { tagName: 'h3' };\n      this.Trix.config.attachments.preview.caption = { name: false, size: false };\n    }\n  }\n\n  componentDidMount() {\n    if (!this.state.id) {\n      this.setState({ id: uuid() });\n    } else if (!this.isReady) {\n      this.initialize();\n    }\n  }\n\n  componentDidUpdate(oldProps) {\n    if (!this.isReady) {\n      this.initialize();\n    } else if (oldProps.reset !== this.props.reset) {\n      this.editorRef.current.editor.loadHTML('');\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.isReady) {\n      this.editorRef.current.removeEventListener('trix-change', this.handleChange);\n      this.editorRef.current.removeEventListener('trix-attachment-add', this.handleUpload);\n      this.editorRef.current.removeEventListener('trix-attachment-add', this.handleFileAccept);\n      this.editorRef.current.removeEventListener('trix-action-invoke', this.trixActionInvoke);\n    }\n  }\n\n  getEditor() {\n    return this.editorRef.current.editor;\n  }\n\n  initialize = () => {\n    if (this.Trix && this.editorRef.current) {\n      // Listen for changes\n      this.editorRef.current.addEventListener('trix-change', this.handleChange, false);\n      this.editorRef.current.addEventListener('trix-attachment-add', this.handleUpload);\n      this.editorRef.current.addEventListener('trix-file-accept', this.handleFileAccept);\n      this.editorRef.current.addEventListener('trix-action-invoke', this.trixActionInvoke);\n      this.editorRef.current.addEventListener('trix-initialize', event => {\n        if (this.props.videoEmbedEnabled) {\n          this.replaceEmbeddedIFrames(this.props.value || this.props.defaultValue);\n          this.trixEmbed(event);\n        }\n        // Some special handling for links\n        if (this.mainContainerRef.current) {\n          // We must listen when the user presses the 'Enter' key and when the user clicks the 'Link' button as well\n          const linkInput = this.mainContainerRef.current.querySelector(\"[data-trix-input][name='href']\");\n          linkInput?.addEventListener('keydown', e => {\n            if (e.key === 'Enter') {\n              this.handleLink();\n            }\n          });\n\n          const addLinkBtn = this.mainContainerRef.current.querySelector(\"[data-trix-method='setAttribute']\");\n          addLinkBtn?.addEventListener('click', this.handleLink);\n        }\n      });\n\n      // Component ready!\n      this.isReady = true;\n    }\n  };\n\n  /** ---- Trix handlers ---- */\n\n  replaceEmbeddedIFrames = value => {\n    const iframeRegex = new RegExp(`<iframe.+?iframe>`, 'ig');\n    let match;\n    let lastIndex = 0;\n\n    while ((match = iframeRegex.exec(value))) {\n      if (lastIndex === 0) {\n        this.getEditor().loadHTML('');\n      }\n      const iframe = match[0];\n      const position = match.index;\n      const preText = value.substring(lastIndex, position);\n      this.getEditor().setSelectedRange([lastIndex, position]);\n      this.getEditor().insertHTML(preText);\n      const attachment = new this.Trix.Attachment({ content: iframe });\n      this.getEditor().insertAttachment(attachment);\n      lastIndex = match.index + iframe.length;\n      const postText = value.substring(lastIndex, value.length);\n      this.getEditor().insertHTML(postText);\n    }\n  };\n\n  trixEmbed = e => {\n    const videoEmbedButton = `<button type=\"button\" tabindex=\"-1\" data-trix-action=\"x-video-dialog-open\" title=\"Attach Video\" class=\"trix-button trix-button--icon trix-button--video-attach\">Attach Video</button>`;\n    const videoEmbedDialog = `\n            <div class=\"trix-dialog\" data-trix-dialog=\"video-url\" data-trix-dialog-attribute=\"video\">\n              <div class=\"trix-dialog__link-fields\">\n                <input type=\"url\" name=\"video-url\" class=\"trix-input trix-input--dialog trix-input--dialog-embed\" placeholder=\"Enter Video URL…\" aria-label=\"Video URL\" data-trix-input=\"\">\n                <div class=\"trix-button-group\">\n                  <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"Add Video\" data-trix-action=\"x-add-embed\">\n                </div>\n              </div>\n              <strong>Note: Only YouTube and Anchor.fm links are supported.</strong>\n            </div>`;\n    const { toolbarElement } = e.target;\n    const attachFilesButton = toolbarElement.querySelector('[data-trix-action=attachFiles]');\n    attachFilesButton.insertAdjacentHTML('afterend', videoEmbedButton);\n    const trixDialog = toolbarElement.querySelector('.trix-dialog--link');\n    trixDialog.insertAdjacentHTML('afterend', videoEmbedDialog);\n  };\n\n  trixActionInvoke = e => {\n    const { toolbarElement } = e.target;\n    if (e.actionName === 'x-video-dialog-open') {\n      const attachVideoDialog = toolbarElement.querySelector('[data-trix-dialog=video-url]');\n      const attachVideoDialogInput = toolbarElement.querySelector('.trix-input--dialog-embed');\n      if (attachVideoDialog.getAttribute('data-trix-active') === '') {\n        attachVideoDialog.removeAttribute('data-trix-active');\n      } else {\n        attachVideoDialog.setAttribute('data-trix-active', '');\n        attachVideoDialogInput.removeAttribute('disabled');\n      }\n    } else if (e.actionName === 'x-add-embed') {\n      const embedLink = toolbarElement.querySelector('.trix-input--dialog-embed').value?.trim();\n      if (embedLink) {\n        this.embedIframe(embedLink);\n      }\n    }\n  };\n\n  constructVideoEmbedURL = (service, id) => {\n    if (service === 'youtube') {\n      return `${SUPPORTED_SERVICE_URLS.youTube}${id}`;\n    } /* else if (service === 'vimeo') {\n      return `https://player.vimeo.com/video/${id}`;\n    } */ else if (service === 'anchorFm') {\n      return `${SUPPORTED_SERVICE_URLS.anchorFm}${id}`;\n    } else {\n      return null;\n    }\n  };\n\n  parseServiceLink = videoLink => {\n    const regexps = {\n      youtube: new RegExp(\n        '(?:https?://)?(?:www\\\\.)?youtu(?:\\\\.be/|be\\\\.com/\\\\S*(?:watch|embed)(?:(?:(?=/[^&\\\\s?]+(?!\\\\S))/)|(?:\\\\S*v=|v/)))([^&\\\\s?]+)',\n        'i',\n      ),\n      vimeo: new RegExp(\n        '(http|https)?://(www\\\\.)?vimeo\\\\.com/(?:channels/(?:\\\\w+/)?|groups/([^/]*)/videos/|)(\\\\d+)(?:|/?)',\n      ),\n      anchorFm: /^(http|https)?:\\/\\/(www\\.)?anchor\\.fm\\/([^/]+)(\\/embed)?(\\/episodes\\/)?([^/]+)?\\/?$/,\n    };\n    for (const service in regexps) {\n      const matches = regexps[service].exec(videoLink);\n      if (matches) {\n        if (service === 'anchorFm') {\n          const podcastName = matches[3];\n          const episodeId = matches[6];\n          const podcastUrl = `${podcastName}/embed`;\n          return { service, id: episodeId ? `${podcastUrl}/episodes/${episodeId}` : podcastUrl };\n        } else {\n          return { service, id: matches[matches.length - 1] };\n        }\n      }\n    }\n    return {};\n  };\n\n  embedIframe = videoLink => {\n    const { id, service } = this.parseServiceLink(videoLink);\n    const embedLink = this.constructVideoEmbedURL(service, id);\n    if (embedLink) {\n      const sanitizedLink = embedLink.replace(/[\"\\\\]/g, ''); // Small security enhancement, prevents going out of `src`\n      const videoServices = ['youtube', 'vimeo'];\n      let attachmentData;\n      if (videoServices.includes(service)) {\n        attachmentData = {\n          contentType: '--embed-iframe-video',\n          content: `<iframe src=\"${sanitizedLink}/?showinfo=0\" width=\"100%\" height=\"394\" frameborder=\"0\" allowfullscreen/>`,\n        };\n      } else {\n        attachmentData = {\n          contentType: `--embed-iframe-${service}`,\n          content: `<iframe src=\"${sanitizedLink}\" width=\"100%\" frameborder=\"0\"/>`,\n        };\n      }\n\n      this.getEditor().insertAttachment(new this.Trix.Attachment(attachmentData));\n    }\n  };\n\n  handleChange = e => {\n    // Trigger content formatters\n    this.autolink();\n\n    // Notify parent function\n    if (this.props.onChange) {\n      this.props.onChange(e);\n    }\n\n    // Reset errors\n    if (this.state.error) {\n      this.setState({ error: null });\n    }\n  };\n\n  handleFileAccept = e => {\n    if (!/^image\\//.test(e.file.type)) {\n      alert('You can only upload images.');\n      e.preventDefault();\n    } else if (e.file.size > 4000000) {\n      // Prevent attaching files > 4MB\n      alert('This file is too big (max: 4mb).');\n      e.preventDefault();\n    }\n  };\n\n  handleUpload = e => {\n    const { attachment } = e;\n    const attachmentContent = get(attachment, 'attachment.attributes.values.content');\n    const isVideoAttachment =\n      attachmentContent?.includes(`<iframe src=\"${SUPPORTED_SERVICE_URLS.youTube}`) ||\n      attachmentContent?.includes(`<iframe src=\"${SUPPORTED_SERVICE_URLS.anchorFm}`);\n    if (isVideoAttachment) {\n      return;\n    } else if (!attachment.file) {\n      attachment.remove(); // Remove unknown stuff, for example when copy-pasting HTML\n      return;\n    }\n\n    this.props.setUploading?.(true);\n\n    const onProgress = progress => attachment.setUploadProgress(progress);\n    const onSuccess = fileURL => {\n      this.props.setUploading?.(false);\n      attachment.setAttributes({ url: fileURL, href: fileURL });\n    };\n    const onFailure = () => {\n      this.props.setUploading?.(false);\n      this.setState({ error: 'File upload failed' });\n      attachment.remove();\n    };\n    uploadImageWithXHR(attachment.file, this.props.kind, { onProgress, onSuccess, onFailure });\n    return e;\n  };\n\n  handleLink = () => {\n    const urlInput = this.mainContainerRef.current?.querySelector(\"[data-trix-input][name='href']\");\n    const urlInputValue = urlInput?.value?.trim();\n\n    // Ignore missing input or empty values\n    if (!urlInputValue) {\n      return;\n    }\n\n    // Automatically add 'https://' to the url\n    // eslint-disable-next-line camelcase\n    if (isURL(urlInputValue, { require_protocol: false }) && !isURL(urlInputValue, { require_protocol: true })) {\n      urlInput.value = `https://${urlInputValue}`;\n    }\n  };\n\n  /** Automatically create anchors with hrefs for links */\n  autolink() {\n    const linkRegex = new RegExp(`(https?://\\\\S+\\\\.\\\\S+)\\\\s`, 'ig');\n    const editor = this.getEditor();\n    const content = editor.getDocument().toString();\n    let match;\n    while ((match = linkRegex.exec(content))) {\n      const url = match[1];\n      if (isURL(url)) {\n        const position = match.index;\n        const urlLength = this.autolinkDelimiter(url);\n        const range = [position, position + urlLength];\n        const hrefAtRange = editor.getDocument().getCommonAttributesAtRange(range).href;\n        const newURL = url.slice(0, urlLength);\n        if (hrefAtRange !== newURL) {\n          this.updateInRange(editor, range, 0, () => {\n            if (editor.canActivateAttribute('href')) {\n              editor.activateAttribute('href', newURL);\n            }\n          });\n        }\n      }\n    }\n  }\n\n  /** A helper used by autolink to find where the url actually ends\n   * Credits:\n   * https://github.com/github/cmark-gfm/blob/36c1553d2a1f04dc1628e76b18490edeff78b8d0/extensions/autolink.c#L37\n   * https://github.com/vmg/redcarpet/blob/92a7b3ae2241b862e9bf45e0af3cf53ebdfb0afb/ext/redcarpet/autolink.c#L58\n   */\n  autolinkDelimiter = url => {\n    let lastCharacterPosition = url.length;\n\n    while (lastCharacterPosition > 0) {\n      const lastCharacterIndex = lastCharacterPosition - 1;\n      const closingPair = url[lastCharacterIndex];\n\n      let openingPair;\n      if (closingPair === ')') {\n        openingPair = '(';\n      } else if (closingPair === ']') {\n        openingPair = '[';\n      } else if (closingPair === '}') {\n        openingPair = '{';\n      } else if (closingPair === '\"') {\n        openingPair = '\"';\n      } else if (closingPair === \"'\") {\n        openingPair = \"'\";\n      }\n\n      // Ensure single punctuations marks at the end of the URL are not included as part of link\n      if ('?!.,:;*_~'.includes(url[lastCharacterIndex])) {\n        lastCharacterPosition--;\n      } else if (openingPair) {\n        let opening = 0,\n          closing = 0;\n\n        /** Check to ensure that when a URL is enclosed within pair punctuations,\n         * we do not include the closing punctuation as part of the link.\n         * We only want to accept a closing punctuation at the end of the link,\n         * if there is a corresponding opening punctuation within the URL.\n         */\n\n        for (let i = 0; i < lastCharacterPosition; i++) {\n          if (url[i] === openingPair) {\n            opening++;\n          } else if (url[i] === closingPair) {\n            closing++;\n          }\n        }\n\n        if (opening >= closing) {\n          break;\n        }\n\n        lastCharacterPosition--;\n      } else {\n        break;\n      }\n    }\n\n    return lastCharacterPosition;\n  };\n\n  /** A trix helper that will apply func in range then restore base range when it's done */\n  updateInRange(editor, range, offset = 0, updateFunc) {\n    const baseRange = editor.getSelectedRange();\n    editor.setSelectedRange(range);\n    updateFunc();\n    editor.setSelectedRange([baseRange[0] + offset, baseRange[1] + offset]);\n  }\n\n  /** ---- Render ---- */\n\n  render() {\n    const {\n      defaultValue,\n      withStickyToolbar,\n      toolbarTop,\n      toolbarOffsetY,\n      toolbarBackgroundColor,\n      autoFocus,\n      placeholder,\n      editorMinHeight,\n      withBorders,\n      inputName,\n      disabled,\n      error,\n      fontSize,\n      value,\n      version,\n      showCount,\n      maxLength,\n      editorMaxHeight,\n    } = this.props;\n\n    return !this.state.id ? (\n      <LoadingPlaceholder\n        maxHeight={editorMaxHeight ? editorMaxHeight + 56 : undefined}\n        height={editorMinHeight ? editorMinHeight + 56 : 200}\n      />\n    ) : (\n      <TrixEditorContainer\n        withStickyToolbar={withStickyToolbar}\n        toolbarTop={toolbarTop}\n        toolbarOffsetY={toolbarOffsetY}\n        toolbarBackgroundColor={toolbarBackgroundColor}\n        editorMinHeight={editorMinHeight}\n        editorMaxHeight={editorMaxHeight}\n        withBorders={withBorders}\n        version={version}\n        isDisabled={disabled}\n        error={error}\n        data-cy={this.props['data-cy']}\n        ref={this.mainContainerRef}\n      >\n        {this.state.error && (\n          <MessageBox type=\"error\" mb=\"36px\" withIcon>\n            {this.state.error.toString()}\n          </MessageBox>\n        )}\n        <input id={this.state.id} value={value || defaultValue} type=\"hidden\" name={inputName} />\n        <HTMLContent fontSize={fontSize}>\n          {!showCount ? (\n            <trix-editor\n              ref={this.editorRef}\n              input={this.state.id}\n              autofocus={autoFocus ? true : undefined}\n              placeholder={placeholder}\n            />\n          ) : (\n            <Container position=\"relative\">\n              <trix-editor\n                ref={this.editorRef}\n                input={this.state.id}\n                autofocus={autoFocus ? true : undefined}\n                placeholder={placeholder}\n              />\n              <Container position=\"absolute\" bottom=\"1em\" right=\"1em\">\n                <StyledTag textTransform=\"uppercase\">\n                  <span>{stripHTML(value || defaultValue).length}</span>\n                  {maxLength && <span> / {maxLength}</span>}\n                </StyledTag>\n              </Container>\n            </Container>\n          )}\n        </HTMLContent>\n      </TrixEditorContainer>\n    );\n  }\n}\n","import { throttle } from 'lodash';\n\nimport { getFromLocalStorage, removeFromLocalStorage, setLocalStorage } from './local-storage';\n\nexport default class FormPersister {\n  constructor(formId = null, throttlePeriod = 1000) {\n    this.formId = formId;\n    this.saveValues = throttle(this.saveValues, throttlePeriod);\n  }\n\n  setFormId(formId) {\n    this.formId = `formState-${formId}`;\n  }\n\n  saveValues(values) {\n    if (this.formId) {\n      setLocalStorage(this.formId, JSON.stringify(values));\n    }\n  }\n\n  loadValues() {\n    if (this.formId) {\n      const itemFromStorage = getFromLocalStorage(this.formId);\n      if (itemFromStorage) {\n        return JSON.parse(itemFromStorage);\n      }\n    }\n    return null;\n  }\n\n  clearValues() {\n    if (this.formId) {\n      removeFromLocalStorage(this.formId);\n    }\n  }\n}\n","import React from 'react';\nimport copy from 'copy-to-clipboard';\n\n/**\n * A custom react hook to copy values to the clipboard\n *\n * @param timeout: time before the isCopied flag is reset\n */\nconst useClipboard = ({ timeout = 3000 } = {}) => {\n  const [isCopied, setCopied] = React.useState();\n  const [updateCopyBtnTimeout, setUpdateCopyBtnTimeout] = React.useState();\n  return {\n    isCopied,\n    copy: value => {\n      copy(value);\n      setCopied(true);\n\n      if (updateCopyBtnTimeout) {\n        clearTimeout(updateCopyBtnTimeout);\n      }\n\n      const timeoutFn = setTimeout(() => {\n        setCopied(false);\n      }, timeout);\n\n      setUpdateCopyBtnTimeout(timeoutFn);\n    },\n  };\n};\n\nexport default useClipboard;\n","import { css } from 'styled-components';\n\n/**\n * A custom scrollbar for Chrome, more prettier than the system one.\n */\nexport const CustomScrollbarCSS = css`\n  @media (pointer: fine) {\n    &::-webkit-scrollbar {\n      height: 8px;\n      margin: 0 16px;\n    }\n\n    &::-webkit-scrollbar-thumb {\n      background: #d1d1d3;\n      border-radius: 16px;\n      &:hover {\n        background: #aaa;\n      }\n    }\n\n    &::-webkit-scrollbar-track {\n      background: #f2f3f4;\n      border-radius: 20px;\n    }\n\n    &::-webkit-scrollbar-button {\n      color: white;\n    }\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport { HELP_MESSAGE } from '../../lib/constants/dismissable-help-message';\n\nimport DismissibleMessage from '../DismissibleMessage';\nimport MessageBox from '../MessageBox';\nimport StyledButton from '../StyledButton';\nimport { P } from '../Text';\n\nconst CreateExpenseDismissibleIntro = ({ collectiveName }) => {\n  return (\n    <DismissibleMessage messageId={HELP_MESSAGE.EXPENSE_CREATE_INFO}>\n      {({ dismiss }) => (\n        <MessageBox type=\"info\" mb={4} px={0} py={3}>\n          <P fontSize=\"12px\" lineHeight=\"20px\" color=\"black.800\" px={24} data-cy=\"expense-create-help\">\n            <FormattedMessage\n              id=\"CreateExpense.HelpCreateInfo\"\n              defaultMessage=\"Request payment from {collective}. Expenses will be processed once approved by a Collective admin. The amount, description, and your profile name are public, but attachments, payment details, and other personal info is kept private.\"\n              values={{ collective: <strong>{collectiveName}</strong> }}\n            />\n          </P>\n          <StyledButton\n            asLink\n            onClick={dismiss}\n            fontSize=\"12px\"\n            data-cy=\"dismiss-expense-create-help\"\n            color=\"blue.600\"\n            buttonSize=\"tiny\"\n            ml={10}\n            mt={2}\n          >\n            <FormattedMessage id=\"DismissableHelp.DontShowAgain\" defaultMessage=\"Ok, don’t show me again\" />\n          </StyledButton>\n        </MessageBox>\n      )}\n    </DismissibleMessage>\n  );\n};\n\nCreateExpenseDismissibleIntro.propTypes = {\n  collectiveName: PropTypes.string.isRequired,\n};\n\nexport default CreateExpenseDismissibleIntro;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport { getDateFromValue, toIsoDateStr } from '../../lib/date-utils';\nimport { RecurringIntervalOptions } from '../../lib/i18n/expense';\n\nimport { Box, Flex } from '../Grid';\nimport StyledCheckbox from '../StyledCheckbox';\nimport StyledHr from '../StyledHr';\nimport StyledInput from '../StyledInput';\nimport StyledInputField from '../StyledInputField';\nimport StyledSelect from '../StyledSelect';\nimport { P, Span } from '../Text';\n\nconst ExpenseRecurringForm = ({ recurring, onChange }) => {\n  const [isRecurring, setRecurring] = React.useState(!!recurring);\n\n  const handleSetRecurring = isRecurring => {\n    if (!isRecurring) {\n      onChange(null);\n    }\n    setRecurring(isRecurring);\n  };\n\n  return (\n    <Box mt=\"50px\">\n      <StyledHr flex=\"1 1\" borderColor=\"black.300\" mb={4} />\n\n      <P color=\"black.800\" fontWeight=\"700\" fontSize=\"13px\" lineHeight=\"20px\">\n        <FormattedMessage id=\"Expense.Summary.Recurring.CheckboxTitle\" defaultMessage=\"Is this a recurring expense?\" />\n      </P>\n\n      <P mt={2}>\n        <StyledCheckbox\n          name=\"tos\"\n          label={\n            <Span color=\"black.800\" fontWeight=\"500\" lineHeight=\"16px\">\n              <FormattedMessage\n                id=\"Expense.Summary.Recurring.CheckboxDescription\"\n                defaultMessage=\"Choose this option to automatically submit a copy of this invoice on a periodic basis.\"\n              />\n            </Span>\n          }\n          size=\"13px\"\n          fontSize=\"13px\"\n          checked={isRecurring}\n          onChange={({ checked }) => handleSetRecurring(checked)}\n        />\n      </P>\n\n      {isRecurring && (\n        <Flex flexDirection={['column', 'row']} mt={2}>\n          <Box mr={[0, 3]} mb={[2, 0]}>\n            <StyledInputField\n              name=\"frequency\"\n              htmlFor=\"frequency\"\n              label={<FormattedMessage id=\"Frequency\" defaultMessage=\"Frequency\" />}\n              labelFontSize=\"13px\"\n              labelFontWeight={600}\n              required\n            >\n              {inputProps => (\n                <StyledSelect\n                  {...inputProps}\n                  options={RecurringIntervalOptions}\n                  onChange={({ value: interval }) => onChange({ ...recurring, interval })}\n                  menuPlacement=\"auto\"\n                  value={RecurringIntervalOptions.find(i => i.value === recurring?.interval)}\n                  isSearchable={false}\n                />\n              )}\n            </StyledInputField>\n          </Box>\n          <Box>\n            <StyledInputField\n              name=\"endsAt\"\n              htmlFor=\"endsAt\"\n              label={<FormattedMessage id=\"EndDate\" defaultMessage=\"End Date\" />}\n              labelFontSize=\"13px\"\n              labelFontWeight={600}\n              required={false}\n            >\n              {inputProps => (\n                <StyledInput\n                  {...inputProps}\n                  type=\"date\"\n                  onChange={event => onChange({ ...recurring, endsAt: getDateFromValue(event.target.value) })}\n                  menuPlacement=\"auto\"\n                  height=\"38px\"\n                  width=\"100%\"\n                  value={recurring?.endsAt && toIsoDateStr(recurring.endsAt)}\n                  min={toIsoDateStr(new Date())}\n                />\n              )}\n            </StyledInputField>\n          </Box>\n        </Flex>\n      )}\n    </Box>\n  );\n};\n\nExpenseRecurringForm.propTypes = {\n  onChange: PropTypes.func,\n  recurring: PropTypes.shape({\n    interval: PropTypes.string,\n    endsAt: PropTypes.Date,\n  }),\n};\n\nexport default ExpenseRecurringForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gql } from '@apollo/client';\nimport { graphql } from '@apollo/client/react/hoc';\nimport { compose, omit, pick } from 'lodash';\nimport { withRouter } from 'next/router';\nimport { FormattedMessage, injectIntl } from 'react-intl';\n\nimport hasFeature, { FEATURES } from '../lib/allowed-features';\nimport { expenseSubmissionAllowed, getCollectivePageMetadata, getCollectiveTypeForUrl } from '../lib/collective.lib';\nimport expenseTypes from '../lib/constants/expenseTypes';\nimport { generateNotFoundError, i18nGraphqlException } from '../lib/errors';\nimport { getPayoutProfiles } from '../lib/expenses';\nimport FormPersister from '../lib/form-persister';\nimport { API_V2_CONTEXT } from '../lib/graphql/helpers';\nimport { addParentToURLIfMissing, getCollectivePageCanonicalURL } from '../lib/url-helpers';\nimport { parseToBoolean } from '../lib/utils';\n\nimport CollectiveNavbar from '../components/collective-navbar';\nimport { Dimensions } from '../components/collective-page/_constants';\nimport { collectiveNavbarFieldsFragment } from '../components/collective-page/graphql/fragments';\nimport Container from '../components/Container';\nimport ContainerOverlay from '../components/ContainerOverlay';\nimport ErrorPage from '../components/ErrorPage';\nimport CreateExpenseDismissibleIntro from '../components/expenses/CreateExpenseDismissibleIntro';\nimport ExpenseForm, { EXPENSE_FORM_STEPS, prepareExpenseForSubmit } from '../components/expenses/ExpenseForm';\nimport ExpenseInfoSidebar from '../components/expenses/ExpenseInfoSidebar';\nimport ExpenseNotesForm from '../components/expenses/ExpenseNotesForm';\nimport ExpenseRecurringForm from '../components/expenses/ExpenseRecurringForm';\nimport ExpenseSummary, { SummaryHeader } from '../components/expenses/ExpenseSummary';\nimport {\n  expensePageExpenseFieldsFragment,\n  loggedInAccountExpensePayoutFieldsFragment,\n} from '../components/expenses/graphql/fragments';\nimport MobileCollectiveInfoStickyBar from '../components/expenses/MobileCollectiveInfoStickyBar';\nimport { Box, Flex } from '../components/Grid';\nimport LinkCollective from '../components/LinkCollective';\nimport LoadingPlaceholder from '../components/LoadingPlaceholder';\nimport MessageBox from '../components/MessageBox';\nimport Page from '../components/Page';\nimport PageFeatureNotSupported from '../components/PageFeatureNotSupported';\nimport SignInOrJoinFree, { SignInOverlayBackground } from '../components/SignInOrJoinFree';\nimport StyledButton from '../components/StyledButton';\nimport StyledCard from '../components/StyledCard';\nimport { TOAST_TYPE, withToasts } from '../components/ToastProvider';\nimport { withUser } from '../components/UserProvider';\n\nconst STEPS = { ...EXPENSE_FORM_STEPS, SUMMARY: 'summary' };\n\nclass CreateExpensePage extends React.Component {\n  static getInitialProps({ query: { collectiveSlug, parentCollectiveSlug } }) {\n    return { collectiveSlug, parentCollectiveSlug };\n  }\n\n  static propTypes = {\n    /** from getInitialProps */\n    collectiveSlug: PropTypes.string.isRequired,\n    /** from getInitialProps */\n    parentCollectiveSlug: PropTypes.string,\n    /** from withUser */\n    LoggedInUser: PropTypes.object,\n    /** from withUser */\n    loadingLoggedInUser: PropTypes.bool,\n    /** from withRouter */\n    router: PropTypes.object,\n    /** from injectIntl */\n    intl: PropTypes.object,\n    /** from apollo */\n    createExpense: PropTypes.func.isRequired,\n    /** from apollo */\n    draftExpenseAndInviteUser: PropTypes.func.isRequired,\n    /** from withToast */\n    addToast: PropTypes.func.isRequired,\n    /** from apollo */\n    data: PropTypes.shape({\n      loading: PropTypes.bool,\n      error: PropTypes.any,\n      refetch: PropTypes.func,\n      account: PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        parent: PropTypes.object,\n        name: PropTypes.string.isRequired,\n        slug: PropTypes.string.isRequired,\n        description: PropTypes.string,\n        type: PropTypes.string.isRequired,\n        twitterHandle: PropTypes.string,\n        imageUrl: PropTypes.string,\n        isArchived: PropTypes.bool,\n        supportedExpenseTypes: PropTypes.array,\n        expensesTags: PropTypes.arrayOf(\n          PropTypes.shape({\n            id: PropTypes.string.isRequired,\n            tag: PropTypes.string.isRequired,\n          }),\n        ),\n        host: PropTypes.shape({\n          id: PropTypes.string.isRequired,\n        }),\n      }),\n      loggedInAccount: PropTypes.shape({\n        adminMemberships: PropTypes.shape({\n          nodes: PropTypes.arrayOf(\n            PropTypes.shape({\n              id: PropTypes.string.isRequired,\n              account: PropTypes.shape({\n                id: PropTypes.string.isRequired,\n                slug: PropTypes.string.isRequired,\n                name: PropTypes.string,\n                imageUrl: PropTypes.string,\n              }),\n            }),\n          ),\n        }),\n      }),\n    }).isRequired, // from withData\n  };\n\n  constructor(props) {\n    super(props);\n    this.formTopRef = React.createRef();\n    this.state = {\n      step: STEPS.PAYEE,\n      expense: null,\n      isSubmitting: false,\n      formPersister: null,\n      isInitialForm: true,\n      recurring: null,\n    };\n  }\n\n  async componentDidMount() {\n    // Reset form when `resetForm` is passed in the URL\n    if (this.handleResetForm()) {\n      return;\n    }\n\n    // Re-fetch data if user is logged in\n    if (this.props.LoggedInUser) {\n      this.props.data.refetch();\n      this.initFormPersister();\n    }\n\n    const { router, data } = this.props;\n    const account = data?.account;\n    addParentToURLIfMissing(router, account, '/expenses/new');\n  }\n\n  async componentDidUpdate(oldProps, oldState) {\n    // Reset form when `resetForm` is passed in the URL\n    if (this.handleResetForm()) {\n      return;\n    }\n\n    // Re-fetch data if user is logged in\n    if (!oldProps.LoggedInUser && this.props.LoggedInUser) {\n      this.props.data.refetch();\n    }\n\n    // Reset form persister when data loads or when account changes\n    if (!this.state.formPersister || oldProps.data?.account?.id !== this.props.data?.account?.id) {\n      this.initFormPersister();\n    }\n\n    // Scroll to top when switching steps\n    if (oldState.step !== this.state.step && this.formTopRef.current) {\n      this.formTopRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }\n\n  getPageMetaData(collective) {\n    const baseMetadata = getCollectivePageMetadata(collective);\n    const canonicalURL = `${getCollectivePageCanonicalURL(collective)}/expenses/new`;\n    if (collective) {\n      return { ...baseMetadata, title: `${collective.name} - New expense`, canonicalURL };\n    } else {\n      return { ...baseMetadata, title: `New expense`, canonicalURL };\n    }\n  }\n\n  buildFormPersister() {\n    const { LoggedInUser, data } = this.props;\n    if (data.account && LoggedInUser) {\n      return new FormPersister(`expense-${data.account.id}=${LoggedInUser.id}`);\n    }\n  }\n\n  handleResetForm() {\n    const { router } = this.props;\n    if (parseToBoolean(router.query.resetForm)) {\n      const formPersister = this.buildFormPersister();\n      if (formPersister) {\n        formPersister.clearValues();\n        const query = omit(router.query, ['resetForm']);\n        const routeAs = router.asPath.split('?')[0];\n        return router.push({ pathname: '/create-expense', query }, routeAs, { shallow: true });\n      }\n    }\n  }\n\n  initFormPersister() {\n    const formPersister = this.buildFormPersister();\n    if (formPersister) {\n      this.setState({ formPersister });\n    }\n  }\n\n  onFormSubmit = async expense => {\n    try {\n      if (expense.payee.isInvite) {\n        const expenseDraft = pick(expense, [\n          'description',\n          'longDescription',\n          'tags',\n          'type',\n          'privateMessage',\n          'invoiceInfo',\n          'recipientNote',\n          'items',\n          'attachedFiles',\n          'payeeLocation',\n          'payoutMethod',\n        ]);\n        expenseDraft['payee'] = pick(expense.payee, ['id', 'slug', 'name', 'email', 'isInvite', 'organization']);\n        const result = await this.props.draftExpenseAndInviteUser({\n          variables: {\n            account: { id: this.props.data.account.id },\n            expense: expenseDraft,\n          },\n        });\n        if (this.state.formPersister) {\n          this.state.formPersister.clearValues();\n        }\n\n        // Redirect to the expense page\n        const legacyExpenseId = result.data.draftExpenseAndInviteUser.legacyId;\n        const { collectiveSlug, parentCollectiveSlug, data } = this.props;\n        const parentCollectiveSlugRoute = parentCollectiveSlug ? `${parentCollectiveSlug}/` : '';\n        const collectiveType = parentCollectiveSlug ? getCollectiveTypeForUrl(data?.account) : undefined;\n        const collectiveTypeRoute = collectiveType ? `${collectiveType}/` : '';\n        await this.props.router.push(\n          `${parentCollectiveSlugRoute}${collectiveTypeRoute}${collectiveSlug}/expenses/${legacyExpenseId}`,\n        );\n      } else {\n        this.setState({ expense, step: STEPS.SUMMARY, isInitialForm: false });\n      }\n    } catch (e) {\n      this.props.addToast({ type: TOAST_TYPE.ERROR, message: i18nGraphqlException(this.props.intl, e) });\n    }\n  };\n\n  onSummarySubmit = async () => {\n    try {\n      this.setState({ isSubmitting: true, error: null });\n      const { expense, recurring } = this.state;\n      const result = await this.props.createExpense({\n        variables: {\n          account: { id: this.props.data.account.id },\n          expense: prepareExpenseForSubmit(expense),\n          recurring,\n        },\n      });\n\n      // Clear local storage backup if expense submitted successfully\n      if (this.state.formPersister) {\n        this.state.formPersister.clearValues();\n      }\n\n      // Redirect to the expense page\n      const legacyExpenseId = result.data.createExpense.legacyId;\n      const { collectiveSlug, parentCollectiveSlug, data } = this.props;\n      const parentCollectiveSlugRoute = parentCollectiveSlug ? `${parentCollectiveSlug}/` : '';\n      const collectiveType = parentCollectiveSlug ? getCollectiveTypeForUrl(data?.account) : undefined;\n      const collectiveTypeRoute = collectiveType ? `${collectiveType}/` : '';\n      await this.props.router.push(\n        `${parentCollectiveSlugRoute}${collectiveTypeRoute}${collectiveSlug}/expenses/${legacyExpenseId}`,\n      );\n      this.props.addToast({\n        type: TOAST_TYPE.SUCCESS,\n        title: <FormattedMessage id=\"Expense.Submitted\" defaultMessage=\"Expense submitted\" />,\n        message: (\n          <FormattedMessage id=\"Expense.SuccessPage\" defaultMessage=\"You can edit or review updates on this page.\" />\n        ),\n      });\n      window.scrollTo(0, 0);\n    } catch (e) {\n      this.props.addToast({ type: TOAST_TYPE.ERROR, message: i18nGraphqlException(this.props.intl, e) });\n      this.setState({ isSubmitting: false });\n    }\n  };\n\n  onNotesChanges = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    this.setState(state => ({ expense: { ...state.expense, [name]: value } }));\n  };\n\n  getSuggestedTags(collective) {\n    const tagsStats = (collective && collective.expensesTags) || null;\n    return tagsStats && tagsStats.map(({ tag }) => tag);\n  }\n\n  render() {\n    const { collectiveSlug, data, LoggedInUser, loadingLoggedInUser, router } = this.props;\n    const { step } = this.state;\n\n    if (!data.loading) {\n      if (!data || data.error) {\n        return <ErrorPage data={data} />;\n      } else if (!data.account) {\n        return <ErrorPage error={generateNotFoundError(collectiveSlug)} log={false} />;\n      } else if (\n        !hasFeature(data.account, FEATURES.RECEIVE_EXPENSES) ||\n        data.account.supportedExpenseTypes.length === 0\n      ) {\n        return <PageFeatureNotSupported />;\n      } else if (data.account.isArchived) {\n        return <PageFeatureNotSupported showContactSupportLink={false} />;\n      }\n    }\n\n    const collective = data && data.account;\n    const host = collective && collective.host;\n    const loggedInAccount = data && data.loggedInAccount;\n\n    const payoutProfiles = getPayoutProfiles(loggedInAccount);\n\n    return (\n      <Page collective={collective} {...this.getPageMetaData(collective)}>\n        {!expenseSubmissionAllowed(collective, LoggedInUser) ? (\n          <Flex justifyContent=\"center\" p={5}>\n            <MessageBox type=\"error\" withIcon>\n              <FormattedMessage\n                id=\"mustBeMemberOfCollective\"\n                defaultMessage=\"You must be a member of the collective to see this page\"\n              />\n            </MessageBox>\n          </Flex>\n        ) : (\n          <React.Fragment>\n            <CollectiveNavbar\n              collective={collective}\n              isLoading={!collective}\n              callsToAction={{ hasSubmitExpense: false, hasRequestGrant: false }}\n            />\n            <Container position=\"relative\" minHeight={[null, 800]} ref={this.formTopRef}>\n              {!loadingLoggedInUser && !LoggedInUser && (\n                <ContainerOverlay\n                  py={[2, null, 6]}\n                  top=\"0\"\n                  position={['fixed', null, 'absolute']}\n                  justifyContent={['center', null, 'flex-start']}\n                >\n                  <SignInOverlayBackground>\n                    <SignInOrJoinFree\n                      showOCLogo={false}\n                      showSubHeading={false}\n                      hideFooter\n                      routes={{ join: `/create-account?next=${encodeURIComponent(router.asPath)}` }}\n                    />\n                  </SignInOverlayBackground>\n                </ContainerOverlay>\n              )}\n              <Box maxWidth={Dimensions.MAX_SECTION_WIDTH} m=\"0 auto\" px={[2, 3, 4]} py={[4, 5]}>\n                <Flex justifyContent=\"space-between\" flexDirection={['column', 'row']}>\n                  <Box minWidth={300} maxWidth={['100%', null, null, 728]} mr={[0, 3, 5]} mb={5} flexGrow=\"1\">\n                    <SummaryHeader fontSize=\"24px\" lineHeight=\"32px\" mb={24} py={2}>\n                      {step !== STEPS.SUMMARY ? (\n                        <FormattedMessage id=\"ExpenseForm.Submit\" defaultMessage=\"Submit expense\" />\n                      ) : (\n                        <FormattedMessage\n                          id=\"ExpenseSummaryTitle\"\n                          defaultMessage=\"{type, select, CHARGE {Charge} INVOICE {Invoice} RECEIPT {Receipt} GRANT {Grant} SETTLEMENT {Settlement} other {Expense}} Summary to <LinkCollective>{collectiveName}</LinkCollective>\"\n                          values={{\n                            type: this.state.expense?.type,\n                            collectiveName: collective?.name,\n                            LinkCollective: text => <LinkCollective collective={collective}>{text}</LinkCollective>,\n                          }}\n                        />\n                      )}\n                    </SummaryHeader>\n                    {data.loading || loadingLoggedInUser ? (\n                      <LoadingPlaceholder width=\"100%\" height={400} />\n                    ) : (\n                      <Box>\n                        <CreateExpenseDismissibleIntro collectiveName={collective.name} />\n                        {step !== STEPS.SUMMARY ? (\n                          <ExpenseForm\n                            collective={collective}\n                            loading={loadingLoggedInUser}\n                            loggedInAccount={loggedInAccount}\n                            onSubmit={this.onFormSubmit}\n                            expense={this.state.expense}\n                            expensesTags={this.getSuggestedTags(collective)}\n                            payoutProfiles={payoutProfiles}\n                            formPersister={this.state.formPersister}\n                            shouldLoadValuesFromPersister={this.state.isInitialForm}\n                            defaultStep={step}\n                            autoFocusTitle\n                          />\n                        ) : (\n                          <div>\n                            <StyledCard p={[16, 24, 32]} mb={0}>\n                              <ExpenseSummary\n                                host={collective.host}\n                                expense={{\n                                  ...this.state.expense,\n                                  createdByAccount: this.props.data.loggedInAccount,\n                                }}\n                                collective={collective}\n                                borderless\n                                isEditing\n                              />\n                              <ExpenseRecurringForm\n                                recurring={this.state.recurring}\n                                onChange={recurring => this.setState({ recurring })}\n                              />\n                            </StyledCard>\n                            <Box mt={24}>\n                              <ExpenseNotesForm\n                                onChange={this.onNotesChanges}\n                                defaultValue={this.state.expense.privateMessage}\n                              />\n                              <Flex flexWrap=\"wrap\" mt={4}>\n                                <StyledButton\n                                  mt={2}\n                                  minWidth={175}\n                                  width={['100%', 'auto']}\n                                  mx={[2, 0]}\n                                  mr={[null, 3]}\n                                  whiteSpace=\"nowrap\"\n                                  data-cy=\"edit-expense-btn\"\n                                  onClick={() => this.setState({ step: STEPS.EXPENSE })}\n                                  disabled={this.state.isSubmitting}\n                                >\n                                  ← <FormattedMessage id=\"Expense.edit\" defaultMessage=\"Edit expense\" />\n                                </StyledButton>\n                                <StyledButton\n                                  buttonStyle=\"primary\"\n                                  mt={2}\n                                  width={['100%', 'auto']}\n                                  mx={[2, 0]}\n                                  whiteSpace=\"nowrap\"\n                                  data-cy=\"submit-expense-btn\"\n                                  onClick={this.onSummarySubmit}\n                                  loading={this.state.isSubmitting}\n                                  minWidth={175}\n                                >\n                                  {this.state.expense?.type === expenseTypes.GRANT ? (\n                                    <FormattedMessage id=\"ExpenseForm.SubmitRequest\" defaultMessage=\"Submit request\" />\n                                  ) : (\n                                    <FormattedMessage id=\"ExpenseForm.Submit\" defaultMessage=\"Submit expense\" />\n                                  )}\n                                </StyledButton>\n                              </Flex>\n                            </Box>\n                          </div>\n                        )}\n                      </Box>\n                    )}\n                  </Box>\n                  <Box maxWidth={['100%', 210, null, 275]} mt={70}>\n                    <ExpenseInfoSidebar isLoading={data.loading} collective={collective} host={host} />\n                  </Box>\n                </Flex>\n              </Box>\n              <MobileCollectiveInfoStickyBar isLoading={data.loading} collective={collective} host={host} />\n            </Container>\n          </React.Fragment>\n        )}\n      </Page>\n    );\n  }\n}\n\nconst hostFieldsFragment = gql`\n  fragment CreateExpenseHostFields on Host {\n    id\n    name\n    legalName\n    slug\n    type\n    expensePolicy\n    settings\n    currency\n    features {\n      id\n      MULTI_CURRENCY_EXPENSES\n    }\n    location {\n      id\n      address\n      country\n    }\n    transferwise {\n      id\n      availableCurrencies\n    }\n    supportedPayoutMethods\n    isTrustedHost\n  }\n`;\n\nconst createExpensePageQuery = gql`\n  query CreateExpensePage($collectiveSlug: String!) {\n    account(slug: $collectiveSlug, throwIfMissing: false) {\n      id\n      legacyId\n      slug\n      name\n      type\n      description\n      settings\n      twitterHandle\n      imageUrl\n      backgroundImageUrl\n      currency\n      isArchived\n      isActive\n      expensePolicy\n      supportedExpenseTypes\n      features {\n        id\n        ...NavbarFields\n        MULTI_CURRENCY_EXPENSES\n      }\n      expensesTags {\n        id\n        tag\n      }\n\n      stats {\n        id\n        balanceWithBlockedFunds {\n          valueInCents\n          currency\n        }\n      }\n\n      ... on AccountWithHost {\n        isApproved\n        host {\n          id\n          ...CreateExpenseHostFields\n        }\n      }\n\n      # For Hosts with Budget capabilities\n\n      ... on Organization {\n        isHost\n        isActive\n        # NOTE: This will be the account itself in this case\n        host {\n          id\n          ...CreateExpenseHostFields\n        }\n      }\n\n      ... on AccountWithParent {\n        parent {\n          id\n          slug\n          expensePolicy\n          imageUrl\n          backgroundImageUrl\n          twitterHandle\n        }\n      }\n    }\n    loggedInAccount {\n      id\n      ...LoggedInAccountExpensePayoutFields\n    }\n  }\n\n  ${loggedInAccountExpensePayoutFieldsFragment}\n  ${hostFieldsFragment}\n  ${collectiveNavbarFieldsFragment}\n`;\n\nconst addCreateExpensePageData = graphql(createExpensePageQuery, {\n  options: {\n    context: API_V2_CONTEXT,\n    fetchPolicy: 'cache-and-network',\n  },\n});\n\nconst createExpenseMutation = gql`\n  mutation CreateExpense(\n    $expense: ExpenseCreateInput!\n    $account: AccountReferenceInput!\n    $recurring: RecurringExpenseInput\n  ) {\n    createExpense(expense: $expense, account: $account, recurring: $recurring) {\n      id\n      ...ExpensePageExpenseFields\n    }\n  }\n  ${expensePageExpenseFieldsFragment}\n`;\n\nconst addCreateExpenseMutation = graphql(createExpenseMutation, {\n  name: 'createExpense',\n  options: { context: API_V2_CONTEXT },\n});\n\nconst draftExpenseAndInviteUserMutation = gql`\n  mutation DraftExpenseAndInviteUser($expense: ExpenseInviteDraftInput!, $account: AccountReferenceInput!) {\n    draftExpenseAndInviteUser(expense: $expense, account: $account) {\n      id\n      ...ExpensePageExpenseFields\n    }\n  }\n  ${expensePageExpenseFieldsFragment}\n`;\n\nconst addDraftExpenseAndInviteUserMutation = graphql(draftExpenseAndInviteUserMutation, {\n  name: 'draftExpenseAndInviteUser',\n  options: { context: API_V2_CONTEXT },\n});\n\nconst addHoc = compose(\n  withUser,\n  withRouter,\n  addCreateExpensePageData,\n  addCreateExpenseMutation,\n  addDraftExpenseAndInviteUserMutation,\n  withToasts,\n  injectIntl,\n);\n\nexport default addHoc(CreateExpensePage);\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/create-expense\",\n      function () {\n        return require(\"private-next-pages/create-expense.js\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/create-expense\"])\n      });\n    }\n  "],"names":["React","Container","ContainerOverlay","backgroundType","backgroundOpacity","props","isDark","defaultOpacity","opacity","lightness","defaultProps","FormattedMessage","useIntl","Flex","I18nSupportLink","Page","H1","P","PageFeatureNotSupported","showContactSupportLink","formatMessage","title","id","defaultMessage","SupportLink","css","styled","v4","uuid","isURL","uploadImageWithXHR","CustomScrollbarCSS","stripHTML","HTMLContent","LoadingPlaceholder","MessageBox","StyledTag","TrixEditorContainer","div","withBorders","border","borderColor","error","borderRadius","padding","Boolean","editorMaxHeight","overflowY","outline","theme","colors","red","black","minHeight","editorMinHeight","maxHeight","toolbarBackgroundColor","blue","version","display","borderLeft","withStickyToolbar","position","top","toolbarTop","marginTop","toolbarOffsetY","p","isDisabled","pointerEvents","cursor","background","SUPPORTED_SERVICE_URLS","youTube","anchorFm","RichTextEditor","Trix","editorRef","current","addEventListener","handleChange","handleUpload","handleFileAccept","trixActionInvoke","event","videoEmbedEnabled","replaceEmbeddedIFrames","value","defaultValue","trixEmbed","mainContainerRef","linkInput","querySelector","e","key","handleLink","addLinkBtn","isReady","iframeRegex","RegExp","match","lastIndex","exec","getEditor","loadHTML","iframe","index","preText","substring","setSelectedRange","insertHTML","attachment","Attachment","content","insertAttachment","length","postText","videoEmbedButton","videoEmbedDialog","toolbarElement","target","attachFilesButton","insertAdjacentHTML","trixDialog","actionName","attachVideoDialog","attachVideoDialogInput","getAttribute","removeAttribute","setAttribute","embedLink","trim","embedIframe","service","videoLink","regexps","youtube","vimeo","matches","podcastName","episodeId","podcastUrl","parseServiceLink","constructVideoEmbedURL","sanitizedLink","replace","videoServices","attachmentData","includes","contentType","autolink","onChange","state","setState","test","file","type","alert","preventDefault","size","attachmentContent","isVideoAttachment","remove","setUploading","onProgress","progress","setUploadProgress","onSuccess","fileURL","setAttributes","url","href","onFailure","kind","urlInput","urlInputValue","require_protocol","lastCharacterPosition","lastCharacterIndex","closingPair","openingPair","opening","closing","i","createRef","require","config","blockAttributes","heading1","tagName","attachments","preview","caption","name","initialize","oldProps","reset","editor","removeEventListener","linkRegex","getDocument","toString","urlLength","autolinkDelimiter","range","hrefAtRange","getCommonAttributesAtRange","newURL","slice","updateInRange","canActivateAttribute","activateAttribute","offset","updateFunc","baseRange","getSelectedRange","autoFocus","placeholder","inputName","disabled","fontSize","showCount","maxLength","undefined","Component","getFromLocalStorage","removeFromLocalStorage","setLocalStorage","FormPersister","formId","throttlePeriod","saveValues","values","JSON","stringify","itemFromStorage","parse","copy","useClipboard","timeout","useState","isCopied","setCopied","updateCopyBtnTimeout","setUpdateCopyBtnTimeout","clearTimeout","timeoutFn","setTimeout","HELP_MESSAGE","DismissibleMessage","StyledButton","CreateExpenseDismissibleIntro","collectiveName","EXPENSE_CREATE_INFO","dismiss","collective","getDateFromValue","toIsoDateStr","RecurringIntervalOptions","Box","StyledCheckbox","StyledHr","StyledInput","StyledInputField","StyledSelect","Span","ExpenseRecurringForm","recurring","isRecurring","setRecurring","handleSetRecurring","checked","inputProps","interval","find","endsAt","Date","gql","graphql","withRouter","injectIntl","hasFeature","FEATURES","expenseSubmissionAllowed","getCollectivePageMetadata","getCollectiveTypeForUrl","expenseTypes","generateNotFoundError","i18nGraphqlException","getPayoutProfiles","API_V2_CONTEXT","addParentToURLIfMissing","getCollectivePageCanonicalURL","parseToBoolean","CollectiveNavbar","Dimensions","collectiveNavbarFieldsFragment","ErrorPage","ExpenseForm","EXPENSE_FORM_STEPS","prepareExpenseForSubmit","ExpenseInfoSidebar","ExpenseNotesForm","ExpenseSummary","SummaryHeader","expensePageExpenseFieldsFragment","loggedInAccountExpensePayoutFieldsFragment","MobileCollectiveInfoStickyBar","LinkCollective","SignInOrJoinFree","SignInOverlayBackground","StyledCard","TOAST_TYPE","withToasts","withUser","STEPS","SUMMARY","CreateExpensePage","expense","payee","isInvite","expenseDraft","draftExpenseAndInviteUser","variables","account","data","result","formPersister","clearValues","legacyExpenseId","legacyId","collectiveSlug","parentCollectiveSlug","parentCollectiveSlugRoute","collectiveType","collectiveTypeRoute","router","push","step","isInitialForm","addToast","ERROR","message","intl","isSubmitting","createExpense","SUCCESS","window","scrollTo","formTopRef","PAYEE","handleResetForm","LoggedInUser","refetch","initFormPersister","oldState","scrollIntoView","behavior","baseMetadata","canonicalURL","query","resetForm","buildFormPersister","routeAs","asPath","split","pathname","shallow","tagsStats","expensesTags","map","tag","loadingLoggedInUser","loading","RECEIVE_EXPENSES","supportedExpenseTypes","isArchived","host","loggedInAccount","payoutProfiles","getPageMetaData","hasSubmitExpense","hasRequestGrant","join","encodeURIComponent","MAX_SECTION_WIDTH","text","onFormSubmit","getSuggestedTags","createdByAccount","onNotesChanges","privateMessage","EXPENSE","onSummarySubmit","GRANT","hostFieldsFragment","createExpensePageQuery","addCreateExpensePageData","options","context","fetchPolicy","createExpenseMutation","addCreateExpenseMutation","draftExpenseAndInviteUserMutation","addDraftExpenseAndInviteUserMutation","addHoc"],"sourceRoot":""}