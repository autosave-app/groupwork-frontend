{"version":3,"file":"static/chunks/pages/terms-of-fiscal-sponsorship-890e8361ca4e0fa4.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AAEA,IAAMK,cAAc,GAAGJ,oEAAH,wXAApB;;AAUA,IAAMK,wBAAwB,GAAG,SAA3BA,wBAA2B,OAA4B;EAAA;;EAAA,IAAzBC,kBAAyB,QAAzBA,kBAAyB;EAC3D,IAAMC,MAAM,GAAGL,sDAAS,EAAxB;;EACA,gBAA0BD,wDAAQ,CAACG,cAAD,EAAiB;IACjDI,SAAS,EAAE;MAAEF,kBAAkB,EAAlBA;IAAF,CADsC;IAEjDG,OAAO,EAAEN,yEAFwC;IAGjDO,IAAI,EAAE,CAACJ;EAH0C,CAAjB,CAAlC;EAAA,IAAQK,IAAR,aAAQA,IAAR;EAAA,IAAcC,OAAd,aAAcA,OAAd;;EAMA,IAAMC,cAAc,GAAGF,IAAH,aAAGA,IAAH,qCAAGA,IAAI,CAAEG,IAAT,+CAAG,WAAYC,QAAnC;EACA,IAAMC,aAAa,GAAGL,IAAH,aAAGA,IAAH,sCAAGA,IAAI,CAAEG,IAAT,gDAAG,YAAYE,aAAlC;;EAEA,IAAI,CAACJ,OAAD,IAAYC,cAAhB,EAAgC;IAC9B,IAAIG,aAAJ,EAAmB;MACjBT,MAAM,CAACU,IAAP,CAAYJ,cAAZ;IACD,CAFD,MAEO;MACLN,MAAM,CAACU,IAAP,CAAY;QAAEC,QAAQ,EAAE,oBAAZ;QAAkCC,KAAK,EAAE;UAAEC,GAAG,EAAEP;QAAP;MAAzC,CAAZ;IACD;EACF;;EAED,OAAO,IAAP;AACD,CApBD;;AA0BAR,wBAAwB,CAACgB,SAAzB,GAAqC;EACnCf,kBAAkB,EAAEP,0DAAgBuB;AADD,CAArC;;AAIA,+DAAejB,wBAAf;;;;;;;;AC7CA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,KAAmD;AAC1E;AACA;AACA,OAAO,KAAU,EAAE,EAId;AACL","sources":["webpack://_N_E/./pages/terms-of-fiscal-sponsorship.js","webpack://_N_E/?3491"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { gql, useQuery } from '@apollo/client';\nimport { useRouter } from 'next/router';\n\nimport { API_V2_CONTEXT } from '../lib/graphql/helpers';\n\nconst hostTermsQuery = gql`\n  query HostTermsQuery($hostCollectiveSlug: String!) {\n    host(slug: $hostCollectiveSlug) {\n      id\n      termsUrl\n      isTrustedHost\n    }\n  }\n`;\n\nconst TermsOfFiscalSponsorship = ({ hostCollectiveSlug }) => {\n  const router = useRouter();\n  const { data, loading } = useQuery(hostTermsQuery, {\n    variables: { hostCollectiveSlug },\n    context: API_V2_CONTEXT,\n    skip: !hostCollectiveSlug,\n  });\n\n  const termsOfService = data?.host?.termsUrl;\n  const isTrustedHost = data?.host?.isTrustedHost;\n\n  if (!loading && termsOfService) {\n    if (isTrustedHost) {\n      router.push(termsOfService);\n    } else {\n      router.push({ pathname: '/external-redirect', query: { url: termsOfService } });\n    }\n  }\n\n  return null;\n};\n\nexport const getServerSideProps = async ({ query }) => {\n  return { props: { hostCollectiveSlug: query.hostCollectiveSlug } };\n};\n\nTermsOfFiscalSponsorship.propTypes = {\n  hostCollectiveSlug: PropTypes.string,\n};\n\nexport default TermsOfFiscalSponsorship;\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/terms-of-fiscal-sponsorship\",\n      function () {\n        return require(\"private-next-pages/terms-of-fiscal-sponsorship.js\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/terms-of-fiscal-sponsorship\"])\n      });\n    }\n  "],"names":["PropTypes","gql","useQuery","useRouter","API_V2_CONTEXT","hostTermsQuery","TermsOfFiscalSponsorship","hostCollectiveSlug","router","variables","context","skip","data","loading","termsOfService","host","termsUrl","isTrustedHost","push","pathname","query","url","propTypes","string"],"sourceRoot":""}