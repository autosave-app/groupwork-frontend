{"version":3,"file":"static/chunks/pages/conversation-89a36c91b572f7bb.js","mappings":";;;;;;;;;;;;;AAAsD;AACvB;AAC4B;AACpD,+BAA+B,6CAAgB;AACtD;AACA;AACA;AACA;AACA,sBAAsB,gDAAmB,CAAC,qEAAc,EAAE,mFAAQ;AAClE;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG,gBAAgB,gDAAmB;AACtC;AACA,GAAG,gBAAgB,gDAAmB;AACtC;AACA,GAAG;AACH,CAAC;AACD;AACO;AACP;AACA;AACA;;;;;;;;;;;;;;;ACxBsD;AACvB;AAC4B;AACpD,4BAA4B,6CAAgB;AACnD;AACA;AACA;AACA;AACA,sBAAsB,gDAAmB,CAAC,qEAAc,EAAE,mFAAQ;AAClE;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG,gBAAgB,gDAAmB;AACtC;AACA,GAAG;AACH,CAAC;AACD;AACO;AACP;AACA;AACA;;;;;;;;;;;;;;;ACtBsD;AACvB;AAC4B;AACpD,0BAA0B,6CAAgB;AACjD;AACA;AACA;AACA;AACA,sBAAsB,gDAAmB,CAAC,qEAAc,EAAE,mFAAQ;AAClE;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG,gBAAgB,gDAAmB;AACtC;AACA,GAAG;AACH,CAAC;AACD;AACO;AACP;AACA;AACA;;;;;;;;;;;;;;;ACtBsD;AACvB;AAC4B;AACpD,2BAA2B,6CAAgB;AAClD;AACA;AACA;AACA;AACA,sBAAsB,gDAAmB,CAAC,qEAAc,EAAE,mFAAQ;AAClE;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG,gBAAgB,gDAAmB;AACtC;AACA,GAAG,gBAAgB,gDAAmB;AACtC;AACA,GAAG;AACH,CAAC;AACD;AACO;AACP;AACA;AACA;;;;;;;;;;;;;;;ACxBsD;AACvB;AAC4B;AACpD,iCAAiC,6CAAgB;AACxD;AACA;AACA;AACA;AACA,sBAAsB,gDAAmB,CAAC,qEAAc,EAAE,mFAAQ;AAClE;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG,gBAAgB,gDAAmB;AACtC;AACA;AACA,GAAG;AACH,CAAC;AACD;AACO;AACP;AACA;AACA;;;;;;;;;;;;;;;ACvBsD;AACvB;AAC4B;AACpD,+BAA+B,6CAAgB;AACtD;AACA;AACA;AACA;AACA,sBAAsB,gDAAmB,CAAC,qEAAc,EAAE,mFAAQ;AAClE;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG,gBAAgB,gDAAmB;AACtC;AACA,GAAG;AACH,CAAC;AACD;AACO;AACP;AACA;AACA;;;;;;;;;;;;;;;ACtBsD;AACvB;AAC4B;AACpD,4BAA4B,6CAAgB;AACnD;AACA;AACA;AACA;AACA,sBAAsB,gDAAmB,CAAC,qEAAc,EAAE,mFAAQ;AAClE;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG,gBAAgB,gDAAmB;AACtC;AACA,GAAG;AACH,CAAC;AACD;AACO;AACP;AACA;AACA;;;;;;;;;;;;;;;ACtBsD;AACvB;AAC4B;AACpD,yBAAyB,6CAAgB;AAChD;AACA;AACA;AACA;AACA,sBAAsB,gDAAmB,CAAC,qEAAc,EAAE,mFAAQ;AAClE;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG,gBAAgB,gDAAmB;AACtC;AACA;AACA,GAAG,gBAAgB,gDAAmB;AACtC;AACA,GAAG;AACH,CAAC;AACD;AACO;AACP;AACA;AACA;;;;;;;ACzBA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACtBA,eAAe,mBAAO,CAAC,KAAa;AACpC,mBAAmB,mBAAO,CAAC,KAAiB;AAC5C,cAAc,mBAAO,CAAC,KAAY;AAClC,cAAc,mBAAO,CAAC,IAAW;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA,OAAO,kBAAkB;AACzB,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACpDA,eAAe,mBAAO,CAAC,KAAY;AACnC,eAAe,mBAAO,CAAC,KAAY;;AAEnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,QAAQ,WAAW;AAC9B,WAAW,SAAS;AACpB;AACA,WAAW,SAAS;AACpB;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,mBAAmB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;ACpEA,qBAAqB,mBAAO,CAAC,KAAmB;AAChD,eAAe,mBAAO,CAAC,IAAa;AACpC,wBAAwB,mBAAO,CAAC,KAAqB;;AAErD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;AC9BA,kBAAkB,mBAAO,CAAC,KAAgB;AAC1C,oBAAoB,mBAAO,CAAC,IAAkB;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvBA;AAGA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;;;;IACqBU;;;;;;;;;;;;;;;;0WAYX;MAAEC,eAAe,EAAE;IAAnB;;wXAKc,UAAAC,KAAK,EAAI;MAC7B,IAAMC,QAAQ,GAAGV,gEA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","sources":["webpack://_N_E/./node_modules/@styled-icons/boxicons-regular/CheckCircle/CheckCircle.esm.js","webpack://_N_E/./node_modules/@styled-icons/boxicons-regular/Envelope/Envelope.esm.js","webpack://_N_E/./node_modules/@styled-icons/boxicons-regular/Planet/Planet.esm.js","webpack://_N_E/./node_modules/@styled-icons/boxicons-regular/Receipt/Receipt.esm.js","webpack://_N_E/./node_modules/@styled-icons/fa-solid/MoneyCheckAlt/MoneyCheckAlt.esm.js","webpack://_N_E/./node_modules/@styled-icons/material/AttachMoney/AttachMoney.esm.js","webpack://_N_E/./node_modules/@styled-icons/material/Settings/Settings.esm.js","webpack://_N_E/./node_modules/@styled-icons/remix-line/Stack/Stack.esm.js","webpack://_N_E/./node_modules/lodash/_baseZipObject.js","webpack://_N_E/./node_modules/lodash/map.js","webpack://_N_E/./node_modules/lodash/throttle.js","webpack://_N_E/./node_modules/lodash/without.js","webpack://_N_E/./node_modules/lodash/zipObject.js","webpack://_N_E/./components/CollectiveThemeProvider.js","webpack://_N_E/./components/PageFeatureNotSupported.js","webpack://_N_E/./components/conversations/FollowersAvatars.js","webpack://_N_E/./node_modules/@styled-icons/feather/Bell/Bell.esm.js","webpack://_N_E/./node_modules/@styled-icons/feather/BellOff/BellOff.esm.js","webpack://_N_E/./components/conversations/FollowConversationButton.js","webpack://_N_E/./pages/conversation.js","webpack://_N_E/?81bb"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { StyledIconBase } from '@styled-icons/styled-icon';\nexport var CheckCircle = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(StyledIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.999 13.587 7.7 11.292l-1.412 1.416 3.713 3.705 6.706-6.706-1.414-1.414z\"\n  }));\n});\nCheckCircle.displayName = 'CheckCircle';\nexport var CheckCircleDimensions = {\n  height: 24,\n  width: 24\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { StyledIconBase } from '@styled-icons/styled-icon';\nexport var Envelope = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(StyledIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20 4H4c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2zm0 2v.511l-8 6.223-8-6.222V6h16zM4 18V9.044l7.386 5.745a.994.994 0 0 0 1.228 0L20 9.044 20.002 18H4z\"\n  }));\n});\nEnvelope.displayName = 'Envelope';\nexport var EnvelopeDimensions = {\n  height: 24,\n  width: 24\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { StyledIconBase } from '@styled-icons/styled-icon';\nexport var Planet = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(StyledIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2.76 20.2a2.73 2.73 0 0 0 2.15.85 8.86 8.86 0 0 0 3.37-.86 9 9 0 0 0 12.27-10.9c1.31-2.23 1.75-4.26.67-5.48a2.94 2.94 0 0 0-2.57-1A5 5 0 0 0 16.1 4 9 9 0 0 0 3.58 15.14c-1.06 1.21-2.05 3.68-.82 5.06zm1.5-1.32c-.22-.25 0-1.07.37-1.76a9.26 9.26 0 0 0 1.57 1.74c-1.03.3-1.71.28-1.94.02zm14.51-5.17A7 7 0 0 1 15.58 18 7.12 7.12 0 0 1 12 19a6.44 6.44 0 0 1-1.24-.13 30.73 30.73 0 0 0 4.42-3.29 31.5 31.5 0 0 0 3.8-4 6.88 6.88 0 0 1-.21 2.13zm.09-8.89a.94.94 0 0 1 .87.32c.23.26.16.94-.26 1.93a9.2 9.2 0 0 0-1.61-1.86 2.48 2.48 0 0 1 1-.39zM5.22 10.31A6.94 6.94 0 0 1 8.41 6 7 7 0 0 1 12 5a6.9 6.9 0 0 1 6 3.41 5.19 5.19 0 0 1 .35.66 27.43 27.43 0 0 1-4.49 5A27.35 27.35 0 0 1 8.35 18a7 7 0 0 1-3.13-7.65z\"\n  }));\n});\nPlanet.displayName = 'Planet';\nexport var PlanetDimensions = {\n  height: 24,\n  width: 24\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { StyledIconBase } from '@styled-icons/styled-icon';\nexport var Receipt = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(StyledIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21 11h-3V4a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v14c0 1.654 1.346 3 3 3h14c1.654 0 3-1.346 3-3v-6a1 1 0 0 0-1-1zM5 19a1 1 0 0 1-1-1V5h12v13c0 .351.061.688.171 1H5zm15-1a1 1 0 0 1-2 0v-5h2v5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 7h8v2H6zm0 4h8v2H6zm5 4h3v2h-3z\"\n  }));\n});\nReceipt.displayName = 'Receipt';\nexport var ReceiptDimensions = {\n  height: 24,\n  width: 24\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { StyledIconBase } from '@styled-icons/styled-icon';\nexport var MoneyCheckAlt = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(StyledIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 576 512\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M64 64C28.7 64 0 92.7 0 128v256c0 35.3 28.7 64 64 64h448c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H64zm208 128h224c8.8 0 16 7.2 16 16s-7.2 16-16 16H272c-8.8 0-16-7.2-16-16s7.2-16 16-16zm-16 112c0-8.8 7.2-16 16-16h224c8.8 0 16 7.2 16 16s-7.2 16-16 16H272c-8.8 0-16-7.2-16-16zm-91.9-144v6.3c6.6 1.2 16.6 3.2 21 4.4 10.7 2.8 17 13.8 14.2 24.5s-13.8 17-24.5 14.2c-3.8-1-17.4-3.7-21.7-4.3-12.2-1.9-22.2-.3-28.6 2.6-6.3 2.9-7.9 6.2-8.2 8.1-.6 3.4 0 4.7.1 5 .3.5 1 1.8 3.6 3.5 6.1 4.2 15.7 7.2 29.9 11.4l.8.2c12.1 3.7 28.3 8.5 40.4 17.4 6.7 4.9 13 11.4 16.9 20.5 4 9.1 4.8 19.1 3 29.4-3.3 19-15.9 32-31.6 38.7-4.9 2.1-10 3.6-15.4 4.6v5.5c0 11.1-9 20.1-20.1 20.1s-20.1-9-20.1-20.1v-6.4c-9.5-2.2-21.9-6.4-29.8-9.1-1.7-.6-3.2-1.1-4.4-1.5-10.5-3.5-16.1-14.8-12.7-25.3s14.8-16.1 25.3-12.7c2 .7 4.1 1.4 6.4 2.1 9.5 3.2 20.2 6.9 26.2 7.9 12.8 2 22.7.7 28.8-1.9 5.5-2.3 7.4-5.3 8-8.8.7-4 .1-5.9-.2-6.7-.4-.9-1.3-2.2-3.7-4-5.9-4.3-15.3-7.5-29.3-11.7l-2.2-.7c-11.7-3.5-27-8.1-38.6-16-6.6-4.5-13.2-10.7-17.3-19.5-4.2-9-5.2-18.8-3.4-29 3.2-18.3 16.2-30.9 31.1-37.7 5-2.3 10.3-4 15.9-5.1v-6c0-11.1 9-20.1 20.1-20.1s20.1 9 20.1 20.1z\"\n  }));\n});\nMoneyCheckAlt.displayName = 'MoneyCheckAlt';\nexport var MoneyCheckAltDimensions = {\n  height: 512,\n  width: 576\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { StyledIconBase } from '@styled-icons/styled-icon';\nexport var AttachMoney = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(StyledIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z\"\n  }));\n});\nAttachMoney.displayName = 'AttachMoney';\nexport var AttachMoneyDimensions = {\n  height: 24,\n  width: 24\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { StyledIconBase } from '@styled-icons/styled-icon';\nexport var Settings = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(StyledIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z\"\n  }));\n});\nSettings.displayName = 'Settings';\nexport var SettingsDimensions = {\n  height: 24,\n  width: 24\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { StyledIconBase } from '@styled-icons/styled-icon';\nexport var Stack = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(StyledIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"none\",\n    d: \"M0 0h24v24H0z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m20.083 15.2 1.202.721a.5.5 0 0 1 0 .858l-8.77 5.262a1 1 0 0 1-1.03 0l-8.77-5.262a.5.5 0 0 1 0-.858l1.202-.721L12 20.05l8.083-4.85zm0-4.7 1.202.721a.5.5 0 0 1 0 .858L12 17.65l-9.285-5.571a.5.5 0 0 1 0-.858l1.202-.721L12 15.35l8.083-4.85zm-7.569-9.191 8.771 5.262a.5.5 0 0 1 0 .858L12 13 2.715 7.429a.5.5 0 0 1 0-.858l8.77-5.262a1 1 0 0 1 1.03 0zM12 3.332 5.887 7 12 10.668 18.113 7 12 3.332z\"\n  }));\n});\nStack.displayName = 'Stack';\nexport var StackDimensions = {\n  height: 24,\n  width: 24\n};","/**\n * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n *\n * @private\n * @param {Array} props The property identifiers.\n * @param {Array} values The property values.\n * @param {Function} assignFunc The function to assign values.\n * @returns {Object} Returns the new object.\n */\nfunction baseZipObject(props, values, assignFunc) {\n  var index = -1,\n      length = props.length,\n      valsLength = values.length,\n      result = {};\n\n  while (++index < length) {\n    var value = index < valsLength ? values[index] : undefined;\n    assignFunc(result, props[index], value);\n  }\n  return result;\n}\n\nmodule.exports = baseZipObject;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","var baseDifference = require('./_baseDifference'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array excluding all given values using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.pull`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...*} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.difference, _.xor\n * @example\n *\n * _.without([2, 1, 2, 3], 1, 2);\n * // => [3]\n */\nvar without = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, values)\n    : [];\n});\n\nmodule.exports = without;\n","var assignValue = require('./_assignValue'),\n    baseZipObject = require('./_baseZipObject');\n\n/**\n * This method is like `_.fromPairs` except that it accepts two arrays,\n * one of property identifiers and one of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 0.4.0\n * @category Array\n * @param {Array} [props=[]] The property identifiers.\n * @param {Array} [values=[]] The property values.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.zipObject(['a', 'b'], [1, 2]);\n * // => { 'a': 1, 'b': 2 }\n */\nfunction zipObject(props, values) {\n  return baseZipObject(props || [], values || [], assignValue);\n}\n\nmodule.exports = zipObject;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { clamp, get, throttle } from 'lodash';\nimport memoizeOne from 'memoize-one';\nimport { darken, getContrast, getLuminance, setLightness } from 'polished';\nimport { ThemeProvider } from 'styled-components';\nimport { isHexColor } from 'validator';\n\nimport defaultTheme, { generateTheme } from '../lib/theme';\n\n/**\n * A special `ThemeProvider` that plugs the custom collective theme, defined by the color\n * from `collective.settings.collectivePage.primaryColor`.\n */\nexport default class CollectiveThemeProvider extends React.PureComponent {\n  static propTypes = {\n    children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    collective: PropTypes.shape({\n      settings: PropTypes.shape({\n        collectivePage: PropTypes.shape({\n          primaryColor: PropTypes.string,\n        }),\n      }),\n    }),\n  };\n\n  state = { newPrimaryColor: null };\n\n  /**\n   * Ensures that the contrast is at least 7/1, as recommended by the [W3c](https://webaim.org/articles/contrast)\n   */\n  adjustColorContrast = color => {\n    const contrast = getContrast(color, '#fff');\n    if (contrast >= 7) {\n      return color;\n    } else {\n      const contrastDiff = (7 - contrast) / 21;\n      return darken(contrastDiff, color);\n    }\n  };\n\n  getTheme = memoizeOne(primaryColor => {\n    if (!primaryColor) {\n      return defaultTheme;\n    } else if (!isHexColor(primaryColor)) {\n      // eslint-disable-next-line no-console\n      console.warn(`Invalid custom color: ${primaryColor}`);\n      return defaultTheme;\n    } else {\n      const adjustedPrimary = this.adjustColorContrast(primaryColor);\n      const luminance = getLuminance(adjustedPrimary);\n      // Allow a deviation to up to 20% of the default luminance. Don't apply this to really\n      // dark colors (luminance < 0.05)\n      const luminanceAdjustment = luminance < 0.05 ? -0.1 : luminance / 5;\n      const adjustLuminance = value => setLightness(clamp(value + luminanceAdjustment, 0, 0.97), adjustedPrimary);\n      return generateTheme({\n        colors: {\n          ...defaultTheme.colors,\n          primary: {\n            900: adjustLuminance(0.1),\n            800: adjustLuminance(0.2),\n            700: adjustLuminance(0.3),\n            600: adjustLuminance(0.42),\n            500: adjustLuminance(0.5),\n            400: adjustLuminance(0.6),\n            300: adjustLuminance(0.65),\n            200: adjustLuminance(0.72),\n            100: adjustLuminance(0.92),\n            50: adjustLuminance(0.97),\n            base: primaryColor,\n          },\n        },\n      });\n    }\n  });\n\n  onPrimaryColorChange = throttle(newPrimaryColor => {\n    this.setState({ newPrimaryColor });\n  }, 2000);\n\n  render() {\n    const { collective, children } = this.props;\n    const primaryColor = this.state.newPrimaryColor || get(collective, 'settings.collectivePage.primaryColor');\n    return (\n      <ThemeProvider theme={this.getTheme(primaryColor)}>\n        {typeof children === 'function' ? (\n          children({ onPrimaryColorChange: this.onPrimaryColorChange })\n        ) : (\n          <React.Fragment>{children}</React.Fragment>\n        )}\n      </ThemeProvider>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage, useIntl } from 'react-intl';\n\nimport { Flex } from './Grid';\nimport { I18nSupportLink } from './I18nFormatters';\nimport Page from './Page';\nimport { H1, P } from './Text';\n\n/**\n * A page to show when the feature is not supported by the collective.\n * Ensures the page is not referenced by robots.\n */\nconst PageFeatureNotSupported = ({ showContactSupportLink, ...props }) => {\n  const { formatMessage } = useIntl();\n  const title = formatMessage({ id: 'FeatureNotSupported.title', defaultMessage: 'Page inaccessible' });\n  return (\n    <Page noRobots title={title} {...props}>\n      <Flex flexDirection=\"column\" justifyContent=\"center\" alignItems=\"center\" px={2} py={[5, 6]}>\n        <H1 fontSize=\"38px\" mb={3} textAlign=\"center\">\n          {title}\n        </H1>\n        <P fontSize=\"64px\" mt={3} mb={5}>\n          <span role=\"img\" aria-label=\"Monkey Face\">\n            üôàÔ∏è\n          </span>\n        </P>\n        <P>\n          <FormattedMessage\n            id=\"FeatureNotSupported.description\"\n            defaultMessage=\"This page has not been activated for this Collective or you don't have permission to see it.\"\n          />\n          {showContactSupportLink && (\n            <React.Fragment>\n              {' '}\n              <FormattedMessage\n                id=\"ContactSupportForDetails\"\n                defaultMessage=\"Please contact <SupportLink>support</SupportLink> for more details.\"\n                values={{ SupportLink: I18nSupportLink }}\n              />\n            </React.Fragment>\n          )}\n        </P>\n      </Flex>\n    </Page>\n  );\n};\n\nPageFeatureNotSupported.propTypes = {\n  showContactSupportLink: PropTypes.bool,\n};\n\nPageFeatureNotSupported.defaultProps = {\n  showContactSupportLink: true,\n};\n\nexport default PageFeatureNotSupported;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { defineMessages, useIntl } from 'react-intl';\n\nimport Avatar from '../Avatar';\nimport Container from '../Container';\nimport { Box } from '../Grid';\nimport LinkCollective from '../LinkCollective';\nimport { Span } from '../Text';\nimport { withUser } from '../UserProvider';\n\nconst messages = defineMessages({\n  andXOthers: {\n    id: 'conversation.followers.rest',\n    defaultMessage: '{usersList} and {count, plural, one {one other} other {# others}}',\n  },\n});\n\nconst getFollwersNotDisplayedNames = (followers, maxNbDisplayed) => {\n  if (followers.length <= maxNbDisplayed) {\n    return null;\n  } else {\n    return followers\n      .slice(maxNbDisplayed)\n      .map(c => c.name)\n      .join(', ');\n  }\n};\n\n/**\n * A small list of avatars with a count next to it.\n */\nconst FollowersAvatars = ({ followers, totalCount, avatarRadius, maxNbDisplayed }) => {\n  const { formatMessage } = useIntl();\n\n  if (!followers || !followers.length) {\n    return null;\n  }\n\n  const nbNotDisplayed = totalCount - maxNbDisplayed;\n  const nbNotFetched = totalCount - followers.length;\n  const usersNotDisplayedNames = getFollwersNotDisplayedNames(followers, maxNbDisplayed);\n  return (\n    <Container display=\"flex\" alignItems=\"center\" fontSize=\"12px\">\n      {followers.slice(0, maxNbDisplayed).map(collective => (\n        <Box key={collective.id} mr={[-2, 2]}>\n          <LinkCollective collective={collective}>\n            <Avatar collective={collective} radius={avatarRadius} />\n          </LinkCollective>\n        </Box>\n      ))}\n      {nbNotDisplayed > 0 && (\n        <Span\n          color=\"black.500\"\n          title={\n            followers.length < totalCount\n              ? formatMessage(messages.andXOthers, { count: nbNotFetched, usersList: usersNotDisplayedNames })\n              : usersNotDisplayedNames\n          }\n        >\n          +&nbsp;{nbNotDisplayed}\n        </Span>\n      )}\n    </Container>\n  );\n};\n\nFollowersAvatars.propTypes = {\n  /** Max number of followers to display */\n  maxNbDisplayed: PropTypes.number.isRequired,\n  totalCount: PropTypes.number.isRequired,\n  avatarRadius: PropTypes.number.isRequired,\n  followers: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string,\n    }),\n  ),\n};\n\nFollowersAvatars.defaultProps = {\n  maxNbDisplayed: 5,\n  avatarRadius: 24,\n};\n\nexport default withUser(FollowersAvatars);\n","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { StyledIconBase } from '@styled-icons/styled-icon';\nexport var Bell = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"none\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"stroke\": \"currentColor\",\n    \"strokeLinecap\": \"round\",\n    \"strokeLinejoin\": \"round\"\n  };\n  return /*#__PURE__*/React.createElement(StyledIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9M13.73 21a2 2 0 0 1-3.46 0\"\n  }));\n});\nBell.displayName = 'Bell';\nexport var BellDimensions = {\n  height: 24,\n  width: 24\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { StyledIconBase } from '@styled-icons/styled-icon';\nexport var BellOff = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"none\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"stroke\": \"currentColor\",\n    \"strokeLinecap\": \"round\",\n    \"strokeLinejoin\": \"round\"\n  };\n  return /*#__PURE__*/React.createElement(StyledIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 24 24\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.73 21a2 2 0 0 1-3.46 0M18.63 13A17.89 17.89 0 0 1 18 8M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14M18 8a6 6 0 0 0-9.33-5\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: 1,\n    x2: 23,\n    y1: 1,\n    y2: 23\n  }));\n});\nBellOff.displayName = 'BellOff';\nexport var BellOffDimensions = {\n  height: 24,\n  width: 24\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gql, useMutation, useQuery } from '@apollo/client';\nimport { Bell } from '@styled-icons/feather/Bell';\nimport { BellOff } from '@styled-icons/feather/BellOff';\nimport { get } from 'lodash';\nimport Router from 'next/router';\nimport { FormattedMessage } from 'react-intl';\nimport styled from 'styled-components';\n\nimport { API_V2_CONTEXT } from '../../lib/graphql/helpers';\n\nimport Link from '../Link';\nimport StyledButton from '../StyledButton';\nimport StyledTooltip from '../StyledTooltip';\nimport { Span } from '../Text';\nimport { withUser } from '../UserProvider';\n\nimport { isUserFollowingConversationQuery } from './graphql';\n\nconst followConversationMutation = gql`\n  mutation FollowConversation($id: String!, $isActive: Boolean) {\n    followConversation(id: $id, isActive: $isActive)\n  }\n`;\n\nconst ButtonLabel = styled(Span).attrs({\n  display: ['none', 'inline'],\n})`\n  margin: 0 8px;\n`;\n\n/**\n * A button that checks if current user is subscribed to the conversation.\n * Because it fires a request, this button should **not** be used in lists.\n */\nconst FollowConversationButton = ({ conversationId, onChange, isCompact, LoggedInUser, loadingLoggedInUser }) => {\n  const [followConversation, { loading: submitting }] = useMutation(followConversationMutation, {\n    context: API_V2_CONTEXT,\n  });\n\n  const { data, loading } = useQuery(isUserFollowingConversationQuery, {\n    context: API_V2_CONTEXT,\n    variables: { id: conversationId },\n    skip: !LoggedInUser,\n  });\n\n  // When user is logged out\n  if (!loadingLoggedInUser && !LoggedInUser) {\n    return (\n      <StyledTooltip\n        display=\"block\"\n        content={() => (\n          <FormattedMessage\n            id=\"mustBeLoggedInWithLink\"\n            defaultMessage=\"You must be <login-link>logged in</login-link>\"\n            values={{\n              // eslint-disable-next-line react/display-name\n              'login-link': msg => <Link href={{ pathname: '/signin', query: { next: Router.asPath } }}>{msg}</Link>,\n            }}\n          />\n        )}\n      >\n        <StyledButton buttonStyle=\"secondary\" minWidth={130} disabled width=\"100%\">\n          <FormattedMessage id=\"actions.follow\" defaultMessage=\"Follow\" />\n        </StyledButton>\n      </StyledTooltip>\n    );\n  }\n\n  const loggedInAccount = get(data, 'loggedInAccount');\n  const isFollowing = get(loggedInAccount, 'isFollowingConversation');\n  return (\n    <StyledButton\n      width=\"100%\"\n      minWidth={130}\n      buttonStyle={isFollowing ? 'standard' : 'secondary'}\n      disabled={!LoggedInUser || loadingLoggedInUser || loading || submitting}\n      onClick={() => {\n        return followConversation({\n          variables: { id: conversationId, isActive: !isFollowing },\n          update: (client, { data }) => {\n            const isFollowing = get(data, 'followConversation');\n            const queryParams = { query: isUserFollowingConversationQuery, variables: { id: conversationId } };\n            const cacheData = client.readQuery(queryParams);\n            client.writeQuery({\n              query: isUserFollowingConversationQuery,\n              variables: { id: conversationId },\n              data: {\n                ...cacheData,\n                loggedInAccount: { ...cacheData.loggedInAccount, isFollowingConversation: isFollowing },\n              },\n            });\n          },\n        }).then(result => onChange && onChange(result.data.followConversation, loggedInAccount));\n      }}\n    >\n      {isFollowing ? (\n        <React.Fragment>\n          <BellOff size=\"1.2em\" />\n          <ButtonLabel>\n            {isCompact ? (\n              <FormattedMessage id=\"actions.unfollow\" defaultMessage=\"Unfollow\" />\n            ) : (\n              <FormattedMessage id=\"conversation.unfollow\" defaultMessage=\"Unfollow this Conversation\" />\n            )}\n          </ButtonLabel>\n        </React.Fragment>\n      ) : (\n        <React.Fragment>\n          <Bell size=\"1.2em\" />\n          <ButtonLabel>\n            {isCompact ? (\n              <FormattedMessage id=\"actions.follow\" defaultMessage=\"Follow\" />\n            ) : (\n              <FormattedMessage id=\"conversation.follow\" defaultMessage=\"Follow this Conversation\" />\n            )}\n          </ButtonLabel>\n        </React.Fragment>\n      )}\n    </StyledButton>\n  );\n};\n\nFollowConversationButton.propTypes = {\n  conversationId: PropTypes.string.isRequired,\n  isCompact: PropTypes.bool.isRequired,\n  onChange: PropTypes.func,\n  /** @ignore from withUser */\n  LoggedInUser: PropTypes.object,\n  /** @ignore from withUser */\n  loadingLoggedInUser: PropTypes.bool,\n};\n\nexport default withUser(FollowConversationButton);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gql } from '@apollo/client';\nimport { graphql, withApollo } from '@apollo/client/react/hoc';\nimport { cloneDeep, get, isEmpty, uniqBy, update } from 'lodash';\nimport { withRouter } from 'next/router';\nimport { FormattedMessage } from 'react-intl';\n\nimport hasFeature, { FEATURES } from '../lib/allowed-features';\nimport { getCollectivePageMetadata } from '../lib/collective.lib';\nimport { generateNotFoundError } from '../lib/errors';\nimport { API_V2_CONTEXT } from '../lib/graphql/helpers';\nimport { stripHTML } from '../lib/utils';\n\nimport CollectiveNavbar from '../components/collective-navbar';\nimport { NAVBAR_CATEGORIES } from '../components/collective-navbar/constants';\nimport { Sections } from '../components/collective-page/_constants';\nimport { collectiveNavbarFieldsFragment } from '../components/collective-page/graphql/fragments';\nimport CollectiveThemeProvider from '../components/CollectiveThemeProvider';\nimport Container from '../components/Container';\nimport Comment from '../components/conversations/Comment';\nimport CommentForm from '../components/conversations/CommentForm';\nimport FollowConversationButton from '../components/conversations/FollowConversationButton';\nimport FollowersAvatars from '../components/conversations/FollowersAvatars';\nimport { commentFieldsFragment, isUserFollowingConversationQuery } from '../components/conversations/graphql';\nimport Thread from '../components/conversations/Thread';\nimport ErrorPage from '../components/ErrorPage';\nimport { Box, Flex } from '../components/Grid';\nimport CommentIcon from '../components/icons/CommentIcon';\nimport InlineEditField from '../components/InlineEditField';\nimport Link from '../components/Link';\nimport Loading from '../components/Loading';\nimport MessageBox from '../components/MessageBox';\nimport Page from '../components/Page';\nimport PageFeatureNotSupported from '../components/PageFeatureNotSupported';\nimport StyledButton from '../components/StyledButton';\nimport StyledInputTags from '../components/StyledInputTags';\nimport StyledLink from '../components/StyledLink';\nimport StyledTag from '../components/StyledTag';\nimport { H2, H4 } from '../components/Text';\nimport { withUser } from '../components/UserProvider';\n\nconst conversationPageQuery = gql`\n  query ConversationPage($collectiveSlug: String!, $id: String!, $offset: Int) {\n    account(slug: $collectiveSlug, throwIfMissing: false) {\n      id\n      legacyId\n      slug\n      name\n      type\n      description\n      settings\n      imageUrl\n      twitterHandle\n      imageUrl\n      backgroundImageUrl\n      ... on AccountWithParent {\n        parent {\n          id\n          imageUrl\n          backgroundImageUrl\n          twitterHandle\n        }\n      }\n      features {\n        id\n        ...NavbarFields\n      }\n      conversationsTags {\n        id\n        tag\n      }\n\n      ... on Collective {\n        isApproved\n      }\n    }\n    conversation(id: $id) {\n      id\n      slug\n      summary\n      title\n      createdAt\n      tags\n      body {\n        id\n        ...CommentFields\n      }\n      comments(limit: 100, offset: $offset) {\n        totalCount\n        nodes {\n          id\n          ...CommentFields\n        }\n      }\n      followers(limit: 50) {\n        totalCount\n        nodes {\n          id\n          slug\n          type\n          name\n          imageUrl(height: 64)\n        }\n      }\n    }\n  }\n  ${commentFieldsFragment}\n  ${collectiveNavbarFieldsFragment}\n`;\n\nconst editConversationMutation = gql`\n  mutation EditConversation($id: String!, $title: String!, $tags: [String]) {\n    editConversation(id: $id, title: $title, tags: $tags) {\n      id\n      title\n      tags\n    }\n  }\n`;\n\n/**\n * The main page to display collectives. Wrap route parameters and GraphQL query\n * to render `components/collective-page` with everything needed.\n */\nclass ConversationPage extends React.Component {\n  static getInitialProps({ query: { collectiveSlug, id } }) {\n    return { collectiveSlug, id };\n  }\n\n  static propTypes = {\n    /** @ignore from getInitialProps */\n    collectiveSlug: PropTypes.string.isRequired,\n    /** @ignore from getInitialProps */\n    id: PropTypes.string.isRequired,\n    /** @ignore from withApollo */\n    client: PropTypes.object.isRequired,\n    /** @ignore from withUser */\n    LoggedInUser: PropTypes.object,\n    /** @ignore from apollo */\n    data: PropTypes.shape({\n      loading: PropTypes.bool,\n      error: PropTypes.any,\n      refetch: PropTypes.func,\n      fetchMore: PropTypes.func,\n      account: PropTypes.shape({\n        name: PropTypes.string.isRequired,\n        description: PropTypes.string,\n        type: PropTypes.string.isRequired,\n        twitterHandle: PropTypes.string,\n        imageUrl: PropTypes.string,\n        conversationsTags: PropTypes.arrayOf(\n          PropTypes.shape({\n            id: PropTypes.string,\n            tag: PropTypes.string,\n          }),\n        ),\n      }),\n      conversation: PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        title: PropTypes.string.isRequired,\n        slug: PropTypes.string.isRequired,\n        tags: PropTypes.arrayOf(PropTypes.string),\n        body: PropTypes.shape({\n          id: PropTypes.string,\n        }),\n        comments: PropTypes.shape({\n          nodes: PropTypes.arrayOf(\n            PropTypes.shape({\n              id: PropTypes.string,\n            }),\n          ),\n        }),\n        followers: PropTypes.shape({\n          totalCount: PropTypes.number,\n          nodes: PropTypes.arrayOf(\n            PropTypes.shape({\n              id: PropTypes.string,\n            }),\n          ),\n        }),\n      }),\n    }).isRequired, // from withData\n    router: PropTypes.object,\n  };\n\n  static MAX_NB_FOLLOWERS_AVATARS = 4;\n\n  getPageMetaData(collective, conversation) {\n    const baseMetadata = getCollectivePageMetadata(collective);\n    if (collective && conversation) {\n      return {\n        ...baseMetadata,\n        title: conversation.title,\n        description: stripHTML(conversation.summary),\n        metaTitle: `${conversation.title} - ${collective.name}`,\n      };\n    } else {\n      return { ...baseMetadata, title: 'Conversations' };\n    }\n  }\n\n  clonePageQueryCacheData() {\n    const { client, id, collectiveSlug } = this.props;\n    const query = conversationPageQuery;\n    const variables = { collectiveSlug, id };\n    const data = cloneDeep(client.readQuery({ query, variables }));\n    return [data, query, variables];\n  }\n\n  onCommentAdded = comment => {\n    // Add comment to cache if not already fetched\n    const [data, query, variables] = this.clonePageQueryCacheData();\n    update(data, 'conversation.comments.nodes', comments => uniqBy([...comments, comment], 'id'));\n    update(data, 'conversation.comments.totalCount', totalCount => totalCount + 1);\n    this.props.client.writeQuery({ query, variables, data });\n\n    // Commenting subscribes the user, update Follow button to reflect that\n    this.updateLoggedInUserFollowing(true);\n\n    // Add user to the conversation subscribers\n    this.onFollowChange(true, comment.fromAccount);\n  };\n\n  updateLoggedInUserFollowing = isFollowing => {\n    const query = isUserFollowingConversationQuery;\n    const variables = { id: this.props.id };\n    const userFollowingData = cloneDeep(this.props.client.readQuery({ query, variables }));\n    if (userFollowingData && userFollowingData.loggedInAccount) {\n      userFollowingData.loggedInAccount.isFollowingConversation = isFollowing;\n      this.props.client.writeQuery({ query, variables, data: userFollowingData });\n    }\n  };\n\n  onCommentDeleted = comment => {\n    const [data, query, variables] = this.clonePageQueryCacheData();\n    update(data, 'conversation.comments.nodes', comments => comments.filter(c => c.id !== comment.id));\n    update(data, 'conversation.comments.totalCount', totalCount => totalCount - 1);\n    this.props.client.writeQuery({ query, variables, data });\n  };\n\n  onFollowChange = (isFollowing, account) => {\n    const [data, query, variables] = this.clonePageQueryCacheData();\n    const followersPath = 'conversation.followers.nodes';\n    const followersCountPath = 'conversation.followers.totalCount';\n\n    if (!isFollowing) {\n      // Remove user\n      update(data, followersCountPath, count => count - 1);\n      update(data, followersPath, followers => followers.filter(c => c.id !== account.id));\n    } else if (get(data, followersPath, []).findIndex(c => c.id === account.id) === -1) {\n      // Add user (if not already there)\n      update(data, followersCountPath, count => count + 1);\n      update(data, followersPath, followers => {\n        followers.splice(ConversationPage.MAX_NB_FOLLOWERS_AVATARS - 1, 0, account);\n        return followers;\n      });\n    } else {\n      return;\n    }\n\n    this.props.client.writeQuery({ query, variables, data });\n  };\n\n  onConversationDeleted = () => {\n    return this.props.router.push(`/${this.props.collectiveSlug}/conversations`);\n  };\n\n  getSuggestedTags(collective) {\n    const tagsStats = (collective && collective.conversationsTags) || null;\n    return tagsStats && tagsStats.map(({ tag }) => tag);\n  }\n\n  handleTagsChange = (options, setValue) => {\n    if (isEmpty(options)) {\n      setValue([]);\n    } else {\n      setValue(options.map(i => i.value));\n    }\n  };\n\n  fetchMore = async () => {\n    const { collectiveSlug, id, data } = this.props;\n\n    // refetch before fetching more as comments added to the cache can change the offset\n    await data.refetch();\n    await data.fetchMore({\n      variables: { collectiveSlug, id, offset: get(data, 'conversation.comments.nodes', []).length },\n      updateQuery: (prev, { fetchMoreResult }) => {\n        if (!fetchMoreResult) {\n          return prev;\n        }\n\n        const newValues = {};\n\n        newValues.conversation = {\n          ...prev.conversation,\n          comments: {\n            ...fetchMoreResult.conversation.comments,\n            nodes: [...prev.conversation.comments.nodes, ...fetchMoreResult.conversation.comments.nodes],\n          },\n        };\n\n        return Object.assign({}, prev, newValues);\n      },\n    });\n  };\n\n  render() {\n    const { collectiveSlug, data, LoggedInUser } = this.props;\n\n    if (!data.loading) {\n      if (!data || data.error) {\n        return <ErrorPage data={data} />;\n      } else if (!data.account) {\n        return <ErrorPage error={generateNotFoundError(collectiveSlug)} log={false} />;\n      } else if (!hasFeature(data.account, FEATURES.CONVERSATIONS)) {\n        return <PageFeatureNotSupported />;\n      }\n    }\n\n    const collective = data && data.account;\n    const conversation = data && data.conversation;\n    const body = conversation && conversation.body;\n    const conversationReactions = get(conversation, 'body.reactions', []);\n    const comments = get(conversation, 'comments.nodes', []);\n    const totalCommentsCount = get(conversation, 'comments.totalCount', 0);\n    const followers = get(conversation, 'followers');\n    const hasFollowers = followers && followers.nodes && followers.nodes.length > 0;\n    const canEdit = LoggedInUser && body && LoggedInUser.canEditComment(body);\n    const canDelete = canEdit || (LoggedInUser && LoggedInUser.isAdminOfCollective(collective));\n    return (\n      <Page collective={collective} {...this.getPageMetaData(collective, conversation)}>\n        {data.loading ? (\n          <Container>\n            <Loading />\n          </Container>\n        ) : (\n          <CollectiveThemeProvider collective={collective}>\n            <Container data-cy=\"conversation-page\">\n              <CollectiveNavbar\n                collective={collective}\n                selected={Sections.CONVERSATIONS}\n                selectedCategory={NAVBAR_CATEGORIES.CONNECT}\n              />\n              <Box maxWidth={1160} m=\"0 auto\" px={2} py={[4, 5]}>\n                <StyledLink as={Link} color=\"black.600\" href={`/${collectiveSlug}/conversations`}>\n                  &larr; <FormattedMessage id=\"Conversations.GoBack\" defaultMessage=\"Back to conversations\" />\n                </StyledLink>\n                <Box mt={4}>\n                  {!conversation || !body ? (\n                    <MessageBox type=\"error\" withIcon>\n                      <FormattedMessage\n                        id=\"conversation.notFound\"\n                        defaultMessage=\"This conversation doesn't exist or has been removed.\"\n                      />\n                    </MessageBox>\n                  ) : (\n                    <Flex flexDirection={['column', null, null, 'row']} justifyContent=\"space-between\">\n                      <Box flex=\"1 1 50%\" maxWidth={700} mb={5}>\n                        <Container borderBottom=\"1px solid\" borderColor=\"black.300\" pb={3}>\n                          <H2 fontSize=\"24px\" lineHeight=\"32px\" mb={4} wordBreak=\"break-word\">\n                            <InlineEditField\n                              mutation={editConversationMutation}\n                              mutationOptions={{ context: API_V2_CONTEXT }}\n                              canEdit={canEdit}\n                              values={conversation}\n                              field=\"title\"\n                              maxLength={255}\n                              required\n                              placeholder={\n                                <FormattedMessage\n                                  id=\"CreateConversation.Title.Placeholder\"\n                                  defaultMessage=\"Start with a title for your conversation here\"\n                                />\n                              }\n                            />\n                          </H2>\n                          <Comment\n                            comment={body}\n                            reactions={conversationReactions}\n                            canEdit={canEdit}\n                            canDelete={canDelete}\n                            onDelete={this.onConversationDeleted}\n                            canReply={Boolean(LoggedInUser)}\n                            isConversationRoot\n                          />\n                        </Container>\n                        {comments.length > 0 && (\n                          <Box mb={3} pt={3}>\n                            <Thread\n                              collective={collective}\n                              items={comments}\n                              hasMore={totalCommentsCount > comments.length}\n                              fetchMore={this.fetchMore}\n                              onCommentDeleted={this.onCommentDeleted}\n                            />\n                          </Box>\n                        )}\n                        <Flex mt=\"40px\">\n                          <Box display={['none', null, 'block']} flex=\"0 0\" p={3}>\n                            <CommentIcon size={24} color=\"lightgrey\" />\n                          </Box>\n                          <Box flex=\"1 1\" maxWidth={[null, null, 'calc(100% - 56px)']}>\n                            <CommentForm\n                              id=\"new-comment\"\n                              ConversationId={conversation.id}\n                              onSuccess={this.onCommentAdded}\n                            />\n                          </Box>\n                        </Flex>\n                      </Box>\n                      <Box display={['none', null, 'block']} flex=\"0 0 330px\" ml={[null, null, null, 4, 5]} mb={4}>\n                        <Box my={2} mx={2}>\n                          <Link href={`/${collectiveSlug}/conversations/new`}>\n                            <StyledButton buttonStyle=\"primary\" width=\"100%\" minWidth={170}>\n                              <FormattedMessage id=\"conversations.create\" defaultMessage=\"Create a Conversation\" />\n                            </StyledButton>\n                          </Link>\n                        </Box>\n\n                        <Box mt={4}>\n                          <H4 px={2} mb={3} fontWeight=\"normal\">\n                            <FormattedMessage id=\"Conversation.Followers\" defaultMessage=\"Conversation followers\" />\n                          </H4>\n                          <Flex mb={3} alignItems=\"center\">\n                            {hasFollowers && (\n                              <Box mr={3}>\n                                <FollowersAvatars\n                                  followers={followers.nodes}\n                                  totalCount={followers.totalCount}\n                                  maxNbDisplayed={ConversationPage.MAX_NB_FOLLOWERS_AVATARS}\n                                  avatarRadius={32}\n                                />\n                              </Box>\n                            )}\n                            <Box flex=\"1\">\n                              <FollowConversationButton\n                                conversationId={conversation.id}\n                                onChange={this.onFollowChange}\n                                isCompact={hasFollowers && followers.nodes.length > 2}\n                              />\n                            </Box>\n                          </Flex>\n                        </Box>\n                        {!(isEmpty(conversation.tags) && !canEdit) && (\n                          <Box mt={4}>\n                            <InlineEditField\n                              topEdit={2}\n                              field=\"tags\"\n                              buttonsMinWidth={145}\n                              canEdit={canEdit}\n                              values={conversation}\n                              mutation={editConversationMutation}\n                              mutationOptions={{ context: API_V2_CONTEXT }}\n                              prepareVariables={(value, draft) => ({\n                                ...value,\n                                tags: draft,\n                              })}\n                            >\n                              {({ isEditing, setValue }) => (\n                                <React.Fragment>\n                                  <H4 px={2} mb={2} fontWeight=\"normal\">\n                                    <FormattedMessage id=\"Tags\" defaultMessage=\"Tags\" />\n                                  </H4>\n                                  {!isEditing ? (\n                                    !isEmpty(conversation.tags) && (\n                                      <Flex flexWrap=\"wrap\" mx={2}>\n                                        {conversation.tags.map(tag => (\n                                          <StyledTag key={tag} variant=\"rounded-right\" mb=\"4px\" mr=\"4px\">\n                                            {tag}\n                                          </StyledTag>\n                                        ))}\n                                      </Flex>\n                                    )\n                                  ) : (\n                                    <Box mx={2}>\n                                      <StyledInputTags\n                                        suggestedTags={this.getSuggestedTags(collective)}\n                                        defaultValue={conversation.tags}\n                                        onChange={options => this.handleTagsChange(options, setValue)}\n                                      />\n                                    </Box>\n                                  )}\n                                </React.Fragment>\n                              )}\n                            </InlineEditField>\n                          </Box>\n                        )}\n                      </Box>\n                    </Flex>\n                  )}\n                </Box>\n              </Box>\n            </Container>\n          </CollectiveThemeProvider>\n        )}\n      </Page>\n    );\n  }\n}\n\nconst getData = graphql(conversationPageQuery, {\n  options: {\n    pollInterval: 60000, // Will refresh the data every 60s to get new comments\n    context: API_V2_CONTEXT,\n  },\n});\n\nexport default withUser(getData(withRouter(withApollo(ConversationPage))));\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/conversation\",\n      function () {\n        return require(\"private-next-pages/conversation.js\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/conversation\"])\n      });\n    }\n  "],"names":["React","memoizeOne","darken","getContrast","getLuminance","setLightness","ThemeProvider","isHexColor","defaultTheme","generateTheme","CollectiveThemeProvider","newPrimaryColor","color","contrast","contrastDiff","primaryColor","console","warn","adjustedPrimary","adjustColorContrast","luminance","luminanceAdjustment","adjustLuminance","value","colors","primary","base","setState","props","collective","children","state","getTheme","onPrimaryColorChange","PureComponent","FormattedMessage","useIntl","Flex","I18nSupportLink","Page","H1","P","PageFeatureNotSupported","showContactSupportLink","formatMessage","title","id","defaultMessage","SupportLink","defaultProps","defineMessages","Avatar","Container","Box","LinkCollective","Span","withUser","messages","andXOthers","getFollwersNotDisplayedNames","followers","maxNbDisplayed","length","slice","map","c","name","join","FollowersAvatars","totalCount","avatarRadius","nbNotDisplayed","nbNotFetched","usersNotDisplayedNames","count","usersList","gql","useMutation","useQuery","Bell","BellOff","Router","styled","API_V2_CONTEXT","Link","StyledButton","StyledTooltip","isUserFollowingConversationQuery","followConversationMutation","ButtonLabel","attrs","display","FollowConversationButton","conversationId","onChange","isCompact","LoggedInUser","loadingLoggedInUser","context","followConversation","submitting","loading","variables","skip","data","msg","pathname","query","next","asPath","loggedInAccount","isFollowing","isActive","update","client","queryParams","cacheData","readQuery","writeQuery","isFollowingConversation","then","result","graphql","withApollo","withRouter","hasFeature","FEATURES","getCollectivePageMetadata","generateNotFoundError","stripHTML","CollectiveNavbar","NAVBAR_CATEGORIES","Sections","collectiveNavbarFieldsFragment","Comment","CommentForm","commentFieldsFragment","Thread","ErrorPage","CommentIcon","InlineEditField","Loading","MessageBox","StyledInputTags","StyledLink","StyledTag","H2","H4","conversationPageQuery","editConversationMutation","ConversationPage","comment","clonePageQueryCacheData","comments","updateLoggedInUserFollowing","onFollowChange","fromAccount","userFollowingData","filter","account","followersPath","followersCountPath","findIndex","splice","MAX_NB_FOLLOWERS_AVATARS","router","push","collectiveSlug","options","setValue","i","refetch","fetchMore","offset","updateQuery","prev","fetchMoreResult","newValues","conversation","nodes","Object","assign","baseMetadata","description","summary","metaTitle","tagsStats","conversationsTags","tag","error","CONVERSATIONS","body","conversationReactions","totalCommentsCount","hasFollowers","canEdit","canEditComment","canDelete","isAdminOfCollective","getPageMetaData","CONNECT","onConversationDeleted","Boolean","onCommentDeleted","onCommentAdded","tags","draft","isEditing","getSuggestedTags","handleTagsChange","Component","getData","pollInterval"],"sourceRoot":""}