(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([[7841],{

/***/ 10090:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "_": function() { return /* binding */ ChevronDown; }
/* harmony export */ });
/* unused harmony export ChevronDownDimensions */
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(87462);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(54142);



var ChevronDown = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {
  var attrs = {
    "fill": "none",
    "xmlns": "http://www.w3.org/2000/svg",
    "stroke": "currentColor",
    "strokeLinecap": "round",
    "strokeLinejoin": "round"
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__.StyledIconBase, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)({
    iconAttrs: attrs,
    iconVerticalAlign: "middle",
    iconViewBox: "0 0 24 24"
  }, props, {
    ref: ref
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("polyline", {
    points: "6 9 12 15 18 9"
  }));
});
ChevronDown.displayName = 'ChevronDown';
var ChevronDownDimensions = {
  height: 24,
  width: 24
};

/***/ }),

/***/ 21185:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "K": function() { return /* binding */ ChevronUp; }
/* harmony export */ });
/* unused harmony export ChevronUpDimensions */
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(87462);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(54142);



var ChevronUp = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {
  var attrs = {
    "fill": "none",
    "xmlns": "http://www.w3.org/2000/svg",
    "stroke": "currentColor",
    "strokeLinecap": "round",
    "strokeLinejoin": "round"
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_styled_icons_styled_icon__WEBPACK_IMPORTED_MODULE_1__.StyledIconBase, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)({
    iconAttrs: attrs,
    iconVerticalAlign: "middle",
    iconViewBox: "0 0 24 24"
  }, props, {
    ref: ref
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("polyline", {
    points: "18 15 12 9 6 15"
  }));
});
ChevronUp.displayName = 'ChevronUp';
var ChevronUpDimensions = {
  height: 24,
  width: 24
};

/***/ }),

/***/ 47988:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "p": function() { return /* binding */ CONFIRMATION_MODAL_TERMINATE; }
/* harmony export */ });
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(930);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(49376);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(85696);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3323);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(87794);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(67294);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(59448);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(86896);
/* harmony import */ var _Container__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(69078);
/* harmony import */ var _StyledButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(87268);
/* harmony import */ var _StyledModal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(71792);
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(90998);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(85893);




var _excluded = ["header", "body", "children", "onClose", "type", "isDanger", "isSuccess", "cancelLabel", "continueLabel", "cancelHandler", "continueHandler", "disableSubmit"];

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }










var messages = (0,react_intl__WEBPACK_IMPORTED_MODULE_11__.defineMessages)({
  cancel: {
    id: "actions.cancel",
    defaultMessage: [{
      "type": 0,
      "value": "Cancel"
    }]
  }
});
var confirmBtnMsgs = (0,react_intl__WEBPACK_IMPORTED_MODULE_11__.defineMessages)({
  confirm: {
    id: "confirm",
    defaultMessage: [{
      "type": 0,
      "value": "Confirm"
    }]
  },
  "delete": {
    id: "actions.delete",
    defaultMessage: [{
      "type": 0,
      "value": "Delete"
    }]
  },
  remove: {
    id: "Remove",
    defaultMessage: [{
      "type": 0,
      "value": "Remove"
    }]
  }
});
/**
 * A special value to return from the `continueHandler` to terminate the modal. Its loading state
 * will therefore not be updated to false, which will prevent the "Warning: Can't perform a React state update on an unmounted component"
 * issue.
 */

var CONFIRMATION_MODAL_TERMINATE = {
  __CONFIRMATION_MODAL_TERMINATE: true
};
/**
 * ConfirmationModal component. Uses `StyledModal` to create a reusable modal mainly for
 * confirmation purpose.
 */

var ConfirmationModal = function ConfirmationModal(_ref) {
  var header = _ref.header,
      body = _ref.body,
      children = _ref.children,
      onClose = _ref.onClose,
      type = _ref.type,
      isDanger = _ref.isDanger,
      isSuccess = _ref.isSuccess,
      cancelLabel = _ref.cancelLabel,
      continueLabel = _ref.continueLabel,
      cancelHandler = _ref.cancelHandler,
      continueHandler = _ref.continueHandler,
      disableSubmit = _ref.disableSubmit,
      props = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3___default()(_ref, _excluded);

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_5__.useState(false),
      _React$useState2 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2___default()(_React$useState, 2),
      submitting = _React$useState2[0],
      setSubmitting = _React$useState2[1];

  var _useIntl = (0,react_intl__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(),
      formatMessage = _useIntl.formatMessage;

  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(_StyledModal__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .ZP, _objectSpread(_objectSpread({
    role: "alertdialog",
    width: "570px",
    onClose: onClose,
    trapFocus: true
  }, props), {}, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_StyledModal__WEBPACK_IMPORTED_MODULE_8__/* .ModalHeader */ .xB, {
      onClose: onClose,
      children: header
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_StyledModal__WEBPACK_IMPORTED_MODULE_8__/* .ModalBody */ .fe, {
      pt: 2,
      children: children || /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_9__.P, {
        children: body
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_StyledModal__WEBPACK_IMPORTED_MODULE_8__/* .ModalFooter */ .mz, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(_Container__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z, {
        display: "flex",
        justifyContent: ['center', 'flex-end'],
        flexWrap: "Wrap",
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_StyledButton__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z, {
          mx: 20,
          my: 1,
          autoFocus: true,
          minWidth: 140,
          onClick: cancelHandler || onClose,
          disabled: submitting,
          "data-cy": "confirmation-modal-cancel",
          children: cancelLabel || formatMessage(messages.cancel)
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_StyledButton__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z, {
          my: 1,
          minWidth: 140,
          buttonStyle: isDanger ? 'danger' : isSuccess ? 'success' : 'primary',
          "data-cy": "confirmation-modal-continue",
          loading: submitting,
          disabled: disableSubmit,
          onClick: /*#__PURE__*/_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee() {
            var result;
            return _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee$(_context) {
              while (1) {
                switch (_context.prev = _context.next) {
                  case 0:
                    _context.prev = 0;
                    setSubmitting(true);
                    _context.next = 4;
                    return continueHandler();

                  case 4:
                    result = _context.sent;

                  case 5:
                    _context.prev = 5;

                    if (result !== CONFIRMATION_MODAL_TERMINATE) {
                      setSubmitting(false);
                    }

                    return _context.finish(5);

                  case 8:
                  case "end":
                    return _context.stop();
                }
              }
            }, _callee, null, [[0,, 5, 8]]);
          })),
          children: continueLabel || formatMessage(confirmBtnMsgs[type])
        })]
      })
    })]
  }));
};

ConfirmationModal.defaultProps = {
  type: 'confirm'
};
/** @component */

ConfirmationModal.__docgenInfo = {
  "description": "ConfirmationModal component. Uses `StyledModal` to create a reusable modal mainly for\nconfirmation purpose.",
  "methods": [],
  "displayName": "ConfirmationModal",
  "props": {
    "type": {
      "defaultValue": {
        "value": "'confirm'",
        "computed": false
      },
      "description": "You can pass a type here to auto-set labels to remove/delete/confirm...etc",
      "type": {
        "name": "enum",
        "value": [{
          "value": "'confirm'",
          "computed": false
        }, {
          "value": "'delete'",
          "computed": false
        }, {
          "value": "'remove'",
          "computed": false
        }]
      },
      "required": false
    },
    "header": {
      "description": "header of the confirmation modal",
      "type": {
        "name": "node"
      },
      "required": true
    },
    "children": {
      "description": "body of the confirmation modal",
      "type": {
        "name": "node"
      },
      "required": false
    },
    "body": {
      "description": "Body of the confirmation modal, used in a paragraph if there's no children",
      "type": {
        "name": "node"
      },
      "required": false
    },
    "onClose": {
      "description": "handles how the modal is closed",
      "type": {
        "name": "func"
      },
      "required": true
    },
    "continueHandler": {
      "description": "handles onClick continue button",
      "type": {
        "name": "func"
      },
      "required": true
    },
    "isDanger": {
      "description": "If true, a danger style button will be used for the main button",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "isSuccess": {
      "description": "",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "disableSubmit": {
      "description": "",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "cancelHandler": {
      "description": "handles onClick cancel button. Defaults to `onClose` prop.",
      "type": {
        "name": "func"
      },
      "required": false
    },
    "continueLabel": {
      "description": "continue button label of the confirmation modal. Defaults to `Confirm`.",
      "type": {
        "name": "node"
      },
      "required": false
    },
    "cancelLabel": {
      "description": "cancel button label of the confirmation modal. Defaults to `Cancel`.",
      "type": {
        "name": "node"
      },
      "required": false
    }
  }
};
/* harmony default export */ __webpack_exports__["Z"] = (ConfirmationModal);

/***/ }),

/***/ 95370:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "r": function() { return /* binding */ generateDateTitle; }
/* harmony export */ });
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(930);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(85696);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3323);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(67294);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(59448);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(86896);
/* harmony import */ var _lib_date_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(15078);
/* harmony import */ var _lib_dayjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(82114);
/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(97079);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(85893);



var _excluded = ["value", "dateStyle", "timeStyle"];

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }







var TITLE_MESSAGE = (0,react_intl__WEBPACK_IMPORTED_MODULE_8__.defineMessage)({
  id: "9kdoVP",
  defaultMessage: [{
    "type": 0,
    "value": "Local time: "
  }, {
    "type": 1,
    "value": "localTime"
  }, {
    "type": 1,
    "value": "newLine"
  }, {
    "type": 0,
    "value": "UTC time: "
  }, {
    "type": 1,
    "value": "utcTime"
  }]
});
var generateDateTitle = function generateDateTitle(intl, date) {
  return intl.formatMessage(TITLE_MESSAGE, {
    localTime: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_6__/* .capitalize */ .kC)(intl.formatDate(date, {
      dateStyle: 'full',
      timeStyle: 'long'
    })),
    utcTime: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_6__/* .capitalize */ .kC)(intl.formatDate(date, {
      dateStyle: 'full',
      timeStyle: 'long',
      timeZone: 'UTC'
    })),
    newLine: '\n'
  });
};
/**
 * A wrapper around `FormattedDate` + HTML `<time>` with sensible defaults.
 * Displays the full date and time in the user's locale and in UTC in the title.
 */

var DateTime = function DateTime(_ref) {
  var value = _ref.value,
      dateStyle = _ref.dateStyle,
      timeStyle = _ref.timeStyle,
      props = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2___default()(_ref, _excluded);

  var intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z)();

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_3__.useState(),
      _React$useState2 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1___default()(_React$useState, 2),
      title = _React$useState2[0],
      setTitle = _React$useState2[1];

  var date = react__WEBPACK_IMPORTED_MODULE_3__.useMemo(function () {
    return (0,_lib_date_utils__WEBPACK_IMPORTED_MODULE_4__/* .getDateFromValue */ .j9)(value);
  }, [value]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("time", _objectSpread(_objectSpread({}, props), {}, {
    title: title,
    dateTime: date.toISOString(),
    onMouseEnter: function onMouseEnter() {
      return setTitle(generateDateTitle(intl, date));
    },
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_8__.FormattedDate, {
      dateStyle: dateStyle,
      timeStyle: timeStyle,
      value: date
    })
  }));
};

DateTime.defaultProps = {
  dateStyle: 'long'
};
DateTime.__docgenInfo = {
  "description": "A wrapper around `FormattedDate` + HTML `<time>` with sensible defaults.\nDisplays the full date and time in the user's locale and in UTC in the title.",
  "methods": [],
  "displayName": "DateTime",
  "props": {
    "dateStyle": {
      "defaultValue": {
        "value": "'long'",
        "computed": false
      },
      "description": "Date style, set this to null to hide the date",
      "type": {
        "name": "enum",
        "value": [{
          "value": "'full'",
          "computed": false
        }, {
          "value": "'long'",
          "computed": false
        }, {
          "value": "'medium'",
          "computed": false
        }, {
          "value": "'short'",
          "computed": false
        }]
      },
      "required": false
    },
    "value": {
      "description": "The value as a Date or as a parsable string",
      "type": {
        "name": "union",
        "value": [{
          "name": "string"
        }, {
          "name": "instanceOf",
          "value": "Date"
        }, {
          "name": "instanceOf",
          "value": "dayjs"
        }]
      },
      "required": true
    },
    "timeStyle": {
      "description": "Time style, set this to display the time along with the date",
      "type": {
        "name": "enum",
        "value": [{
          "value": "'full'",
          "computed": false
        }, {
          "value": "'long'",
          "computed": false
        }, {
          "value": "'medium'",
          "computed": false
        }, {
          "value": "'short'",
          "computed": false
        }, {
          "value": "undefined",
          "computed": true
        }, {
          "value": "null",
          "computed": false
        }]
      },
      "required": false
    }
  }
};
/* harmony default export */ __webpack_exports__["Z"] = (DateTime);

/***/ }),

/***/ 68185:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(930);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3323);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(67294);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(86896);
/* harmony import */ var _lib_errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(12136);
/* harmony import */ var _MessageBox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(86702);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(85893);


var _excluded = ["error"];

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }





/**
 * A `MessageBox` specialized to display GraphQL errors.
 * Accepts all props from `MessageBox`.
 */



var MessageBoxGraphqlError = function MessageBoxGraphqlError(_ref) {
  var error = _ref.error,
      props = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1___default()(_ref, _excluded);

  var intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)();
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_MessageBox__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z, _objectSpread(_objectSpread({
    type: "error",
    withIcon: true
  }, props), {}, {
    children: (0,_lib_errors__WEBPACK_IMPORTED_MODULE_3__/* .formatErrorMessage */ .jN)(intl, (0,_lib_errors__WEBPACK_IMPORTED_MODULE_3__/* .getErrorFromGraphqlException */ .H1)(error))
  }));
};

MessageBoxGraphqlError.__docgenInfo = {
  "description": "A `MessageBox` specialized to display GraphQL errors.\nAccepts all props from `MessageBox`.",
  "methods": [],
  "displayName": "MessageBoxGraphqlError",
  "props": {
    "error": {
      "description": "",
      "type": {
        "name": "any"
      },
      "required": false
    }
  }
};
/* harmony default export */ __webpack_exports__["Z"] = (MessageBoxGraphqlError);

/***/ }),

/***/ 16738:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(930);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3323);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(67294);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(45697);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _styled_system_theme_get__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(50056);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(52015);
/* harmony import */ var _Container__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(69078);
/* harmony import */ var _StyledButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(87268);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(85893);


var _excluded = ["size", "items", "children", "selected", "buttonProps", "buttonPropsBuilder", "onChange", "combo", "disabled", "customBorderRadius"];

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }








var StyledButtonItem = (0,styled_components__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .ZP)(_StyledButton__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z).withConfig({
  displayName: "StyledButtonSet__StyledButtonItem",
  componentId: "sc-6bt6g-0"
})(["border-radius:0;line-height:1.5;flex-grow:1;border-color:", ";transition:color 0.2s,background 0.1s,font-size 30ms;&:active p{color:white;}&:hover,&:focus{z-index:9;}&::-moz-focus-inner{border:0;}&:first-child{border-radius:", ";}&:not(:first-child){margin-left:-1px;}&:last-child{border-radius:", ";}"], (0,_styled_system_theme_get__WEBPACK_IMPORTED_MODULE_3__/* .themeGet */ .R)('colors.black.300'), function (_ref) {
  var customBorderRadius = _ref.customBorderRadius;
  return "".concat(customBorderRadius, " 0 0 ").concat(customBorderRadius);
}, function (_ref2) {
  var combo = _ref2.combo,
      customBorderRadius = _ref2.customBorderRadius;
  return combo ? '0' : "0 ".concat(customBorderRadius, " ").concat(customBorderRadius, " 0");
});
StyledButtonItem.propTypes = {
  combo: (prop_types__WEBPACK_IMPORTED_MODULE_8___default().bool)
};

var StyledButtonSet = function StyledButtonSet(_ref3) {
  var size = _ref3.size,
      items = _ref3.items,
      children = _ref3.children,
      selected = _ref3.selected,
      buttonProps = _ref3.buttonProps,
      buttonPropsBuilder = _ref3.buttonPropsBuilder,
      onChange = _ref3.onChange,
      combo = _ref3.combo,
      disabled = _ref3.disabled,
      customBorderRadius = _ref3.customBorderRadius,
      props = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1___default()(_ref3, _excluded);

  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Container__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z, _objectSpread(_objectSpread({
    display: "flex"
  }, props), {}, {
    children: items.map(function (item, index) {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(StyledButtonItem, _objectSpread(_objectSpread(_objectSpread({
        combo: combo || undefined,
        color: item === selected ? 'white' : 'black.400',
        buttonSize: size,
        buttonStyle: item === selected ? 'primary' : undefined,
        onClick: onChange && function () {
          return onChange(item);
        },
        className: item === selected ? 'selected' : undefined,
        disabled: disabled,
        "aria-pressed": item === selected,
        type: "button",
        py: "8px",
        customBorderRadius: customBorderRadius
      }, buttonProps), buttonPropsBuilder ? buttonPropsBuilder({
        item: item,
        index: index,
        isSelected: item === selected
      }) : {}), {}, {
        children: children({
          item: item,
          isSelected: item === selected
        })
      }), item);
    })
  }));
};

StyledButtonSet.defaultProps = {
  combo: false,
  size: 'medium',
  fontSize: '14px',
  customBorderRadius: '4px'
};
StyledButtonSet.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "StyledButtonSet",
  "props": {
    "combo": {
      "defaultValue": {
        "value": "false",
        "computed": false
      },
      "description": "Setting to style last item to look good in combination with a text input",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "size": {
      "defaultValue": {
        "value": "'medium'",
        "computed": false
      },
      "description": "Based on the design system theme",
      "type": {
        "name": "enum",
        "value": [{
          "value": "'small'",
          "computed": false
        }, {
          "value": "'medium'",
          "computed": false
        }, {
          "value": "'large'",
          "computed": false
        }, {
          "value": "'tiny'",
          "computed": false
        }]
      },
      "required": false
    },
    "fontSize": {
      "defaultValue": {
        "value": "'14px'",
        "computed": false
      },
      "required": false
    },
    "customBorderRadius": {
      "defaultValue": {
        "value": "'4px'",
        "computed": false
      },
      "description": "",
      "type": {
        "name": "string"
      },
      "required": false
    },
    "items": {
      "description": "A list of elements to build buttons uppon",
      "type": {
        "name": "arrayOf",
        "value": {
          "name": "any"
        }
      },
      "required": true
    },
    "children": {
      "description": "Button child content renderer. Get passed an object like { item, isSelected }",
      "type": {
        "name": "func"
      },
      "required": true
    },
    "selected": {
      "description": "Currently selected item",
      "type": {
        "name": "any"
      },
      "required": false
    },
    "onChange": {
      "description": "An optional func called with the new item when option changes",
      "type": {
        "name": "func"
      },
      "required": false
    },
    "disabled": {
      "description": "Disable user input",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "buttonPropsBuilder": {
      "description": "Similar to `buttonProps` but allow props to be added dynamically based on item",
      "type": {
        "name": "func"
      },
      "required": false
    },
    "buttonProps": {
      "description": "Button Props",
      "type": {
        "name": "object"
      },
      "required": false
    }
  }
};
/* harmony default export */ __webpack_exports__["Z"] = (StyledButtonSet);

/***/ }),

/***/ 66465:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(930);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(59448);
/* harmony import */ var _constants_roles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(98216);


var _defineMessages;



var RolesTranslations = (0,react_intl__WEBPACK_IMPORTED_MODULE_2__.defineMessages)((_defineMessages = {}, _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default()(_defineMessages, _constants_roles__WEBPACK_IMPORTED_MODULE_1__/* ["default"].HOST */ .Z.HOST, {
  id: "Member.Role.HOST",
  defaultMessage: [{
    "type": 0,
    "value": "Host"
  }]
}), _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default()(_defineMessages, _constants_roles__WEBPACK_IMPORTED_MODULE_1__/* ["default"].ADMIN */ .Z.ADMIN, {
  id: "Member.Role.ADMIN",
  defaultMessage: [{
    "type": 0,
    "value": "Admin"
  }]
}), _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default()(_defineMessages, _constants_roles__WEBPACK_IMPORTED_MODULE_1__/* ["default"].MEMBER */ .Z.MEMBER, {
  id: "Member.Role.MEMBER",
  defaultMessage: [{
    "type": 0,
    "value": "Core Contributor"
  }]
}), _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default()(_defineMessages, _constants_roles__WEBPACK_IMPORTED_MODULE_1__/* ["default"].CONTRIBUTOR */ .Z.CONTRIBUTOR, {
  id: "Member.Role.CONTRIBUTOR",
  defaultMessage: [{
    "type": 0,
    "value": "Contributor"
  }]
}), _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default()(_defineMessages, _constants_roles__WEBPACK_IMPORTED_MODULE_1__/* ["default"].BACKER */ .Z.BACKER, {
  id: "Member.Role.BACKER",
  defaultMessage: [{
    "type": 0,
    "value": "Financial Contributor"
  }]
}), _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default()(_defineMessages, _constants_roles__WEBPACK_IMPORTED_MODULE_1__/* ["default"].ATTENDEE */ .Z.ATTENDEE, {
  id: "Member.Role.ATTENDEE",
  defaultMessage: [{
    "type": 0,
    "value": "Attendee"
  }]
}), _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default()(_defineMessages, _constants_roles__WEBPACK_IMPORTED_MODULE_1__/* ["default"].FOLLOWER */ .Z.FOLLOWER, {
  id: "Member.Role.FOLLOWER",
  defaultMessage: [{
    "type": 0,
    "value": "Follower"
  }]
}), _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default()(_defineMessages, _constants_roles__WEBPACK_IMPORTED_MODULE_1__/* ["default"].ACCOUNTANT */ .Z.ACCOUNTANT, {
  id: "Member.Role.ACCOUNTANT",
  defaultMessage: [{
    "type": 0,
    "value": "Accountant"
  }]
}), _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default()(_defineMessages, _constants_roles__WEBPACK_IMPORTED_MODULE_1__/* ["default"].CONNECTED_COLLECTIVE */ .Z.CONNECTED_COLLECTIVE, {
  id: "Member.Role.ConnectedAccount",
  defaultMessage: [{
    "type": 0,
    "value": "Connected"
  }]
}), _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default()(_defineMessages, _constants_roles__WEBPACK_IMPORTED_MODULE_1__/* ["default"].CONNECTED_ACCOUNT */ .Z.CONNECTED_ACCOUNT, {
  id: "Member.Role.ConnectedAccount",
  defaultMessage: [{
    "type": 0,
    "value": "Connected"
  }]
}), _defineMessages));
/**
 * Translate a member role
 *
 * @param {func} `formatMessage` - see `injectIntl` or `useIntl`
 * @param {string} `role` - see `roles`
 */

var formatMemberRole = function formatMemberRole(intl, role) {
  var i18nMsg = RolesTranslations[role];
  return i18nMsg ? intl.formatMessage(i18nMsg) : role;
};

/* harmony default export */ __webpack_exports__["Z"] = (formatMemberRole);

/***/ }),

/***/ 63088:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": function() { return /* binding */ root_actions; }
});

// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
// EXTERNAL MODULE: ./node_modules/@styled-icons/fa-solid/ExclamationTriangle/ExclamationTriangle.esm.js
var ExclamationTriangle_esm = __webpack_require__(22046);
// EXTERNAL MODULE: ./node_modules/next/router.js
var next_router = __webpack_require__(11163);
// EXTERNAL MODULE: ./node_modules/slugify/slugify.js
var slugify = __webpack_require__(31304);
var slugify_default = /*#__PURE__*/__webpack_require__.n(slugify);
// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js + 3 modules
var styled_components_browser_esm = __webpack_require__(52015);
// EXTERNAL MODULE: ./components/AuthenticatedPage.js
var AuthenticatedPage = __webpack_require__(54812);
// EXTERNAL MODULE: ./components/Container.tsx
var Container = __webpack_require__(69078);
// EXTERNAL MODULE: ./components/Grid.ts
var Grid = __webpack_require__(16159);
// EXTERNAL MODULE: ./components/Link.js
var Link = __webpack_require__(92129);
// EXTERNAL MODULE: ./components/MessageBox.tsx + 2 modules
var MessageBox = __webpack_require__(86702);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/asyncToGenerator.js
var asyncToGenerator = __webpack_require__(49376);
var asyncToGenerator_default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/slicedToArray.js
var slicedToArray = __webpack_require__(85696);
var slicedToArray_default = /*#__PURE__*/__webpack_require__.n(slicedToArray);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/taggedTemplateLiteral.js
var taggedTemplateLiteral = __webpack_require__(92358);
var taggedTemplateLiteral_default = /*#__PURE__*/__webpack_require__.n(taggedTemplateLiteral);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/regenerator/index.js
var regenerator = __webpack_require__(87794);
var regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);
// EXTERNAL MODULE: ./node_modules/graphql-tag/lib/index.js + 13 modules
var lib = __webpack_require__(15020);
// EXTERNAL MODULE: ./node_modules/@apollo/client/index.js
var client = __webpack_require__(46829);
// EXTERNAL MODULE: ./node_modules/react-intl/lib/src/components/useIntl.js
var useIntl = __webpack_require__(86896);
// EXTERNAL MODULE: ./lib/errors/index.js + 1 modules
var errors = __webpack_require__(12136);
// EXTERNAL MODULE: ./lib/graphql/helpers.js
var helpers = __webpack_require__(32651);
// EXTERNAL MODULE: ./components/CollectivePickerAsync.js
var CollectivePickerAsync = __webpack_require__(5993);
// EXTERNAL MODULE: ./components/StyledButton.tsx
var StyledButton = __webpack_require__(87268);
// EXTERNAL MODULE: ./components/StyledCheckbox.js
var StyledCheckbox = __webpack_require__(41433);
// EXTERNAL MODULE: ./components/StyledInputField.js
var StyledInputField = __webpack_require__(87262);
// EXTERNAL MODULE: ./components/ToastProvider.tsx
var ToastProvider = __webpack_require__(31330);
// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(85893);
;// CONCATENATED MODULE: ./components/root-actions/AccountSettings.js




var _templateObject;

















var editAccountFlagsMutation = (0,lib/* default */.ZP)(_templateObject || (_templateObject = taggedTemplateLiteral_default()(["\n  mutation EditAccountFlags(\n    $account: AccountReferenceInput!\n    $isArchived: Boolean\n    $isTrustedHost: Boolean\n    $isTwoFactorAuthEnabled: Boolean\n  ) {\n    editAccountFlags(\n      account: $account\n      isArchived: $isArchived\n      isTrustedHost: $isTrustedHost\n      isTwoFactorAuthEnabled: $isTwoFactorAuthEnabled\n    ) {\n      id\n      slug\n    }\n  }\n"])));

var AccountSettings = function AccountSettings() {
  var _selectedAccountOptio4;

  var _useToasts = (0,ToastProvider/* useToasts */.e1)(),
      addToast = _useToasts.addToast;

  var intl = (0,useIntl/* default */.Z)();

  var _React$useState = react.useState([]),
      _React$useState2 = slicedToArray_default()(_React$useState, 2),
      selectedAccountOption = _React$useState2[0],
      setSelectedAccountOption = _React$useState2[1];

  var _React$useState3 = react.useState(),
      _React$useState4 = slicedToArray_default()(_React$useState3, 2),
      archivedFlag = _React$useState4[0],
      setArchivedFlag = _React$useState4[1];

  var _React$useState5 = react.useState(),
      _React$useState6 = slicedToArray_default()(_React$useState5, 2),
      trustedHostFlag = _React$useState6[0],
      setTrustedHostFlag = _React$useState6[1];

  var _React$useState7 = react.useState(),
      _React$useState8 = slicedToArray_default()(_React$useState7, 2),
      twoFactorEnabledFlag = _React$useState8[0],
      setTwoFactorEnabledFlag = _React$useState8[1];

  var _React$useState9 = react.useState(false),
      _React$useState10 = slicedToArray_default()(_React$useState9, 2),
      enableSave = _React$useState10[0],
      setEnableSave = _React$useState10[1];

  var _useMutation = (0,client.useMutation)(editAccountFlagsMutation, {
    context: helpers/* API_V2_CONTEXT */.T
  }),
      _useMutation2 = slicedToArray_default()(_useMutation, 2),
      editAccountFlags = _useMutation2[0],
      loading = _useMutation2[1].loading;

  (0,react.useEffect)(function () {
    var _selectedAccountOptio, _selectedAccountOptio2, _selectedAccountOptio3;

    setArchivedFlag(selectedAccountOption === null || selectedAccountOption === void 0 ? void 0 : (_selectedAccountOptio = selectedAccountOption.value) === null || _selectedAccountOptio === void 0 ? void 0 : _selectedAccountOptio.isArchived);
    setTrustedHostFlag(selectedAccountOption === null || selectedAccountOption === void 0 ? void 0 : (_selectedAccountOptio2 = selectedAccountOption.value) === null || _selectedAccountOptio2 === void 0 ? void 0 : _selectedAccountOptio2.isTrustedHost);
    setTwoFactorEnabledFlag(selectedAccountOption === null || selectedAccountOption === void 0 ? void 0 : (_selectedAccountOptio3 = selectedAccountOption.value) === null || _selectedAccountOptio3 === void 0 ? void 0 : _selectedAccountOptio3.isTwoFactorAuthEnabled);
  }, [selectedAccountOption]);
  return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {
    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(StyledInputField/* default */.Z, {
      htmlFor: "ban-accounts-picker",
      label: "Account",
      flex: "1 1",
      children: function children(_ref) {
        var id = _ref.id;
        return /*#__PURE__*/(0,jsx_runtime.jsx)(CollectivePickerAsync/* default */.Z, {
          inputId: id,
          onChange: setSelectedAccountOption,
          includeDeleted: true,
          includeArchived: true,
          value: selectedAccountOption,
          noCache: true
        });
      }
    }), selectedAccountOption.length !== 0 && /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {
      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(Container/* default */.Z, {
        px: 1,
        pt: 3,
        pb: 3,
        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Box */.xu, {
          pb: 2,
          children: "Flags"
        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Flex */.kC, {
          flexWrap: "wrap",
          px: 1,
          mt: 2,
          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Box */.xu, {
            pr: 4,
            children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledCheckbox/* default */.Z, {
              name: "Archived",
              label: "Archived",
              checked: archivedFlag,
              onChange: function onChange(_ref2) {
                var checked = _ref2.checked;
                setEnableSave(true);
                setArchivedFlag(checked);
              }
            })
          }), (selectedAccountOption === null || selectedAccountOption === void 0 ? void 0 : (_selectedAccountOptio4 = selectedAccountOption.value) === null || _selectedAccountOptio4 === void 0 ? void 0 : _selectedAccountOptio4.isHost) && /*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Box */.xu, {
            children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledCheckbox/* default */.Z, {
              name: "Trusted Host",
              label: "Trusted Host",
              checked: trustedHostFlag,
              onChange: function onChange(_ref3) {
                var checked = _ref3.checked;
                setEnableSave(true);
                setTrustedHostFlag(checked);
              }
            })
          }), /*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Box */.xu, {
            children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledCheckbox/* default */.Z, {
              name: "2FA",
              label: "2FA",
              disabled: !twoFactorEnabledFlag && !enableSave,
              checked: twoFactorEnabledFlag,
              onChange: function onChange(_ref4) {
                var checked = _ref4.checked;
                setEnableSave(true);
                setTwoFactorEnabledFlag(checked);
              }
            })
          })]
        }), !twoFactorEnabledFlag && enableSave && /*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
          pt: 4,
          children: /*#__PURE__*/(0,jsx_runtime.jsxs)(MessageBox/* default */.Z, {
            type: "error",
            children: [/*#__PURE__*/(0,jsx_runtime.jsx)("div", {
              children: "Some instructions on what to look when disabling 2FA for a user;"
            }), /*#__PURE__*/(0,jsx_runtime.jsxs)("ul", {
              children: [/*#__PURE__*/(0,jsx_runtime.jsx)("li", {
                children: "If user has Twitter, GitHub or any other social accounts linked we can ask for a proof to be added to them."
              }), /*#__PURE__*/(0,jsx_runtime.jsx)("li", {
                children: "If the user has a payment method linked, we can ask for the credit card information (last 4 digits + type of card etc)."
              }), /*#__PURE__*/(0,jsx_runtime.jsx)("li", {
                children: "If the account is completely empty, but the user is an admin of another collective or host (where there's other admins), we notify the other admins of the collective to verify if it's okay to reset the user's 2FA codes."
              }), /*#__PURE__*/(0,jsx_runtime.jsx)("li", {
                children: "If the account is completely empty, but the user is the sole admin of another collective or host, we look at any links in the collective or host account (such as the website link) and ask the user to upload something to those social links in order to verify. For example if the collective has a twitter account we ask the user to post a message with that account."
              }), /*#__PURE__*/(0,jsx_runtime.jsx)("li", {
                children: "If none of the above, there's no links to social accounts, there's no credit card information and the user account is completely empty we just reset them as there's nothing to lose."
              })]
            }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {
              children: "In doubt, do not hesitate to ask the engineering team."
            })]
          })
        })]
      }), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledButton/* default */.Z, {
        mt: 4,
        width: "100%",
        buttonStyle: "primary",
        loading: loading,
        disabled: !enableSave,
        onClick: /*#__PURE__*/asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee() {
          var _selectedAccountOptio5;

          return regenerator_default().wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  _context.prev = 0;
                  _context.next = 3;
                  return editAccountFlags({
                    variables: {
                      account: {
                        slug: selectedAccountOption === null || selectedAccountOption === void 0 ? void 0 : (_selectedAccountOptio5 = selectedAccountOption.value) === null || _selectedAccountOptio5 === void 0 ? void 0 : _selectedAccountOptio5.slug
                      },
                      isArchived: archivedFlag,
                      isTrustedHost: trustedHostFlag,
                      isTwoFactorAuthEnabled: twoFactorEnabledFlag
                    }
                  });

                case 3:
                  addToast({
                    type: ToastProvider/* TOAST_TYPE.SUCCESS */["do"].SUCCESS,
                    title: 'Success',
                    message: 'Account flags saved'
                  });
                  setEnableSave(false);
                  _context.next = 10;
                  break;

                case 7:
                  _context.prev = 7;
                  _context.t0 = _context["catch"](0);
                  addToast({
                    type: ToastProvider/* TOAST_TYPE.ERROR */["do"].ERROR,
                    message: (0,errors/* i18nGraphqlException */.t2)(intl, _context.t0)
                  });

                case 10:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee, null, [[0, 7]]);
        })),
        children: "Save"
      })]
    })]
  });
};

AccountSettings.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "AccountSettings"
};
/* harmony default export */ var root_actions_AccountSettings = (AccountSettings);
// EXTERNAL MODULE: ./components/ConfirmationModal.js
var ConfirmationModal = __webpack_require__(47988);
// EXTERNAL MODULE: ./components/Text.ts
var Text = __webpack_require__(90998);
// EXTERNAL MODULE: ./components/LinkCollective.js
var LinkCollective = __webpack_require__(97619);
;// CONCATENATED MODULE: ./components/root-actions/BanAccountsSummary.js







var BanAccountsSummary = function BanAccountsSummary(_ref) {
  var dryRunData = _ref.dryRunData;
  return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {
    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Text.P, {
      whiteSpace: "pre-wrap",
      lineHeight: "24px",
      children: dryRunData.message
    }), Boolean(dryRunData.accounts.length) && /*#__PURE__*/(0,jsx_runtime.jsxs)(Container/* default */.Z, {
      fontSize: "13px",
      mt: 2,
      maxHeight: "300px",
      overflowY: "auto",
      children: ["List of impacted accounts:", ' ', dryRunData.accounts.map(function (account, index) {
        return /*#__PURE__*/(0,jsx_runtime.jsxs)("span", {
          children: [index > 0 && ', ', /*#__PURE__*/(0,jsx_runtime.jsx)(LinkCollective/* default */.Z, {
            collective: account,
            openInNewTab: true
          })]
        }, account.id);
      })]
    })]
  });
};

BanAccountsSummary.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "BanAccountsSummary",
  "props": {
    "dryRunData": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": false
    }
  }
};
/* harmony default export */ var root_actions_BanAccountsSummary = (BanAccountsSummary);
;// CONCATENATED MODULE: ./components/root-actions/BanAccounts.js




var BanAccounts_templateObject;


















var banAccountsMutation = (0,lib/* default */.ZP)(BanAccounts_templateObject || (BanAccounts_templateObject = taggedTemplateLiteral_default()(["\n  mutation BanAccounts($account: [AccountReferenceInput!]!, $dryRun: Boolean!, $includeAssociatedAccounts: Boolean!) {\n    banAccount(account: $account, includeAssociatedAccounts: $includeAssociatedAccounts, dryRun: $dryRun) {\n      isAllowed\n      message\n      accounts {\n        id\n        slug\n        name\n        type\n        ... on AccountWithParent {\n          parent {\n            id\n            slug\n            type\n          }\n        }\n      }\n    }\n  }\n"])));

var BanAccount = function BanAccount() {
  var _React$useState = react.useState([]),
      _React$useState2 = slicedToArray_default()(_React$useState, 2),
      selectedAccountsOptions = _React$useState2[0],
      setSelectedAccountsOptions = _React$useState2[1];

  var _React$useState3 = react.useState(true),
      _React$useState4 = slicedToArray_default()(_React$useState3, 2),
      includeAssociatedAccounts = _React$useState4[0],
      setIncludeAssociatedAccounts = _React$useState4[1];

  var _React$useState5 = react.useState(null),
      _React$useState6 = slicedToArray_default()(_React$useState5, 2),
      dryRunData = _React$useState6[0],
      setDryRunData = _React$useState6[1];

  var _useMutation = (0,client.useMutation)(banAccountsMutation, {
    context: helpers/* API_V2_CONTEXT */.T
  }),
      _useMutation2 = slicedToArray_default()(_useMutation, 2),
      _banAccounts = _useMutation2[0],
      loading = _useMutation2[1].loading;

  var _useToasts = (0,ToastProvider/* useToasts */.e1)(),
      addToast = _useToasts.addToast;

  var intl = (0,useIntl/* default */.Z)();
  var isValid = Boolean(selectedAccountsOptions === null || selectedAccountsOptions === void 0 ? void 0 : selectedAccountsOptions.length);

  var banAccounts = function banAccounts() {
    var dryRun = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
    return _banAccounts({
      variables: {
        account: selectedAccountsOptions.map(function (a) {
          return {
            legacyId: a.value.id
          };
        }),
        includeAssociatedAccounts: includeAssociatedAccounts,
        dryRun: dryRun
      }
    });
  };

  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(StyledInputField/* default */.Z, {
      htmlFor: "ban-accounts-picker",
      label: "Account",
      flex: "1 1",
      children: function children(_ref) {
        var id = _ref.id;
        return /*#__PURE__*/(0,jsx_runtime.jsx)(CollectivePickerAsync/* default */.Z, {
          inputId: id,
          onChange: setSelectedAccountsOptions,
          isMulti: true,
          skipGuests: false
        });
      }
    }), /*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Flex */.kC, {
      flexWrap: "wrap",
      px: 1,
      mt: 2,
      children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledCheckbox/* default */.Z, {
        name: "associated-accounts",
        label: "Include all associated accounts",
        checked: includeAssociatedAccounts,
        onChange: function onChange(_ref2) {
          var checked = _ref2.checked;
          setIncludeAssociatedAccounts(checked);
        }
      })
    }), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledButton/* default */.Z, {
      mt: 4,
      width: "100%",
      buttonStyle: "primary",
      disabled: !isValid,
      loading: loading,
      onClick: /*#__PURE__*/asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee() {
        var result;
        return regenerator_default().wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.prev = 0;
                _context.next = 3;
                return banAccounts(true);

              case 3:
                result = _context.sent;
                setDryRunData(result.data.banAccount);
                _context.next = 10;
                break;

              case 7:
                _context.prev = 7;
                _context.t0 = _context["catch"](0);
                addToast({
                  type: ToastProvider/* TOAST_TYPE.ERROR */["do"].ERROR,
                  message: (0,errors/* i18nGraphqlException */.t2)(intl, _context.t0)
                });

              case 10:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, null, [[0, 7]]);
      })),
      children: "Analyze"
    }), dryRunData && /*#__PURE__*/(0,jsx_runtime.jsx)(ConfirmationModal/* default */.Z, {
      isDanger: true,
      continueLabel: "Ban accounts",
      header: "Ban accounts",
      onClose: function onClose() {
        return setDryRunData(null);
      },
      disableSubmit: !dryRunData.isAllowed,
      continueHandler: /*#__PURE__*/asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee2() {
        var result;
        return regenerator_default().wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.prev = 0;
                _context2.next = 3;
                return banAccounts(false);

              case 3:
                result = _context2.sent;
                setDryRunData(null);
                addToast({
                  type: ToastProvider/* TOAST_TYPE.SUCCESS */["do"].SUCCESS,
                  title: "Successfully banned ".concat(result.data.banAccount.accounts.length, " accounts"),
                  message: /*#__PURE__*/(0,jsx_runtime.jsx)(Text.P, {
                    whiteSpace: "pre-wrap",
                    children: result.data.banAccount.message
                  })
                });
                _context2.next = 11;
                break;

              case 8:
                _context2.prev = 8;
                _context2.t0 = _context2["catch"](0);
                addToast({
                  type: ToastProvider/* TOAST_TYPE.ERROR */["do"].ERROR,
                  message: (0,errors/* i18nGraphqlException */.t2)(intl, _context2.t0)
                });

              case 11:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, null, [[0, 8]]);
      })),
      children: /*#__PURE__*/(0,jsx_runtime.jsx)(root_actions_BanAccountsSummary, {
        dryRunData: dryRunData
      })
    })]
  });
};

BanAccount.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "BanAccount"
};
/* harmony default export */ var BanAccounts = (BanAccount);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/toConsumableArray.js
var toConsumableArray = __webpack_require__(7980);
var toConsumableArray_default = /*#__PURE__*/__webpack_require__.n(toConsumableArray);
// EXTERNAL MODULE: ./node_modules/lodash/uniqBy.js
var uniqBy = __webpack_require__(45578);
var uniqBy_default = /*#__PURE__*/__webpack_require__.n(uniqBy);
// EXTERNAL MODULE: ./node_modules/lodash/truncate.js
var truncate = __webpack_require__(39138);
var truncate_default = /*#__PURE__*/__webpack_require__.n(truncate);
// EXTERNAL MODULE: ./components/LoadingPlaceholder.tsx
var LoadingPlaceholder = __webpack_require__(29242);
// EXTERNAL MODULE: ./components/MessageBoxGraphqlError.js
var MessageBoxGraphqlError = __webpack_require__(68185);
// EXTERNAL MODULE: ./components/search-page/StyledCollectiveCard.js
var StyledCollectiveCard = __webpack_require__(91496);
// EXTERNAL MODULE: ./components/SearchBar.js
var SearchBar = __webpack_require__(32606);
// EXTERNAL MODULE: ./components/StyledLink.tsx
var StyledLink = __webpack_require__(51082);
;// CONCATENATED MODULE: ./components/root-actions/BanAccountsWithSearch.js







var BanAccountsWithSearch_templateObject;























var searchQuery = (0,lib/* default */.ZP)(BanAccountsWithSearch_templateObject || (BanAccountsWithSearch_templateObject = taggedTemplateLiteral_default()(["\n  query SearchPage($term: String!, $offset: Int) {\n    accounts(\n      searchTerm: $term\n      limit: 12\n      offset: $offset\n      skipRecentAccounts: false\n      orderBy: { field: CREATED_AT, direction: DESC }\n      type: [COLLECTIVE, EVENT, FUND, INDIVIDUAL, ORGANIZATION, PROJECT]\n    ) {\n      nodes {\n        id\n        isActive\n        type\n        slug\n        name\n        tags\n        isHost\n        imageUrl\n        backgroundImageUrl\n        description\n        longDescription\n        website\n        currency\n        location {\n          id\n          country\n        }\n        stats {\n          id\n          totalAmountReceived(useCache: true) {\n            currency\n            valueInCents\n          }\n        }\n        ... on Organization {\n          host {\n            id\n            hostFeePercent\n            totalHostedCollectives\n          }\n        }\n        ... on AccountWithParent {\n          parent {\n            id\n            slug\n            backgroundImageUrl\n          }\n        }\n        backers: members(role: BACKER) {\n          totalCount\n        }\n        memberOf(role: BACKER) {\n          totalCount\n        }\n      }\n      limit\n      offset\n      totalCount\n    }\n  }\n"])));
var CardContainer = styled_components_browser_esm/* default.div.withConfig */.ZP.div.withConfig({
  displayName: "BanAccountsWithSearch__CardContainer",
  componentId: "sc-lmqxxu-0"
})(["border-radius:16px;cursor:crosshair;transition:box-shadow 0.3s;&:hover{box-shadow:0px 0px 10px rgba(0,0,0,0.1);}", ""], function (props) {
  return props.$isSelected && (0,styled_components_browser_esm/* css */.iv)(["box-shadow:0px 0px 10px red;&:hover{box-shadow:0px 0px 5px red;}"]);
});
var AccountsContainer = styled_components_browser_esm/* default.div.withConfig */.ZP.div.withConfig({
  displayName: "BanAccountsWithSearch__AccountsContainer",
  componentId: "sc-lmqxxu-1"
})(["display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));grid-gap:20px;margin-top:20px;"]);

var BanAccountsWithSearch = function BanAccountsWithSearch() {
  var _data$accounts, _data$accounts$nodes;

  var _React$useState = react.useState(''),
      _React$useState2 = slicedToArray_default()(_React$useState, 2),
      searchTerm = _React$useState2[0],
      setSearchTerm = _React$useState2[1];

  var _useQuery = (0,client.useQuery)(searchQuery, {
    variables: {
      term: searchTerm
    },
    context: helpers/* API_V2_CONTEXT */.T,
    skip: !searchTerm
  }),
      data = _useQuery.data,
      loading = _useQuery.loading,
      error = _useQuery.error,
      refetch = _useQuery.refetch;

  var _React$useState3 = react.useState([]),
      _React$useState4 = slicedToArray_default()(_React$useState3, 2),
      selectedAccounts = _React$useState4[0],
      setSelectedAccounts = _React$useState4[1];

  var _React$useState5 = react.useState(true),
      _React$useState6 = slicedToArray_default()(_React$useState5, 2),
      includeAssociatedAccounts = _React$useState6[0],
      setIncludeAssociatedAccounts = _React$useState6[1];

  var _React$useState7 = react.useState(null),
      _React$useState8 = slicedToArray_default()(_React$useState7, 2),
      dryRunData = _React$useState8[0],
      setDryRunData = _React$useState8[1];

  var _useMutation = (0,client.useMutation)(banAccountsMutation, {
    context: helpers/* API_V2_CONTEXT */.T
  }),
      _useMutation2 = slicedToArray_default()(_useMutation, 2),
      _banAccounts = _useMutation2[0],
      submitting = _useMutation2[1].loading;

  var _useToasts = (0,ToastProvider/* useToasts */.e1)(),
      addToast = _useToasts.addToast;

  var intl = (0,useIntl/* default */.Z)();
  var isValid = Boolean(selectedAccounts === null || selectedAccounts === void 0 ? void 0 : selectedAccounts.length);

  var toggleAccountSelection = function toggleAccountSelection(account) {
    return !selectedAccounts.some(function (selectedAccount) {
      return selectedAccount.id === account.id;
    }) ? setSelectedAccounts(uniqBy_default()([].concat(toConsumableArray_default()(selectedAccounts), [account]), 'id')) : setSelectedAccounts(selectedAccounts.filter(function (a) {
      return a.id !== account.id;
    }));
  };

  var banAccounts = function banAccounts() {
    var dryRun = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
    return _banAccounts({
      variables: {
        account: selectedAccounts.map(function (a) {
          return {
            id: a.id
          };
        }),
        includeAssociatedAccounts: includeAssociatedAccounts,
        dryRun: dryRun
      }
    });
  };

  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(SearchBar/* default */.Z, {
      placeholder: "Search accounts",
      onSubmit: setSearchTerm,
      disabled: loading || submitting
    }), error ? /*#__PURE__*/(0,jsx_runtime.jsx)(MessageBoxGraphqlError/* default */.Z, {
      error: error
    }) : loading ? /*#__PURE__*/(0,jsx_runtime.jsx)(LoadingPlaceholder/* default */.Z, {
      height: 300,
      width: "100%",
      mt: "20px"
    }) : data !== null && data !== void 0 && (_data$accounts = data.accounts) !== null && _data$accounts !== void 0 && (_data$accounts$nodes = _data$accounts.nodes) !== null && _data$accounts$nodes !== void 0 && _data$accounts$nodes.length ? /*#__PURE__*/(0,jsx_runtime.jsx)(AccountsContainer, {
      children: data.accounts.nodes.map(function (account) {
        return /*#__PURE__*/(0,jsx_runtime.jsx)(CardContainer, {
          $isSelected: selectedAccounts.some(function (a) {
            return a.id === account.id;
          }),
          onClick: function onClick() {
            return toggleAccountSelection(account);
          },
          role: "button",
          tabIndex: 0,
          onKeyPress: function onKeyPress(e) {
            if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              toggleAccountSelection(account);
            }
          },
          children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledCollectiveCard/* default */.Z, {
            collective: account,
            bodyHeight: 200,
            pb: 3,
            px: 3,
            fontSize: "11px",
            children: /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
              children: [account.website && /*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Box */.xu, {
                mb: 2,
                children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledLink/* default */.Z, {
                  openInNewTabNoFollow: true,
                  href: account.website,
                  children: truncate_default()(account.website, {
                    length: 128
                  })
                })
              }), account.description && /*#__PURE__*/(0,jsx_runtime.jsx)(Text.P, {
                fontSize: "11px",
                children: truncate_default()(account.description, {
                  length: 120
                })
              })]
            })
          })
        }, account.id);
      })
    }) : searchTerm ? /*#__PURE__*/(0,jsx_runtime.jsxs)(Text.P, {
      my: 4,
      textAlign: "center",
      fontSize: "25px",
      children: ["No results for ", searchTerm]
    }) : null, /*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Flex */.kC, {
      flexWrap: "wrap",
      px: 1,
      mt: 4,
      justifyContent: "center",
      children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledCheckbox/* default */.Z, {
        label: "Include all associated accounts",
        checked: includeAssociatedAccounts,
        onChange: function onChange(_ref) {
          var checked = _ref.checked;
          setIncludeAssociatedAccounts(checked);
        }
      })
    }), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledButton/* default */.Z, {
      mt: 3,
      width: "100%",
      buttonStyle: "primary",
      disabled: !isValid,
      loading: submitting,
      onClick: /*#__PURE__*/asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee() {
        var result;
        return regenerator_default().wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.prev = 0;
                _context.next = 3;
                return banAccounts(true);

              case 3:
                result = _context.sent;
                setDryRunData(result.data.banAccount);
                _context.next = 10;
                break;

              case 7:
                _context.prev = 7;
                _context.t0 = _context["catch"](0);
                addToast({
                  type: ToastProvider/* TOAST_TYPE.ERROR */["do"].ERROR,
                  message: (0,errors/* i18nGraphqlException */.t2)(intl, _context.t0)
                });

              case 10:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, null, [[0, 7]]);
      })),
      children: "Analyze"
    }), dryRunData && /*#__PURE__*/(0,jsx_runtime.jsx)(ConfirmationModal/* default */.Z, {
      isDanger: true,
      continueLabel: "Ban accounts",
      header: "Ban accounts",
      cancelHandler: function cancelHandler() {
        return setDryRunData(null);
      },
      disableSubmit: !dryRunData.isAllowed,
      continueHandler: /*#__PURE__*/asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee2() {
        var result;
        return regenerator_default().wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.prev = 0;
                _context2.next = 3;
                return banAccounts(false);

              case 3:
                result = _context2.sent;
                setDryRunData(null);
                setSelectedAccounts([]);
                refetch(); // Refresh the search results, no need to wait for it

                addToast({
                  type: ToastProvider/* TOAST_TYPE.SUCCESS */["do"].SUCCESS,
                  title: "Successfully banned ".concat(result.data.banAccount.accounts.length, " accounts"),
                  message: /*#__PURE__*/(0,jsx_runtime.jsx)(Text.P, {
                    whiteSpace: "pre-wrap",
                    children: result.data.banAccount.message
                  })
                });
                _context2.next = 13;
                break;

              case 10:
                _context2.prev = 10;
                _context2.t0 = _context2["catch"](0);
                addToast({
                  type: ToastProvider/* TOAST_TYPE.ERROR */["do"].ERROR,
                  message: (0,errors/* i18nGraphqlException */.t2)(intl, _context2.t0)
                });

              case 13:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, null, [[0, 10]]);
      })),
      children: /*#__PURE__*/(0,jsx_runtime.jsx)(root_actions_BanAccountsSummary, {
        dryRunData: dryRunData
      })
    })]
  });
};

BanAccountsWithSearch.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "BanAccountsWithSearch"
};
/* harmony default export */ var root_actions_BanAccountsWithSearch = (BanAccountsWithSearch);
// EXTERNAL MODULE: ./node_modules/lodash/uniq.js
var uniq = __webpack_require__(44908);
var uniq_default = /*#__PURE__*/__webpack_require__.n(uniq);
// EXTERNAL MODULE: ./node_modules/lodash/startCase.js
var startCase = __webpack_require__(18029);
var startCase_default = /*#__PURE__*/__webpack_require__.n(startCase);
// EXTERNAL MODULE: ./lib/graphql/types/v2/graphql.ts
var graphql = __webpack_require__(97965);
;// CONCATENATED MODULE: ./components/root-actions/ClearCacheForAccountForm.tsx







var ClearCacheForAccountForm_templateObject;

















var CACHE_TYPES = Object.values(graphql/* AccountCacheType */.EP);
var clearCacheMutation = (0,lib/* default */.ZP)(ClearCacheForAccountForm_templateObject || (ClearCacheForAccountForm_templateObject = taggedTemplateLiteral_default()(["\n  mutation ClearCache($account: AccountReferenceInput!, $cacheTypes: [AccountCacheType!]) {\n    clearCacheForAccount(account: $account, type: $cacheTypes) {\n      id\n      slug\n      name\n    }\n  }\n"])));

var ClearCacheForAccountForm = function ClearCacheForAccountForm() {
  var _React$useState = react.useState(null),
      _React$useState2 = slicedToArray_default()(_React$useState, 2),
      account = _React$useState2[0],
      setAccount = _React$useState2[1];

  var _React$useState3 = react.useState(function () {
    return toConsumableArray_default()(CACHE_TYPES);
  }),
      _React$useState4 = slicedToArray_default()(_React$useState3, 2),
      cacheTypes = _React$useState4[0],
      setCacheTypes = _React$useState4[1];

  var _useMutation = (0,client.useMutation)(clearCacheMutation, {
    context: helpers/* API_V2_CONTEXT */.T
  }),
      _useMutation2 = slicedToArray_default()(_useMutation, 2),
      clearCache = _useMutation2[0],
      loading = _useMutation2[1].loading;

  var _useToasts = (0,ToastProvider/* useToasts */.e1)(),
      addToast = _useToasts.addToast;

  var isValid = account && cacheTypes.length > 0;
  var intl = (0,useIntl/* default */.Z)();
  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(StyledInputField/* default */.Z, {
      htmlFor: "clear-cache-account",
      label: "Account",
      flex: "1 1",
      children: function children(_ref) {
        var id = _ref.id;
        return /*#__PURE__*/(0,jsx_runtime.jsx)(CollectivePickerAsync/* default */.Z, {
          inputId: id,
          onChange: function onChange(_ref2) {
            var value = _ref2.value;
            return setAccount(value);
          },
          skipGuests: false
        });
      }
    }), /*#__PURE__*/(0,jsx_runtime.jsx)(Text.P, {
      fontWeight: "normal",
      fontSize: "14px",
      color: "black.800",
      mt: 3,
      mb: 2,
      children: "Cache types"
    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Flex */.kC, {
      flexWrap: "wrap",
      px: 1,
      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(StyledCheckbox/* default */.Z, {
        label: "All",
        checked: cacheTypes.length === CACHE_TYPES.length,
        onChange: function onChange(_ref3) {
          var checked = _ref3.checked;

          if (checked) {
            setCacheTypes(CACHE_TYPES);
          } else {
            setCacheTypes([]);
          }
        }
      }), CACHE_TYPES.map(function (cacheType) {
        return /*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Box */.xu, {
          ml: 2,
          children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledCheckbox/* default */.Z, {
            label: startCase_default()(cacheType.toLowerCase()),
            checked: cacheTypes.includes(cacheType),
            onChange: function onChange(_ref4) {
              var checked = _ref4.checked;

              if (checked) {
                setCacheTypes(uniq_default()([].concat(toConsumableArray_default()(cacheTypes), [cacheType])));
              } else {
                setCacheTypes(cacheTypes.filter(function (t) {
                  return t !== cacheType;
                }));
              }
            }
          })
        }, cacheType);
      })]
    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(StyledButton/* default */.Z, {
      mt: 4,
      width: "100%",
      buttonStyle: "primary",
      disabled: !isValid,
      loading: loading,
      onClick: /*#__PURE__*/asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee() {
        var result, resultAccount;
        return regenerator_default().wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.prev = 0;
                _context.next = 3;
                return clearCache({
                  variables: {
                    account: {
                      legacyId: account.id
                    },
                    cacheTypes: cacheTypes
                  }
                });

              case 3:
                result = _context.sent;
                resultAccount = result.data.clearCacheForAccount;
                addToast({
                  type: ToastProvider/* TOAST_TYPE.SUCCESS */["do"].SUCCESS,
                  message: "Cache cleared for ".concat(resultAccount.name, " (@").concat(resultAccount.slug, ")")
                });
                _context.next = 11;
                break;

              case 8:
                _context.prev = 8;
                _context.t0 = _context["catch"](0);
                addToast({
                  type: ToastProvider/* TOAST_TYPE.ERROR */["do"].ERROR,
                  message: (0,errors/* i18nGraphqlException */.t2)(intl, _context.t0)
                });

              case 11:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, null, [[0, 8]]);
      })),
      children: ["Clear cache", account ? " for ".concat(account.name) : '']
    })]
  });
};

ClearCacheForAccountForm.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "ClearCacheForAccountForm"
};
/* harmony default export */ var root_actions_ClearCacheForAccountForm = (ClearCacheForAccountForm);
// EXTERNAL MODULE: ./lib/constants/collectives.js
var collectives = __webpack_require__(82525);
;// CONCATENATED MODULE: ./components/root-actions/ConnectAccountsForm.js




var ConnectAccountsForm_templateObject;
















var connectAccountsMutation = (0,lib/* default */.ZP)(ConnectAccountsForm_templateObject || (ConnectAccountsForm_templateObject = taggedTemplateLiteral_default()(["\n  mutation ConnectAccounts($memberAccount: AccountReferenceInput!, $account: AccountReferenceInput!) {\n    createMember(memberAccount: $memberAccount, account: $account, role: CONNECTED_ACCOUNT) {\n      id\n    }\n  }\n"])));
var CONNECTED_ACCOUNT_ACCEPTED_TYPES = [collectives/* CollectiveType.COLLECTIVE */.eV.COLLECTIVE, collectives/* CollectiveType.EVENT */.eV.EVENT, collectives/* CollectiveType.ORGANIZATION */.eV.ORGANIZATION, collectives/* CollectiveType.PROJECT */.eV.PROJECT, collectives/* CollectiveType.FUND */.eV.FUND];

var ConnectAccountsForm = function ConnectAccountsForm() {
  var _useMutation = (0,client.useMutation)(connectAccountsMutation, {
    context: helpers/* API_V2_CONTEXT */.T
  }),
      _useMutation2 = slicedToArray_default()(_useMutation, 2),
      submitConnectAccounts = _useMutation2[0],
      loading = _useMutation2[1].loading;

  var _React$useState = react.useState(null),
      _React$useState2 = slicedToArray_default()(_React$useState, 2),
      memberAccount = _React$useState2[0],
      setMemberAccount = _React$useState2[1];

  var _React$useState3 = react.useState(null),
      _React$useState4 = slicedToArray_default()(_React$useState3, 2),
      account = _React$useState4[0],
      setAccount = _React$useState4[1];

  var _useToasts = (0,ToastProvider/* useToasts */.e1)(),
      addToast = _useToasts.addToast;

  var isValid = memberAccount && account;
  var intl = (0,useIntl/* default */.Z)();
  var connectCTA = getConnectCTA(memberAccount, account);

  var connectAccounts = /*#__PURE__*/function () {
    var _ref = asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee() {
      return regenerator_default().wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.prev = 0;
              _context.next = 3;
              return submitConnectAccounts({
                variables: {
                  memberAccount: {
                    legacyId: memberAccount.id
                  },
                  account: {
                    legacyId: account.id
                  }
                }
              });

            case 3:
              addToast({
                type: ToastProvider/* TOAST_TYPE.SUCCESS */["do"].SUCCESS,
                message: /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {
                  children: [/*#__PURE__*/(0,jsx_runtime.jsx)(LinkCollective/* default */.Z, {
                    collective: memberAccount
                  }), " is now connected to ", /*#__PURE__*/(0,jsx_runtime.jsx)(LinkCollective/* default */.Z, {
                    collective: account
                  })]
                })
              }); // Reset the form

              setMemberAccount(null);
              setAccount(null);
              _context.next = 11;
              break;

            case 8:
              _context.prev = 8;
              _context.t0 = _context["catch"](0);
              addToast({
                type: ToastProvider/* TOAST_TYPE.ERROR */["do"].ERROR,
                variant: 'light',
                message: (0,errors/* i18nGraphqlException */.t2)(intl, _context.t0)
              });

            case 11:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[0, 8]]);
    }));

    return function connectAccounts() {
      return _ref.apply(this, arguments);
    };
  }();

  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Flex */.kC, {
      alignItems: "flex-end",
      children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledInputField/* default */.Z, {
        htmlFor: "connect-account-1",
        label: "Make...",
        flex: "1 1",
        children: function children(_ref2) {
          var id = _ref2.id;
          return /*#__PURE__*/(0,jsx_runtime.jsx)(CollectivePickerAsync/* default */.Z, {
            inputId: id,
            onChange: function onChange(option) {
              return setMemberAccount((option === null || option === void 0 ? void 0 : option.value) || null);
            },
            collective: memberAccount,
            types: CONNECTED_ACCOUNT_ACCEPTED_TYPES,
            isClearable: true
          });
        }
      })
    }), /*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Flex */.kC, {
      alignItems: "flex-end",
      mt: 3,
      children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledInputField/* default */.Z, {
        htmlFor: "connect-account-2",
        label: "...a connected account of",
        flex: "1 1",
        children: function children(_ref3) {
          var id = _ref3.id;
          return /*#__PURE__*/(0,jsx_runtime.jsx)(CollectivePickerAsync/* default */.Z, {
            inputId: id,
            onChange: function onChange(option) {
              return setAccount((option === null || option === void 0 ? void 0 : option.value) || null);
            },
            filterResults: function filterResults(accounts) {
              return !memberAccount ? accounts : accounts.filter(function (a) {
                return a.id !== memberAccount.id;
              });
            },
            collective: account,
            types: CONNECTED_ACCOUNT_ACCEPTED_TYPES,
            isClearable: true
          });
        }
      })
    }), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledButton/* default */.Z, {
      mt: 4,
      width: "100%",
      buttonStyle: "primary",
      disabled: !isValid,
      loading: loading,
      onClick: function onClick() {
        return connectAccounts();
      },
      children: connectCTA
    })]
  });
};

var getConnectCTA = function getConnectCTA(fromAccount, toAccount) {
  if (!fromAccount || !toAccount) {
    return 'Connect';
  } else {
    return "Connect @".concat(fromAccount.slug, " to @").concat(toAccount.slug);
  }
};

ConnectAccountsForm.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "ConnectAccountsForm"
};
/* harmony default export */ var root_actions_ConnectAccountsForm = (ConnectAccountsForm);
;// CONCATENATED MODULE: ./components/root-actions/MergeAccountsForm.js




var MergeAccountsForm_templateObject;
















var mergeAccountsMutation = (0,lib/* default */.ZP)(MergeAccountsForm_templateObject || (MergeAccountsForm_templateObject = taggedTemplateLiteral_default()(["\n  mutation MergeAccounts($fromAccount: AccountReferenceInput!, $toAccount: AccountReferenceInput!, $dryRun: Boolean!) {\n    mergeAccounts(fromAccount: $fromAccount, toAccount: $toAccount, dryRun: $dryRun) {\n      message\n      account {\n        id\n        name\n        slug\n      }\n    }\n  }\n"])));

var MergeAccountsForm = function MergeAccountsForm() {
  var _useMutation = (0,client.useMutation)(mergeAccountsMutation, {
    context: helpers/* API_V2_CONTEXT */.T
  }),
      _useMutation2 = slicedToArray_default()(_useMutation, 2),
      submitMergeAccounts = _useMutation2[0],
      loading = _useMutation2[1].loading;

  var _React$useState = react.useState(false),
      _React$useState2 = slicedToArray_default()(_React$useState, 2),
      mergeSummary = _React$useState2[0],
      setMergeSummary = _React$useState2[1];

  var _React$useState3 = react.useState(null),
      _React$useState4 = slicedToArray_default()(_React$useState3, 2),
      fromAccount = _React$useState4[0],
      setFromAccount = _React$useState4[1];

  var _React$useState5 = react.useState(null),
      _React$useState6 = slicedToArray_default()(_React$useState5, 2),
      toAccount = _React$useState6[0],
      setToAccount = _React$useState6[1];

  var _useToasts = (0,ToastProvider/* useToasts */.e1)(),
      addToast = _useToasts.addToast;

  var isValid = fromAccount && toAccount;
  var intl = (0,useIntl/* default */.Z)();
  var mergeCTA = getMergeCTA(fromAccount, toAccount);

  var mergeAccounts = /*#__PURE__*/function () {
    var _ref = asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee() {
      var dryRun,
          result,
          resultMessage,
          successMessage,
          _args = arguments;
      return regenerator_default().wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              dryRun = _args.length > 0 && _args[0] !== undefined ? _args[0] : true;
              _context.prev = 1;
              _context.next = 4;
              return submitMergeAccounts({
                variables: {
                  dryRun: dryRun,
                  fromAccount: {
                    legacyId: fromAccount.id
                  },
                  toAccount: {
                    legacyId: toAccount.id
                  }
                }
              });

            case 4:
              result = _context.sent;
              resultMessage = result.data.mergeAccounts.message;

              if (dryRun) {
                setMergeSummary(resultMessage);
              } else {
                successMessage = "@".concat(fromAccount.slug, " has been merged into @").concat(toAccount.slug);
                addToast({
                  type: ToastProvider/* TOAST_TYPE.SUCCESS */["do"].SUCCESS,
                  message: !resultMessage ? successMessage : "".concat(successMessage, "\n").concat(resultMessage)
                }); // Reset the form

                setMergeSummary(null);
                setFromAccount(null);
                setToAccount(null);
              }

              _context.next = 12;
              break;

            case 9:
              _context.prev = 9;
              _context.t0 = _context["catch"](1);
              addToast({
                type: ToastProvider/* TOAST_TYPE.ERROR */["do"].ERROR,
                variant: 'light',
                message: (0,errors/* i18nGraphqlException */.t2)(intl, _context.t0)
              });

            case 12:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[1, 9]]);
    }));

    return function mergeAccounts() {
      return _ref.apply(this, arguments);
    };
  }();

  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Flex */.kC, {
      alignItems: "flex-end",
      children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledInputField/* default */.Z, {
        htmlFor: "merge-account-1",
        label: "Merge Account...",
        flex: "1 1",
        children: function children(_ref2) {
          var id = _ref2.id;
          return /*#__PURE__*/(0,jsx_runtime.jsx)(CollectivePickerAsync/* default */.Z, {
            inputId: id,
            onChange: function onChange(option) {
              return setFromAccount((option === null || option === void 0 ? void 0 : option.value) || null);
            },
            collective: fromAccount,
            isClearable: true,
            noCache: true // Don't cache to prevent showing merged collectives
            ,
            skipGuests: false
          });
        }
      })
    }), /*#__PURE__*/(0,jsx_runtime.jsx)(Grid/* Flex */.kC, {
      alignItems: "flex-end",
      mt: 3,
      children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledInputField/* default */.Z, {
        htmlFor: "merge-account-2",
        label: "...into",
        flex: "1 1",
        children: function children(_ref3) {
          var id = _ref3.id;
          return /*#__PURE__*/(0,jsx_runtime.jsx)(CollectivePickerAsync/* default */.Z, {
            inputId: id,
            onChange: function onChange(option) {
              return setToAccount((option === null || option === void 0 ? void 0 : option.value) || null);
            },
            filterResults: function filterResults(accounts) {
              return !fromAccount ? accounts : accounts.filter(function (a) {
                return a.id !== fromAccount.id;
              });
            },
            collective: toAccount,
            types: fromAccount ? [fromAccount.type] : undefined,
            isClearable: true,
            noCache: true // Don't cache to prevent showing merged collectives
            ,
            skipGuests: false
          });
        }
      })
    }), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledButton/* default */.Z, {
      mt: 4,
      width: "100%",
      buttonStyle: "danger",
      disabled: !isValid,
      loading: loading,
      onClick: function onClick() {
        return mergeAccounts(true);
      },
      children: mergeCTA
    }), mergeSummary && /*#__PURE__*/(0,jsx_runtime.jsx)(ConfirmationModal/* default */.Z, {
      isDanger: true,
      continueLabel: "Merge profiles",
      header: mergeCTA,
      continueHandler: function continueHandler() {
        return mergeAccounts(false);
      },
      cancelHandler: function cancelHandler() {
        return setMergeSummary(false);
      },
      children: /*#__PURE__*/(0,jsx_runtime.jsx)(Text.P, {
        whiteSpace: "pre-wrap",
        lineHeight: "24px",
        children: mergeSummary
      })
    })]
  });
};

var getMergeCTA = function getMergeCTA(fromAccount, toAccount) {
  if (!fromAccount || !toAccount) {
    return 'Merge';
  } else {
    return "Merge @".concat(fromAccount.slug, " into @").concat(toAccount.slug);
  }
};

MergeAccountsForm.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "MergeAccountsForm"
};
/* harmony default export */ var root_actions_MergeAccountsForm = (MergeAccountsForm);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/defineProperty.js
var defineProperty = __webpack_require__(930);
var defineProperty_default = /*#__PURE__*/__webpack_require__.n(defineProperty);
// EXTERNAL MODULE: ./lib/collective.lib.js
var collective_lib = __webpack_require__(5700);
// EXTERNAL MODULE: ./lib/currency-utils.js
var currency_utils = __webpack_require__(17632);
// EXTERNAL MODULE: ./components/Avatar.tsx
var Avatar = __webpack_require__(11194);
// EXTERNAL MODULE: ./components/CollectivePicker.js + 2 modules
var CollectivePicker = __webpack_require__(41861);
// EXTERNAL MODULE: ./components/StyledSelect.tsx
var StyledSelect = __webpack_require__(66943);
// EXTERNAL MODULE: ./components/StyledTag.js
var StyledTag = __webpack_require__(36422);
;// CONCATENATED MODULE: ./components/root-actions/MoveAuthoredContributions.js





var MoveAuthoredContributions_templateObject, _templateObject2, _templateObject3;




























var moveOrdersFieldsFragment = (0,lib/* default */.ZP)(MoveAuthoredContributions_templateObject || (MoveAuthoredContributions_templateObject = taggedTemplateLiteral_default()(["\n  fragment MoveOrdersFields on Order {\n    id\n    legacyId\n    description\n    createdAt\n    amount {\n      valueInCents\n      currency\n    }\n    fromAccount {\n      id\n      name\n      slug\n      isIncognito\n      imageUrl(height: 48)\n    }\n    toAccount {\n      id\n      slug\n      name\n    }\n  }\n"])));
var ordersQuery = (0,lib/* default */.ZP)(_templateObject2 || (_templateObject2 = taggedTemplateLiteral_default()(["\n  query AuthoredOrdersRoot($account: AccountReferenceInput!) {\n    orders(account: $account, filter: OUTGOING, limit: 100, includeIncognito: true) {\n      nodes {\n        id\n        ...MoveOrdersFields\n      }\n    }\n  }\n  ", "\n"])), moveOrdersFieldsFragment);
var moveOrdersMutation = (0,lib/* default */.ZP)(_templateObject3 || (_templateObject3 = taggedTemplateLiteral_default()(["\n  mutation MoveOrders($orders: [OrderReferenceInput!]!, $fromAccount: AccountReferenceInput!, $makeIncognito: Boolean) {\n    moveOrders(orders: $orders, fromAccount: $fromAccount, makeIncognito: $makeIncognito) {\n      id\n      ...MoveOrdersFields\n    }\n  }\n  ", "\n"])), moveOrdersFieldsFragment);

var getOrdersOptionsFromData = function getOrdersOptionsFromData(intl, data) {
  if (!(data !== null && data !== void 0 && data.orders)) {
    return [];
  }

  return data.orders.nodes.map(function (order) {
    var date = intl.formatDate(order.createdAt);
    var amount = (0,currency_utils/* formatCurrency */.xG)(order.amount.valueInCents, order.amount.currency, {
      locale: intl.locale
    });
    return {
      value: order,
      label: "".concat(date, " - ").concat(amount, " contribution to @").concat(order.toAccount.slug, " (#").concat(order.legacyId, ")")
    };
  });
};

var getCallToAction = function getCallToAction(selectedOrdersOptions, newFromAccount) {
  if (newFromAccount !== null && newFromAccount !== void 0 && newFromAccount.isIncognito) {
    return "Mark ".concat(selectedOrdersOptions.length, " contributions as incognito");
  } else {
    var base = "Move ".concat(selectedOrdersOptions.length, " contributions");
    return !newFromAccount ? base : "".concat(base, " to @").concat(newFromAccount.slug);
  }
};

var getToAccountCustomOptions = function getToAccountCustomOptions(fromAccount) {
  var _fromAccountOption, _ref;

  if (!fromAccount) {
    return [];
  } // The select is always prefilled with the current account


  var fromAccountOption = (_fromAccountOption = {}, defineProperty_default()(_fromAccountOption, CollectivePicker/* FLAG_COLLECTIVE_PICKER_COLLECTIVE */.rA, true), defineProperty_default()(_fromAccountOption, "value", fromAccount), _fromAccountOption);

  if (!(0,collective_lib/* isIndividualAccount */.Sh)(fromAccount)) {
    return [fromAccountOption];
  } // Add the incognito profile option for individuals


  var incognitoLabel = "@".concat(fromAccount.slug, "'s incognito profile");
  return [fromAccountOption, (_ref = {}, defineProperty_default()(_ref, CollectivePicker/* FLAG_COLLECTIVE_PICKER_COLLECTIVE */.rA, true), defineProperty_default()(_ref, "label", incognitoLabel), defineProperty_default()(_ref, "value", {
    name: incognitoLabel,
    useIncognitoProfile: true,
    isIncognito: true
  }), _ref)];
};

var formatOrderOption = function formatOrderOption(option, intl) {
  var order = option.value;
  return /*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Flex */.kC, {
    alignItems: "center",
    title: order.description,
    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Avatar/* default */.ZP, {
      collective: order.fromAccount,
      size: 24
    }), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledTag/* default */.Z, {
      fontSize: "10px",
      mx: 2,
      minWidth: 75,
      children: intl.formatDate(order.createdAt)
    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(Text/* Span */.Dr, {
      fontSize: "13px",
      children: [(0,currency_utils/* formatCurrency */.xG)(order.amount.valueInCents, order.amount.currency, {
        locale: intl.locale
      }), " contribution to @", order.toAccount.slug, " (#", order.legacyId, ")"]
    })]
  });
};

var getOrdersQueryOptions = function getOrdersQueryOptions(selectedProfile) {
  return {
    skip: !selectedProfile,
    context: helpers/* API_V2_CONTEXT */.T,
    variables: selectedProfile ? {
      account: {
        legacyId: selectedProfile.id
      }
    } : null,
    fetchPolicy: 'network-only'
  };
};

var MoveAuthoredContributions = function MoveAuthoredContributions() {
  // Local state and hooks
  var intl = (0,useIntl/* default */.Z)();

  var _useToasts = (0,ToastProvider/* useToasts */.e1)(),
      addToast = _useToasts.addToast;

  var _React$useState = react.useState(null),
      _React$useState2 = slicedToArray_default()(_React$useState, 2),
      fromAccount = _React$useState2[0],
      setFromAccount = _React$useState2[1];

  var _React$useState3 = react.useState(null),
      _React$useState4 = slicedToArray_default()(_React$useState3, 2),
      newFromAccount = _React$useState4[0],
      setNewFromAccount = _React$useState4[1];

  var _React$useState5 = react.useState(false),
      _React$useState6 = slicedToArray_default()(_React$useState5, 2),
      hasConfirmationModal = _React$useState6[0],
      setHasConfirmationModal = _React$useState6[1];

  var _React$useState7 = react.useState(false),
      _React$useState8 = slicedToArray_default()(_React$useState7, 2),
      hasConfirmed = _React$useState8[0],
      setHasConfirmed = _React$useState8[1];

  var _React$useState9 = react.useState([]),
      _React$useState10 = slicedToArray_default()(_React$useState9, 2),
      selectedOrdersOptions = _React$useState10[0],
      setSelectedOrderOptions = _React$useState10[1];

  var isValid = Boolean(fromAccount && newFromAccount && selectedOrdersOptions.length);
  var callToAction = getCallToAction(selectedOrdersOptions, newFromAccount);
  var toAccountCustomOptions = react.useMemo(function () {
    return getToAccountCustomOptions(fromAccount);
  }, [fromAccount]);
  var hasConfirmCheckbox = !(newFromAccount !== null && newFromAccount !== void 0 && newFromAccount.useIncognitoProfile); // GraphQL

  var _useQuery = (0,client.useQuery)(ordersQuery, getOrdersQueryOptions(fromAccount)),
      data = _useQuery.data,
      loading = _useQuery.loading,
      ordersQueryError = _useQuery.error;

  var allOptions = react.useMemo(function () {
    return getOrdersOptionsFromData(intl, data);
  }, [intl, data]);
  var mutationOptions = {
    context: helpers/* API_V2_CONTEXT */.T
  };

  var _useMutation = (0,client.useMutation)(moveOrdersMutation, mutationOptions),
      _useMutation2 = slicedToArray_default()(_useMutation, 1),
      submitMoveContributions = _useMutation2[0];

  var moveContributions = /*#__PURE__*/function () {
    var _ref2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee() {
      var ordersInputs, mutationVariables;
      return regenerator_default().wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.prev = 0;
              // Prepare variables
              ordersInputs = selectedOrdersOptions.map(function (_ref3) {
                var value = _ref3.value;
                return {
                  id: value.id
                };
              });
              mutationVariables = {
                orders: ordersInputs
              };

              if (newFromAccount.useIncognitoProfile) {
                mutationVariables.fromAccount = {
                  legacyId: fromAccount.id
                };
                mutationVariables.makeIncognito = true;
              } else {
                mutationVariables.fromAccount = {
                  legacyId: newFromAccount.id
                };
              } // Submit


              _context.next = 6;
              return submitMoveContributions({
                variables: mutationVariables
              });

            case 6:
              addToast({
                type: ToastProvider/* TOAST_TYPE.SUCCESS */["do"].SUCCESS,
                title: 'Contributions moved successfully',
                message: callToAction
              }); // Reset form and purge cache

              setHasConfirmationModal(false);
              setFromAccount(null);
              setNewFromAccount(null);
              setSelectedOrderOptions([]);
              _context.next = 16;
              break;

            case 13:
              _context.prev = 13;
              _context.t0 = _context["catch"](0);
              addToast({
                type: ToastProvider/* TOAST_TYPE.ERROR */["do"].ERROR,
                message: (0,errors/* i18nGraphqlException */.t2)(intl, _context.t0)
              });

            case 16:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[0, 13]]);
    }));

    return function moveContributions() {
      return _ref2.apply(this, arguments);
    };
  }();

  if (ordersQueryError) {
    return /*#__PURE__*/(0,jsx_runtime.jsx)(MessageBoxGraphqlError/* default */.Z, {
      error: ordersQueryError
    });
  }

  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(StyledInputField/* default */.Z, {
      htmlFor: "fromAccount",
      label: "Account that authored the contribution",
      flex: "1 1",
      children: function children(_ref4) {
        var id = _ref4.id;
        return /*#__PURE__*/(0,jsx_runtime.jsx)(CollectivePickerAsync/* default */.Z, {
          skipGuests: false,
          inputId: id,
          collective: fromAccount,
          isClearable: true,
          onChange: function onChange(option) {
            setFromAccount((option === null || option === void 0 ? void 0 : option.value) || null);
            setSelectedOrderOptions([]);
            setNewFromAccount(null);
          }
        });
      }
    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Box */.xu, {
      mt: 3,
      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Flex */.kC, {
        justifyContent: "space-between",
        alignItems: "center",
        mb: 1,
        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Text/* Label */.__, {
          fontWeight: "normal",
          htmlFor: "contributions",
          children: "Select contributions"
        }), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledButton/* default */.Z, {
          buttonSize: "tiny",
          buttonStyle: "secondary",
          isBorderless: true,
          onClick: function onClick() {
            return setSelectedOrderOptions(allOptions);
          },
          disabled: !fromAccount,
          children: "Select all"
        })]
      }), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledSelect/* default */.ZP, {
        isLoading: loading,
        options: allOptions,
        value: selectedOrdersOptions,
        inputId: "contributions",
        onChange: function onChange(options) {
          return setSelectedOrderOptions(options);
        },
        isClearable: true,
        isMulti: true,
        closeMenuOnSelect: false,
        disabled: !fromAccount,
        truncationThreshold: 5,
        formatOptionLabel: function formatOptionLabel(option) {
          return formatOrderOption(option, intl);
        }
      })]
    }), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledInputField/* default */.Z, {
      htmlFor: "toAccount",
      label: "Move to",
      flex: "1 1",
      mt: 3,
      children: function children(_ref5) {
        var id = _ref5.id;
        return /*#__PURE__*/(0,jsx_runtime.jsx)(CollectivePickerAsync/* default */.Z, {
          inputId: id,
          collective: newFromAccount,
          isClearable: true,
          onChange: function onChange(option) {
            return setNewFromAccount((option === null || option === void 0 ? void 0 : option.value) || null);
          },
          disabled: !fromAccount,
          customOptions: toAccountCustomOptions,
          skipGuests: false
        });
      }
    }), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledButton/* default */.Z, {
      mt: 4,
      width: "100%",
      buttonStyle: "primary",
      disabled: !isValid,
      onClick: function onClick() {
        return setHasConfirmationModal(true);
      },
      children: callToAction
    }), hasConfirmationModal && /*#__PURE__*/(0,jsx_runtime.jsxs)(ConfirmationModal/* default */.Z, {
      header: callToAction,
      continueHandler: moveContributions,
      disableSubmit: hasConfirmCheckbox && !hasConfirmed,
      onClose: function onClose() {
        setHasConfirmationModal(false);
        setHasConfirmed(false);
      },
      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(Text.P, {
        fontSize: "14px",
        lineHeight: "18px",
        children: ["You're about to move the following contributions from", ' ', /*#__PURE__*/(0,jsx_runtime.jsx)(StyledLink/* default */.Z, {
          as: LinkCollective/* default */.Z,
          collective: fromAccount,
          openInNewTab: true
        }), " to", ' ', /*#__PURE__*/(0,jsx_runtime.jsx)(StyledLink/* default */.Z, {
          as: LinkCollective/* default */.Z,
          collective: newFromAccount,
          openInNewTab: true
        }), ". Are you sure you want to proceed?"]
      }), /*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
        maxHeight: 300,
        overflowY: "auto",
        border: "1px solid lightgrey",
        borderRadius: "8px",
        mt: 3,
        children: selectedOrdersOptions.map(function (option, index) {
          return /*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
            title: option.value.description,
            borderTop: !index ? undefined : '1px solid lightgrey',
            p: 2,
            children: formatOrderOption(option, intl)
          }, option.value.id);
        })
      }), hasConfirmCheckbox && /*#__PURE__*/(0,jsx_runtime.jsx)(MessageBox/* default */.Z, {
        type: "warning",
        mt: 3,
        children: /*#__PURE__*/(0,jsx_runtime.jsx)(StyledCheckbox/* default */.Z, {
          name: "has-confirmed-move-contributions",
          checked: hasConfirmed,
          onChange: function onChange(_ref6) {
            var checked = _ref6.checked;
            return setHasConfirmed(checked);
          },
          label: /*#__PURE__*/(0,jsx_runtime.jsxs)(Text/* Span */.Dr, {
            children: [/*#__PURE__*/(0,jsx_runtime.jsx)("strong", {
              children: "Warning"
            }), ": I understand that the payment methods used for the contributions will be re-affected to the new profile, which must have the permission to use them."]
          })
        })
      })]
    })]
  });
};

MoveAuthoredContributions.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "MoveAuthoredContributions"
};
/* harmony default export */ var root_actions_MoveAuthoredContributions = (MoveAuthoredContributions);
// EXTERNAL MODULE: ./node_modules/lodash/omit.js
var omit = __webpack_require__(57557);
var omit_default = /*#__PURE__*/__webpack_require__.n(omit);
// EXTERNAL MODULE: ./node_modules/react-intl/lib/index.js + 3 modules
var react_intl_lib = __webpack_require__(59448);
// EXTERNAL MODULE: ./node_modules/next/dist/compiled/@babel/runtime/helpers/objectWithoutProperties.js
var objectWithoutProperties = __webpack_require__(3323);
var objectWithoutProperties_default = /*#__PURE__*/__webpack_require__.n(objectWithoutProperties);
// EXTERNAL MODULE: ./node_modules/lodash/debounce.js
var debounce = __webpack_require__(23279);
var debounce_default = /*#__PURE__*/__webpack_require__.n(debounce);
;// CONCATENATED MODULE: ./components/ExpensesPickerAsync.js





var _excluded = ["inputId", "noCache", "account", "status"];

var ExpensesPickerAsync_templateObject;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { defineProperty_default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }












var expensesSearchQuery = (0,lib/* default */.ZP)(ExpensesPickerAsync_templateObject || (ExpensesPickerAsync_templateObject = taggedTemplateLiteral_default()(["\n  query ExpensesPickerSearchQuery($account: AccountReferenceInput, $searchTerm: String, $status: ExpenseStatusFilter) {\n    expenses(account: $account, limit: 100, searchTerm: $searchTerm, status: $status) {\n      nodes {\n        id\n        legacyId\n        description\n        createdAt\n        account {\n          id\n          name\n          slug\n          isIncognito\n          imageUrl(height: 48)\n        }\n      }\n    }\n  }\n"])));

var getOptionsFromExpenses = function getOptionsFromExpenses(expenses) {
  if (!(expenses !== null && expenses !== void 0 && expenses.length)) {
    return [];
  } else {
    return expenses.map(function (expense) {
      return {
        value: expense,
        label: "#".concat(expense.legacyId, " - ").concat(expense.description)
      };
    });
  }
};
/** Throttle search function to limit invocations while typing */


var throttledSearch = debounce_default()(function (searchFunc, variables) {
  return searchFunc({
    variables: variables
  });
}, 750);

var getAccountInput = function getAccountInput(account) {
  if (!account) {
    return null;
  } else if (typeof account.id === 'string') {
    return {
      id: account.id
    };
  } else if (typeof account.id === 'number') {
    return {
      legacyId: account.id
    };
  } else if (typeof account.legacyId === 'number') {
    return {
      legacyId: account.legacyId
    };
  } else {
    return {
      slug: account.slug
    };
  }
};

var formatOptionLabel = function formatOptionLabel(option) {
  return /*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Flex */.kC, {
    alignItems: "center",
    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Avatar/* default */.ZP, {
      collective: option.value.fromAccount,
      size: 24
    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(StyledTag/* default */.Z, {
      ml: 2,
      fontSize: "11px",
      children: ["#", option.value.legacyId]
    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(Text/* Span */.Dr, {
      fontSize: "12px",
      ml: 2,
      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(react_intl_lib.FormattedDate, {
        value: option.value.createdAt
      }), " - ", option.value.description]
    })]
  });
};
/**
 * Fetches expenses based on user search input.
 */


var ExpensesPickerAsync = function ExpensesPickerAsync(_ref) {
  var _data$expenses2;

  var inputId = _ref.inputId,
      noCache = _ref.noCache,
      account = _ref.account,
      status = _ref.status,
      props = objectWithoutProperties_default()(_ref, _excluded);

  var fetchPolicy = noCache ? 'network-only' : undefined;
  var variables = {
    account: getAccountInput(account),
    status: status
  };
  var queryParameters = {
    fetchPolicy: fetchPolicy,
    variables: variables,
    context: helpers/* API_V2_CONTEXT */.T
  };

  var _useLazyQuery = (0,client.useLazyQuery)(expensesSearchQuery, queryParameters),
      _useLazyQuery2 = slicedToArray_default()(_useLazyQuery, 2),
      searchExpenses = _useLazyQuery2[0],
      _useLazyQuery2$ = _useLazyQuery2[1],
      loading = _useLazyQuery2$.loading,
      data = _useLazyQuery2$.data;

  var _React$useState = react.useState(''),
      _React$useState2 = slicedToArray_default()(_React$useState, 2),
      searchTerm = _React$useState2[0],
      setSearchTerm = _React$useState2[1];

  var options = react.useMemo(function () {
    var _data$expenses;

    return getOptionsFromExpenses(data === null || data === void 0 ? void 0 : (_data$expenses = data.expenses) === null || _data$expenses === void 0 ? void 0 : _data$expenses.nodes);
  }, [data === null || data === void 0 ? void 0 : (_data$expenses2 = data.expenses) === null || _data$expenses2 === void 0 ? void 0 : _data$expenses2.nodes]); // If preload is true, trigger a first query on mount or when one of the query param changes

  react.useEffect(function () {
    if (account) {
      throttledSearch(searchExpenses, {
        searchTerm: searchTerm
      });
    }
  }, [account, searchTerm]);
  return /*#__PURE__*/(0,jsx_runtime.jsx)(StyledSelect/* default */.ZP, _objectSpread({
    inputId: inputId,
    isLoading: loading,
    useSearchIcon: true,
    options: options,
    filterOption: function filterOption() {
      return true;
    }
    /** Filtering is done by the API */
    ,
    onInputChange: function onInputChange(newTerm) {
      return setSearchTerm(newTerm.trim());
    },
    formatOptionLabel: formatOptionLabel
  }, props));
};

ExpensesPickerAsync.defaultProps = {};
ExpensesPickerAsync.__docgenInfo = {
  "description": "Fetches expenses based on user search input.",
  "methods": [],
  "displayName": "ExpensesPickerAsync",
  "props": {
    "inputId": {
      "description": "The id of the search input",
      "type": {
        "name": "string"
      },
      "required": true
    },
    "limit": {
      "description": "Max number of collectives displayed at the same time",
      "type": {
        "name": "number"
      },
      "required": false
    },
    "noCache": {
      "description": "If true, results won't be cached (Apollo \"network-only\" mode)",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "account": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": false
    },
    "status": {
      "description": "",
      "type": {
        "name": "string"
      },
      "required": false
    }
  }
};
/* harmony default export */ var components_ExpensesPickerAsync = (ExpensesPickerAsync);
// EXTERNAL MODULE: ./components/LinkExpense.js
var LinkExpense = __webpack_require__(35493);
;// CONCATENATED MODULE: ./components/root-actions/MoveExpenses.js





var MoveExpenses_templateObject;























var moveExpensesMutation = (0,lib/* default */.ZP)(MoveExpenses_templateObject || (MoveExpenses_templateObject = taggedTemplateLiteral_default()(["\n  mutation MoveExpensesMutation($destinationAccount: AccountReferenceInput!, $expenses: [ExpenseReferenceInput!]!) {\n    moveExpenses(destinationAccount: $destinationAccount, expenses: $expenses) {\n      id\n    }\n  }\n"])));
function MoveExpenses() {
  var intl = (0,useIntl/* default */.Z)();

  var _useToasts = (0,ToastProvider/* useToasts */.e1)(),
      addToast = _useToasts.addToast;

  var _useMutation = (0,client.useMutation)(moveExpensesMutation, {
    context: helpers/* API_V2_CONTEXT */.T
  }),
      _useMutation2 = slicedToArray_default()(_useMutation, 1),
      submitMoveExpenses = _useMutation2[0];

  var _React$useState = react.useState(null),
      _React$useState2 = slicedToArray_default()(_React$useState, 2),
      sourceAccount = _React$useState2[0],
      setSourceAccount = _React$useState2[1];

  var _React$useState3 = react.useState(null),
      _React$useState4 = slicedToArray_default()(_React$useState3, 2),
      destinationAccount = _React$useState4[0],
      setDestinationAccount = _React$useState4[1];

  var _React$useState5 = react.useState([]),
      _React$useState6 = slicedToArray_default()(_React$useState5, 2),
      selectedExpenses = _React$useState6[0],
      setSelectedExpenses = _React$useState6[1];

  var _React$useState7 = react.useState(false),
      _React$useState8 = slicedToArray_default()(_React$useState7, 2),
      isConfirmationModelOpen = _React$useState8[0],
      setIsConfirmationModelOpen = _React$useState8[1];

  var allowedAccountTypes = Object.values(omit_default()(collectives/* CollectiveType */.eV, [collectives/* CollectiveType.USER */.eV.USER, collectives/* CollectiveType.INDIVIDUAL */.eV.INDIVIDUAL]));
  var callToAction = "Move ".concat(selectedExpenses.length, " expenses");
  var moveExpenses = react.useCallback( /*#__PURE__*/asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee() {
    var selectedExpensesInput, mutationVariables;
    return regenerator_default().wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.prev = 0;
            selectedExpensesInput = selectedExpenses.map(function (_ref2) {
              var value = _ref2.value;
              return {
                id: value.id
              };
            });
            mutationVariables = {
              expenses: selectedExpensesInput,
              destinationAccount: {
                legacyId: destinationAccount.id
              }
            };
            _context.next = 5;
            return submitMoveExpenses({
              variables: mutationVariables
            });

          case 5:
            addToast({
              type: ToastProvider/* TOAST_TYPE.SUCCESS */["do"].SUCCESS,
              title: 'Expenses moved successfully',
              message: callToAction
            }); // Reset form and purge cache

            setIsConfirmationModelOpen(false);
            setSourceAccount(null);
            setDestinationAccount(null);
            setSelectedExpenses([]);
            _context.next = 15;
            break;

          case 12:
            _context.prev = 12;
            _context.t0 = _context["catch"](0);
            addToast({
              type: ToastProvider/* TOAST_TYPE.ERROR */["do"].ERROR,
              message: (0,errors/* i18nGraphqlException */.t2)(intl, _context.t0)
            });

          case 15:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[0, 12]]);
  })), [selectedExpenses, destinationAccount, callToAction]);
  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(StyledInputField/* default */.Z, {
      htmlFor: "sourceAccount",
      label: "Source account for the expenses",
      flex: "1 1",
      children: function children(_ref3) {
        var id = _ref3.id;
        return /*#__PURE__*/(0,jsx_runtime.jsx)(CollectivePickerAsync/* default */.Z, {
          types: allowedAccountTypes,
          inputId: id,
          collective: sourceAccount,
          isClearable: true,
          onChange: function onChange(option) {
            setSourceAccount((option === null || option === void 0 ? void 0 : option.value) || null);
          }
        });
      }
    }), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledInputField/* default */.Z, {
      htmlFor: "selectedExpenses",
      label: "Select expenses",
      flex: "1 1",
      mt: 3,
      children: function children(_ref4) {
        var id = _ref4.id;
        return /*#__PURE__*/(0,jsx_runtime.jsx)(components_ExpensesPickerAsync, {
          value: selectedExpenses,
          inputId: id,
          onChange: function onChange(options) {
            return setSelectedExpenses(options);
          },
          disabled: !sourceAccount,
          closeMenuOnSelect: false,
          account: sourceAccount,
          noCache: true,
          isMulti: true,
          isClearable: true
        });
      }
    }), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledInputField/* default */.Z, {
      htmlFor: "destinationAccount",
      label: "Account that will receive the expenses",
      flex: "1 1",
      mt: 3,
      children: function children(_ref5) {
        var id = _ref5.id;
        return /*#__PURE__*/(0,jsx_runtime.jsx)(CollectivePickerAsync/* default */.Z, {
          types: allowedAccountTypes,
          inputId: id,
          disabled: selectedExpenses.length === 0,
          collective: destinationAccount,
          isClearable: true,
          onChange: function onChange(option) {
            setDestinationAccount((option === null || option === void 0 ? void 0 : option.value) || null);
          }
        });
      }
    }), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledButton/* default */.Z, {
      mt: 4,
      width: "100%",
      buttonStyle: "primary",
      disabled: !selectedExpenses.length === 0 || !destinationAccount,
      onClick: function onClick() {
        return setIsConfirmationModelOpen(true);
      },
      children: callToAction
    }), isConfirmationModelOpen && /*#__PURE__*/(0,jsx_runtime.jsxs)(ConfirmationModal/* default */.Z, {
      header: callToAction,
      continueHandler: moveExpenses,
      onClose: function onClose() {
        return setIsConfirmationModelOpen(false);
      },
      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(Text.P, {
        children: ["You're about to move ", selectedExpenses.length, " expenses to", ' ', /*#__PURE__*/(0,jsx_runtime.jsx)(StyledLink/* default */.Z, {
          as: Link/* default */.Z,
          href: "/".concat(destinationAccount.slug),
          openInNewTab: true,
          children: destinationAccount.name
        }), "."]
      }), /*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
        maxHeight: 300,
        overflowY: "auto",
        border: "1px solid lightgrey",
        borderRadius: "8px",
        mt: 3,
        children: selectedExpenses.map(function (_ref6, index) {
          var expense = _ref6.value;
          return /*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
            title: expense.description,
            borderTop: !index ? undefined : '1px solid lightgrey',
            p: 2,
            children: /*#__PURE__*/(0,jsx_runtime.jsx)(LinkExpense/* default */.Z, {
              openInNewTab: true,
              collective: expense.account,
              expense: expense,
              children: /*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Flex */.kC, {
                alignItems: "center",
                children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(StyledTag/* default */.Z, {
                  ml: 2,
                  fontSize: "11px",
                  children: ["#", expense.legacyId]
                }), /*#__PURE__*/(0,jsx_runtime.jsxs)(Text/* Span */.Dr, {
                  fontSize: "12px",
                  ml: 2,
                  children: [/*#__PURE__*/(0,jsx_runtime.jsx)(react_intl_lib.FormattedDate, {
                    value: expense.createdAt
                  }), " - ", expense.description]
                })]
              })
            })
          }, expense.id);
        })
      })]
    })]
  });
}
MoveExpenses.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "MoveExpenses"
};
;// CONCATENATED MODULE: ./components/OrdersPickerAsync.js





var OrdersPickerAsync_excluded = ["inputId", "noCache", "account", "filter", "includeIncognito"];

var OrdersPickerAsync_templateObject;

function OrdersPickerAsync_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function OrdersPickerAsync_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? OrdersPickerAsync_ownKeys(Object(source), !0).forEach(function (key) { defineProperty_default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : OrdersPickerAsync_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }












var ordersSearchQuery = (0,lib/* default */.ZP)(OrdersPickerAsync_templateObject || (OrdersPickerAsync_templateObject = taggedTemplateLiteral_default()(["\n  query OrdersPickerSearchQuery(\n    $account: AccountReferenceInput\n    $includeIncognito: Boolean\n    $filter: AccountOrdersFilter\n    $searchTerm: String\n  ) {\n    orders(\n      account: $account\n      filter: $filter\n      limit: 100\n      includeIncognito: $includeIncognito\n      searchTerm: $searchTerm\n    ) {\n      nodes {\n        id\n        legacyId\n        description\n        createdAt\n        amount {\n          valueInCents\n          currency\n        }\n        fromAccount {\n          id\n          name\n          slug\n          isIncognito\n          imageUrl(height: 48)\n        }\n        toAccount {\n          id\n          slug\n          name\n        }\n        tier {\n          id\n          legacyId\n          slug\n          name\n        }\n      }\n    }\n  }\n"])));

var getOptionsFromOrders = function getOptionsFromOrders(orders) {
  if (!(orders !== null && orders !== void 0 && orders.length)) {
    return [];
  } else {
    return orders.map(function (order) {
      return {
        value: order,
        label: "#".concat(order.legacyId, " - ").concat(order.description)
      };
    });
  }
};
/** Throttle search function to limit invocations while typing */


var OrdersPickerAsync_throttledSearch = debounce_default()(function (searchFunc, variables) {
  return searchFunc({
    variables: variables
  });
}, 750);

var OrdersPickerAsync_getAccountInput = function getAccountInput(account) {
  if (!account) {
    return null;
  } else if (typeof account.id === 'string') {
    return {
      id: account.id
    };
  } else if (typeof account.id === 'number') {
    return {
      legacyId: account.id
    };
  } else if (typeof account.legacyId === 'number') {
    return {
      legacyId: account.legacyId
    };
  } else {
    return {
      slug: account.slug
    };
  }
};

var OrdersPickerAsync_formatOptionLabel = function formatOptionLabel(option) {
  return /*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Flex */.kC, {
    alignItems: "center",
    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Avatar/* default */.ZP, {
      collective: option.value.fromAccount,
      size: 24
    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(StyledTag/* default */.Z, {
      ml: 2,
      fontSize: "11px",
      children: ["#", option.value.legacyId]
    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(Text/* Span */.Dr, {
      fontSize: "12px",
      ml: 2,
      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(react_intl_lib.FormattedDate, {
        value: option.value.createdAt
      }), " - ", option.value.description]
    })]
  });
};
/**
 * A specialization of `CollectivePicker` that fetches the data based on user search.
 */


var OrdersPickerAsync = function OrdersPickerAsync(_ref) {
  var _data$orders2;

  var inputId = _ref.inputId,
      noCache = _ref.noCache,
      account = _ref.account,
      filter = _ref.filter,
      includeIncognito = _ref.includeIncognito,
      props = objectWithoutProperties_default()(_ref, OrdersPickerAsync_excluded);

  var fetchPolicy = noCache ? 'network-only' : undefined;
  var variables = {
    includeIncognito: includeIncognito,
    filter: filter,
    account: OrdersPickerAsync_getAccountInput(account)
  };
  var queryParameters = {
    fetchPolicy: fetchPolicy,
    variables: variables,
    context: helpers/* API_V2_CONTEXT */.T
  };

  var _useLazyQuery = (0,client.useLazyQuery)(ordersSearchQuery, queryParameters),
      _useLazyQuery2 = slicedToArray_default()(_useLazyQuery, 2),
      searchOrders = _useLazyQuery2[0],
      _useLazyQuery2$ = _useLazyQuery2[1],
      loading = _useLazyQuery2$.loading,
      data = _useLazyQuery2$.data;

  var _React$useState = react.useState(''),
      _React$useState2 = slicedToArray_default()(_React$useState, 2),
      searchTerm = _React$useState2[0],
      setSearchTerm = _React$useState2[1];

  var options = react.useMemo(function () {
    var _data$orders;

    return getOptionsFromOrders(data === null || data === void 0 ? void 0 : (_data$orders = data.orders) === null || _data$orders === void 0 ? void 0 : _data$orders.nodes);
  }, [data === null || data === void 0 ? void 0 : (_data$orders2 = data.orders) === null || _data$orders2 === void 0 ? void 0 : _data$orders2.nodes]); // If preload is true, trigger a first query on mount or when one of the query param changes

  react.useEffect(function () {
    if (account) {
      OrdersPickerAsync_throttledSearch(searchOrders, {
        searchTerm: searchTerm
      });
    }
  }, [account, searchTerm]);
  return /*#__PURE__*/(0,jsx_runtime.jsx)(StyledSelect/* default */.ZP, OrdersPickerAsync_objectSpread({
    inputId: inputId,
    isLoading: loading,
    useSearchIcon: true,
    options: options,
    filterOption: function filterOption() {
      return true;
    }
    /** Filtering is done by the API */
    ,
    onInputChange: function onInputChange(newTerm) {
      return setSearchTerm(newTerm.trim());
    },
    formatOptionLabel: OrdersPickerAsync_formatOptionLabel
  }, props));
};

OrdersPickerAsync.defaultProps = {};
OrdersPickerAsync.__docgenInfo = {
  "description": "A specialization of `CollectivePicker` that fetches the data based on user search.",
  "methods": [],
  "displayName": "OrdersPickerAsync",
  "props": {
    "inputId": {
      "description": "The id of the search input",
      "type": {
        "name": "string"
      },
      "required": true
    },
    "limit": {
      "description": "Max number of collectives displayed at the same time",
      "type": {
        "name": "number"
      },
      "required": false
    },
    "hostCollectiveIds": {
      "description": "If set, only the collectives under this host will be retrieved",
      "type": {
        "name": "arrayOf",
        "value": {
          "name": "number"
        }
      },
      "required": false
    },
    "preload": {
      "description": "If true, a query will be triggered even if search is empty",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "noCache": {
      "description": "If true, results won't be cached (Apollo \"network-only\" mode)",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "includeIncognito": {
      "description": "",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "filter": {
      "description": "",
      "type": {
        "name": "enum",
        "value": [{
          "value": "'OUTGOING'",
          "computed": false
        }, {
          "value": "'INCOMING'",
          "computed": false
        }]
      },
      "required": false
    },
    "account": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": false
    }
  }
};
/* harmony default export */ var components_OrdersPickerAsync = (OrdersPickerAsync);
;// CONCATENATED MODULE: ./components/root-actions/MoveReceivedContributions.js




var MoveReceivedContributions_templateObject, MoveReceivedContributions_templateObject2;
























var MoveReceivedContributions_moveOrdersMutation = (0,lib/* default */.ZP)(MoveReceivedContributions_templateObject || (MoveReceivedContributions_templateObject = taggedTemplateLiteral_default()(["\n  mutation MoveOrdersMutation($orders: [OrderReferenceInput!]!, $tier: TierReferenceInput) {\n    moveOrders(orders: $orders, tier: $tier) {\n      id\n      legacyId\n      description\n      createdAt\n      amount {\n        valueInCents\n        currency\n      }\n      tier {\n        id\n        legacyId\n      }\n      fromAccount {\n        id\n        name\n        slug\n        isIncognito\n        imageUrl(height: 48)\n      }\n      toAccount {\n        id\n        slug\n        name\n      }\n    }\n  }\n"])));
var accountTiersQuery = (0,lib/* default */.ZP)(MoveReceivedContributions_templateObject2 || (MoveReceivedContributions_templateObject2 = taggedTemplateLiteral_default()(["\n  query MoveContributionsTiersQuery($accountSlug: String!) {\n    account(slug: $accountSlug) {\n      id\n      settings\n      ... on AccountWithContributions {\n        tiers {\n          nodes {\n            id\n            legacyId\n            slug\n            name\n          }\n        }\n      }\n    }\n  }\n"])));

var MoveReceivedContributions_getCallToAction = function getCallToAction(selectedOrdersOptions, newTier) {
  var base = "Move ".concat(selectedOrdersOptions.length, " contributions");

  if (newTier === 'custom') {
    return "".concat(base, " to the \"custom contribution\" tier");
  } else {
    return !newTier ? base : "".concat(base, " to \"").concat(newTier.name, "\" (#").concat(newTier.legacyId, ")");
  }
};

var getTierOption = function getTierOption(tier) {
  return {
    value: tier,
    label: "#".concat(tier.legacyId, " - ").concat(tier.name)
  };
};

var getTiersOptions = function getTiersOptions(tiers, accountSettings) {
  if (!tiers) {
    return [];
  }

  var tiersOptions = tiers.map(getTierOption);

  if (!(accountSettings !== null && accountSettings !== void 0 && accountSettings.disableCustomContributions)) {
    tiersOptions.unshift({
      value: 'custom',
      label: 'Custom contribution'
    });
  }

  return tiersOptions;
};

var MoveReceivedContributions = function MoveReceivedContributions() {
  var _tiersData$account$ti;

  // Local state and hooks
  var intl = (0,useIntl/* default */.Z)();

  var _useToasts = (0,ToastProvider/* useToasts */.e1)(),
      addToast = _useToasts.addToast;

  var _React$useState = react.useState(null),
      _React$useState2 = slicedToArray_default()(_React$useState, 2),
      receiverAccount = _React$useState2[0],
      setReceiverAccount = _React$useState2[1];

  var _React$useState3 = react.useState(false),
      _React$useState4 = slicedToArray_default()(_React$useState3, 2),
      hasConfirmationModal = _React$useState4[0],
      setHasConfirmationModal = _React$useState4[1];

  var _React$useState5 = react.useState([]),
      _React$useState6 = slicedToArray_default()(_React$useState5, 2),
      selectedOrdersOptions = _React$useState6[0],
      setSelectedOrderOptions = _React$useState6[1];

  var _React$useState7 = react.useState(false),
      _React$useState8 = slicedToArray_default()(_React$useState7, 2),
      newTier = _React$useState8[0],
      setNewTier = _React$useState8[1];

  var isValid = Boolean(receiverAccount && selectedOrdersOptions.length && newTier);
  var callToAction = MoveReceivedContributions_getCallToAction(selectedOrdersOptions, newTier); // Fetch tiers

  var tiersQueryVariables = {
    accountSlug: receiverAccount === null || receiverAccount === void 0 ? void 0 : receiverAccount.slug
  };
  var tiersQueryOptions = {
    skip: !receiverAccount,
    variables: tiersQueryVariables,
    context: helpers/* API_V2_CONTEXT */.T
  };

  var _useQuery = (0,client.useQuery)(accountTiersQuery, tiersQueryOptions),
      tiersData = _useQuery.data,
      tiersLoading = _useQuery.loading;

  var tiersNodes = tiersData === null || tiersData === void 0 ? void 0 : (_tiersData$account$ti = tiersData.account.tiers) === null || _tiersData$account$ti === void 0 ? void 0 : _tiersData$account$ti.nodes;
  var accountSettings = tiersData === null || tiersData === void 0 ? void 0 : tiersData.account.settings;
  var tiersOptions = react.useMemo(function () {
    return getTiersOptions(tiersNodes, accountSettings);
  }, [tiersNodes, accountSettings]); // Move contributions mutation

  var mutationOptions = {
    context: helpers/* API_V2_CONTEXT */.T
  };

  var _useMutation = (0,client.useMutation)(MoveReceivedContributions_moveOrdersMutation, mutationOptions),
      _useMutation2 = slicedToArray_default()(_useMutation, 1),
      submitMoveContributions = _useMutation2[0];

  var moveContributions = /*#__PURE__*/function () {
    var _ref = asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee() {
      var ordersInputs, mutationVariables;
      return regenerator_default().wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.prev = 0;
              // Prepare variables
              ordersInputs = selectedOrdersOptions.map(function (_ref2) {
                var value = _ref2.value;
                return {
                  id: value.id
                };
              });
              mutationVariables = {
                orders: ordersInputs,
                tier: newTier === 'custom' ? {
                  isCustom: true
                } : {
                  id: newTier.id
                }
              }; // Submit

              _context.next = 5;
              return submitMoveContributions({
                variables: mutationVariables
              });

            case 5:
              addToast({
                type: ToastProvider/* TOAST_TYPE.SUCCESS */["do"].SUCCESS,
                title: 'Contributions moved successfully',
                message: callToAction
              }); // Reset form and purge cache

              setHasConfirmationModal(false);
              setReceiverAccount(null);
              setNewTier(null);
              setSelectedOrderOptions([]);
              _context.next = 15;
              break;

            case 12:
              _context.prev = 12;
              _context.t0 = _context["catch"](0);
              addToast({
                type: ToastProvider/* TOAST_TYPE.ERROR */["do"].ERROR,
                message: (0,errors/* i18nGraphqlException */.t2)(intl, _context.t0)
              });

            case 15:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[0, 12]]);
    }));

    return function moveContributions() {
      return _ref.apply(this, arguments);
    };
  }();

  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(StyledInputField/* default */.Z, {
      htmlFor: "receiverAccount",
      label: "Account that received the contributions",
      flex: "1 1",
      children: function children(_ref3) {
        var id = _ref3.id;
        return /*#__PURE__*/(0,jsx_runtime.jsx)(CollectivePickerAsync/* default */.Z, {
          inputId: id,
          collective: receiverAccount,
          isClearable: true,
          onChange: function onChange(option) {
            setReceiverAccount((option === null || option === void 0 ? void 0 : option.value) || null);
            setSelectedOrderOptions([]);
            setNewTier(null);
          }
        });
      }
    }), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledInputField/* default */.Z, {
      htmlFor: "contributions",
      label: "Select contributions",
      flex: "1 1",
      mt: 3,
      children: function children(_ref4) {
        var id = _ref4.id;
        return /*#__PURE__*/(0,jsx_runtime.jsx)(components_OrdersPickerAsync, {
          value: selectedOrdersOptions,
          inputId: id,
          onChange: function onChange(options) {
            return setSelectedOrderOptions(options);
          },
          disabled: !receiverAccount,
          closeMenuOnSelect: false,
          account: receiverAccount,
          filter: "INCOMING",
          includeIncognito: true,
          isMulti: true,
          isClearable: true
        });
      }
    }), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledInputField/* default */.Z, {
      htmlFor: "tier",
      label: "Select destination tier",
      flex: "1 1",
      mt: 3,
      children: function children(_ref5) {
        var id = _ref5.id;
        return /*#__PURE__*/(0,jsx_runtime.jsx)(StyledSelect/* default */.ZP, {
          inputId: id,
          disabled: !tiersData,
          isLoading: tiersLoading,
          onChange: function onChange(_ref6) {
            var value = _ref6.value;
            return setNewTier(value);
          },
          options: tiersOptions,
          value: !newTier ? null : getTierOption(newTier)
        });
      }
    }), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledButton/* default */.Z, {
      mt: 4,
      width: "100%",
      buttonStyle: "primary",
      disabled: !isValid,
      onClick: function onClick() {
        return setHasConfirmationModal(true);
      },
      children: callToAction
    }), hasConfirmationModal && /*#__PURE__*/(0,jsx_runtime.jsxs)(ConfirmationModal/* default */.Z, {
      header: callToAction,
      continueHandler: moveContributions,
      onClose: function onClose() {
        return setHasConfirmationModal(false);
      },
      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(Text.P, {
        children: ["You're about to move ", selectedOrdersOptions.length, " orders to", ' ', newTier === 'custom' ? 'the custom contribution tier' : /*#__PURE__*/(0,jsx_runtime.jsxs)(StyledLink/* default */.Z, {
          as: Link/* default */.Z,
          href: "/".concat(receiverAccount.slug, "/contribute/").concat(newTier.slug, "-").concat(newTier.legacyId),
          openInNewTab: true,
          children: [newTier.name, " (#", newTier.legacyId, ")"]
        }), "."]
      }), /*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
        maxHeight: 300,
        overflowY: "auto",
        border: "1px solid lightgrey",
        borderRadius: "8px",
        mt: 3,
        children: selectedOrdersOptions.map(function (_ref7, index) {
          var order = _ref7.value;
          return /*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
            title: order.description,
            borderTop: !index ? undefined : '1px solid lightgrey',
            p: 2,
            children: /*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Flex */.kC, {
              alignItems: "center",
              title: order.description,
              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Avatar/* default */.ZP, {
                collective: order.receiverAccount,
                size: 24
              }), /*#__PURE__*/(0,jsx_runtime.jsxs)(StyledTag/* default */.Z, {
                fontSize: "10px",
                mx: 2,
                minWidth: 75,
                children: ["#", order.legacyId]
              }), /*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Flex */.kC, {
                flexDirection: "column",
                children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(Text/* Span */.Dr, {
                  fontSize: "13px",
                  children: [intl.formatDate(order.createdAt), ' - ', (0,currency_utils/* formatCurrency */.xG)(order.amount.valueInCents, order.amount.currency, {
                    locale: intl.locale
                  }), ' ', "contribution to @", order.toAccount.slug]
                }), /*#__PURE__*/(0,jsx_runtime.jsxs)(Text/* Span */.Dr, {
                  fontSize: "13px",
                  children: ["Current tier:", ' ', order.tier ? /*#__PURE__*/(0,jsx_runtime.jsx)(StyledLink/* default */.Z, {
                    as: Link/* default */.Z,
                    href: "/".concat(order.toAccount.slug, "/contribute/").concat(order.tier.slug, "-").concat(order.tier.legacyId),
                    openInNewTab: true,
                    children: order.tier.name
                  }) : 'Custom contribution']
                })]
              })]
            })
          }, order.id);
        })
      })]
    })]
  });
};

MoveReceivedContributions.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "MoveReceivedContributions"
};
/* harmony default export */ var root_actions_MoveReceivedContributions = (MoveReceivedContributions);
// EXTERNAL MODULE: ./components/admin-panel/sections/ActivityLog/index.js + 8 modules
var ActivityLog = __webpack_require__(65777);
;// CONCATENATED MODULE: ./components/root-actions/RootActivityLog.js









var RootActivityLog = function RootActivityLog() {
  var _React$useState = react.useState(null),
      _React$useState2 = slicedToArray_default()(_React$useState, 2),
      account = _React$useState2[0],
      setAccount = _React$useState2[1];

  return /*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Box */.xu, {
    my: 4,
    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(StyledInputField/* default */.Z, {
      htmlFor: "activity-log-account",
      label: "Account",
      flex: "1 1",
      children: function children(_ref) {
        var id = _ref.id;
        return /*#__PURE__*/(0,jsx_runtime.jsx)(CollectivePickerAsync/* default */.Z, {
          inputId: id,
          onChange: function onChange(_ref2) {
            var value = _ref2.value;
            return setAccount(value);
          },
          collective: account
        });
      }
    }), account && /*#__PURE__*/(0,jsx_runtime.jsx)(ActivityLog/* default */.Z, {
      accountSlug: account.slug
    })]
  });
};

RootActivityLog.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "RootActivityLog"
};
/* harmony default export */ var root_actions_RootActivityLog = (RootActivityLog);
;// CONCATENATED MODULE: ./components/root-actions/UnhostAccountForm.js




var UnhostAccountForm_templateObject, UnhostAccountForm_templateObject2;













var collectivePickerSearchQuery = (0,helpers/* gqlV1 */.N)
/* GraphQL */
(UnhostAccountForm_templateObject || (UnhostAccountForm_templateObject = taggedTemplateLiteral_default()(["\n  query UnhostAccountSearchQuery($term: String!, $types: [TypeOfCollective], $limit: Int, $hostCollectiveIds: [Int]) {\n    search(term: $term, types: $types, limit: $limit, hostCollectiveIds: $hostCollectiveIds) {\n      id\n      collectives {\n        id\n        type\n        slug\n        name\n        imageUrl(height: 64)\n        isActive\n        host {\n          id\n          slug\n          name\n        }\n      }\n    }\n  }\n"])));
var unhostAccountMutation = (0,lib/* default */.ZP)(UnhostAccountForm_templateObject2 || (UnhostAccountForm_templateObject2 = taggedTemplateLiteral_default()(["\n  mutation UnhostAccount($account: AccountReferenceInput!) {\n    removeHost(account: $account) {\n      id\n      slug\n      name\n      ... on AccountWithHost {\n        host {\n          id\n        }\n      }\n    }\n  }\n"])));

var UnhostAccountForm = function UnhostAccountForm() {
  var _React$useState = react.useState(null),
      _React$useState2 = slicedToArray_default()(_React$useState, 2),
      account = _React$useState2[0],
      setAccount = _React$useState2[1];

  var _useMutation = (0,client.useMutation)(unhostAccountMutation, {
    context: helpers/* API_V2_CONTEXT */.T
  }),
      _useMutation2 = slicedToArray_default()(_useMutation, 2),
      unhostAccount = _useMutation2[0],
      loading = _useMutation2[1].loading;

  var _useToasts = (0,ToastProvider/* useToasts */.e1)(),
      addToast = _useToasts.addToast;

  var intl = (0,useIntl/* default */.Z)();
  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(StyledInputField/* default */.Z, {
      htmlFor: "clear-cache-account",
      label: "Account to unhost",
      flex: "1 1",
      children: function children(_ref) {
        var id = _ref.id;
        return /*#__PURE__*/(0,jsx_runtime.jsx)(CollectivePickerAsync/* default */.Z, {
          inputId: id,
          onChange: function onChange(_ref2) {
            var value = _ref2.value;
            return setAccount(value);
          },
          types: ['COLLECTIVE', 'FUND'],
          searchQuery: collectivePickerSearchQuery,
          filterResults: function filterResults(collectives) {
            return collectives.filter(function (c) {
              return Boolean(c.host);
            });
          },
          collective: account,
          noCache: true
        });
      }
    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(StyledButton/* default */.Z, {
      mt: 4,
      width: "100%",
      buttonStyle: "primary",
      disabled: !account,
      loading: loading,
      onClick: /*#__PURE__*/asyncToGenerator_default()( /*#__PURE__*/regenerator_default().mark(function _callee() {
        var result, resultAccount;
        return regenerator_default().wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                if (account.host) {
                  _context.next = 5;
                  break;
                }

                addToast({
                  type: ToastProvider/* TOAST_TYPE.ERROR */["do"].ERROR,
                  message: 'This account has no host'
                });
                return _context.abrupt("return");

              case 5:
                if (confirm("You're about to unhost ".concat(account.name, " (@").concat(account.slug, ") from ").concat(account.host.name, " (@").concat(account.host.slug, "). Are you sure?"))) {
                  _context.next = 7;
                  break;
                }

                return _context.abrupt("return");

              case 7:
                _context.prev = 7;
                _context.next = 10;
                return unhostAccount({
                  variables: {
                    account: {
                      legacyId: account.id
                    }
                  }
                });

              case 10:
                result = _context.sent;
                resultAccount = result.data.removeHost;
                addToast({
                  type: ToastProvider/* TOAST_TYPE.SUCCESS */["do"].SUCCESS,
                  message: "".concat(resultAccount.name, " (@").concat(resultAccount.slug, ") has been unhosted")
                });
                setAccount(null);
                _context.next = 19;
                break;

              case 16:
                _context.prev = 16;
                _context.t0 = _context["catch"](7);
                addToast({
                  type: ToastProvider/* TOAST_TYPE.ERROR */["do"].ERROR,
                  message: (0,errors/* i18nGraphqlException */.t2)(intl, _context.t0)
                });

              case 19:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, null, [[7, 16]]);
      })),
      children: ["Unhost ", account ? "".concat(account.name, " (@").concat(account.slug, ")") : '']
    })]
  });
};

UnhostAccountForm.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "UnhostAccountForm"
};
/* harmony default export */ var root_actions_UnhostAccountForm = (UnhostAccountForm);
// EXTERNAL MODULE: ./components/StyledCard.tsx
var StyledCard = __webpack_require__(19156);
// EXTERNAL MODULE: ./components/StyledHr.tsx
var StyledHr = __webpack_require__(173);
;// CONCATENATED MODULE: ./pages/root-actions.js




























var GRID_TEMPLATE_COLUMNS = ['1fr', 'minmax(220px, 1fr) 6fr'];
var MENU = [{
  id: 'Accounts',
  type: 'category'
}, {
  id: 'Clear cache',
  title: 'Clear cache for account',
  Component: root_actions_ClearCacheForAccountForm
}, {
  id: 'Connect accounts',
  Component: root_actions_ConnectAccountsForm
}, {
  id: 'Merge accounts',
  isDangerous: true,
  Component: root_actions_MergeAccountsForm,
  description: "Before merging user accounts, you must always make sure that the person who requested it own both emails. Merging means payment methods are merged too, so if we just merge 2 accounts because someones ask for it without verifying we could end up in a very bad situation.\nA simple way to do that is to send a unique random code to the other account they want to claim and ask them to share this code."
}, {
  id: 'Unhost account',
  Component: root_actions_UnhostAccountForm
}, {
  id: 'Account Settings',
  Component: root_actions_AccountSettings
}, {
  id: 'Activity Log',
  Component: root_actions_RootActivityLog,
  useCard: false
}, {
  id: 'Contributions & Expenses',
  type: 'category'
}, {
  id: 'Move authored contributions',
  Component: root_actions_MoveAuthoredContributions,
  description: "This tool is meant to edit the account that authored one or more contributions.\n    It can be used to mark contributions as \"Incognito\" by picking the contributor's incognito profile in \"Move to\".\n    The payment methods used for the contributions are re-affected to the new profile, so make sure they have the permission to use them."
}, {
  id: 'Move received contributions',
  Component: root_actions_MoveReceivedContributions,
  description: "This tool is meant to edit the account that received a contribution.\n    Use it to move contributions to different tiers, sub-projects, events, etc."
}, {
  id: 'Move expenses',
  Component: MoveExpenses,
  description: "This tool is meant to move expenses to another account."
}, {
  id: 'Moderation',
  type: 'category'
}, {
  id: 'Ban accounts',
  Component: BanAccounts,
  isDangerous: true,
  description: 'Use this action to ban an account or a network of accounts.'
}, {
  id: 'Search & ban',
  Component: root_actions_BanAccountsWithSearch,
  isDangerous: true
}]; // Add slug for menu sections

MENU.forEach(function (menu) {
  return menu.slug = slugify_default()(menu.id, {
    lower: true
  });
});
var MenuEntry = styled_components_browser_esm/* default.div.withConfig */.ZP.div.withConfig({
  displayName: "root-actions__MenuEntry",
  componentId: "sc-197sot2-0"
})(["display:block;background:white;padding:16px;cursor:pointer;background:none;color:inherit;border:none;font:inherit;outline:inherit;width:100%;text-align:left;", " &:hover{background:#f9f9f9;}", ""], function (props) {
  return props.$isActive && (0,styled_components_browser_esm/* css */.iv)(["font-weight:800;background:#f5faff;"]);
}, function (props) {
  return props.$type === 'category' && (0,styled_components_browser_esm/* css */.iv)(["cursor:default;background:#f9f9f9;border-bottom:1px solid #eaeaea;box-shadow:0px -3px 6px #eaeaea;"]);
});

var RootActionsPage = function RootActionsPage() {
  var router = (0,next_router.useRouter)();
  var selectedMenuEntry = MENU.find(function (m) {
    return m.slug === router.query.section;
  }) || MENU[1];
  var showHiddenActions = Boolean(router.query.showHiddenActions);
  return /*#__PURE__*/(0,jsx_runtime.jsxs)(AuthenticatedPage/* default */.Z, {
    disableSignup: true,
    rootOnly: true,
    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
      maxWidth: "1000px",
      m: "0 auto",
      mt: 4,
      borderBottom: "1px solid #e5e5e5",
      children: /*#__PURE__*/(0,jsx_runtime.jsx)(Text.H1, {
        textAlign: "left",
        fontSize: "32px",
        py: 2,
        pl: 2,
        children: "Root actions"
      })
    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Grid */.rj, {
      gridTemplateColumns: GRID_TEMPLATE_COLUMNS,
      maxWidth: "1000px",
      m: "0 auto",
      mb: 5,
      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Container/* default */.Z, {
        borderRight: "1px solid #e5e5e5",
        children: MENU.filter(function (e) {
          return showHiddenActions || !e.isHidden;
        }).map(function (menuEntry) {
          return menuEntry.type === 'category' ? /*#__PURE__*/(0,jsx_runtime.jsx)(MenuEntry, {
            title: menuEntry.title || menuEntry.id,
            $type: "category",
            children: menuEntry.id
          }, menuEntry.id) : /*#__PURE__*/(0,jsx_runtime.jsx)(MenuEntry, {
            as: Link/* default */.Z,
            href: "/opencollective/root-actions/".concat(menuEntry.slug),
            shallow: true,
            title: menuEntry.title || menuEntry.id,
            $isActive: selectedMenuEntry.id === menuEntry.id,
            $type: menuEntry.type,
            children: menuEntry.id
          }, menuEntry.id);
        })
      }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {
        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Text.H3, {
          lineHeight: "30px",
          fontSize: "24px",
          backgroundColor: "black.50",
          color: "black.800",
          p: 3,
          children: selectedMenuEntry.title || selectedMenuEntry.id
        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(Grid/* Box */.xu, {
          px: [2, 3, 4],
          children: [selectedMenuEntry.isDangerous && /*#__PURE__*/(0,jsx_runtime.jsxs)(Container/* default */.Z, {
            textAlign: "center",
            my: 4,
            children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(_StyledH, {
              fontSize: "30px",
              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(ExclamationTriangle_esm/* ExclamationTriangle */.S, {
                color: "red",
                size: 30
              }), /*#__PURE__*/(0,jsx_runtime.jsx)(_StyledSpan, {
                ml: 3,
                children: "DANGEROUS ACTION"
              })]
            }), /*#__PURE__*/(0,jsx_runtime.jsx)(Text.P, {
              mt: 2,
              children: "Please be super careful with the action below, and double check everything you do."
            }), /*#__PURE__*/(0,jsx_runtime.jsx)(StyledHr/* default */.Z, {
              width: "100%",
              mt: 4
            })]
          }), selectedMenuEntry.description && /*#__PURE__*/(0,jsx_runtime.jsx)(MessageBox/* default */.Z, {
            type: "info",
            withIcon: true,
            my: 3,
            lineHeight: "20px",
            whiteSpace: "pre-wrap",
            children: selectedMenuEntry.description
          }), selectedMenuEntry.useCard === false ? /*#__PURE__*/(0,jsx_runtime.jsx)(selectedMenuEntry.Component, {}) : /*#__PURE__*/(0,jsx_runtime.jsx)(StyledCard/* default */.Z, {
            p: 4,
            my: 4,
            width: "100%",
            children: /*#__PURE__*/(0,jsx_runtime.jsx)(selectedMenuEntry.Component, {})
          })]
        })]
      })]
    })]
  });
};

RootActionsPage.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "RootActionsPage"
};
/* harmony default export */ var root_actions = (RootActionsPage);

var _StyledH = (0,styled_components_browser_esm/* default */.ZP)(Text.H2).withConfig({
  displayName: "root-actions___StyledH",
  componentId: "sc-197sot2-1"
})({
  textShadow: '0px 2px 2px red'
});

var _StyledSpan = (0,styled_components_browser_esm/* default */.ZP)(Text/* Span */.Dr).withConfig({
  displayName: "root-actions___StyledSpan",
  componentId: "sc-197sot2-2"
})({
  verticalAlign: 'middle'
});

/***/ }),

/***/ 98093:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {


    (window.__NEXT_P = window.__NEXT_P || []).push([
      "/root-actions",
      function () {
        return __webpack_require__(63088);
      }
    ]);
    if(false) {}
  

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, [6567,1512,8966,8027,5126,5490,6315,146,5813,4842,4154,1012,1861,7965,1448,9711,9558,3685,9774,2888,179], function() { return __webpack_exec__(98093); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);
//# sourceMappingURL=root-actions-1ea0ad21d46a742b.js.map