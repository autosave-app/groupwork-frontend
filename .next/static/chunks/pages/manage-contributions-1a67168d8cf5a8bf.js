(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([[1701],{

/***/ 54812:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(930);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3323);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(33227);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_createClass_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(88361);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_createClass_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_createClass_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_inherits_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(85971);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_inherits_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_inherits_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(52715);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(91193);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(67294);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(44012);
/* harmony import */ var _Container__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(69078);
/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(16159);
/* harmony import */ var _Loading__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(53169);
/* harmony import */ var _MessageBox__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(86702);
/* harmony import */ var _Page__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(84842);
/* harmony import */ var _SignInOrJoinFree__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(41448);
/* harmony import */ var _UserProvider__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(51927);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(85893);







var _excluded = ["LoggedInUser", "loadingLoggedInUser"];

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_6___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_5___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }










/**
 * A wrapper around `Page` that will display a spinner while user is loading.
 * If authentication fails, users will be prompted with a form to login that will
 * redirect them to the correct page once they do.
 *
 * Unless a `noRobots={true}` is provided, pages wrapped with this helper will not be indexed
 * by default.
 *
 * ## Usage
 *
 * ```jsx
 * <AuthenticatedPage>
 *   {(LoggedInUser) => (
 *     <div>
 *       Hello {LoggedInUser.collective.name}!
 *     </div>
 *   )}
 * </AuthenticatedPage>
 * ```
 */




var AuthenticatedPage = /*#__PURE__*/function (_React$Component) {
  _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_inherits_js__WEBPACK_IMPORTED_MODULE_4___default()(AuthenticatedPage, _React$Component);

  var _super = _createSuper(AuthenticatedPage);

  function AuthenticatedPage() {
    _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2___default()(this, AuthenticatedPage);

    return _super.apply(this, arguments);
  }

  _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_createClass_js__WEBPACK_IMPORTED_MODULE_3___default()(AuthenticatedPage, [{
    key: "renderContent",
    value: function renderContent(loadingLoggedInUser, LoggedInUser) {
      if (!LoggedInUser) {
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_Container__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z, {
          display: "flex",
          justifyContent: "center",
          py: [5, null, 6],
          px: 2,
          children: loadingLoggedInUser ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_Loading__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z, {}) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(_Grid__WEBPACK_IMPORTED_MODULE_9__/* .Flex */ .kC, {
            flexDirection: "column",
            alignItems: "center",
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_MessageBox__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z, {
              type: "warning",
              mb: 4,
              maxWidth: 400,
              withIcon: true,
              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z, {
                id: "authorization.loginRequired",
                defaultMessage: [{
                  "type": 0,
                  "value": "You need to be logged in to continue."
                }]
              })
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_SignInOrJoinFree__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .ZP, {
              defaultForm: "signin",
              disableSignup: this.props.disableSignup
            })]
          })
        });
      } else if (this.props.rootOnly && !LoggedInUser.isRoot) {
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_9__/* .Flex */ .kC, {
          flexDirection: "column",
          alignItems: "center",
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_MessageBox__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z, {
            type: "warning",
            my: [5, 6, 7],
            maxWidth: 400,
            withIcon: true,
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z, {
              id: "AuthenticatedPage.RootOnly",
              defaultMessage: [{
                "type": 0,
                "value": "This page is limited to site administrators"
              }]
            })
          })
        });
      } else if (typeof this.props.children === 'function') {
        return this.props.children(LoggedInUser);
      } else {
        return this.props.children;
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          LoggedInUser = _this$props.LoggedInUser,
          loadingLoggedInUser = _this$props.loadingLoggedInUser,
          pageProps = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1___default()(_this$props, _excluded);

      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_Page__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z, _objectSpread(_objectSpread({
        noRobots: true
      }, pageProps), {}, {
        children: this.renderContent(loadingLoggedInUser, LoggedInUser)
      }));
    }
  }]);

  return AuthenticatedPage;
}(react__WEBPACK_IMPORTED_MODULE_7__.Component);

AuthenticatedPage.__docgenInfo = {
  "description": "A wrapper around `Page` that will display a spinner while user is loading.\nIf authentication fails, users will be prompted with a form to login that will\nredirect them to the correct page once they do.\n\nUnless a `noRobots={true}` is provided, pages wrapped with this helper will not be indexed\nby default.\n\n## Usage\n\n```jsx\n<AuthenticatedPage>\n  {(LoggedInUser) => (\n    <div>\n      Hello {LoggedInUser.collective.name}!\n    </div>\n  )}\n</AuthenticatedPage>\n```",
  "methods": [{
    "name": "renderContent",
    "docblock": null,
    "modifiers": [],
    "params": [{
      "name": "loadingLoggedInUser",
      "type": null
    }, {
      "name": "LoggedInUser",
      "type": null
    }],
    "returns": null
  }],
  "displayName": "AuthenticatedPage",
  "props": {
    "children": {
      "description": "A child renderer to call when user is properly authenticated",
      "type": {
        "name": "union",
        "value": [{
          "name": "func"
        }, {
          "name": "node"
        }]
      },
      "required": false
    },
    "disableSignup": {
      "description": "Whether user can signup on this page",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "rootOnly": {
      "description": "Whether this page is limited to root users",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "loadingLoggedInUser": {
      "description": "@ignore from withUser",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "LoggedInUser": {
      "description": "@ignore from withUser",
      "type": {
        "name": "object"
      },
      "required": false
    }
  }
};
/* harmony default export */ __webpack_exports__["Z"] = ((0,_UserProvider__WEBPACK_IMPORTED_MODULE_14__/* .withUser */ .ns)(AuthenticatedPage));

/***/ }),

/***/ 50559:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "n": function() { return /* binding */ getSubscriptionStartDate; }
/* harmony export */ });
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(85696);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67294);
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(27484);
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(44012);
/* harmony import */ var _lib_constants_payment_methods__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1808);
/* harmony import */ var _lib_date_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(15078);
/* harmony import */ var _components_icons_CreditCard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(47483);
/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(16159);
/* harmony import */ var _NewCreditCardForm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(86501);
/* harmony import */ var _PayWithPaypalButton__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(49160);
/* harmony import */ var _StyledButton__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(87268);
/* harmony import */ var _ToastProvider__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(31330);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(85893);












/** Return the next charge date, or `undefined` if subscription is past due */



var getSubscriptionStartDate = function getSubscriptionStartDate(order) {
  if (order.nextChargeDate && dayjs__WEBPACK_IMPORTED_MODULE_2___default()(order.nextChargeDate).isAfter(dayjs__WEBPACK_IMPORTED_MODULE_2___default()())) {
    return order.nextChargeDate;
  }
};
var STRIPE = 'stripe';

var AddPaymentMethod = function AddPaymentMethod(_ref) {
  var onStripeReady = _ref.onStripeReady,
      onPaypalSuccess = _ref.onPaypalSuccess,
      setNewPaymentMethodInfo = _ref.setNewPaymentMethodInfo,
      order = _ref.order,
      isSubmitting = _ref.isSubmitting;
  var host = order.toAccount.host;
  var hasStripe = host.supportedPaymentMethods.includes(_lib_constants_payment_methods__WEBPACK_IMPORTED_MODULE_3__/* .GQLV2_SUPPORTED_PAYMENT_METHOD_TYPES.CREDIT_CARD */ .fY.CREDIT_CARD);
  var hasPaypal = host.supportedPaymentMethods.includes(_lib_constants_payment_methods__WEBPACK_IMPORTED_MODULE_3__/* .GQLV2_SUPPORTED_PAYMENT_METHOD_TYPES.PAYPAL */ .fY.PAYPAL);
  var defaultProvider = hasStripe && !hasPaypal ? STRIPE : null;

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_1__.useState(defaultProvider),
      _React$useState2 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0___default()(_React$useState, 2),
      selectedProvider = _React$useState2[0],
      setSelectedProvider = _React$useState2[1];

  var _useToasts = (0,_ToastProvider__WEBPACK_IMPORTED_MODULE_10__/* .useToasts */ .e1)(),
      addToast = _useToasts.addToast;

  if (!selectedProvider) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(_Grid__WEBPACK_IMPORTED_MODULE_6__/* .Flex */ .kC, {
      flexDirection: "column",
      children: [hasStripe && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(_StyledButton__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z, {
        buttonSize: "small",
        "data-cy": "add-pm-select-provider-credit-card-btn",
        onClick: function onClick() {
          return setSelectedProvider(STRIPE);
        },
        mb: 2,
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_components_icons_CreditCard__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z, {
          size: 24
        }), "\xA0", /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z, {
          id: "CreditCard",
          defaultMessage: [{
            "type": 0,
            "value": "Credit Card"
          }]
        })]
      }), host.paypalClientId && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_PayWithPaypalButton__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z, {
        totalAmount: order.totalAmount.valueInCents,
        currency: order.totalAmount.currency,
        interval: (0,_lib_date_utils__WEBPACK_IMPORTED_MODULE_4__/* .getIntervalFromContributionFrequency */ .Pw)(order.frequency),
        host: host,
        collective: order.toAccount,
        tier: order.tier,
        style: {
          height: 45,
          size: 'small'
        },
        subscriptionStartDate: getSubscriptionStartDate(order),
        isSubmitting: isSubmitting,
        onError: function onError(e) {
          return addToast({
            type: _ToastProvider__WEBPACK_IMPORTED_MODULE_10__/* .TOAST_TYPE.ERROR */ ["do"].ERROR,
            title: e.message
          });
        },
        onSuccess: function onSuccess(_ref2) {
          var subscriptionId = _ref2.subscriptionId;
          onPaypalSuccess({
            service: _lib_constants_payment_methods__WEBPACK_IMPORTED_MODULE_3__/* .PAYMENT_METHOD_SERVICE.PAYPAL */ .tp.PAYPAL,
            type: _lib_constants_payment_methods__WEBPACK_IMPORTED_MODULE_3__/* .PAYMENT_METHOD_TYPE.SUBSCRIPTION */ .td.SUBSCRIPTION,
            paypalInfo: {
              subscriptionId: subscriptionId
            }
          });
        }
      })]
    });
  } else if (selectedProvider === STRIPE) {
    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_NewCreditCardForm__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z, {
      name: "newCreditCardInfo",
      profileType: 'USER',
      onChange: setNewPaymentMethodInfo,
      onReady: onStripeReady,
      hasSaveCheckBox: false,
      isCompact: true
    });
  }
};

AddPaymentMethod.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "AddPaymentMethod",
  "props": {
    "setNewPaymentMethodInfo": {
      "description": "",
      "type": {
        "name": "func"
      },
      "required": false
    },
    "onStripeReady": {
      "description": "",
      "type": {
        "name": "func"
      },
      "required": false
    },
    "onPaypalSuccess": {
      "description": "",
      "type": {
        "name": "func"
      },
      "required": false
    },
    "isSubmitting": {
      "description": "",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "order": {
      "description": "",
      "type": {
        "name": "shape",
        "value": {
          "totalAmount": {
            "name": "object",
            "required": false
          },
          "frequency": {
            "name": "string",
            "required": false
          },
          "toAccount": {
            "name": "object",
            "required": false
          },
          "tier": {
            "name": "object",
            "required": false
          }
        }
      },
      "required": false
    }
  }
};
/* harmony default export */ __webpack_exports__["Z"] = (AddPaymentMethod);

/***/ }),

/***/ 43072:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "$B": function() { return /* binding */ addCreditCardMutation; },
/* harmony export */   "SF": function() { return /* binding */ confirmCreditCardMutation; }
/* harmony export */ });
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(49376);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(85696);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(92358);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(45578);
/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_uniqBy__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_pick__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(78718);
/* harmony import */ var lodash_pick__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_pick__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(82492);
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(27361);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash_first__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(8804);
/* harmony import */ var lodash_first__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_first__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(87794);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(67294);
/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(15020);
/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(46829);
/* harmony import */ var _stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(86664);
/* harmony import */ var _stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _styled_icons_boxicons_regular_Lock__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(46957);
/* harmony import */ var _styled_system_theme_get__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(50056);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(59448);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(44012);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(86896);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(52015);
/* harmony import */ var _lib_constants_payment_methods__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(1808);
/* harmony import */ var _lib_errors__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(12136);
/* harmony import */ var _lib_graphql_helpers__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(32651);
/* harmony import */ var _lib_payment_method_label__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(51515);
/* harmony import */ var _lib_payment_method_utils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(91337);
/* harmony import */ var _lib_stripe__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(79936);
/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(16159);
/* harmony import */ var _I18nFormatters__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(88705);
/* harmony import */ var _LoadingPlaceholder__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(29242);
/* harmony import */ var _StripeProvider__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(41499);
/* harmony import */ var _StyledButton__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(87268);
/* harmony import */ var _StyledHr__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(173);
/* harmony import */ var _StyledRadioList__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(36718);
/* harmony import */ var _StyledRoundButton__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(90012);
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(90998);
/* harmony import */ var _ToastProvider__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(31330);
/* harmony import */ var _AddPaymentMethod__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(50559);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(85893);










var _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6;




























var PaymentMethodBox = (0,styled_components__WEBPACK_IMPORTED_MODULE_30__/* ["default"] */ .ZP)(_Grid__WEBPACK_IMPORTED_MODULE_18__/* .Flex */ .kC).withConfig({
  displayName: "UpdatePaymentMethodPopUp__PaymentMethodBox",
  componentId: "sc-1vnnhkx-0"
})(["border-top:1px solid ", ";"], (0,_styled_system_theme_get__WEBPACK_IMPORTED_MODULE_11__/* .themeGet */ .R)('colors.black.300'));
var messages = (0,react_intl__WEBPACK_IMPORTED_MODULE_31__.defineMessages)({
  updatePaymentMethod: {
    id: "subscription.menu.editPaymentMethod",
    defaultMessage: [{
      "type": 0,
      "value": "Update payment method"
    }]
  },
  addPaymentMethod: {
    id: "subscription.menu.addPaymentMethod",
    defaultMessage: [{
      "type": 0,
      "value": "Add new payment method"
    }]
  }
});
var paymentMethodFragment = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_32__/* ["default"] */ .ZP)(_templateObject || (_templateObject = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2___default()(["\n  fragment UpdatePaymentMethodFragment on PaymentMethod {\n    id\n    name\n    data\n    service\n    type\n    balance {\n      value\n      valueInCents\n      currency\n    }\n    account {\n      id\n    }\n  }\n"])));
var paymentMethodsQuery = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_32__/* ["default"] */ .ZP)(_templateObject2 || (_templateObject2 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2___default()(["\n  query UpdatePaymentMethodPopUpPaymentMethod($accountId: String!, $orderId: String!) {\n    account(id: $accountId) {\n      id\n      paymentMethods(type: [CREDITCARD, GIFTCARD, PREPAID, COLLECTIVE]) {\n        id\n        ...UpdatePaymentMethodFragment\n      }\n    }\n    order(order: { id: $orderId }) {\n      id\n      paymentMethod {\n        id\n        ...UpdatePaymentMethodFragment\n      }\n    }\n  }\n  ", "\n"])), paymentMethodFragment);
var updatePaymentMethodMutation = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_32__/* ["default"] */ .ZP)(_templateObject3 || (_templateObject3 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2___default()(["\n  mutation UpdatePaymentMethod(\n    $order: OrderReferenceInput!\n    $paymentMethod: PaymentMethodReferenceInput\n    $paypalSubscriptionId: String\n  ) {\n    updateOrder(order: $order, paymentMethod: $paymentMethod, paypalSubscriptionId: $paypalSubscriptionId) {\n      id\n      status\n      paymentMethod {\n        id\n        service\n        name\n        type\n        data\n        expiryDate\n        balance {\n          value\n          valueInCents\n          currency\n        }\n      }\n    }\n  }\n"])));
var paymentMethodResponseFragment = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_32__/* ["default"] */ .ZP)(_templateObject4 || (_templateObject4 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2___default()(["\n  fragment paymentMethodResponseFragment on CreditCardWithStripeError {\n    paymentMethod {\n      id\n    }\n    stripeError {\n      message\n      response\n    }\n  }\n"])));
var addCreditCardMutation = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_32__/* ["default"] */ .ZP)(_templateObject5 || (_templateObject5 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2___default()(["\n  mutation AddCreditCardRecurringContributions(\n    $creditCardInfo: CreditCardCreateInput!\n    $name: String!\n    $account: AccountReferenceInput!\n  ) {\n    addCreditCard(creditCardInfo: $creditCardInfo, name: $name, account: $account) {\n      ...paymentMethodResponseFragment\n    }\n  }\n  ", "\n"])), paymentMethodResponseFragment);
var confirmCreditCardMutation = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_32__/* ["default"] */ .ZP)(_templateObject6 || (_templateObject6 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2___default()(["\n  mutation ConfirmCreditCardRecurringContributions($paymentMethod: PaymentMethodReferenceInput!) {\n    confirmCreditCard(paymentMethod: $paymentMethod) {\n      ...paymentMethodResponseFragment\n    }\n  }\n  ", "\n"])), paymentMethodResponseFragment);
var mutationOptions = {
  context: _lib_graphql_helpers__WEBPACK_IMPORTED_MODULE_14__/* .API_V2_CONTEXT */ .T
};

var sortAndFilterPaymentMethods = function sortAndFilterPaymentMethods(paymentMethods, contribution, addedPaymentMethod, existingPaymentMethod) {
  if (!paymentMethods) {
    return null;
  }

  var minBalance = contribution.amount.valueInCents;

  var uniquePMs = lodash_uniqBy__WEBPACK_IMPORTED_MODULE_3___default()(paymentMethods, 'id');

  var getIsDisabled = function getIsDisabled(pm) {
    return pm.balance.valueInCents < minBalance;
  }; // Make sure we always include the current payment method


  if (existingPaymentMethod && !uniquePMs.some(function (pm) {
    return pm.id === existingPaymentMethod.id;
  })) {
    uniquePMs.unshift(existingPaymentMethod);
  }

  uniquePMs.sort(function (pm1, pm2) {
    // Put disabled PMs at the end
    if (getIsDisabled(pm1) && !getIsDisabled(pm2)) {
      return 1;
    } else if (getIsDisabled(pm2) && !getIsDisabled(pm1)) {
      return -1;
    } // If we've just added a PM, put it at the top of the list


    if (addedPaymentMethod) {
      if (addedPaymentMethod.id === pm1.id) {
        return -1;
      } else if (addedPaymentMethod.id === pm2.id) {
        return 1;
      }
    } // Put the PM that matches this recurring contribution just after the newly added


    if (existingPaymentMethod) {
      if (existingPaymentMethod.id === pm1.id) {
        return -1;
      } else if (existingPaymentMethod.id === pm2.id) {
        return 1;
      }
    }

    return 0;
  });
  return uniquePMs.map(function (pm) {
    var _pm$account;

    return {
      key: "pm-".concat(pm.id),
      title: (0,_lib_payment_method_label__WEBPACK_IMPORTED_MODULE_15__/* .getPaymentMethodName */ .d0)(pm),
      subtitle: (0,_lib_payment_method_utils__WEBPACK_IMPORTED_MODULE_16__/* .getPaymentMethodMetadata */ .Og)(pm),
      icon: (0,_lib_payment_method_utils__WEBPACK_IMPORTED_MODULE_16__/* .getPaymentMethodIcon */ .AM)(pm),
      paymentMethod: pm,
      disabled: getIsDisabled(pm),
      id: pm.id,
      CollectiveId: (_pm$account = pm.account) === null || _pm$account === void 0 ? void 0 : _pm$account.id
    };
  });
};

var useUpdatePaymentMethod = function useUpdatePaymentMethod(contribution) {
  var _useToasts = (0,_ToastProvider__WEBPACK_IMPORTED_MODULE_27__/* .useToasts */ .e1)(),
      addToast = _useToasts.addToast;

  var _useMutation = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_33__.useMutation)(updatePaymentMethodMutation, mutationOptions),
      _useMutation2 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1___default()(_useMutation, 2),
      submitUpdatePaymentMethod = _useMutation2[0],
      loading = _useMutation2[1].loading;

  return {
    isSubmitting: loading,
    updatePaymentMethod: function () {
      var _updatePaymentMethod = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8___default().mark(function _callee(paymentMethod) {
        var hasUpdate, variables, errorMsg;
        return _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8___default().wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                hasUpdate = !contribution.paymentMethod || paymentMethod.id !== contribution.paymentMethod.id;
                _context.prev = 1;

                if (!hasUpdate) {
                  _context.next = 7;
                  break;
                }

                variables = {
                  order: {
                    id: contribution.id
                  }
                };

                if (paymentMethod.service === _lib_constants_payment_methods__WEBPACK_IMPORTED_MODULE_12__/* .PAYMENT_METHOD_SERVICE.PAYPAL */ .tp.PAYPAL) {
                  variables.paypalSubscriptionId = paymentMethod.paypalInfo.subscriptionId;
                } else {
                  variables.paymentMethod = {
                    id: paymentMethod.value ? paymentMethod.value.id : paymentMethod.id
                  };
                }

                _context.next = 7;
                return submitUpdatePaymentMethod({
                  variables: variables
                });

              case 7:
                addToast({
                  type: _ToastProvider__WEBPACK_IMPORTED_MODULE_27__/* .TOAST_TYPE.SUCCESS */ ["do"].SUCCESS,
                  message: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_34__/* ["default"] */ .Z, {
                    id: "subscription.createSuccessUpdated",
                    defaultMessage: [{
                      "type": 0,
                      "value": "Your recurring contribution has been "
                    }, {
                      "type": 8,
                      "value": "strong",
                      "children": [{
                        "type": 0,
                        "value": "updated"
                      }]
                    }, {
                      "type": 0,
                      "value": "."
                    }],
                    values: _I18nFormatters__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .ZP
                  })
                });
                _context.next = 15;
                break;

              case 10:
                _context.prev = 10;
                _context.t0 = _context["catch"](1);
                errorMsg = (0,_lib_errors__WEBPACK_IMPORTED_MODULE_13__/* .getErrorFromGraphqlException */ .H1)(_context.t0).message;
                addToast({
                  type: _ToastProvider__WEBPACK_IMPORTED_MODULE_27__/* .TOAST_TYPE.ERROR */ ["do"].ERROR,
                  message: errorMsg
                });
                return _context.abrupt("return", false);

              case 15:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, null, [[1, 10]]);
      }));

      function updatePaymentMethod(_x) {
        return _updatePaymentMethod.apply(this, arguments);
      }

      return updatePaymentMethod;
    }()
  };
};

var UpdatePaymentMethodPopUp = function UpdatePaymentMethodPopUp(_ref) {
  var _newPaymentMethodInfo;

  var contribution = _ref.contribution,
      onCloseEdit = _ref.onCloseEdit,
      loadStripe = _ref.loadStripe,
      account = _ref.account;
  var intl = (0,react_intl__WEBPACK_IMPORTED_MODULE_35__/* ["default"] */ .Z)();

  var _useToasts2 = (0,_ToastProvider__WEBPACK_IMPORTED_MODULE_27__/* .useToasts */ .e1)(),
      addToast = _useToasts2.addToast; // state management


  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(false),
      showAddPaymentMethod = _useState[0],
      setShowAddPaymentMethod = _useState[1];

  var _useState2 = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(null),
      selectedPaymentMethod = _useState2[0],
      setSelectedPaymentMethod = _useState2[1];

  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(true),
      loadingSelectedPaymentMethod = _useState3[0],
      setLoadingSelectedPaymentMethod = _useState3[1];

  var _useState4 = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(null),
      stripe = _useState4[0],
      setStripe = _useState4[1];

  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(null),
      stripeElements = _useState5[0],
      setStripeElements = _useState5[1];

  var _useState6 = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(null),
      newPaymentMethodInfo = _useState6[0],
      setNewPaymentMethodInfo = _useState6[1];

  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(null),
      addedPaymentMethod = _useState7[0],
      setAddedPaymentMethod = _useState7[1];

  var _useState8 = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(false),
      addingPaymentMethod = _useState8[0],
      setAddingPaymentMethod = _useState8[1];

  var _useUpdatePaymentMeth = useUpdatePaymentMethod(contribution),
      isSubmitting = _useUpdatePaymentMeth.isSubmitting,
      updatePaymentMethod = _useUpdatePaymentMeth.updatePaymentMethod; // GraphQL mutations and queries


  var _useQuery = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_33__.useQuery)(paymentMethodsQuery, {
    variables: {
      accountId: account.id,
      orderId: contribution.id
    },
    context: _lib_graphql_helpers__WEBPACK_IMPORTED_MODULE_14__/* .API_V2_CONTEXT */ .T,
    fetchPolicy: 'network-only'
  }),
      data = _useQuery.data,
      refetch = _useQuery.refetch;

  var _useMutation3 = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_33__.useMutation)(addCreditCardMutation, mutationOptions),
      _useMutation4 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1___default()(_useMutation3, 1),
      submitAddPaymentMethod = _useMutation4[0];

  var _useMutation5 = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_33__.useMutation)(confirmCreditCardMutation, mutationOptions),
      _useMutation6 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1___default()(_useMutation5, 1),
      submitConfirmPaymentMethodMutation = _useMutation6[0];

  var handleAddPaymentMethodResponse = /*#__PURE__*/function () {
    var _ref2 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8___default().mark(function _callee2(response) {
      var paymentMethod, stripeError;
      return _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8___default().wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              paymentMethod = response.paymentMethod, stripeError = response.stripeError;

              if (!stripeError) {
                _context2.next = 5;
                break;
              }

              return _context2.abrupt("return", handleStripeError(paymentMethod, stripeError));

            case 5:
              return _context2.abrupt("return", handleSuccess(paymentMethod));

            case 6:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee2);
    }));

    return function handleAddPaymentMethodResponse(_x2) {
      return _ref2.apply(this, arguments);
    };
  }();

  var handleStripeError = /*#__PURE__*/function () {
    var _ref3 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8___default().mark(function _callee3(paymentMethod, stripeError) {
      var message, response, stripe, result, _response;

      return _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8___default().wrap(function _callee3$(_context3) {
        while (1) {
          switch (_context3.prev = _context3.next) {
            case 0:
              message = stripeError.message, response = stripeError.response;

              if (response) {
                _context3.next = 5;
                break;
              }

              addToast({
                type: _ToastProvider__WEBPACK_IMPORTED_MODULE_27__/* .TOAST_TYPE.ERROR */ ["do"].ERROR,
                message: message
              });
              setAddingPaymentMethod(false);
              return _context3.abrupt("return", false);

            case 5:
              _context3.next = 7;
              return (0,_lib_stripe__WEBPACK_IMPORTED_MODULE_17__/* .getStripe */ .d2)();

            case 7:
              stripe = _context3.sent;
              _context3.next = 10;
              return stripe.handleCardSetup(response.setupIntent.client_secret);

            case 10:
              result = _context3.sent;

              if (!result.error) {
                _context3.next = 17;
                break;
              }

              addToast({
                type: _ToastProvider__WEBPACK_IMPORTED_MODULE_27__/* .TOAST_TYPE.ERROR */ ["do"].ERROR,
                message: result.error.message
              });
              setAddingPaymentMethod(false);
              return _context3.abrupt("return", false);

            case 17:
              _context3.prev = 17;
              _context3.next = 20;
              return submitConfirmPaymentMethodMutation({
                variables: {
                  paymentMethod: {
                    id: paymentMethod.id
                  }
                }
              });

            case 20:
              _response = _context3.sent;
              return _context3.abrupt("return", handleSuccess(_response.data.confirmCreditCard.paymentMethod));

            case 24:
              _context3.prev = 24;
              _context3.t0 = _context3["catch"](17);
              addToast({
                type: _ToastProvider__WEBPACK_IMPORTED_MODULE_27__/* .TOAST_TYPE.ERROR */ ["do"].ERROR,
                message: _context3.t0.message
              });
              setAddingPaymentMethod(false);
              return _context3.abrupt("return", false);

            case 29:
            case "end":
              return _context3.stop();
          }
        }
      }, _callee3, null, [[17, 24]]);
    }));

    return function handleStripeError(_x3, _x4) {
      return _ref3.apply(this, arguments);
    };
  }();

  var handleSuccess = function handleSuccess(paymentMethod) {
    setAddingPaymentMethod(false);
    refetch();
    setAddedPaymentMethod(paymentMethod);
    setShowAddPaymentMethod(false);
    setLoadingSelectedPaymentMethod(true);
  }; // load stripe on mount


  (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)(function () {
    loadStripe();
  }, []); // data handling

  var paymentMethods = lodash_get__WEBPACK_IMPORTED_MODULE_6___default()(data, 'account.paymentMethods', null);

  var existingPaymentMethod = lodash_get__WEBPACK_IMPORTED_MODULE_6___default()(data, 'order.paymentMethod', null);

  var filterPaymentMethodsParams = [paymentMethods, contribution, addedPaymentMethod, existingPaymentMethod];
  var paymentOptions = react__WEBPACK_IMPORTED_MODULE_9__.useMemo(function () {
    return sortAndFilterPaymentMethods.apply(void 0, filterPaymentMethodsParams);
  }, filterPaymentMethodsParams);
  (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)(function () {
    if (!paymentOptions) {
      return;
    }

    if (selectedPaymentMethod === null && contribution.paymentMethod) {
      setSelectedPaymentMethod(lodash_first__WEBPACK_IMPORTED_MODULE_7___default()(paymentOptions.filter(function (option) {
        return option.id === contribution.paymentMethod.id;
      })));
    } else if (addedPaymentMethod) {
      setSelectedPaymentMethod(paymentOptions.find(function (option) {
        return option.id === addedPaymentMethod.id;
      }));
    }

    setLoadingSelectedPaymentMethod(false);
  }, [paymentOptions, addedPaymentMethod]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsxs)(react__WEBPACK_IMPORTED_MODULE_9__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsxs)(_Grid__WEBPACK_IMPORTED_MODULE_18__/* .Flex */ .kC, {
      width: 1,
      alignItems: "center",
      justifyContent: "center",
      minHeight: 50,
      px: 3,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_26__.P, {
        my: 2,
        fontSize: "12px",
        textTransform: "uppercase",
        color: "black.700",
        children: showAddPaymentMethod ? intl.formatMessage(messages.addPaymentMethod) : intl.formatMessage(messages.updatePaymentMethod)
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_18__/* .Flex */ .kC, {
        flexGrow: 1,
        alignItems: "center",
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_StyledHr__WEBPACK_IMPORTED_MODULE_23__/* ["default"] */ .Z, {
          width: "100%",
          mx: 2
        })
      }), showAddPaymentMethod ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_styled_icons_boxicons_regular_Lock__WEBPACK_IMPORTED_MODULE_36__/* .Lock */ .H, {
        size: 20
      }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_StyledRoundButton__WEBPACK_IMPORTED_MODULE_25__/* ["default"] */ .Z, {
        size: 24,
        onClick: function onClick() {
          return setShowAddPaymentMethod(true);
        },
        "data-cy": "recurring-contribution-add-pm-button",
        children: "+"
      })]
    }), showAddPaymentMethod ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_18__/* .Box */ .xu, {
      px: 1,
      pt: 2,
      pb: 3,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_AddPaymentMethod__WEBPACK_IMPORTED_MODULE_28__/* ["default"] */ .Z, {
        order: contribution,
        isSubmitting: isSubmitting,
        setNewPaymentMethodInfo: setNewPaymentMethodInfo,
        onStripeReady: function onStripeReady(_ref4) {
          var stripe = _ref4.stripe,
              stripeElements = _ref4.stripeElements;
          setStripe(stripe);
          setStripeElements(stripeElements);
        },
        onPaypalSuccess: /*#__PURE__*/function () {
          var _ref5 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8___default().mark(function _callee4(paypalPaymentMethod) {
            return _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8___default().wrap(function _callee4$(_context4) {
              while (1) {
                switch (_context4.prev = _context4.next) {
                  case 0:
                    _context4.next = 2;
                    return updatePaymentMethod(paypalPaymentMethod);

                  case 2:
                    onCloseEdit();

                  case 3:
                  case "end":
                    return _context4.stop();
                }
              }
            }, _callee4);
          }));

          return function (_x5) {
            return _ref5.apply(this, arguments);
          };
        }()
      })
    }) : loadingSelectedPaymentMethod ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_LoadingPlaceholder__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z, {
      height: 100
    }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_StyledRadioList__WEBPACK_IMPORTED_MODULE_24__/* ["default"] */ .ZP, {
      id: "PaymentMethod",
      name: "".concat(contribution.id, "-PaymentMethod"),
      keyGetter: "key",
      options: paymentOptions,
      onChange: setSelectedPaymentMethod,
      value: selectedPaymentMethod === null || selectedPaymentMethod === void 0 ? void 0 : selectedPaymentMethod.key,
      children: function children(_ref6) {
        var radio = _ref6.radio,
            _ref6$value = _ref6.value,
            title = _ref6$value.title,
            subtitle = _ref6$value.subtitle,
            icon = _ref6$value.icon;
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(PaymentMethodBox, {
          minHeight: 50,
          py: 2,
          bg: "white.full",
          "data-cy": "recurring-contribution-pm-box",
          px: 3,
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsxs)(_Grid__WEBPACK_IMPORTED_MODULE_18__/* .Flex */ .kC, {
            alignItems: "center",
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_18__/* .Box */ .xu, {
              as: "span",
              mr: 3,
              flexWrap: "wrap",
              children: radio
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_StyledFlex, {
              mr: 2,
              children: icon
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsxs)(_Grid__WEBPACK_IMPORTED_MODULE_18__/* .Flex */ .kC, {
              flexDirection: "column",
              width: "100%",
              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_26__.P, {
                fontSize: "12px",
                fontWeight: subtitle ? 600 : 400,
                color: "black.900",
                overflowWrap: "anywhere",
                children: title
              }), subtitle && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_Text__WEBPACK_IMPORTED_MODULE_26__.P, {
                fontSize: "12px",
                fontWeight: 400,
                lineHeight: "18px",
                color: "black.500",
                overflowWrap: "anywhere",
                children: subtitle
              })]
            })]
          })
        });
      }
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_18__/* .Flex */ .kC, {
      flexGrow: 1 / 4,
      width: 1,
      alignItems: "center",
      justifyContent: "center",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_18__/* .Flex */ .kC, {
        flexGrow: 1,
        alignItems: "center",
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_StyledHr__WEBPACK_IMPORTED_MODULE_23__/* ["default"] */ .Z, {
          width: "100%"
        })
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_18__/* .Flex */ .kC, {
      flexGrow: 1 / 4,
      width: 1,
      alignItems: "center",
      justifyContent: "center",
      minHeight: 50,
      children: showAddPaymentMethod ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsxs)(react__WEBPACK_IMPORTED_MODULE_9__.Fragment, {
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_StyledButton__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z, {
          buttonSize: "tiny",
          minWidth: 75,
          onClick: function onClick() {
            setNewPaymentMethodInfo(null);
            onCloseEdit();
          },
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_34__/* ["default"] */ .Z, {
            id: "actions.cancel",
            defaultMessage: [{
              "type": 0,
              "value": "Cancel"
            }]
          })
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_StyledButton__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z, {
          ml: 2,
          minWidth: 75,
          buttonSize: "tiny",
          buttonStyle: "secondary",
          disabled: newPaymentMethodInfo ? !((_newPaymentMethodInfo = newPaymentMethodInfo.value) !== null && _newPaymentMethodInfo !== void 0 && _newPaymentMethodInfo.complete) : true,
          type: "submit",
          loading: addingPaymentMethod,
          "data-cy": "recurring-contribution-submit-pm-button",
          onClick: /*#__PURE__*/_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8___default().mark(function _callee5() {
            var cardElement, _yield$stripe$createT, token, error, newStripePaymentMethod, newCreditCardInfo, res, errorMsg;

            return _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8___default().wrap(function _callee5$(_context5) {
              while (1) {
                switch (_context5.prev = _context5.next) {
                  case 0:
                    setAddingPaymentMethod(true);

                    if (stripe) {
                      _context5.next = 5;
                      break;
                    }

                    addToast({
                      type: _ToastProvider__WEBPACK_IMPORTED_MODULE_27__/* .TOAST_TYPE.ERROR */ ["do"].ERROR,
                      message: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_34__/* ["default"] */ .Z, {
                        id: "Stripe.Initialization.Error",
                        defaultMessage: [{
                          "type": 0,
                          "value": "There was a problem initializing the payment form. Please reload the page and try again."
                        }]
                      })
                    });
                    setAddingPaymentMethod(false);
                    return _context5.abrupt("return", false);

                  case 5:
                    cardElement = stripeElements.getElement(_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_10__.CardElement);
                    _context5.next = 8;
                    return stripe.createToken(cardElement);

                  case 8:
                    _yield$stripe$createT = _context5.sent;
                    token = _yield$stripe$createT.token;
                    error = _yield$stripe$createT.error;

                    if (!error) {
                      _context5.next = 14;
                      break;
                    }

                    addToast({
                      type: _ToastProvider__WEBPACK_IMPORTED_MODULE_27__/* .TOAST_TYPE.ERROR */ ["do"].ERROR,
                      message: error.message
                    });
                    return _context5.abrupt("return", false);

                  case 14:
                    newStripePaymentMethod = (0,_lib_stripe__WEBPACK_IMPORTED_MODULE_17__/* .stripeTokenToPaymentMethod */ .kJ)(token);
                    newCreditCardInfo = lodash_merge__WEBPACK_IMPORTED_MODULE_5___default()(newStripePaymentMethod.data, lodash_pick__WEBPACK_IMPORTED_MODULE_4___default()(newStripePaymentMethod, ['token']));
                    _context5.prev = 16;
                    _context5.next = 19;
                    return submitAddPaymentMethod({
                      variables: {
                        creditCardInfo: newCreditCardInfo,
                        name: lodash_get__WEBPACK_IMPORTED_MODULE_6___default()(newStripePaymentMethod, 'name'),
                        account: {
                          id: account.id
                        }
                      }
                    });

                  case 19:
                    res = _context5.sent;
                    return _context5.abrupt("return", handleAddPaymentMethodResponse(res.data.addCreditCard));

                  case 23:
                    _context5.prev = 23;
                    _context5.t0 = _context5["catch"](16);
                    errorMsg = (0,_lib_errors__WEBPACK_IMPORTED_MODULE_13__/* .getErrorFromGraphqlException */ .H1)(_context5.t0).message;
                    addToast({
                      type: _ToastProvider__WEBPACK_IMPORTED_MODULE_27__/* .TOAST_TYPE.ERROR */ ["do"].ERROR,
                      message: errorMsg
                    });
                    setAddingPaymentMethod(false);
                    return _context5.abrupt("return", false);

                  case 29:
                  case "end":
                    return _context5.stop();
                }
              }
            }, _callee5, null, [[16, 23]]);
          })),
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_34__/* ["default"] */ .Z, {
            id: "save",
            defaultMessage: [{
              "type": 0,
              "value": "Save"
            }]
          })
        })]
      }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsxs)(react__WEBPACK_IMPORTED_MODULE_9__.Fragment, {
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_StyledButton__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z, {
          buttonSize: "tiny",
          minWidth: 75,
          onClick: onCloseEdit,
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_34__/* ["default"] */ .Z, {
            id: "actions.cancel",
            defaultMessage: [{
              "type": 0,
              "value": "Cancel"
            }]
          })
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_StyledButton__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z, {
          ml: 2,
          minWidth: 75,
          buttonSize: "tiny",
          buttonStyle: "secondary",
          loading: isSubmitting,
          "data-cy": "recurring-contribution-update-pm-button",
          onClick: function onClick() {
            return updatePaymentMethod(selectedPaymentMethod).then(onCloseEdit);
          },
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_34__/* ["default"] */ .Z, {
            id: "actions.update",
            defaultMessage: [{
              "type": 0,
              "value": "Update"
            }]
          })
        })]
      })
    })]
  });
};

UpdatePaymentMethodPopUp.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "UpdatePaymentMethodPopUp",
  "props": {
    "data": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": false
    },
    "contribution": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": true
    },
    "onCloseEdit": {
      "description": "",
      "type": {
        "name": "func"
      },
      "required": false
    },
    "loadStripe": {
      "description": "",
      "type": {
        "name": "func"
      },
      "required": true
    },
    "account": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": true
    }
  }
};
/* harmony default export */ __webpack_exports__["ZP"] = ((0,_StripeProvider__WEBPACK_IMPORTED_MODULE_21__/* .withStripeLoader */ .kc)(UpdatePaymentMethodPopUp));

var _StyledFlex = (0,styled_components__WEBPACK_IMPORTED_MODULE_30__/* ["default"] */ .ZP)(_Grid__WEBPACK_IMPORTED_MODULE_18__/* .Flex */ .kC).withConfig({
  displayName: "UpdatePaymentMethodPopUp___StyledFlex",
  componentId: "sc-1vnnhkx-1"
})({
  flexBasis: '26px'
});

/***/ }),

/***/ 78246:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(85696);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(33227);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_createClass_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(88361);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_createClass_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_createClass_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(92191);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_inherits_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(85971);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_inherits_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_inherits_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(52715);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(91193);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(930);
/* harmony import */ var _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(45578);
/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash_uniqBy__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var lodash_orderBy__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(75472);
/* harmony import */ var lodash_orderBy__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash_orderBy__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var lodash_mapValues__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(66604);
/* harmony import */ var lodash_mapValues__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(lodash_mapValues__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(41609);
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(7739);
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(67294);
/* harmony import */ var _apollo_client_react_hoc__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(16608);
/* harmony import */ var _styled_system_css__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(37947);
/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(30845);
/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(11163);
/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(44012);
/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(74806);
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(52015);
/* harmony import */ var _lib_errors__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(12136);
/* harmony import */ var _lib_graphql_helpers__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(32651);
/* harmony import */ var _lib_i18n_collective_type__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(92476);
/* harmony import */ var _components_AuthenticatedPage__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(54812);
/* harmony import */ var _components_Avatar__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(11194);
/* harmony import */ var _components_collective_navbar__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(99656);
/* harmony import */ var _components_collective_page_constants__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(24839);
/* harmony import */ var _components_collective_page_SectionTitle__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(27132);
/* harmony import */ var _components_Container__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(69078);
/* harmony import */ var _components_ErrorPage__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(73908);
/* harmony import */ var _components_Grid__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(16159);
/* harmony import */ var _components_Link__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(92129);
/* harmony import */ var _components_Loading__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(53169);
/* harmony import */ var _components_recurring_contributions_graphql_queries__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(19471);
/* harmony import */ var _components_recurring_contributions_RecurringContributionsContainer__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(94605);
/* harmony import */ var _components_SignInOrJoinFree__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(41448);
/* harmony import */ var _components_StyledHr__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(173);
/* harmony import */ var _components_Text__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(90998);
/* harmony import */ var _components_UserProvider__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(51927);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(85893);














function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_6___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_5___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }





























var MainContainer = (0,styled_components__WEBPACK_IMPORTED_MODULE_35__/* ["default"] */ .ZP)(_components_Container__WEBPACK_IMPORTED_MODULE_23__/* ["default"] */ .Z).withConfig({
  displayName: "manage-contributions__MainContainer",
  componentId: "sc-12bawki-0"
})(["max-width:", "px;margin:0 auto;"], _components_collective_page_constants__WEBPACK_IMPORTED_MODULE_21__/* .Dimensions.MAX_SECTION_WIDTH */ .Db.MAX_SECTION_WIDTH);
var MenuEntry = (0,styled_components__WEBPACK_IMPORTED_MODULE_35__/* ["default"] */ .ZP)(_components_Link__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z).withConfig({
  displayName: "manage-contributions__MenuEntry",
  componentId: "sc-12bawki-1"
})(["display:flex;align-items:center;background:white;padding:8px 12px;cursor:pointer;background:none;color:inherit;border:none;font:inherit;outline:inherit;width:100%;text-align:left;border-radius:8px;font-size:13px;", " &:hover{background:#f9f9f9;}"], function (props) {
  return props.$isActive && (0,_styled_system_css__WEBPACK_IMPORTED_MODULE_36__/* .css */ .iv)({
    fontWeight: 800,
    backgroundColor: 'primary.100'
  });
});

var ManageContributionsPage = /*#__PURE__*/function (_React$Component) {
  _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_inherits_js__WEBPACK_IMPORTED_MODULE_4___default()(ManageContributionsPage, _React$Component);

  var _super = _createSuper(ManageContributionsPage);

  function ManageContributionsPage(props) {
    var _this;

    _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1___default()(this, ManageContributionsPage);

    _this = _super.call(this, props);

    _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_defineProperty_js__WEBPACK_IMPORTED_MODULE_7___default()(_home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3___default()(_this), "getAdministratedAccounts", (0,memoize_one__WEBPACK_IMPORTED_MODULE_37__/* ["default"] */ .Z)(function (loggedInUser) {
      var _loggedInUser$memberO;

      // Personal profile already includes incognito contributions
      var adminMemberships = loggedInUser === null || loggedInUser === void 0 ? void 0 : (_loggedInUser$memberO = loggedInUser.memberOf) === null || _loggedInUser$memberO === void 0 ? void 0 : _loggedInUser$memberO.filter(function (m) {
        return m.role === 'ADMIN' && !m.collective.isIncognito;
      });

      var uniqMemberships = lodash_uniqBy__WEBPACK_IMPORTED_MODULE_8___default()(adminMemberships, 'collective.id');

      var groupedMemberships = lodash_groupBy__WEBPACK_IMPORTED_MODULE_12___default()(uniqMemberships, 'collective.type');

      return lodash_mapValues__WEBPACK_IMPORTED_MODULE_10___default()(groupedMemberships, function (memberships) {
        return lodash_orderBy__WEBPACK_IMPORTED_MODULE_9___default()(memberships, 'collective.name');
      });
    }));

    return _this;
  }

  _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_createClass_js__WEBPACK_IMPORTED_MODULE_2___default()(ManageContributionsPage, [{
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      var _this$props = this.props,
          slug = _this$props.slug,
          data = _this$props.data,
          router = _this$props.router;

      if (data && !data.loading && !data.account && slug !== null && slug !== void 0 && slug.startsWith('guest-')) {
        // We used to send links like `/guest-12345/recurring-contributions` by email, which caused troubles when updating the slug.
        // This redirect ensures compatibility with old links byt redirecting them to the unified page.
        // See https://github.com/opencollective/opencollective/issues/4876
        router.replace('/manage-contributions');
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          slug = _this$props2.slug,
          data = _this$props2.data,
          intl = _this$props2.intl,
          loadingLoggedInUser = _this$props2.loadingLoggedInUser,
          LoggedInUser = _this$props2.LoggedInUser;

      if (!(data !== null && data !== void 0 && data.loading) && !loadingLoggedInUser && LoggedInUser) {
        if (!data || data.error) {
          return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(_components_ErrorPage__WEBPACK_IMPORTED_MODULE_24__/* ["default"] */ .Z, {
            data: data
          });
        } else if (!data.account) {
          return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(_components_ErrorPage__WEBPACK_IMPORTED_MODULE_24__/* ["default"] */ .Z, {
            error: (0,_lib_errors__WEBPACK_IMPORTED_MODULE_15__/* .generateNotFoundError */ .mN)(slug),
            log: false
          });
        }
      }

      var collective = data && data.account;
      var canEditCollective = Boolean(LoggedInUser === null || LoggedInUser === void 0 ? void 0 : LoggedInUser.isAdminOfCollective(collective));
      var recurringContributions = collective && collective.orders;
      var groupedAdminOf = this.getAdministratedAccounts(LoggedInUser);
      var isAdminOfGroups = !lodash_isEmpty__WEBPACK_IMPORTED_MODULE_11___default()(groupedAdminOf);
      var mainGridColumns = isAdminOfGroups ? ['1fr', '250px 1fr'] : ['1fr'];
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(_components_AuthenticatedPage__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z, {
        disableSignup: true,
        children: loadingLoggedInUser || data !== null && data !== void 0 && data.loading && !isAdminOfGroups ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(_components_Container__WEBPACK_IMPORTED_MODULE_23__/* ["default"] */ .Z, {
          py: [5, 6],
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(_components_Loading__WEBPACK_IMPORTED_MODULE_27__/* ["default"] */ .Z, {})
        }) : !LoggedInUser || !data.loading && !canEditCollective ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsxs)(_components_Container__WEBPACK_IMPORTED_MODULE_23__/* ["default"] */ .Z, {
          p: 4,
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(_components_Text__WEBPACK_IMPORTED_MODULE_32__.P, {
            p: 2,
            fontSize: "16px",
            textAlign: "center",
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_38__/* ["default"] */ .Z, {
              id: "RecurringContributions.permissionError",
              defaultMessage: [{
                "type": 0,
                "value": "You need to be logged in as the admin of this account to view this page."
              }]
            })
          }), !LoggedInUser && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(_components_SignInOrJoinFree__WEBPACK_IMPORTED_MODULE_30__/* ["default"] */ .ZP, {})]
        }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsxs)(_components_Container__WEBPACK_IMPORTED_MODULE_23__/* ["default"] */ .Z, {
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(_components_collective_navbar__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z, {
            collective: collective
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsxs)(MainContainer, {
            py: [3, 4],
            px: [2, 3, 4],
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(_components_collective_page_SectionTitle__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z, {
              textAlign: "left",
              mb: 1,
              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_38__/* ["default"] */ .Z, {
                id: "ManageContributions.Title",
                defaultMessage: [{
                  "type": 0,
                  "value": "Manage contributions"
                }]
              })
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsxs)(_components_Grid__WEBPACK_IMPORTED_MODULE_25__/* .Grid */ .rj, {
              gridTemplateColumns: mainGridColumns,
              gridGap: 32,
              mt: 4,
              children: [isAdminOfGroups && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsxs)("div", {
                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsxs)(MenuEntry, {
                  href: "/manage-contributions",
                  $isActive: !slug || slug === LoggedInUser.collective.slug,
                  onClick: function onClick() {},
                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(_components_Avatar__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .ZP, {
                    collective: LoggedInUser.collective,
                    size: 32
                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(_components_Text__WEBPACK_IMPORTED_MODULE_32__/* .Span */ .Dr, {
                    ml: 3,
                    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(react_intl__WEBPACK_IMPORTED_MODULE_38__/* ["default"] */ .Z, {
                      id: "ContributionFlow.PersonalProfile",
                      defaultMessage: [{
                        "type": 0,
                        "value": "Personal profile"
                      }]
                    })
                  })]
                }), Object.entries(groupedAdminOf).map(function (_ref) {
                  var _ref2 = _home_runner_work_groupwork_frontend_groupwork_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0___default()(_ref, 2),
                      collectiveType = _ref2[0],
                      members = _ref2[1];

                  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsxs)("div", {
                    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsxs)(_components_Grid__WEBPACK_IMPORTED_MODULE_25__/* .Flex */ .kC, {
                      alignItems: "center",
                      px: 2,
                      mt: 3,
                      mb: 2,
                      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(_components_Text__WEBPACK_IMPORTED_MODULE_32__/* .Span */ .Dr, {
                        fontWeight: "bold",
                        color: "black.700",
                        fontSize: "14px",
                        children: (0,_lib_i18n_collective_type__WEBPACK_IMPORTED_MODULE_17__/* ["default"] */ .Z)(intl, collectiveType, 2)
                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(_components_StyledHr__WEBPACK_IMPORTED_MODULE_31__/* ["default"] */ .Z, {
                        ml: 2,
                        width: "100%",
                        borderColor: "black.300"
                      })]
                    }), members.map(function (m) {
                      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsxs)(MenuEntry, {
                        href: "/".concat(m.collective.slug, "/manage-contributions"),
                        title: m.collective.name,
                        $isActive: slug === m.collective.slug,
                        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(_components_Avatar__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .ZP, {
                          collective: m.collective,
                          size: 32
                        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(_components_Text__WEBPACK_IMPORTED_MODULE_32__/* .Span */ .Dr, {
                          ml: 3,
                          truncateOverflow: true,
                          children: m.collective.name
                        })]
                      }, m.id);
                    })]
                  }, collectiveType);
                })]
              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_34__.jsx)(_components_recurring_contributions_RecurringContributionsContainer__WEBPACK_IMPORTED_MODULE_29__/* ["default"] */ .ZP, {
                recurringContributions: recurringContributions,
                account: collective,
                isLoading: data.loading,
                displayFilters: true
              })]
            })]
          })]
        })
      });
    }
  }], [{
    key: "getInitialProps",
    value: function getInitialProps(_ref3) {
      var slug = _ref3.query.slug;
      return {
        slug: slug
      };
    }
  }]);

  return ManageContributionsPage;
}(react__WEBPACK_IMPORTED_MODULE_13__.Component);

var addManageContributionsPageData = (0,_apollo_client_react_hoc__WEBPACK_IMPORTED_MODULE_39__/* .graphql */ .B)(_components_recurring_contributions_graphql_queries__WEBPACK_IMPORTED_MODULE_28__/* .manageContributionsQuery */ .B, {
  skip: function skip(props) {
    return !props.LoggedInUser;
  },
  options: function options(props) {
    var _props$LoggedInUser, _props$LoggedInUser$c;

    return {
      context: _lib_graphql_helpers__WEBPACK_IMPORTED_MODULE_16__/* .API_V2_CONTEXT */ .T,
      variables: {
        // If slug is passed in the URL (e.g. /facebook/manage-contributions), use it.
        // Otherwise, use the slug of the LoggedInUser.
        slug: props.slug || ((_props$LoggedInUser = props.LoggedInUser) === null || _props$LoggedInUser === void 0 ? void 0 : (_props$LoggedInUser$c = _props$LoggedInUser.collective) === null || _props$LoggedInUser$c === void 0 ? void 0 : _props$LoggedInUser$c.slug)
      }
    };
  }
});
ManageContributionsPage.__docgenInfo = {
  "description": "",
  "methods": [{
    "name": "getInitialProps",
    "docblock": null,
    "modifiers": ["static"],
    "params": [{
      "name": "{ query: { slug } }",
      "type": null
    }],
    "returns": null
  }],
  "displayName": "ManageContributionsPage",
  "props": {
    "slug": {
      "description": "",
      "type": {
        "name": "string"
      },
      "required": false
    },
    "tab": {
      "description": "",
      "type": {
        "name": "string"
      },
      "required": false
    },
    "loadingLoggedInUser": {
      "description": "",
      "type": {
        "name": "bool"
      },
      "required": false
    },
    "LoggedInUser": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": false
    },
    "data": {
      "description": "",
      "type": {
        "name": "shape",
        "value": {
          "loading": {
            "name": "bool",
            "required": false
          },
          "error": {
            "name": "any",
            "required": false
          },
          "account": {
            "name": "object",
            "required": false
          }
        }
      },
      "required": false
    },
    "intl": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": false
    },
    "router": {
      "description": "",
      "type": {
        "name": "object"
      },
      "required": false
    }
  }
};
/* harmony default export */ __webpack_exports__["default"] = ((0,next_router__WEBPACK_IMPORTED_MODULE_14__.withRouter)((0,_components_UserProvider__WEBPACK_IMPORTED_MODULE_33__/* .withUser */ .ns)((0,react_intl__WEBPACK_IMPORTED_MODULE_40__/* ["default"] */ .ZP)(addManageContributionsPageData(ManageContributionsPage)))));

/***/ }),

/***/ 3208:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {


    (window.__NEXT_P = window.__NEXT_P || []).push([
      "/manage-contributions",
      function () {
        return __webpack_require__(78246);
      }
    ]);
    if(false) {}
  

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, [3662,6567,1512,8966,8027,5126,5490,2092,9158,6414,146,5813,4842,4154,1012,1861,7965,4691,7653,6467,1448,4944,9656,6008,1503,9774,2888,179], function() { return __webpack_exec__(3208); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);
//# sourceMappingURL=manage-contributions-1a67168d8cf5a8bf.js.map