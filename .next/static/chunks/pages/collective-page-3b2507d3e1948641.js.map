{"version":3,"file":"static/chunks/pages/collective-page-3b2507d3e1948641.js","mappings":";;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACMA;AACA;AACA;AACA;AACO,IAAMA,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,IAAI,EAAI;EACpC,OAAO,mBAASA,IAAT,EAAe,GAAf,EAAoB;IACzBC,OAAO,EAAE,GADgB;IAEzBC,OAAO,EAAE,IAFgB;IAGzBC,QAAQ,EAAE;EAHe,CAApB,CAAP;AAKD,CANM;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVP;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;;;AAEA,IAAMU,YAAY,GAAGN,2EAAH;EAAA;EAAA;AAAA,gFAKd,UAAAQ,KAAK;EAAA,OACLA,KAAK,CAACC,aAAN,IACAR,6CADA,oHADK;AAAA,CALS,CAAlB;AAiBA,IAAMS,iBAAiB,GAAGV,iDAAM,CAACI,iBAAD,CAAT;EAAA;EAAA;AAAA,4GAGd,UAAAI,KAAK;EAAA,OAAKA,KAAK,CAACG,mBAAN,aAA+BH,KAAK,CAACG,mBAArC,SAA8D,KAAnE;AAAA,CAHS,CAAvB;AASA,IAAMC,cAAc,GAAGZ,iDAAM,CAACK,gCAAD,CAAT;EAAA;EAAA;AAAA,yIAEJ,UAAAG,KAAK;EAAA,OAAKA,KAAK,CAACK,SAAN,GAAkB,SAAlB,GAA8B,QAAnC;AAAA,CAFD,EAGP,UAAAL,KAAK;EAAA,OAAKA,KAAK,CAACK,SAAN,GAAkB,GAAlB,GAAwB,GAA7B;AAAA,CAHE,CAApB;AAYA;AACA;AACA;AACA;;IACMC;;;;;EAgBJ,4BAAYN,KAAZ,EAAmB;IAAA;;IAAA;;IACjB,0BAAMA,KAAN;;IADiB,qFAuBAhB,cAAc,CAAC,YAAM;MACtC,IAAI,CAAC,MAAKuB,GAAL,CAASC,OAAd,EAAuB;QACrB;MACD;;MAED,wBAAiD,MAAKD,GAAL,CAASC,OAA1D;MAAA,IAAQC,WAAR,qBAAQA,WAAR;MAAA,IAAqBC,UAArB,qBAAqBA,UAArB;MAAA,IAAiCC,WAAjC,qBAAiCA,WAAjC;;MAEA,MAAKC,QAAL,CAAc;QACZC,SAAS,EAAEH,UAAU,GAAG,CADZ;QAEZI,SAAS,EAAEJ,UAAU,GAAGD,WAAb,GAA2BE;MAF1B,CAAd;IAID,CAXgC,CAvBd;;IAAA,gFA0CL,YAAM;MAClB,IAAI,MAAKJ,GAAL,CAASC,OAAb,EAAsB;QACpB,MAAKD,GAAL,CAASC,OAAT,CAAiBE,UAAjB,IAA+B,MAAKK,iBAAL,EAA/B;MACD;IACF,CA9CkB;;IAAA,gFAgDL,YAAM;MAClB,IAAI,MAAKR,GAAL,CAASC,OAAb,EAAsB;QACpB,MAAKD,GAAL,CAASC,OAAT,CAAiBE,UAAjB,IAA+B,MAAKK,iBAAL,EAA/B;MACD;IACF,CApDkB;;IAEjB,MAAKR,GAAL,gBAAWlB,eAAA,EAAX;IACA,MAAK4B,KAAL,GAAa;MAAEJ,SAAS,EAAE,KAAb;MAAoBC,SAAS,EAAE;IAA/B,CAAb;IAHiB;EAIlB;;;;WAED,6BAAoB;MAClB,IAAI,KAAKP,GAAL,CAASC,OAAb,EAAsB;QACpB,KAAKD,GAAL,CAASC,OAAT,CAAiBU,gBAAjB,CAAkC,QAAlC,EAA4C,KAAKC,gBAAjD,EAAmE;UAAEC,OAAO,EAAE;QAAX,CAAnE;QACA,KAAKD,gBAAL;MACD;IACF;;;WAED,8BAAqB;MACnB,KAAKA,gBAAL;IACD;;;WAED,gCAAuB;MACrB,IAAI,KAAKZ,GAAL,CAASC,OAAb,EAAsB;QACpB,KAAKD,GAAL,CAASC,OAAT,CAAiBa,mBAAjB,CAAqC,QAArC,EAA+C,KAAKF,gBAApD;MACD;IACF;;;WAiCD,6BAAoB;MAClB,IAAMV,WAAW,GAAG,KAAKF,GAAL,CAASC,OAAT,CAAiBC,WAArC;;MACA,IAAI,KAAKT,KAAL,CAAWe,iBAAf,EAAkC;QAChC,OAAO,KAAKf,KAAL,CAAWe,iBAAX,CAA6BN,WAA7B,CAAP;MACD,CAFD,MAEO;QACL;QACA,IAAMa,gBAAgB,GAAG,IAAzB;QACA,OAAOA,gBAAgB,GAAGb,WAA1B;MACD;IACF;;;WAED,kBAAS;MACP,kBAAiC,KAAKQ,KAAtC;MAAA,IAAQJ,SAAR,eAAQA,SAAR;MAAA,IAAmBC,SAAnB,eAAmBA,SAAnB;MAEA,oBACE,qBAAC,wBAAD;QAAW,QAAQ,EAAC,UAApB;QAAA,wBACE,qBAAC,iBAAD;UAAmB,EAAE,EAAE,CAAC,CAAD,EAAI,IAAJ,EAAU,CAAV,CAAvB;UAAqC,mBAAmB,EAAE,KAAKd,KAAL,CAAWG,mBAArE;UAAA,wBACE,oBAAC,cAAD;YAAgB,SAAS,EAAEU,SAA3B;YAAA,uBACE,oBAAC,8BAAD;cAAW,WAAW,EAAEA,SAAS,GAAG,KAAKU,WAAR,GAAsBC;YAAvD;UADF,EADF,eAIE,oBAAC,cAAD;YAAgB,SAAS,EAAEV,SAA3B;YAAA,uBACE,oBAAC,oCAAD;cAAc,WAAW,EAAEA,SAAS,GAAG,KAAKW,WAAR,GAAsBD;YAA1D;UADF,EAJF;QAAA,EADF,eASE,oBAAC,YAAD,kCAAkB,KAAKxB,KAAL,CAAW0B,cAA7B;UAA6C,EAAE,EAAE,KAAK1B,KAAL,CAAW2B,SAA5D;UAAuE,GAAG,EAAE,KAAKpB,GAAjF;UAAA,UACG,KAAKP,KAAL,CAAW4B;QADd,GATF;MAAA,EADF;IAeD;;;;EAnG8BvC,sBAsGjC;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,kEAAeK,gCAAY,CAACY,kBAAD,EAAqB;EAAEwB,SAAS,EAAE;AAAb,CAArB,CAA3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/JA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAEO,IAAMe,sBAAsB,GAAG;EAAE,WAAW,CAAC,OAAD,EAAU,MAAV;AAAb,CAA/B;AACA,IAAMC,mBAAmB,GAAG;EAAE,mBAAmB,CAAC,MAAD;AAArB,CAA5B;AACA,IAAMC,mBAAmB,mCAAQF,sBAAR,GAAmCC,mBAAnC,CAAzB;AAEP,IAAME,QAAQ,GAAGxD,wEAAM,CAACG,2DAAD,CAAT;EAAA;EAAA;AAAA,8MAUV,UAAAK,KAAK;EAAA,OACLA,KAAK,CAACiD,OAAN,IACAxD,iEADA,wHAMoB,UAAAO,KAAK;IAAA,OAAIA,KAAK,CAACkD,KAAN,CAAYC,MAAZ,CAAmBC,OAAnB,CAA2B,GAA3B,CAAJ;EAAA,CANzB,EAWoB,UAAApD,KAAK;IAAA,OAAIA,KAAK,CAACkD,KAAN,CAAYC,MAAZ,CAAmBC,OAAnB,CAA2B,GAA3B,CAAJ;EAAA,CAXzB,CADK;AAAA,CAVK,EA0BV,UAAApD,KAAK;EAAA,OACLA,KAAK,CAACqD,KAAN,IACA5D,iEADA,6BAEsBO,KAAK,CAACkD,KAAN,CAAYC,MAAZ,CAAmBG,GAAnB,CAAuB,GAAvB,CAFtB,CADK;AAAA,CA1BK,CAAd;AAsCA,IAAMC,gBAAgB,GAAG/D,kGAAH;EAAA;EAAA;AAAA,4RAAtB;AAqBA;AACA;AACA;;AACA,IAAMgE,cAAc,GAAG,SAAjBA,cAAiB,OAmBjB;EAAA,IAlBJC,SAkBI,QAlBJA,SAkBI;EAAA,IAjBJC,QAiBI,QAjBJA,QAiBI;EAAA,IAhBJ9B,QAgBI,QAhBJA,QAgBI;EAAA,IAfJ+B,SAeI,QAfJA,SAeI;EAAA,IAdJC,eAcI,QAdJA,eAcI;EAAA,IAbJC,SAaI,QAbJA,SAaI;EAAA,IAZJC,IAYI,QAZJA,IAYI;EAAA,IAXJC,QAWI,QAXJA,QAWI;EAAA,IAVJC,kBAUI,QAVJA,kBAUI;EAAA,IATJC,MASI,QATJA,MASI;EAAA,IARJC,OAQI,QARJA,OAQI;EAAA,IAPJC,OAOI,QAPJA,OAOI;EAAA,IANJC,IAMI,QANJA,IAMI;EAAA,IALJf,KAKI,QALJA,KAKI;EAAA,IAJJgB,KAII,QAJJA,KAII;EAAA,IAHJC,OAGI,QAHJA,OAGI;EAAA,IAFJC,IAEI,QAFJA,IAEI;EAAA,IADDvE,KACC;;EACJ,IAAMwE,iBAAiB,GAAG;IAAEF,OAAO,EAAPA,OAAF;IAAWN,kBAAkB,EAAlBA,kBAAX;IAA+BP,SAAS,EAATA,SAA/B;IAA0CC,QAAQ,EAARA,QAA1C;IAAoDa,IAAI,EAAJA;EAApD,CAA1B;;EACA,wBAAqDjC,sFAAgB,CAACkC,iBAAD,CAArE;EAAA,IAAQC,WAAR,qBAAQA,WAAR;EAAA,IAAqBC,WAArB,qBAAqBA,WAArB;EAAA,IAAkCC,cAAlC,qBAAkCA,cAAlC;;EACA,IAAMC,cAAc,GAAG;IAAEX,MAAM,EAANA,MAAF;IAAUC,OAAO,EAAPA,OAAV;IAAmBC,OAAO,EAAPA,OAAnB;IAA4BU,QAAQ,EAAEP,OAAtC;IAA+CQ,MAAM,EAAEL;EAAvD,CAAvB;;EACA,mBAAsDvC,4DAAW,CAAC0C,cAAD,CAAjE;EAAA,IAAQG,YAAR,gBAAQA,YAAR;EAAA,IAAsBC,aAAtB,gBAAsBA,aAAtB;EAAA,IAAqCC,YAArC,gBAAqCA,YAArC;;EAEApB,SAAS,GAAGC,IAAI,IAAID,SAApB;EACA,IAAMqB,cAAc,GAAGrB,SAAS,GAAG,CAAnC,CAPI,CAOkC;;EACtC,IAAMsB,SAAS,GAAGJ,YAAY,EAA9B;EACA,oBACE,yDAAC,QAAD,gDACM/E,KADN,GAEOqE,KAAK,GAAG,mDAAKc,SAAL,EAAgB,CAAC,SAAD,CAAhB,CAAH,GAAkCA,SAF9C;IAGE,SAAS,EAAErB,IAAI,IAAID,SAHrB;IAIE,IAAI,EAAEC,IAJR;IAKE,KAAK,EAAET,KALT;IAAA,wBAOE;MAAO,IAAI,EAAEe;IAAb,GAAuBY,aAAa,EAApC,EAPF,EAQGrB,SAAS,IAAIe,WAAb,gBACC,yDAAC,2DAAD;MACE,QAAQ,EAAC,UADX;MAEE,OAAO,EAAC,MAFV;MAGE,cAAc,EAAC,QAHjB;MAIE,UAAU,EAAC,QAJb;MAKE,IAAI,EAAC,MALP;MAME,SAAS,EAAEQ,cANb;MAAA,wBAQE,wDAAC,2DAAD;QACE,QAAQ,EAAC,UADX;QAEE,OAAO,EAAC,MAFV;QAGE,cAAc,EAAC,QAHjB;QAIE,UAAU,EAAC,QAJb;QAKE,IAAI,EAAEA,cALR;QAAA,uBAOE,wDAAC,+DAAD;UAAe,IAAI,EAAC;QAApB;MAPF,EARF,EAiBGR,WAAW,iBAAI,yDAAC,2DAAD;QAAW,QAAQ,EAAC,KAApB;QAAA,WAA2BC,cAA3B;MAAA,EAjBlB,EAkBGhB,SAAS,IAAI,CAAC,oDAAMC,eAAN,CAAd,iBAAwC,yDAAC,2DAAD;QAAA,WAAYA,eAAZ;MAAA,EAlB3C;IAAA,EADD,gBAsBC,wDAAC,2DAAD;MAAW,QAAQ,EAAC,UAApB;MAAA,UACGqB,YAAY,gBACX,yDAAC,2DAAD;QAAW,KAAK,EAAC,aAAjB;QAA+B,QAAQ,EAAC,MAAxC;QAAA,wBACE,wDAAC,gDAAD;UAAK,EAAE,EAAE,CAAT;UAAA,uBACE,wDAAC,8EAAD;YAAc,IAAI,EAAE;UAApB;QADF,EADF,eAIE,wDAAC,4DAAD;UACE,EAAE,0BADJ;UAEE,cAAc;YAAA;YAAA;UAAA;YAAA;YAAA;YAAA;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;cAAA;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;cAAA;YAAA;YAAA;YAAA;UAAA;YAAA;YAAA;UAAA,EAFhB;UAGE,MAAM,EAAE;YAAEG,KAAK,EAAEd,OAAO,GAAG,CAAH,GAAO;UAAvB;QAHV,EAJF;MAAA,EADW,gBAYX,yDAAC,2CAAD;QAAA,WACG,CAACD,KAAD,gBACC,wDAAC,qCAAD;UAAG,KAAK,EAAEhB,KAAK,GAAG,SAAH,GAAe,WAA9B;UAA2C,EAAE,EAAE,CAA/C;UAAkD,QAAQ,EAAEU,QAA5D;UAAA,UACGV,KAAK,gBACJ,yDAAC,2CAAD;YAAA,wBACE,wDAAC,iGAAD;cAAmB,KAAK,EAAC,SAAzB;cAAmC,IAAI,EAAE;YAAzC,EADF,eAEE,iEAFF,eAGE,wDAAC,kDAAD;cAAM,UAAU,EAAE,GAAlB;cAAuB,EAAE,EAAE,CAA3B;cAAA,UACGA;YADH,EAHF,eAME,iEANF;UAAA,EADI,GASFiB,OAAO,gBACT,wDAAC,4DAAD;YACE,EAAE,sBADJ;YAEE,cAAc;cAAA;cAAA;YAAA;cAAA;cAAA;cAAA;gBAAA;gBAAA;cAAA;YAAA;cAAA;cAAA;YAAA,EAFhB;YAGE,MAAM,EAAE;cAAE,aAAa9B,sEAAW;YAA1B;UAHV,EADS,gBAOT,wDAAC,4DAAD;YACE,EAAE,8BADJ;YAEE,cAAc;cAAA;cAAA;YAAA;cAAA;cAAA;cAAA;gBAAA;gBAAA;cAAA;YAAA,EAFhB;YAGE,MAAM,EAAE;cAAE,aAAaA,sEAAW;YAA1B,CAHV;YAIE,OAAO,EAAC;UAJV;QAjBJ,EADD,gBA2BC,yDAAC,2CAAD;UAAA,wBACE,wDAAC,sEAAD;YAAqB,IAAI,EAAEsB,IAA3B;YAAiC,GAAG,EAAEO,KAAtC;YAA6C,MAAM,EAAC;UAApD,EADF,eAEE,wDAAC,gBAAD;YACE,OAAO,EAAEc,SAAS,CAAClC,OADrB;YAEE,IAAI,EAAC,QAFP;YAGE,QAAQ,EAAE,CAHZ;YAIE,SAAS,EAAE,mBAAAoC,KAAK,EAAI;cAClB,IAAIA,KAAK,CAACC,GAAN,KAAc,OAAlB,EAA2B;gBACzBD,KAAK,CAACE,cAAN;gBACAJ,SAAS,CAAClC,OAAV;cACD;YACF,CATH;YAAA,uBAWE,wDAAC,4DAAD;cAAkB,EAAE,iBAApB;cAAqC,cAAc;gBAAA;gBAAA;cAAA;YAAnD;UAXF,EAFF;QAAA,EA5BJ,EA6CGrB,QA7CH;MAAA;IAbJ,EA9BJ;EAAA,GADF;AAgGD,CA5HD;;AAqKA4B,cAAc,CAACgC,YAAf,GAA8B;EAC5B3B,SAAS,EAAE,EADiB;EAE5BG,kBAAkB,EAAE;IAAA,sDAA8C3B,0DAAI,EAAlD;EAAA,CAFQ;EAG5BiC,OAAO,EAAE,IAHmB;EAI5BP,QAAQ,EAAE;AAJkB,CAA9B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA,0DAAeP,cAAf;;;;;;;;;;;;;;;ACjQA;AAIA;AACA;AAEA;AACA;AACA;AACA;;;;AACA,IAAMkC,wBAAwB,GAAG,SAA3BA,wBAA2B,OAAoC;EAAA,IAAjCrB,KAAiC,QAAjCA,KAAiC;EAAA,IAA1BsB,MAA0B,QAA1BA,MAA0B;EAAA,uBAAlBC,MAAkB;EAAA,IAAlBA,MAAkB,4BAAT,EAAS;;EACnE,IAAI,CAAAvB,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEuB,MAAP,KAAiBA,MAArB,EAA6B;IAC3B,OAAOvB,KAAP;EACD,CAFD,MAEO;IACL,oBACE,uDAAC,2CAAD;MAAA,uBACE,uDAAC,+DAAD;QAAe,eAAe,EAAEsB,MAAhC;QAAwC,OAAO,EAAE;UAAA,oBAAM,uDAAC,iDAAD;YAAM,KAAK,EAAC,WAAZ;YAAA,UAAyBtB;UAAzB,EAAN;QAAA,CAAjD;QAAA,UACG,uDAASA,KAAT,EAAgB;UAAEuB,MAAM,EAANA;QAAF,CAAhB;MADH;IADF,EADF;EAOD;AACF,CAZD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoBA,yDAAeF,wBAAf;;;;;;;;;;;;;;;;;;;;;;;;AC/BA;AAGA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;;;AAEA,IAAMU,gBAAgB,GAAG5G,wEAAM,CAACI,iDAAD,CAAT;EAAA;EAAA;AAAA,4LAAtB;AAoBA,IAAMyG,eAAe,GAAG7G,kGAAH;EAAA;EAAA;AAAA,sDAArB;AAMA,IAAM8G,cAAc,GAAG9G,kGAAH;EAAA;EAAA;AAAA,kMAApB;AAcA,IAAM+G,eAAe,GAAG/G,kGAAH;EAAA;EAAA;AAAA,mKAIV,UAAAQ,KAAK;EAAA,OAAIA,KAAK,CAACkD,KAAN,CAAYC,MAAZ,CAAmBqD,KAAnB,CAAyB,GAAzB,CAAJ;AAAA,CAJK,CAArB;AAYA;AACA;AACA;AACA;;AACA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,cAAD,EAAiBC,iBAAjB,EAAuC;EAChE,IAAMC,gBAAgB,GAAG,GAAzB;EACA,IAAMC,aAAa,GAAG,IAAtB;EACA,IAAMC,wBAAwB,GAAGJ,cAAc,GAAGC,iBAAlD;EACA,IAAMI,KAAK,GAAGC,IAAI,CAACC,GAAL,CAASH,wBAAwB,GAAGF,gBAApC,EAAsDC,aAAtD,CAAd,CAJgE,CAMhE;EACA;;EACA,IAAIC,wBAAwB,IAAI,IAA5B,IAAoCJ,cAAc,GAAG,CAAzD,EAA4D;IAC1D,OAAO,KAAP;EACD;;EAED,iBAAUM,IAAI,CAACE,KAAL,CAAWH,KAAK,GAAG,GAAnB,CAAV;AACD,CAbD;AAeA;AACA;AACA;AACA;;;AACA,IAAMI,iBAAiB,GAAG,SAApBA,iBAAoB,OAAuE;EAAA,IAApEC,KAAoE,QAApEA,KAAoE;EAAA,IAA7DC,YAA6D,QAA7DA,YAA6D;EAAA,IAA/CC,mBAA+C,QAA/CA,mBAA+C;EAAA,IAA1BC,QAA0B,QAA1BA,QAA0B;EAAA,IAAhBC,SAAgB,QAAhBA,SAAgB;EAC/F,IAAMC,IAAI,GAAG3B,gEAAO,EAApB;EACA,IAAM4B,mBAAmB,GAAGL,YAAY,CAACzB,MAAb,KAAwB0B,mBAAxB,IAA+CD,YAAY,CAACzB,MAAb,KAAwB,EAAnG;EACA,oBACE,wDAAC,gDAAD;IAAK,IAAI,EAAC,SAAV;IAAoB,KAAK,EAAE;MAAE+B,SAAS,EAAElB,kBAAkB,CAACY,YAAY,CAACzB,MAAd,EAAsB0B,mBAAtB;IAA/B,CAA3B;IAAA,WACGE,SAAS,iBACR,uDAAC,oCAAD;MAAG,QAAQ,EAAC,MAAZ;MAAmB,UAAU,EAAC,MAA9B;MAAqC,UAAU,EAAC,KAAhD;MAAsD,KAAK,EAAC,WAA5D;MAAwE,EAAE,EAAC,MAA3E;MAAA,UACGJ;IADH,EAFJ,eAME,uDAAC,gBAAD;MAAkB,cAAc,EAAEM,mBAAmB,GAAG,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,eAAzB,CAAH,GAA+C,YAApG;MAAA,UACGL,YAAY,CAACO,GAAb,CAAiB,UAACC,WAAD,EAAcC,GAAd;QAAA,oBAChB,wDAAC,eAAD;UAAA,wBACE,wDAAC,cAAD;YAAA,wBACE;cAAA,UAAOA,GAAG,GAAG;YAAb,EADF,eAEE,uDAAC,iEAAD;cAAiB,WAAW,EAAED,WAA9B;cAAA,uBACE,uDAAC,gEAAD;gBAAmB,WAAW,EAAEA,WAAhC;gBAA6C,MAAM,EAAE;cAArD;YADF,EAFF;UAAA,EADF,eAOE,wDAAC,gDAAD;YAAK,IAAI,EAAC,KAAV;YAAgB,QAAQ,EAAC,mBAAzB;YAAA,wBACE,uDAAC,iEAAD;cAAiB,WAAW,EAAEA,WAA9B;cAAA,uBACE,uDAAC,eAAD;gBAAA,UACGA,WAAW,CAACE,WAAZ,gBACC,uDAAC,4DAAD;kBAAkB,EAAE,qBAApB;kBAAyC,cAAc;oBAAA;oBAAA;kBAAA;gBAAvD,EADD,GAGCF,WAAW,CAACzD;cAJhB;YADF,EADF,eAUE,uDAAC,oCAAD;cAAG,KAAK,EAAC,WAAT;cAAqB,QAAQ,EAAC,MAA9B;cAAqC,UAAU,EAAC,MAAhD;cAAA,UACGyD,WAAW,CAACG,kBAAZ,gBACC,uDAAC,4DAAD;gBACE,EAAE,qBADJ;gBAEE,cAAc;kBAAA;kBAAA;gBAAA;kBAAA;kBAAA;gBAAA;kBAAA;kBAAA;gBAAA,EAFhB;gBAGE,MAAM,EAAE;kBACNC,IAAI,eAAE,uDAAC,sDAAD;oBAAe,KAAK,EAAEJ,WAAW,CAACK,KAAlC;oBAAyC,KAAK,EAAC,OAA/C;oBAAuD,IAAI,EAAC;kBAA5D,EADA;kBAENC,YAAY,eACV,uDAAC,sEAAD;oBACE,YAAY,EAAE,IADhB;oBAEE,MAAM,EAAEN,WAAW,CAACG,kBAFtB;oBAGE,QAAQ,EAAET,QAHZ;oBAIE,SAAS,EAAE,CAJb;oBAKE,oBAAoB;kBALtB;gBAHI;cAHV,EADD,GAiBGM,WAAW,CAACO,OAAZ,GACFpC,0EAAgB,CAACyB,IAAD,EAAO,OAAP,CADd,GAEAI,WAAW,CAACQ,MAAZ,GACFrC,0EAAgB,CAACyB,IAAD,EAAO,QAAP,CADd,GAGFzB,0EAAgB,CAACyB,IAAD,EAAOI,WAAW,CAACS,KAAZ,CAAkB,CAAlB,CAAP;YAvBpB,EAVF;UAAA,EAPF;QAAA,GAAsBT,WAAW,CAACU,EAAlC,CADgB;MAAA,CAAjB;IADH,EANF;EAAA,EADF;AA0DD,CA7DD;;AAiFA;AACA;AACA;AACA;AACA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,QAA8C;EAAA,IAA3CC,aAA2C,SAA3CA,aAA2C;EAAA,IAA5BC,WAA4B,SAA5BA,WAA4B;EAAA,IAAfnB,QAAe,SAAfA,QAAe;;EACpE,IAAMoB,MAAM,GAAG,mDAAKF,aAAL,CAAf;;EACA,IAAMG,aAAa,GAAG,mDAAKF,WAAL,CAAtB;;EACA,IAAMpB,mBAAmB,GAAGqB,MAAM,GAAGC,aAArC;EACA,IAAMC,YAAY,GAAGC,OAAO,CAACH,MAAM,IAAIC,aAAX,CAA5B,CAJoE,CAMpE;;EACA,IAAI,CAACtB,mBAAL,EAA0B;IACxB,OAAO,IAAP;EACD,CATmE,CAWpE;;;EACA,IAAMyB,gBAAgB,GAAGH,aAAa,GAAG,CAAhB,iBACvB,uDAAC,iBAAD;IACE,QAAQ,EAAErB,QADZ;IAEE,YAAY,EAAEmB,WAFhB;IAGE,mBAAmB,EAAEpB,mBAHvB;IAIE,KAAK,eAAE,uDAAC,4DAAD;MAAkB,EAAE,+BAApB;MAAmD,cAAc;QAAA;QAAA;MAAA;IAAjE,EAJT;IAKE,SAAS,EAAEuB;EALb,EADF;;EAUA,IAAMG,SAAS,GAAGL,MAAM,GAAG,CAAT,iBAChB,uDAAC,iBAAD;IACE,QAAQ,EAAEpB,QADZ;IAEE,YAAY,EAAEkB,aAFhB;IAGE,mBAAmB,EAAEnB,mBAHvB;IAIE,KAAK,eAAE,uDAAC,4DAAD;MAAkB,EAAE,iCAApB;MAAqD,cAAc;QAAA;QAAA;MAAA;IAAnE,EAJT;IAKE,SAAS,EAAEuB;EALb,EADF,CAtBoE,CAgCpE;;;EACA,IAAMI,MAAM,GAAGL,aAAa,GAAGD,MAAhB,GAAyB,CAACI,gBAAD,EAAmBC,SAAnB,CAAzB,GAAyD,CAACA,SAAD,EAAYD,gBAAZ,CAAxE;EAEA,oBACE,wDAAC,iDAAD;IAAM,QAAQ,EAAC,MAAf;IAAsB,mBAAgB,eAAtC;IAAA,WACGE,MAAM,CAAC,CAAD,CADT,EAEGA,MAAM,CAAC,CAAD,CAFT;EAAA,EADF;AAMD,CAzCD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA,yDAAeT,eAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChOA,uDAAe,oBAAoB;;;;;;ACAnC;AAGA;AAEA;;AAEO,IAAMW,eAAe,GAAG,IAAxB;AACA,IAAMC,gBAAgB,GAAG,GAAzB;;AAEP,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAnG,KAAK,EAAI;EAClC,IAAMoG,KAAK,GAAGpG,KAAK,CAACC,MAAN,CAAaC,OAAb,CAAqB,GAArB,CAAd;EACA,IAAMmG,QAAQ,oCAA6BrG,KAAK,CAACC,MAAN,CAAaC,OAAb,CAAqB,GAArB,CAA7B,eAA2DF,KAAK,CAACC,MAAN,CAAaC,OAAb,CAAqB,GAArB,CAA3D,MAAd;EACA,iBAAUmG,QAAV,eAAuBD,KAAvB;AACD,CAJD;;AAMA,IAAME,eAAe,GAAGhK,iEAAA,CAAiB;EAAEmK,GAAG,EAAE;AAAP,CAAjB,CAAH;EAAA;EAAA;AAAA,QAArB;AAEO,IAAMC,oBAAoB,GAAGpK,2EAAH;EAAA;EAAA;AAAA,6aAMlB2J,eANkB,EAOpB,UAAAnJ,KAAK;EAAA,OAAKA,KAAK,CAAC6J,SAAN,GAAkB,CAAlB,GAAsB,CAAC,CAA5B;AAAA,CAPe,EAgB7BL,eAhB6B,EAqB7B,UAAAxJ,KAAK;EAAA,OACLA,KAAK,CAAC8J,cAAN,IACArK,6CADA,mHAGI+J,eAHJ,CADK;AAAA,CArBwB,EAqCf,UAAAxJ,KAAK;EAAA,OAAIqJ,kBAAkB,CAACrJ,KAAK,CAACkD,KAAP,CAAtB;AAAA,CArCU,EAyCjBgG,kBAzCiB,CAA1B;AAoDA,IAAMa,uBAAuB,GAAG;EAAEC,CAAC,EAAE,CAAL;EAAQC,CAAC,EAAE;AAAX,CAAhC;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAAC,UAAU,EAAI;EACnC,OAAO,cAAIA,UAAU,CAACC,QAAf,EAAyB,gCAAzB,KAA8DL,uBAArE;AACD,CAFM;AAIA,IAAMM,OAAO,GAAG,SAAVA,OAAU,CAAAF,UAAU,EAAI;EACnC,OAAO,cAAIA,UAAU,CAACC,QAAf,EAAyB,gCAAzB,KAA8D,CAArE;AACD,CAFM;AAIA,IAAME,eAAe,GAAG,SAAlBA,eAAkB,CAAAH,UAAU,EAAI;EAC3C,OAAO,cAAIA,UAAU,CAACC,QAAf,EAAyB,0CAAzB,CAAP;AACD,CAFM;AAIP;AACA;AACA;AACA;;AACA,IAAMG,cAAc,GAAG,SAAjBA,cAAiB,OAAoB;EAAA,IAAjBJ,UAAiB,QAAjBA,UAAiB;EACzC,IAAMK,IAAI,GAAGN,OAAO,CAACC,UAAD,CAApB;EACA,IAAMM,IAAI,GAAGJ,OAAO,CAACF,UAAD,CAApB;EACA,IAAML,cAAc,GAAGQ,eAAe,CAACH,UAAD,CAAtC;;EACA,IAAMO,qBAAqB,GAAG,cAAIP,UAAU,CAACC,QAAf,EAAyB,2BAAzB,CAA9B;;EAEA,oBACE,oBAAC,oBAAD;IAAsB,cAAc,EAAEN,cAAtC;IAAA,UACGK,UAAU,CAACQ,kBAAX,iBACC,oBAAC,eAAD;MACE,GAAG,EAAER,UAAU,CAACQ,kBADlB;MAEE,KAAK,EACHD,qBAAqB,GACjB;QAAEE,SAAS,sBAAeJ,IAAI,CAACR,CAApB,iBAA4BQ,IAAI,CAACP,CAAjC,uBAA+CQ,IAA/C;MAAX,CADiB,GAEjB;QAAEI,QAAQ,EAAE;MAAZ;IALR;EAFJ,EADF;AAcD,CApBD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA,wDAAeN,cAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpIA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;AACO,IAAMwB,mBAAmB,GAAGd,oEAAKA;AAAA;AAAR,+dAW5BY,gFAX4B,CAAzB;AAcP,IAAMG,oBAAoB,GAAGxM,wEAAM,CAACgM,6DAAD,CAAT;EAAA;EAAA;AAAA,gMAA1B;AAcA;AACA;AACA;;IACMS;;;;;;;;;;;;;WAwCJ,4BAAmBC,QAAnB,EAA6B;MAC3B;MACA,IAAMC,OAAO,GAAG,kDAAI,KAAKnM,KAAL,CAAWoM,IAAf,EAAqB,SAArB,CAAhB;;MACA,IAAIF,QAAQ,CAACG,UAAT,KAAwB,KAAKrM,KAAL,CAAWqM,UAAnC,IAAiDF,OAArD,EAA8D;QAC5DA,OAAO;MACR;IACF;;;WAED,kBAAS;MACP,kBAAgC,KAAKnM,KAArC;MAAA,IAAQmK,UAAR,eAAQA,UAAR;MAAA,IAAoB/B,OAApB,eAAoBA,OAApB;;MACA,IAAMkE,OAAO,GAAG,kDAAI,KAAKtM,KAAL,CAAWoM,IAAf,EAAqB,oBAArB,EAA2C,EAA3C,CAAhB,CAFO,CAIP;;;MACA,IAAI,sDAAQE,OAAR,KAAoB,CAAClE,OAAzB,EAAkC;QAChC,OAAO,IAAP;MACD;;MAED,oBACE,yDAAC,0EAAD;QAAyB,EAAE,EAAE,CAA7B;QAAA,wBACE,wDAAC,+DAAD;UAAc,QAAQ,EAAE,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,CAAxB;UAAkD,KAAK,EAAC,WAAxD;UAAoE,EAAE,EAAE,EAAxE;UAAA,uBACE,wDAAC,4DAAD;YACE,EAAE,uCADJ;YAEE,cAAc;cAAA;cAAA;YAAA;cAAA;cAAA;YAAA,EAFhB;YAGE,MAAM,EAAE;cAAEmE,cAAc,EAAEpC,UAAU,CAAC/F;YAA7B;UAHV;QADF,EADF,eAQE,yDAAC,kDAAD;UAAM,EAAE,EAAE,CAAV;UAAa,cAAc,EAAC,eAA5B;UAA4C,UAAU,EAAC,QAAvD;UAAgE,QAAQ,EAAC,MAAzE;UAAA,wBACE;YAAG,KAAK,EAAC,WAAT;YAAqB,EAAE,EAAE,CAAzB;YAAA,uBACE,wDAAC,4DAAD;cAAkB,EAAE,4BAApB;cAAgD,cAAc;gBAAA;gBAAA;cAAA;YAA9D;UADF,EADF,EAIGgE,OAAO,iBACN,wDAAC,uDAAD;YAAM,IAAI,YAAK8C,mFAAsB,CAACf,UAAD,CAA3B,iBAAV;YAAA,uBACE,yDAAC,+DAAD;cAAc,WAAQ,uBAAtB;cAA8C,WAAW,EAAC,SAA1D;cAAoE,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAAxE;cAAA,wBACE,wDAAC,kDAAD;gBAAM,QAAQ,EAAC,MAAf;gBAAsB,UAAU,EAAC,MAAjC;gBAAwC,EAAE,EAAE,CAA5C;gBAAA;cAAA,EADF,eAIE,wDAAC,4DAAD;gBAAkB,EAAE,qBAApB;gBAAyC,cAAc;kBAAA;kBAAA;gBAAA;cAAvD,EAJF;YAAA;UADF,EALJ;QAAA,EARF,EAuBG,sDAAQmC,OAAR,iBACC;UAAA,uBACE,wDAAC,6DAAD;YAAY,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAAhB;YAAwB,IAAI,EAAC,MAA7B;YAAoC,QAAQ,MAA5C;YAA6C,QAAQ,EAAE,GAAvD;YAA4D,SAAS,EAAC,QAAtE;YAA+E,QAAQ,EAAC,MAAxF;YAAA,uBACE,wDAAC,4DAAD;cACE,EAAE,4BADJ;cAEE,cAAc;gBAAA;gBAAA;cAAA;YAFhB;UADF;QADF,EADD,gBAUC,yDAAC,iDAAD;UAAK,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAAT;UAAiB,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAArB;UAAA,wBACE,wDAAC,6DAAD;YAAY,WAAQ,aAApB;YAAA,UACGA,OAAO,CAAC1E,GAAR,CAAY,UAAC4E,MAAD,EAAS1E,GAAT;cAAA,oBACX,wDAAC,4DAAD;gBAEE,CAAC,EAAE,EAFL;gBAGE,OAAO,EAAC,MAHV;gBAIE,cAAc,EAAC,eAJjB;gBAKE,YAAY,EAAEA,GAAG,KAAKwE,OAAO,CAAC1G,MAAR,GAAiB,CAAzB,GAA6BpE,SAA7B,GAAyC,mBALzD;gBAAA,uBAOE,yDAAC,kDAAD;kBAAA,wBACE,wDAAC,iDAAD;oBAAK,EAAE,EAAE,CAAT;oBAAA,uBACE,wDAAC,iEAAD;sBAAgB,UAAU,EAAEgL,MAAM,CAACC,cAAnC;sBAAA,uBACE,wDAAC,0DAAD;wBAAQ,UAAU,EAAED,MAAM,CAACC,cAA3B;wBAA2C,MAAM,EAAE;sBAAnD;oBADF;kBADF,EADF,eAME,yDAAC,kDAAD;oBAAM,aAAa,EAAC,QAApB;oBAA6B,cAAc,EAAC,eAA5C;oBAAA,wBACE,wDAAC,uDAAD;sBAAM,IAAI,YAAKvB,mFAAsB,CAACf,UAAD,CAA3B,sBAAmDqC,MAAM,CAACE,IAA1D,CAAV;sBAAA,uBACE,wDAAC,qCAAD;wBAAG,KAAK,EAAC,WAAT;wBAAqB,UAAU,EAAC,KAAhC;wBAAsC,EAAE,EAAE,CAA1C;wBAAA,UACGF,MAAM,CAACpF;sBADV;oBADF,EADF,EAMGoF,MAAM,CAACG,gBAAP,gBACC,yDAAC,4DAAD;sBAAA,wBACE,wDAAC,8DAAD;wBAAa,KAAK,EAAE;0BAAEC,OAAO,EAAE;wBAAX,CAApB;wBAA2C,OAAO,EAAEJ,MAAM,CAACK;sBAA3D,EADF,oBAGE,wDAAC,6DAAD;wBACE,EAAE,EAAEvB,uDADN;wBAEE,QAAQ,EAAC,MAFX;wBAGE,IAAI,YAAKJ,mFAAsB,CAACf,UAAD,CAA3B,sBAAmDqC,MAAM,CAACE,IAA1D,CAHN;wBAAA,uBAKE,wDAAC,4DAAD;0BAAkB,EAAE,2BAApB;0BAA+C,cAAc;4BAAA;4BAAA;0BAAA;wBAA7D;sBALF,EAHF;oBAAA,EADD,gBAaC,wDAAC,oBAAD;sBAAsB,IAAI,EAAC,MAA3B;sBAAkC,WAAQ,SAA1C;sBAAA,uBACE,wDAAC,4DAAD;wBACE,EAAE,sCADJ;wBAEE,cAAc;0BAAA;0BAAA;wBAAA;0BAAA;0BAAA;wBAAA;0BAAA;0BAAA;wBAAA,EAFhB;wBAGE,MAAM,EAAE;0BAAEvC,UAAU,EAAEA,UAAU,CAAC/F;wBAAzB;sBAHV;oBADF,EAnBJ,eA2BE,yDAAC,4DAAD;sBAAW,KAAK,EAAC,WAAjB;sBAA6B,EAAE,EAAE,CAAjC;sBAAoC,QAAQ,EAAC,MAA7C;sBAAA,WACGoI,MAAM,CAACM,SAAP,iBACC,wDAAC,gEAAD;wBACE,OAAO,EAAE;0BAAA,oBACP,wDAAC,4DAAD;4BACE,EAAE,4BADJ;4BAEE,cAAc;8BAAA;8BAAA;4BAAA;0BAFhB,EADO;wBAAA,CADX;wBAAA,uBAQE,wDAAC,iDAAD;0BAAK,EAAE,EAAE,CAAT;0BAAA,uBACE,wDAAC,uEAAD;4BACE,gBADF;4BAEE,YAAS,iBAFX;4BAGE,WAAQ,aAHV;4BAIE,IAAI,EAAE,EAJR;4BAKE,MAAM,EAAC;0BALT;wBADF;sBARF,EAFJ,EAqBGN,MAAM,CAACO,WAAP,gBACC,wDAAC,4DAAD;wBACE,EAAE,wBADJ;wBAEE,cAAc;0BAAA;0BAAA;wBAAA;0BAAA;0BAAA;wBAAA;0BAAA;0BAAA;wBAAA;0BAAA;0BAAA;wBAAA,EAFhB;wBAGE,MAAM,EAAE;0BACN9E,IAAI,EAAEkD,iEAAU,CAACqB,MAAM,CAACO,WAAR,EAAqB;4BACnCC,GAAG,EAAE,SAD8B;4BAEnCC,KAAK,EAAE,MAF4B;4BAGnCC,IAAI,EAAE;0BAH6B,CAArB,CADV;0BAMNC,MAAM,eAAE,wDAAC,iEAAD;4BAAgB,UAAU,EAAEX,MAAM,CAACC;0BAAnC;wBANF;sBAHV,EADD,gBAcC,wDAAC,4DAAD;wBACE,EAAE,sBADJ;wBAEE,cAAc;0BAAA;0BAAA;wBAAA;0BAAA;0BAAA;wBAAA;0BAAA;0BAAA;wBAAA;0BAAA;0BAAA;wBAAA,EAFhB;wBAGE,MAAM,EAAE;0BACNxE,IAAI,EAAEkD,iEAAU,CAACqB,MAAM,CAACY,SAAR,CADV;0BAEND,MAAM,eAAE,wDAAC,iEAAD;4BAAgB,UAAU,EAAEX,MAAM,CAACC;0BAAnC;wBAFF;sBAHV,EAnCJ;oBAAA,EA3BF;kBAAA,EANF;gBAAA;cAPF,GACOD,MAAM,CAACjE,EADd,CADW;YAAA,CAAZ;UADH,EADF,EA6FG+D,OAAO,CAAC1G,MAAR,GAAiB,CAAjB,iBACC,wDAAC,uDAAD;YAAM,IAAI,YAAKsF,mFAAsB,CAACf,UAAD,CAA3B,aAAV;YAAA,uBACE,yDAAC,+DAAD;cAAc,WAAQ,sBAAtB;cAA6C,EAAE,EAAE,CAAjD;cAAoD,KAAK,EAAE,CAA3D;cAA8D,UAAU,EAAC,OAAzE;cAAiF,QAAQ,EAAC,MAA1F;cAAA,wBACE,wDAAC,4DAAD;gBAAkB,EAAE,yCAApB;gBAA6D,cAAc;kBAAA;kBAAA;gBAAA;cAA3E,EADF;YAAA;UADF,EA9FJ;QAAA,EAjCJ;MAAA,EADF;IA0ID;;;;EAnM0B9K;;AAsM7B,IAAMgO,qBAAqB,GAAGvC,2EAAO,CAACiB,mBAAD,EAAsB;EACzDuB,OAAO,EAAE,iBAAAtN,KAAK;IAAA,OAAK;MACjBuN,SAAS,EAAEC,+BAA+B,CAACxN,KAAK,CAACmK,UAAN,CAAiBuC,IAAlB,EAAwB1M,KAAK,CAACoI,OAA9B;IADzB,CAAL;EAAA;AAD2C,CAAtB,CAArC;AAMO,IAAMoF,+BAA+B,GAAG,SAAlCA,+BAAkC,CAACd,IAAD,EAA2B;EAAA,IAApBtE,OAAoB,uEAAV,KAAU;EACxE,OAAO;IAAEsE,IAAI,EAAJA,IAAF;IAAQe,oBAAoB,EAAE,CAACrF;EAA/B,CAAP;AACD,CAFM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIP,0DAAe4C,iEAAU,CAACqC,qBAAqB,CAACpB,cAAD,CAAtB,CAAzB;;;;;GA7I2C;EAAEyB,IAAI,EAAE,SAAR;EAAmBC,QAAQ,EAAE;AAA7B;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/H3C;AAIA;AACA;AAEA;AAEA;AACA;AACA;;;;AACA,IAAMG,oBAAoB,GAAG,SAAvBA,oBAAuB,OAA8B;EAAA,IAA3B3D,UAA2B,QAA3BA,UAA2B;EAAA,IAAZnK,KAAY;;EACzD,IAAM+N,WAAW,GAAG,uDAAS5D,UAAU,CAAC4D,WAApB,EAAiC;IAAEnI,MAAM,EAAE;EAAV,CAAjC,CAApB;;EACA,oBACE,uDAAC,4DAAD;IACE,KAAK,EAAEsF,kFAAsB,CAACf,UAAD,CAD/B;IAEE,IAAI,EAAEyD,2HAFR;IAGE,KAAK,EAAEzD,UAAU,CAAC/F,IAHpB;IAIE,YAAY,EAAE+F,UAAU,CAAC9C,YAJ3B;IAKE,KAAK,EAAE8C,UAAU,CAAC8D,KAAX,CAAiBC,OAL1B;IAME,KAAK,EAAE/D,UAAU,CAACQ;EANpB,GAOM3K,KAPN;IAAA,UASG+N;EATH,GADF;AAaD,CAfD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,yDAAeD,oBAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3CA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;;;;AAEA,IAAMS,eAAe,GAAG,SAAlBA,eAAkB,OAAqC;EAAA,IAAlCpE,UAAkC,QAAlCA,UAAkC;EAAA,IAAtB9E,KAAsB,QAAtBA,KAAsB;EAAA,IAAZrF,KAAY;;EAC3D,IAAQwO,QAAR,GAA6BnJ,KAA7B,CAAQmJ,QAAR;EAAA,IAAkBC,MAAlB,GAA6BpJ,KAA7B,CAAkBoJ,MAAlB;;EACA,IAAMV,WAAW,GAAG,uDAAS1I,KAAK,CAAC0I,WAAf,EAA4B;IAAEnI,MAAM,EAAE;EAAV,CAA5B,CAApB;;EACA,IAAM8I,WAAW,GAAGX,WAAW,IAAIA,WAAW,CAACnI,MAAZ,GAAqBP,KAAK,CAAC0I,WAAN,CAAkBnI,MAA1E;EACA,IAAM+I,QAAQ,GAAGL,kEAAW,CAACjJ,KAAD,CAA5B;EACA,IAAMuJ,iBAAiB,GAAGJ,QAAQ,IAAIC,MAAZ,IAAsB,CAACJ,+DAAK,CAACG,QAAD,CAAL,CAAgBK,MAAhB,CAAuBJ,MAAvB,EAA+B,KAA/B,CAAjD;EACA,IAAMK,mBAAmB,GAAG,CAACL,MAAD,IAAW,CAACG,iBAAZ,GAAgC,SAAhC,GAA4CpN,SAAxE,CAN2D,CAMwB;;EAEnF,oBACE,yDAAC,6DAAD;IACE,KAAK,YAAK0J,kFAAsB,CAACf,UAAD,CAA3B,qBAAkD9E,KAAK,CAACqH,IAAxD,CADP;IAEE,IAAI,EAAEiC,QAAQ,GAAGf,mHAAH,GAAoCA,6HAFpD;IAGE,YAAY,EAAEvI,KAAK,CAACgC,YAHtB;IAIE,KAAK,EAAEhC,KAAK,CAAC4I,KAAN,CAAYC,OAJrB;IAKE,KAAK,EAAE7I,KAAK,CAACsF,kBALf;IAME,KAAK,eACH,wDAAC,6DAAD;MAAY,EAAE,EAAEW,uDAAhB;MAAsB,KAAK,EAAC,WAA5B;MAAwC,IAAI,aAAMnB,UAAU,CAACuC,IAAjB,qBAAgCrH,KAAK,CAACqH,IAAtC,CAA5C;MAAA,UACGrH,KAAK,CAACjB;IADT;EAPJ,GAWMpE,KAXN;IAAA,WAaG,CAACwO,QAAQ,IAAIC,MAAb,kBACC,yDAAC,gDAAD;MAAK,EAAE,EAAE,CAAT;MAAA,wBACE,yDAAC,2DAAD;QAAW,OAAO,EAAC,MAAnB;QAA0B,UAAU,EAAC,QAArC;QAA8C,QAAQ,EAAC,MAAvD;QAAA,wBACE,wDAAC,8EAAD;UAAU,IAAI,EAAC,OAAf;UAAuB,KAAK,EAAC;QAA7B,EADF,eAEE,yDAAC,kDAAD;UAAM,EAAE,EAAE,CAAV;UAAa,KAAK,EAAC,WAAnB;UAAA,WACGD,QAAQ,iBACP;YAAM,QAAQ,EAAEA,QAAhB;YAAA,uBACE,wDAAC,sDAAD;cAAe,KAAK,EAAEA,QAAtB;cAAgC,KAAK,EAAC,OAAtC;cAA8C,GAAG,EAAC,SAAlD;cAA4D,IAAI,EAAEM;YAAlE;UADF,EAFJ,EAMGF,iBAAiB,IAAI,KANxB,EAOG,CAACA,iBAAiB,IAAK,CAACJ,QAAD,IAAaC,MAApC,kBACC;YAAM,QAAQ,EAAEA,MAAhB;YAAA,uBACE,wDAAC,sDAAD;cAAe,KAAK,EAAEA,MAAtB;cAA8B,KAAK,EAAC,OAApC;cAA4C,GAAG,EAAC,SAAhD;cAA0D,IAAI,EAAC;YAA/D;UADF,EARJ;QAAA,EAFF;MAAA,EADF,EAiBGD,QAAQ,iBACP,yDAAC,2DAAD;QAAW,OAAO,EAAC,MAAnB;QAA0B,UAAU,EAAC,QAArC;QAA8C,QAAQ,EAAC,MAAvD;QAA8D,EAAE,EAAE,CAAlE;QAAA,wBACE,wDAAC,wEAAD;UAAO,IAAI,EAAC,OAAZ;UAAoB,KAAK,EAAC;QAA1B,EADF,eAEE,wDAAC,kDAAD;UAAM,EAAE,EAAE,CAAV;UAAa,KAAK,EAAC,WAAnB;UAAA,UACG,CAACI,iBAAD,gBACC,yDAAC,2CAAD;YAAA,wBACE,wDAAC,sDAAD;cAAe,KAAK,EAAEJ,QAAtB;cAAgC,IAAI,EAAC,SAArC;cAA+C,MAAM,EAAC;YAAtD,EADF,EAEGC,MAAM,iBACL,yDAAC,2CAAD;cAAA,6BAEE,wDAAC,sDAAD;gBAAe,KAAK,EAAEA,MAAtB;gBAA8B,IAAI,EAAC,SAAnC;gBAA6C,MAAM,EAAC,SAApD;gBAA8D,YAAY,EAAC;cAA3E,EAFF;YAAA,EAHJ;UAAA,EADD,gBAWC,wDAAC,sDAAD;YAAe,KAAK,EAAED,QAAtB;YAAgC,IAAI,EAAC,SAArC;YAA+C,MAAM,EAAC,SAAtD;YAAgE,YAAY,EAAC;UAA7E;QAZJ,EAFF;MAAA,EAlBJ;IAAA,EAdJ,EAqDGT,WArDH,EAsDGW,WAAW,iBACV,wDAAC,uDAAD;MAAM,IAAI,aAAMvE,UAAU,CAACuC,IAAjB,qBAAgCrH,KAAK,CAACqH,IAAtC,CAAV;MAAA,uBACE,wDAAC,kDAAD;QAAM,aAAa,EAAC,YAApB;QAAiC,UAAU,EAAC,QAA5C;QAAA,uBACE,wDAAC,4DAAD;UAAkB,EAAE,2BAApB;UAA+C,cAAc;YAAA;YAAA;UAAA;QAA7D;MADF;IADF,EAvDJ;EAAA,GADF;AAgED,CAxED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA,yDAAe6B,eAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjHA;AAIA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;;;;AACA,IAAMU,iBAAiB,GAAG,SAApBA,iBAAoB,OAAuC;EAAA,IAApC9E,UAAoC,QAApCA,UAAoC;EAAA,IAAxB+E,OAAwB,QAAxBA,OAAwB;EAAA,IAAZlP,KAAY;;EAC/D,IAAM+N,WAAW,GAAG,uDAASmB,OAAO,CAACnB,WAAjB,EAA8B;IAAEnI,MAAM,EAAE;EAAV,CAA9B,CAApB;;EACA,oBACE,uDAAC,4DAAD;IACE,KAAK,YAAKsF,kFAAsB,CAACf,UAAD,CAA3B,uBAAoD+E,OAAO,CAACxC,IAA5D,CADP;IAEE,IAAI,EAAEwC,OAAO,CAACC,UAAR,GAAqBvB,2HAArB,GAA0DA,yGAFlE;IAGE,YAAY,EAAEsB,OAAO,CAAC7H,YAHxB;IAIE,KAAK,EAAE6H,OAAO,CAACjB,KAAR,CAAcC,OAJvB;IAKE,KAAK,EAAEgB,OAAO,CAACvE,kBALjB;IAME,KAAK,eACH,uDAAC,4DAAD;MAAY,EAAE,EAAEW,sDAAhB;MAAsB,KAAK,EAAC,WAA5B;MAAwC,IAAI,aAAMnB,UAAU,CAACuC,IAAjB,uBAAkCwC,OAAO,CAACxC,IAA1C,CAA5C;MAAA,UACGwC,OAAO,CAAC9K;IADX;EAPJ,GAWMpE,KAXN;IAAA,UAaG+N;EAbH,GADF;AAiBD,CAnBD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,yDAAekB,iBAAf;;;;;;;;;;;;;;;;;;;;;;;;;ACtDA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AAEA,IAAMS,QAAQ,GAAGJ,2DAAc,CAAC;EAC9BK,aAAa,EAAE;IACbpH,EAAE,kBADW;IAEbqH,cAAc;MAAA;MAAA;MAAA;QAAA;UAAA;YAAA;UAAA;YAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;UAAA;YAAA;YAAA;UAAA;QAAA;MAAA;MAAA;MAAA;IAAA;EAFD;AADe,CAAD,CAA/B;;AAOA,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,OAAsC;EAAA,IAAnCC,YAAmC,QAAnCA,YAAmC;EAAA,IAArBC,cAAqB,QAArBA,cAAqB;;EACjE,eAA0BjK,gEAAO,EAAjC;EAAA,IAAQkK,aAAR,YAAQA,aAAR;;EACA,IAAQzH,EAAR,GAA+EuH,YAA/E,CAAQvH,EAAR;EAAA,IAAYmE,IAAZ,GAA+EoD,YAA/E,CAAYpD,IAAZ;EAAA,IAAkBtF,KAAlB,GAA+E0I,YAA/E,CAAkB1I,KAAlB;EAAA,IAAyByF,OAAzB,GAA+EiD,YAA/E,CAAyBjD,OAAzB;EAAA,IAAkCO,SAAlC,GAA+E0C,YAA/E,CAAkC1C,SAAlC;EAAA,IAA6C6C,WAA7C,GAA+EH,YAA/E,CAA6CG,WAA7C;EAAA,IAA0DC,SAA1D,GAA+EJ,YAA/E,CAA0DI,SAA1D;EAAA,IAAqEjC,KAArE,GAA+E6B,YAA/E,CAAqE7B,KAArE;EACA,IAAMkC,YAAY,GAAGD,SAAS,IAAI,mDAAKA,SAAS,CAACE,KAAf,IAAwB,CAA1D;EACA,IAAMC,WAAW,GAAGpC,KAAK,IAAIA,KAAK,CAAC0B,aAAN,GAAsB,CAAnD;EACA,oBACE,yDAAC,iDAAD;IAAA,wBACE,wDAAC,gDAAD;MAAK,EAAE,EAAE,CAAT;MAAA,uBACE,wDAAC,gEAAD;QAAgB,UAAU,EAAEM,WAA5B;QAAA,uBACE,wDAAC,yDAAD;UAAQ,UAAU,EAAEA,WAApB;UAAiC,MAAM,EAAE;QAAzC;MADF;IADF,EADF,eAME;MAAA,wBACE,wDAAC,sDAAD;QAAM,IAAI,aAAMF,cAAN,4BAAsCrD,IAAtC,cAA8CnE,EAA9C,CAAV;QAAA,uBACE,wDAAC,qCAAD;UAAI,SAAS,EAAC,YAAd;UAA2B,EAAE,EAAE,CAA/B;UAAA,UACGnB;QADH;MADF,EADF,eAME,wDAAC,oCAAD;QAAG,KAAK,EAAC,WAAT;QAAqB,QAAQ,EAAC,MAA9B;QAAA,uBACE,wDAAC,4DAAD;UACE,EAAE,wBADJ;UAEE,cAAc;YAAA;YAAA;UAAA;YAAA;YAAA;UAAA;YAAA;YAAA;UAAA;YAAA;YAAA;UAAA,EAFhB;UAGE,MAAM,EAAE;YACNa,IAAI,eAAE,wDAAC,sDAAD;cAAe,KAAK,EAAEmF,SAAtB;cAAiC,GAAG,EAAC,SAArC;cAA+C,KAAK,EAAC,MAArD;cAA4D,IAAI,EAAC;YAAjE,EADA;YAEND,MAAM,eAAE,wDAAC,gEAAD;cAAgB,UAAU,EAAE8C;YAA5B;UAFF;QAHV;MADF,EANF,eAgBE,wDAAC,oCAAD;QACE,KAAK,EAAC,WADR;QAEE,EAAE,EAAE,CAFN;QAGE,QAAQ,EAAC,MAHX;QAIE,uBAAuB,EAAE;UAAEK,MAAM,EAAEzD;QAAV,CAJ3B;QAKE,WAAQ;MALV,EAhBF,EAuBG,CAACsD,YAAY,IAAIE,WAAjB,kBACC,yDAAC,iDAAD;QAAM,EAAE,EAAE,CAAV;QAAa,UAAU,EAAC,QAAxB;QAAA,WACGF,YAAY,iBACX,wDAAC,gDAAD;UAAK,EAAE,EAAE,CAAT;UAAA,uBACE,wDAAC,mEAAD;YACE,SAAS,EAAED,SAAS,CAACE,KADvB;YAEE,UAAU,EAAEF,SAAS,CAACK,UAFxB;YAGE,cAAc,EAAE,CAHlB;YAIE,YAAY,EAAE;UAJhB;QADF,EAFJ,EAWGF,WAAW,iBACV,yDAAC,2DAAD;UACE,OAAO,EAAC,MADV;UAEE,UAAU,EAAC,QAFb;UAGE,KAAK,EAAC,WAHR;UAIE,KAAK,EAAEL,aAAa,CAACN,QAAQ,CAACC,aAAV,EAAyB;YAAEa,CAAC,EAAEvC,KAAK,CAAC0B;UAAX,CAAzB,CAJtB;UAKE,QAAQ,EAAC,MALX;UAME,WAAQ,eANV;UAAA,wBAQE,wDAAC,mEAAD;YAAa,IAAI,EAAC,KAAlB;YAAwB,KAAK,EAAC;UAA9B,EARF,UAUG1B,KAAK,CAAC0B,aAVT;QAAA,EAZJ;MAAA,EAxBJ;IAAA,EANF;EAAA,EADF;AA6DD,CAlED;;AA+FA;AACA;AACA;AACA,IAAMc,iBAAiB,GAAG,SAApBA,iBAAoB,QAAuC;EAAA,IAApCV,cAAoC,SAApCA,cAAoC;EAAA,IAApBW,aAAoB,SAApBA,aAAoB;;EAC/D,IAAI,CAACA,aAAD,IAAkBA,aAAa,CAAC9K,MAAd,KAAyB,CAA/C,EAAkD;IAChD,OAAO,IAAP;EACD;;EAED,oBACE,wDAAC,4DAAD;IAAA,UACG8K,aAAa,CAAC9I,GAAd,CAAkB,UAACkI,YAAD,EAAehI,GAAf;MAAA,oBACjB,wDAAC,2DAAD;QAAiC,SAAS,EAAE,CAACA,GAAD,GAAOtG,SAAP,GAAmB,WAA/D;QAA4E,WAAW,EAAC,WAAxF;QAAoG,CAAC,EAAE,CAAvG;QAAA,uBACE,wDAAC,oBAAD;UAAsB,cAAc,EAAEuO,cAAtC;UAAsD,YAAY,EAAED;QAApE;MADF,GAAgBA,YAAY,CAACvH,EAA7B,CADiB;IAAA,CAAlB;EADH,EADF;AASD,CAdD;;;;;;;;;;;;;;;;;;;;;;;;;;AAqBA,yDAAekI,iBAAf;;;;;;;;;;;;;;;;;;AC9IA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAEA,IAAMf,QAAQ,GAAGJ,0DAAc,CAAC;EAC9BsB,UAAU,EAAE;IACVrI,EAAE,+BADQ;IAEVqH,cAAc;MAAA;MAAA;IAAA;MAAA;MAAA;IAAA;MAAA;MAAA;MAAA;QAAA;UAAA;YAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;UAAA;YAAA;YAAA;UAAA;QAAA;MAAA;MAAA;MAAA;IAAA;EAFJ;AADkB,CAAD,CAA/B;;AAOA,IAAMiB,4BAA4B,GAAG,SAA/BA,4BAA+B,CAACX,SAAD,EAAYY,cAAZ,EAA+B;EAClE,IAAIZ,SAAS,CAACtK,MAAV,IAAoBkL,cAAxB,EAAwC;IACtC,OAAO,IAAP;EACD,CAFD,MAEO;IACL,OAAOZ,SAAS,CACba,KADI,CACED,cADF,EAEJlJ,GAFI,CAEA,UAAAoJ,CAAC;MAAA,OAAIA,CAAC,CAAC5M,IAAN;IAAA,CAFD,EAGJ6M,IAHI,CAGC,IAHD,CAAP;EAID;AACF,CATD;AAWA;AACA;AACA;;;AACA,IAAMxB,gBAAgB,GAAG,SAAnBA,gBAAmB,OAA6D;EAAA,IAA1DS,SAA0D,QAA1DA,SAA0D;EAAA,IAA/CK,UAA+C,QAA/CA,UAA+C;EAAA,IAAnCW,YAAmC,QAAnCA,YAAmC;EAAA,IAArBJ,cAAqB,QAArBA,cAAqB;;EACpF,eAA0BhL,+DAAO,EAAjC;EAAA,IAAQkK,aAAR,YAAQA,aAAR;;EAEA,IAAI,CAACE,SAAD,IAAc,CAACA,SAAS,CAACtK,MAA7B,EAAqC;IACnC,OAAO,IAAP;EACD;;EAED,IAAMuL,cAAc,GAAGZ,UAAU,GAAGO,cAApC;EACA,IAAMM,YAAY,GAAGb,UAAU,GAAGL,SAAS,CAACtK,MAA5C;EACA,IAAMyL,sBAAsB,GAAGR,4BAA4B,CAACX,SAAD,EAAYY,cAAZ,CAA3D;EACA,oBACE,wDAAC,2DAAD;IAAW,OAAO,EAAC,MAAnB;IAA0B,UAAU,EAAC,QAArC;IAA8C,QAAQ,EAAC,MAAvD;IAAA,WACGZ,SAAS,CAACa,KAAV,CAAgB,CAAhB,EAAmBD,cAAnB,EAAmClJ,GAAnC,CAAuC,UAAAuC,UAAU;MAAA,oBAChD,uDAAC,gDAAD;QAAyB,EAAE,EAAE,CAAC,CAAC,CAAF,EAAK,CAAL,CAA7B;QAAA,uBACE,uDAAC,gEAAD;UAAgB,UAAU,EAAEA,UAA5B;UAAA,uBACE,uDAAC,yDAAD;YAAQ,UAAU,EAAEA,UAApB;YAAgC,MAAM,EAAE+G;UAAxC;QADF;MADF,GAAU/G,UAAU,CAAC5B,EAArB,CADgD;IAAA,CAAjD,CADH,EAQG4I,cAAc,GAAG,CAAjB,iBACC,wDAAC,iDAAD;MACE,KAAK,EAAC,WADR;MAEE,KAAK,EACHjB,SAAS,CAACtK,MAAV,GAAmB2K,UAAnB,GACIP,aAAa,CAACN,QAAQ,CAACkB,UAAV,EAAsB;QAAExL,KAAK,EAAEgM,YAAT;QAAuBE,SAAS,EAAED;MAAlC,CAAtB,CADjB,GAEIA,sBALR;MAAA,oBAQUF,cARV;IAAA,EATJ;EAAA,EADF;AAuBD,CAjCD;;AA+CA1B,gBAAgB,CAACjK,YAAjB,GAAgC;EAC9BsL,cAAc,EAAE,CADc;EAE9BI,YAAY,EAAE;AAFgB,CAAhC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,yDAAeP,iEAAQ,CAAClB,gBAAD,CAAvB;;;;;;;;;;;;;;;;;;;;;ACpFA;AAEO,IAAM+B,qBAAqB,GAAGD,oEAAH,qaAA3B;AAiBA,IAAME,wBAAwB,GAAGF,oEAAH,qwBAA9B;AAqCA,IAAMG,gCAAgC,GAAGH,oEAAH,ocAAtC;AAeA,IAAMI,kBAAkB,GAAGJ,oEAAH,0jBAAxB;;;;;;;;;;;;;ACvEP;AAEA;AAEA;AAEA;;AAEA,IAAM5R,SAAS,GAAGH,iGAAH;EAAA;EAAA;AAAA,aACX,UAAAQ,KAAK;EAAA,OACL,CAACA,KAAK,CAAC6R,OAAP,IACApS,gEADA,mCADK;AAAA,CADM,CAAf;;AAQA,IAAMqS,gBAAgB,GAAG,SAAnBA,gBAAmB,OAAqE;EAAA,IAAlEC,YAAkE,QAAlEA,YAAkE;EAAA,IAApD5H,UAAoD,QAApDA,UAAoD;EAAA,IAAxC6H,cAAwC,QAAxCA,cAAwC;EAAA,IAAxBC,iBAAwB,QAAxBA,iBAAwB;;EAC5F,IAAI,EAACF,YAAD,aAACA,YAAD,eAACA,YAAY,CAAEnM,MAAf,CAAJ,EAA2B;IACzB,OAAO,IAAP;EACD;;EAED,oBACE,uDAAC,4DAAD;IAAA,UACGmM,YAAY,CAACnK,GAAb,CAAiB,UAACsK,WAAD,EAAcpK,GAAd,EAAsB;MACtC,oBACE,uDAAC,SAAD;QAAwC,OAAO,EAAE,CAACA,GAAlD;QAAuD,WAAQ,oBAA/D;QAAA,uBACE,uDAAC,iEAAD;UACE,WAAW,EAAEoK,WADf;UAEE,UAAU,EAAE/H,UAFd;UAGE,cAAc,EAAE6H,cAHlB;UAIE,iBAAiB,EAAEC;QAJrB;MADF,GAAgB,CAAAC,WAAW,SAAX,IAAAA,WAAW,WAAX,YAAAA,WAAW,CAAE3J,EAAb,KAAmBT,GAAnC,CADF;IAUD,CAXA;EADH,EADF;AAgBD,CArBD;;AAwCAgK,gBAAgB,CAACtM,YAAjB,GAAgC;EAC9B2M,IAAI,EAAE;AADwB,CAAhC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,yDAAeL,gBAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5DA;AAEA;AAEA;AACA;AAEA;AACA;AAEA,IAAMW,GAAG,GAAGnD,2DAAc,CAAC;EACzBoD,YAAY,EAAE;IACZnK,EAAE,+BADU;IAEZqH,cAAc;MAAA;MAAA;IAAA;MAAA;MAAA;MAAA;QAAA;UAAA;YAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;YAAA;UAAA;QAAA;MAAA;MAAA;MAAA;IAAA;MAAA;MAAA;IAAA;MAAA;MAAA;IAAA;EAFF;AADW,CAAD,CAA1B;AAOA;;AACA,IAAM+C,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,kBAAkB,EAAI;EAC9C,IAAI,CAACA,kBAAD,IAAuBA,kBAAkB,CAAChN,MAAnB,KAA8B,CAAzD,EAA4D;IAC1D,OAAO,CAAP;EACD,CAFD,MAEO;IACL,IAAMiN,mBAAmB,GAAGD,kBAAkB,CAACE,MAAnB,CAA0B,UAACC,KAAD,EAAQvS,OAAR;MAAA,OAAoBuS,KAAK,GAAGvS,OAA5B;IAAA,CAA1B,EAA+D,CAA/D,CAA5B;IACA,OAAOwG,IAAI,CAACE,KAAL,CAAW2L,mBAAmB,GAAGD,kBAAkB,CAAChN,MAApD,CAAP;EACD;AACF,CAPD;;AASO,IAAMtD,gBAAgB,GAAG,SAAnBA,gBAAmB,OAAgE;EAAA,IAA7DgC,OAA6D,QAA7DA,OAA6D;EAAA,IAApDN,kBAAoD,QAApDA,kBAAoD;EAAA,IAAhCP,SAAgC,QAAhCA,SAAgC;EAAA,IAArBC,QAAqB,QAArBA,QAAqB;EAAA,IAAXa,IAAW,QAAXA,IAAW;;EAC9F,sBAAoClF,2CAAA,CAAe,KAAf,CAApC;EAAA;EAAA,IAAOqF,WAAP;EAAA,IAAoBuO,YAApB;;EACA,uBAAoD5T,2CAAA,CAAe,EAAf,CAApD;EAAA;EAAA,IAAOuT,kBAAP;EAAA,IAA2BM,qBAA3B;;EACA,iBAAqBZ,8EAAS,EAA9B;EAAA,IAAQa,QAAR,cAAQA,QAAR;;EACA,IAAM1L,IAAI,GAAG3B,gEAAO,EAApB;EACA,OAAO;IACLpB,WAAW,EAAXA,WADK;IAELC,cAAc,EAAEgO,iBAAiB,CAACC,kBAAD,CAF5B;IAGLnO,WAAW,EAAEpF,8CAAA;MAAA,0WACX,iBAAOgU,aAAP,EAAsBC,aAAtB;QAAA;QAAA;UAAA;YAAA;cAAA;gBACEL,YAAY,CAAC,IAAD,CAAZ;gBACMM,aAFR,GAEwBjP,OAAO,GAAG+O,aAAH,GAAmB,CAACA,aAAa,CAAC,CAAD,CAAd,CAFlD;gBAAA;gBAAA,OAGwBb,6DAAU,CAC9Be,aAAa,CAAC3L,GAAd,CAAkB,UAAC4L,IAAD,EAAOC,KAAP;kBAAA,OAChBlB,mEAAkB,CAACiB,IAAD,EAAOjP,IAAP,EAAa;oBAC7BmP,SAAS,EAAE1P,kBAAkB,IAAIA,kBAAkB,CAACyP,KAAD,CADtB;oBAE7BE,UAAU,EAAE,oBAAAC,QAAQ,EAAI;sBACtB,IAAMC,eAAe,GAAG,0KAAIjB,kBAAP,CAArB;;sBACAiB,eAAe,CAACC,MAAhB,CAAuBL,KAAvB,EAA8B,CAA9B,EAAiCG,QAAjC;sBACAV,qBAAqB,CAACW,eAAD,CAArB;oBACD;kBAN4B,CAAb,CADF;gBAAA,CAAlB,CAD8B,CAHlC;;cAAA;gBAGQE,OAHR;gBAgBEd,YAAY,CAAC,KAAD,CAAZ;gBAEMe,SAlBR,GAkBoB,EAlBpB;gBAmBQC,QAnBR,GAmBmB,EAnBnB;gBAoBEF,OAAO,CAACG,OAAR,CAAgB,UAACC,MAAD,EAASV,KAAT,EAAmB;kBACjC,IAAMW,QAAQ,GAAG,mDAAKb,aAAa,CAACE,KAAD,CAAlB,EAA2B,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,CAA3B,CAAjB;;kBACA,IAAIU,MAAM,CAACE,MAAP,KAAkB,WAAtB,EAAmC;oBACjCL,SAAS,CAACM,IAAV;sBAAiBC,GAAG,EAAEJ,MAAM,CAAC9P;oBAA7B,GAAuC+P,QAAvC;kBACD,CAFD,MAEO;oBACLH,QAAQ,CAACK,IAAT;sBAAgBE,OAAO,EAAEL,MAAM,CAACM;oBAAhC,GAA2CL,QAA3C;kBACD;gBACF,CAPD;;gBApBF,MA6BM3Q,SAAS,IAAIuQ,SAAS,CAACpO,MAAV,GAAmB,CA7BtC;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OA8BUnC,SAAS,CAACa,OAAO,GAAG0P,SAAH,GAAeA,SAAS,CAAC,CAAD,CAAhC,CA9BnB;;cAAA;gBAiCE,IAAItQ,QAAQ,IAAIuQ,QAAQ,CAACrO,MAAT,GAAkB,CAAlC,EAAqC;kBACnClC,QAAQ,CAACY,OAAO,GAAG2P,QAAH,GAAcA,QAAQ,CAAC,CAAD,CAA9B,CAAR;gBACD;;gBAED,IAAIX,aAAJ,aAAIA,aAAJ,eAAIA,aAAa,CAAE1N,MAAnB,EAA2B;kBACnB8O,OADmB,GACTjN,IAAI,CAACuI,aAAL,CAAmByC,GAAG,CAACC,YAAvB,kCACXN,4EADW;oBAEdhN,KAAK,EAAEkO,aAAa,CAAC1N,MAFP;oBAGd+O,KAAK,EAAErB,aAAa,CAAC1L,GAAd,CAAkB;sBAAA,IAAG4L,IAAH,SAAGA,IAAH;sBAAA,OAAcA,IAAI,CAACpP,IAAnB;oBAAA,CAAlB,EAA2C6M,IAA3C,CAAgD,IAAhD;kBAHO,GADS;kBAMnB2D,QANmB,GAMR,kDAAItB,aAAa,CAAC,CAAD,CAAjB,EAAsB,kBAAtB,KAA6C,EANrC;kBAOzBH,QAAQ,CAAC;oBAAE0B,IAAI,EAAExC,0FAAR;oBAA0BmC,OAAO,YAAKE,OAAL,eAAiBE,QAAjB;kBAAjC,CAAD,CAAR;gBACD;;cA7CH;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CADW;;MAAA;QAAA;MAAA;IAAA,KAgDX,CAACtQ,OAAD,EAAUb,SAAV,EAAqBC,QAArB,EAA+BM,kBAA/B,EAAmD4O,kBAAnD,CAhDW;EAHR,CAAP;AAsDD,CA3DM;;;;;;;;;;;;;;;;;;;;;;;;AC3BP;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEe,SAASwC,SAAT,GAAqB;EAClC,oBACE;IAAK,SAAS,EAAC,WAAf;IAA2B,WAAQ,YAAnC;IAAA,wBACE,uDAAC,mEAAD,KADF,eAEE,uDAAC,iEAAD;MAAA,uBACE,uDAAC,sEAAD;QAAW,SAAS,EAAC,mBAArB;QAAyC,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAA7C;QAAA,uBACE,wDAAC,4DAAD;UAAM,WAAQ,WAAd;UAA0B,aAAa,EAAC,QAAxC;UAAiD,UAAU,EAAC,QAA5D;UAAA,wBACE,uDAAC,gDAAD;YAAI,SAAS,EAAC,QAAd;YAAA,uBACE,uDAAC,4DAAD;cAAkB,EAAE,YAApB;cAAgC,cAAc;gBAAA;gBAAA;cAAA;YAA9C;UADF,EADF,eAIE,uDAAC,+CAAD;YAAG,QAAQ,EAAC,QAAZ;YAAqB,KAAK,EAAC,aAA3B;YAAyC,EAAE,EAAE,CAA7C;YAAgD,EAAE,EAAE,CAApD;YAAA;UAAA,EAJF,eAOE,uDAAC,4DAAD;YAAM,QAAQ,EAAC,MAAf;YAAsB,cAAc,EAAC,QAArC;YAAA,uBACE,wDAAC,yEAAD;cAAc,CAAC,EAAE,CAAjB;cAAoB,OAAO,EAAE;gBAAA,OAAML,uDAAA,EAAN;cAAA,CAA7B;cAAA,mCACS,uDAAC,4DAAD;gBAAkB,EAAE,gBAApB;gBAAoC,cAAc;kBAAA;kBAAA;gBAAA;cAAlD,EADT;YAAA;UADF,EAPF;QAAA;MADF;IADF,EAFF,eAmBE,uDAAC,mEAAD,KAnBF;EAAA,EADF;AAuBD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpCD;AAEA;AACA;;;AAEA,IAAMU,kBAAkB,GAAG,SAArBA,kBAAqB,OAAiC;EAAA,IAA9BC,aAA8B,QAA9BA,aAA8B;EAAA,IAAZ1V,KAAY;;EAC1D,IAAM2V,WAAW,GAAGD,aAAH,aAAGA,aAAH,uBAAGA,aAAa,CAAEE,KAAf,CAAqB,8BAArB,CAApB;EACA,OAAOD,WAAW,gBAAG,oBAAC,wBAAD,oBAAY3V,KAAZ,EAAH,gBAA2B,oBAAC,oBAAD,oBAA+BA,KAA/B,EAA7C;AACD,CAHD;;;;;;;;;;;;;;;;AASA,kEAAeyV,kBAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,IAAMgB,gBAAgB,GAAGxL,wBAAH,yPAAtB;AAaA,IAAMyL,aAAa,GAAGnF,mCAAH,wOAAnB;AAgBe,SAASoF,aAAT,OAAoE;EAAA;;EAAA,IAA3CxM,UAA2C,QAA3CA,UAA2C;EAAA,IAA/ByM,OAA+B,QAA/BA,OAA+B;;EACjF,iBAAqBtE,mCAAS,EAA9B;EAAA,IAAQa,QAAR,cAAQA,QAAR;;EACA,mBAAgC0C,sBAAW,CAACY,gBAAD,CAA3C;EAAA;EAAA,IAAOI,QAAP;EAAA,IAAmBC,OAAnB,oBAAmBA,OAAnB;;EAEA,gBAAoDhB,mBAAQ,CAACY,aAAD,EAAgB;IAC1EnJ,SAAS,EAAE,+BAAM,oBAAApD,UAAU,CAAC4M,IAAX,8DAAiBrK,IAAjB,GAAwB;MAAEqK,IAAI,EAAE;QAAErK,IAAI,EAAEvC,UAAU,CAAC4M,IAAX,CAAgBrK;MAAxB;IAAR,CAAxB,GAAmE,EAA3E,CADiE;IAE1EsK,OAAO,EAAEd,6BAAcA;EAFmD,CAAhB,CAA5D;EAAA,+BAAQ9J,IAAR;;EAAA,6CAA6B;IAAE6K,QAAQ,EAAE;EAAZ,CAA7B;EAAA,IAAgBA,QAAhB,kBAAgBA,QAAhB;EAKA,IAAMC,aAAa,GAAG;IACpBC,IAAI,EAAEhN,UAAU,CAACgN;EADG,CAAtB;;EAIA,IAAMC,MAAM;IAAA,gFAAG,iBAAMC,MAAN;MAAA;MAAA;QAAA;UAAA;YAAA;cACLF,IADK,GACIE,MADJ,CACLF,IADK;cAAA;cAGL5J,SAHK,GAGO;gBAChBpD,UAAU,EAAE;kBACV5B,EAAE,EAAE4B,UAAU,CAAC5B,EADL;kBAEV4O,IAAI,EAAEA;gBAFI;cADI,CAHP;cAAA;cAAA,OAULN,QAAQ,CAAC;gBAAEtJ,SAAS,EAATA;cAAF,CAAD,CAVH;;YAAA;cAAA;cAAA;;YAAA;cAAA;cAAA;cAYX4F,QAAQ,CAAC;gBACP0B,IAAI,EAAExC,+CADC;gBAEPmC,OAAO,eACL,oBAAC,sBAAD;kBAAA;kBACE,cAAc;oBAAA;oBAAA;kBAAA;oBAAA;oBAAA;kBAAA,EADhB;kBAEE,MAAM,EAAE;oBACNnR,KAAK,EAAE,YAAEmR;kBADH;gBAFV;cAHK,CAAD,CAAR;cAZW;;YAAA;cAyBbrB,QAAQ,CAAC;gBACP0B,IAAI,EAAExC,mDADC;gBAEPmC,OAAO,eAAE,oBAAC,sBAAD;kBAAA;kBAAkB,cAAc;oBAAA;oBAAA;kBAAA;gBAAhC;cAFF,CAAD,CAAR;cAIA+C,WAAW;;YA7BE;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAH;;IAAA,gBAANH,MAAM;MAAA;IAAA;EAAA,GAAZ;;EAgCA,IAAMG,WAAW,GAAG,SAAdA,WAAc,GAAM;IACxBX,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO;EACR,CAFD;;EAIA,oBACE,oBAAC,2BAAD;IAAa,QAAQ,EAAE,CAAvB;IAA0B,QAAQ,EAAC,OAAnC;IAA2C,OAAO,EAAEW,WAApD;IAAiE,SAAS,MAA1E;IAAA,uBACE,oBAAC,yBAAD;MAAQ,aAAa,EAAEL,aAAvB;MAAsC,QAAQ,EAAEE,MAAhD;MAAA,UACG,kBAAAI,MAAM;QAAA,oBACL,qBAAC,uBAAD;UAAM,QAAQ,EAAEA,MAAM,CAACC,YAAvB;UAAA,wBAGE;YAAK,QAAQ,EAAE;UAAf,EAHF,eAIE,oBAAC,+BAAD;YAAa,OAAO,EAAEF,WAAtB;YAAmC,aAAa,EAAE,IAAlD;YAAA,uBACE,oBAAC,sBAAD;cAAA;cAAkB,cAAc;gBAAA;gBAAA;cAAA;YAAhC;UADF,EAJF,eAOE,qBAAC,6BAAD;YAAW,EAAE,EAAE,CAAf;YAAA,wBACE,oBAAC,qCAAD;cACE,IAAI,EAAC,MADP;cAEE,OAAO,EAAC,MAFV;cAGE,UAAU,EAAE;gBAAEG,UAAU,EAAE,GAAd;gBAAmB3T,QAAQ,EAAE,MAA7B;gBAAqC4T,UAAU,EAAE;cAAjD,CAHd;cAAA,UAKG,yBAAe;gBAAA;;gBAAA,IAAZC,KAAY,SAAZA,KAAY;gBACd,oBACE,oBAAC,kCAAD,4DACMA,KADN;kBAEE,YAAY,EAAEJ,MAAM,CAACH,MAAP,CAAcF,IAF9B;kBAGE,QAAQ,EAAE,kBAAAA,IAAI,EAAI;oBAChBK,MAAM,CAACK,aAAP,CACE,MADF,EAEEV,IAAI,CAACvP,GAAL,CAAS,UAAAkQ,CAAC;sBAAA,OAAIA,CAAC,CAACzT,KAAF,CAAQ0T,WAAR,EAAJ;oBAAA,CAAV,CAFF;kBAID,CARH;kBASE,aAAa,EAAEd,QAAF,aAAEA,QAAF,0CAAEA,QAAQ,CAAE7G,KAAZ,oDAAE,gBAAiBxI,GAAjB,CAAqB,UAAAoQ,IAAI;oBAAA,OAAIA,IAAI,CAACC,GAAT;kBAAA,CAAzB,EAAuCC,MAAvC,CAA8C,UAAAD,GAAG;oBAAA,OAAI,CAAChC,kDAAA,CAAsBgC,GAAtB,CAAL;kBAAA,CAAjD;gBATjB,GADF;cAaD;YAnBH,EADF,eAsBE,oBAAC,yBAAD;cAAY,IAAI,EAAC,MAAjB;cAAwB,EAAE,EAAE,CAA5B;cAAA,uBACE,oBAAC,sBAAD;gBACE,EAAE,wBADJ;gBAEE,cAAc;kBAAA;kBAAA;gBAAA;cAFhB;YADF,EAtBF;UAAA,EAPF,eAoCE,oBAAC,+BAAD;YAAa,WAAW,MAAxB;YAAA,uBACE,qBAAC,4BAAD;cAAM,cAAc,EAAC,YAArB;cAAkC,QAAQ,EAAC,MAA3C;cAAkD,GAAG,EAAC,MAAtD;cAAA,wBACE,oBAAC,2BAAD;gBACE,QAAQ,EAAE,GADZ;gBAEE,WAAW,EAAC,SAFd;gBAGE,OAAO,EAAEnB,OAHX;gBAIE,QAAQ,EAAE,CAACU,MAAM,CAACY,KAJpB;gBAKE,IAAI,EAAC,QALP;gBAAA,uBAOE,oBAAC,sBAAD;kBAAkB,EAAE,QAApB;kBAA4B,cAAc;oBAAA;oBAAA;kBAAA;gBAA1C;cAPF,EADF,eAUE,oBAAC,2BAAD;gBACE,QAAQ,EAAE,GADZ;gBAEE,WAAW,EAAC,WAFd;gBAGE,QAAQ,EAAEtB,OAHZ;gBAIE,IAAI,EAAC,QAJP;gBAKE,OAAO,EAAES,WALX;gBAAA,uBAOE,oBAAC,sBAAD;kBAAkB,EAAE,kBAApB;kBAAsC,cAAc;oBAAA;oBAAA;kBAAA;gBAApD;cAPF,EAVF;YAAA;UADF,EApCF;QAAA,EADK;MAAA;IADT;EADF,EADF;AAmED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClKD;AAGA;;;AAEA,IAAMc,WAAW,GAAG,SAAdA,WAAc,OAA2B;EAAA,IAAxBC,OAAwB,QAAxBA,OAAwB;EAAA,IAAZtY,KAAY;;EAC7C,IAAI,CAACsY,OAAD,IAAYA,OAAO,CAAC,CAAD,CAAP,KAAe,GAA/B,EAAoC;IAClC,OAAOA,OAAP;EACD,CAH4C,CAK7C;EACA;;;EACA,IAAMC,WAAW,GAAGD,OAAO,CAACE,KAAR,CAAc,GAAd,EAAmB,CAAnB,EAAsBzH,KAAtB,CAA4B,CAA5B,CAApB;EACA,oBACE,qBAAC,mBAAD;IAAM,IAAI,aAAMwH,WAAN;EAAV,GAAmCvY,KAAnC;IAAA,gBACIuY,WADJ;EAAA,GADF;AAKD,CAbD;;;;;;;;;;;;;;;;AAmBA,2DAAeF,WAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,IAAMY,SAAS,GAAG,6BAAlB;AAEA,IAAMC,WAAW,GAAG1Z,iFAAH;EAAA;EAAA;AAAA,wKAAjB,EAcA;;AACA,IAAM4Z,aAAa,GAAG,CACpB,SADoB,EACT,SADS,EACE,SADF,EACa,SADb,EACwB,SADxB,EACmC,SADnC,EAC8C,SAD9C,EACyD,SADzD,EAEpB,SAFoB,EAET,SAFS,EAEE,SAFF,EAEa,SAFb,EAEwB,SAFxB,EAEmC,SAFnC,EAE8C,SAF9C,EAEyD,SAFzD,EAGpB,SAHoB,EAGT,SAHS,EAGE,SAHF,EAGa,SAHb,EAGwB,SAHxB,EAGmC,SAHnC,EAG8C,SAH9C,EAGyD,SAHzD,CAAtB;AAMA;;AACA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAAhV,KAAK;EAAA,OAAIuU,wBAAU,CAACvU,KAAD,CAAV,IAAqBA,KAAK,CAACuB,MAAN,KAAiB,CAA1C;AAAA,CAA3B;;AAEA,IAAM0T,qBAAqB,GAAG,SAAxBA,qBAAwB,OAA8C;EAAA,IAA3CnP,UAA2C,QAA3CA,UAA2C;EAAA,IAA/BoP,SAA+B,QAA/BA,QAA+B;EAAA,IAArB3C,OAAqB,QAArBA,OAAqB;EAAA,IAAZ1T,KAAY,QAAZA,KAAY;EAC1E,IAAMoG,KAAK,GAAGpG,KAAK,CAACC,MAAN,CAAaC,OAAb,CAAqBoW,IAArB,IAA6BtW,KAAK,CAACC,MAAN,CAAaC,OAAb,CAAqB,GAArB,CAA3C;;EACA,sBAAkC/D,cAAA,CAAeiK,KAAK,CAACmQ,OAAN,CAAc,GAAd,EAAmB,EAAnB,CAAf,CAAlC;EAAA;EAAA,IAAOC,SAAP;EAAA,IAAkBC,YAAlB;;EACA,uBAAkCta,cAAA,CAAe,KAAf,CAAlC;EAAA;EAAA,IAAOua,SAAP;EAAA,IAAkBC,YAAlB;;EACA,IAAMC,QAAQ,GAAG,CAACT,aAAa,YAAKK,SAAL,EAA/B;;EACA,IAAMK,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,CAAC,EAAI;IACzBL,YAAY,CAACK,CAAC,CAACP,OAAF,CAAU,GAAV,EAAe,EAAf,CAAD,CAAZ;;IACAF,SAAQ,CAACS,CAAD,CAAR;EACD,CAHD;;EAKA,oBACE,oBAAC,wBAAD;IAAU,QAAQ,EAAEhB,gDAApB;IAAA,UACG,kBAACiB,YAAD;MAAA,IAAiBnD,OAAjB,SAAiBA,OAAjB;MAAA,oBACC,qBAAC,yBAAD;QACE,WAAQ,8BADV;QAEE,aAAa,EAAC,QAFhB;QAGE,SAAS,EAAC,sBAHZ;QAIE,QAAQ,EAAE,GAJZ;QAAA,wBAME,qBAAC,2BAAD;UAAK,EAAE,EAAE,EAAT;UAAa,EAAE,EAAE,EAAjB;UAAA,wBACE,oBAAC,MAAD;YAAG,QAAQ,EAAC,MAAZ;YAAmB,UAAU,EAAE,GAA/B;YAAoC,EAAE,EAAE,CAAxC;YAAA,uBACE,oBAAC,sBAAD;cAAkB,EAAE,+BAApB;cAAmD,cAAc;gBAAA;gBAAA;cAAA;YAAjE;UADF,EADF,eAIE,oBAAC,MAAD;YAAG,QAAQ,EAAC,MAAZ;YAAmB,EAAE,EAAE,CAAvB;YAAA,uBACE,oBAAC,sBAAD;cAAkB,EAAE,gCAApB;cAAoD,cAAc;gBAAA;gBAAA;cAAA;YAAlE;UADF,EAJF,eAOE,oBAAC,4BAAD;YAAM,QAAQ,EAAC,MAAf;YAAsB,cAAc,EAAC,eAArC;YAAA,UACGsC,aAAa,CAACxR,GAAd,CAAkB,UAAAsS,MAAM;cAAA,oBACvB,oBAAC,WAAD;gBACE,WAAQ,qCADV;gBAGE,KAAK,EAAE;kBAAEC,UAAU,EAAED;gBAAd,CAHT;gBAIE,OAAO,EAAE;kBAAA,OAAMH,aAAa,CAACG,MAAD,CAAnB;gBAAA,CAJX;gBAAA,UAMG5Q,KAAK,KAAK4Q,MAAV,iBAAoB,oBAAC,sBAAD;kBAAO,IAAI,EAAE,EAAb;kBAAiB,KAAK,EAAC;gBAAvB;cANvB,GAEOA,MAFP,CADuB;YAAA,CAAxB;UADH,EAPF,eAmBE,oBAAC,MAAD;YAAG,QAAQ,EAAC,MAAZ;YAAmB,EAAE,EAAE,CAAvB;YAA0B,EAAE,EAAE,CAA9B;YAAA,uBACE,oBAAC,sBAAD;cAAkB,EAAE,gCAApB;cAAoD,cAAc;gBAAA;gBAAA;cAAA;YAAlE;UADF,EAnBF,eAsBE,qBAAC,4BAAD;YAAA,wBACE,oBAAC,2BAAD;cACE,IAAI,EAAE,EADR;cAEE,IAAI,EAAC,UAFP;cAGE,EAAE,EAAE,CAHN;cAIE,EAAE,EAAE,CAJN;cAKE,UAAU,EAAC,OALb;cAME,YAAY,EAAC,KANf;cAOE,IAAI,EAAC,OAPP;cAQE,KAAK,EAAE5Q,KART;cASE,QAAQ,EAAEwN,OATZ;cAUE,QAAQ,EAAE,kBAAAsD,CAAC,EAAI;gBACbL,aAAa,CAACK,CAAC,CAACC,MAAF,CAAShW,KAAV,CAAb;cACD;YAZH,EADF,eAeE;cAAA,uBACE,oBAAC,+BAAD;gBACE,OAAO,EAAC,GADV;gBAEE,WAAW,EAAC,QAFd;gBAGE,EAAE,EAAE,CAHN;gBAIE,cAAc,EAAE;kBAAEiW,EAAE,EAAE;gBAAN,CAJlB;gBAKE,KAAK,EAAEZ,SALT;gBAME,SAAS,EAAE,CANb;gBAOE,QAAQ,EAAE5C,OAPZ;gBAQE,MAAM,EAAE;kBAAA,OAAM+C,YAAY,CAAC,IAAD,CAAlB;gBAAA,CARV;gBASE,KAAK,EACHD,SAAS,IACTE,QADA,iBAEE,oBAAC,sBAAD;kBACE,EAAE,+BADJ;kBAEE,cAAc;oBAAA;oBAAA;kBAAA;gBAFhB,EAZN;gBAkBE,QAAQ,EAAE,kBAAAM,CAAC,EAAI;kBACb,IAAMG,QAAQ,GAAGH,CAAC,CAACC,MAAF,CAAShW,KAAT,CAAeoV,OAAf,CAAuB,GAAvB,EAA4B,EAA5B,CAAjB;kBACAE,YAAY,CAACY,QAAD,CAAZ;kBACAV,YAAY,CAAC,KAAD,CAAZ,CAHa,CAGQ;;kBACrB,IAAMW,QAAQ,cAAOD,QAAP,CAAd;;kBACA,IAAIlB,aAAa,CAACmB,QAAD,CAAjB,EAA6B;oBAC3BjB,SAAQ,CAACiB,QAAD,CAAR;kBACD;gBACF;cA1BH;YADF,EAfF;UAAA,EAtBF;QAAA,EANF,eA2EE,oBAAC,mCAAD;UAAW,SAAS,EAAC,mBAArB;UAAyC,EAAE,EAAE,CAA7C;UAAA,uBACE,qBAAC,4BAAD;YAAM,cAAc,EAAC,eAArB;YAAqC,QAAQ,EAAC,MAA9C;YAAA,wBACE,oBAAC,2BAAD;cACE,CAAC,EAAE,CADL;cAEE,IAAI,EAAC,KAFP;cAGE,aAAa,EAAC,YAHhB;cAIE,OAAO,EAAE,mBAAM;gBACbT,aAAa,CAAClB,+DAAD,CAAb;cACD,CANH;cAAA,uBAQE,oBAAC,sBAAD;gBAAkB,EAAE,SAApB;gBAA6B,cAAc;kBAAA;kBAAA;gBAAA;cAA3C;YARF,EADF,eAWE,qBAAC,4BAAD;cAAM,IAAI,EAAC,SAAX;cAAA,wBACE,oBAAC,2BAAD;gBACE,CAAC,EAAE,CADL;gBAEE,IAAI,EAAC,SAFP;gBAGE,aAAa,EAAC,YAHhB;gBAIE,OAAO,EAAE,mBAAM;kBACbU,SAAQ,CAAC,IAAD,CAAR;;kBACA3C,OAAO;gBACR,CAPH;gBAAA,uBASE,oBAAC,sBAAD;kBAAkB,EAAE,eAApB;kBAAmC,cAAc;oBAAA;oBAAA;kBAAA;gBAAjD;cATF,EADF,eAYE,oBAAC,2BAAD;gBACE,WAAQ,kCADV;gBAEE,CAAC,EAAE,CAFL;gBAGE,WAAW,EAAC,SAHd;gBAIE,aAAa,EAAC,YAJhB;gBAKE,IAAI,EAAC,SALP;gBAME,OAAO,EAAEE,OANX;gBAOE,QAAQ,EAAEgD,QAPZ;gBAQE,OAAO,EAAE,mBAAM;kBACb,IAAMW,WAAW,GAAG,oBAAUtQ,UAAU,CAACC,QAAX,IAAuB,EAAjC,CAApB;;kBACA,cAAIqQ,WAAJ,EAAiBxB,SAAjB,EAA4B3P,KAA5B;;kBACA2Q,YAAY,CAAC;oBACX1M,SAAS,EAAE;sBAAEhF,EAAE,EAAE4B,UAAU,CAAC5B,EAAjB;sBAAqB6B,QAAQ,EAAEqQ;oBAA/B;kBADA,CAAD,CAAZ,CAEGC,IAFH,CAEQ,YAAM;oBACZnB,SAAQ,CAAC,IAAD,CAAR;;oBACA3C,OAAO;kBACR,CALD;gBAMD,CAjBH;gBAAA,uBAmBE,oBAAC,sBAAD;kBAAkB,EAAE,QAApB;kBAA4B,cAAc;oBAAA;oBAAA;kBAAA;gBAA1C;cAnBF,EAZF;YAAA,EAXF;UAAA;QADF,EA3EF;MAAA,EADD;IAAA;EADH,EADF;AAkID,CA5ID;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6JA,+DAAe+B,mDAAS,CAACW,qBAAD,CAAxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3MA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,IAAMgC,WAAW,GAAG,GAApB,EAEA;;AACA,IAAMC,0BAA0B,GAAG,SAA7BA,0BAA6B;EAAA,oBACjC,oBAAC,iCAAD;IAAoB,MAAM,EAAED,WAA5B;IAAyC,KAAK,EAAEA,WAAhD;IAA6D,KAAK,EAAC,aAAnE;IAAiF,YAAY,EAAC;EAA9F,EADiC;AAAA,CAAnC;;AAGA,IAAME,aAAa,GAAG;EAAE1E,OAAO,EAAEyE,0BAAX;EAAuCE,GAAG,EAAE;AAA5C,CAAtB;AACA,IAAMzY,QAAQ,GAAG6X,iBAAO,CAAC;EAAA,OAAM,0FAAN;AAAA,CAAD,EAA0EW,aAA1E,CAAxB;AAEA,IAAME,WAAW,GAAGlc,2EAAH;EAAA;EAAA;AAAA,mOAYE,UAAAQ,KAAK;EAAA,OAAIA,KAAK,CAAC2b,YAAV;AAAA,CAZP,CAAjB;AAeA,IAAMC,uBAAuB,GAAGpc,2EAAH;EAAA;EAAA;AAAA,2CAIzB,UAAAQ,KAAK;EAAA,OACL,CAACA,KAAK,CAACiF,YAAP,IACAxF,6CADA,6CAEkBic,WAFlB,CADK;AAAA,CAJoB,CAA7B;AAaA,IAAMG,sBAAsB,GAAGrc,2EAAH;EAAA;EAAA;AAAA,iJAIT,UAAAQ,KAAK;EAAA,OAAIA,KAAK,CAAC2b,YAAV;AAAA,CAJI,EAKO,UAAA3b,KAAK;EAAA,OAAIA,KAAK,CAAC2b,YAAV;AAAA,CALZ,CAA5B;AAYA,IAAMG,QAAQ,GAAGtc,2EAAH;EAAA;EAAA;AAAA,yHAAd;;AASA,IAAMuc,UAAU,GAAG,SAAbA,UAAa,OAAmC;EAAA,IAAhC5R,UAAgC,QAAhCA,UAAgC;EAAA,IAApB/B,OAAoB,QAApBA,OAAoB;EAAA,IAAXX,IAAW,QAAXA,IAAW;;EACpD,sBAA8BpI,cAAA,CAAe,KAAf,CAA9B;EAAA;EAAA,IAAO2c,OAAP;EAAA,IAAgBC,UAAhB;;EACA,uBAAkC5c,cAAA,CAAe,KAAf,CAAlC;EAAA;EAAA,IAAO6c,SAAP;EAAA,IAAkBC,YAAlB;;EACA,uBAAoC9c,cAAA,CAAe,KAAf,CAApC;EAAA;EAAA,IAAO+c,UAAP;EAAA,IAAmBC,aAAnB;;EACA,uBAA0Chd,cAAA,CAAe,IAAf,CAA1C;EAAA;EAAA,IAAOid,aAAP;EAAA,IAAsBC,gBAAtB;;EACA,IAAMZ,YAAY,GAAGT,6CAAqB,CAAC/Q,UAAU,CAAC0K,IAAZ,CAA1C;;EACA,mBAAoBgB,sBAAW,CAACwF,8CAAD,CAA/B;EAAA;EAAA,IAAOmB,SAAP;;EACA,iBAAmClK,mCAAS,EAA5C;EAAA,IAAQa,QAAR,cAAQA,QAAR;EAAA,IAAkBsJ,YAAlB,cAAkBA,YAAlB;;EAEA,IAAMC,WAAW;IAAA,gFAAG;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA,2CAAQC,KAAR;;cAAA,KACdA,KADc;gBAAA;gBAAA;cAAA;;cAEhBC,MAAM,CAACC,MAAP,CAAcF,KAAd,EAAqB;gBAAEG,OAAO,EAAEC,GAAG,CAACC,eAAJ,CAAoBL,KAApB;cAAX,CAArB;cAFgB;cAAA,OAGMM,aAAa,CAACN,KAAD,CAHnB;;YAAA;cAGVO,OAHU;;cAIhB,IAAIA,OAAJ,EAAa;gBACXX,gBAAgB,CAACI,KAAD,CAAhB;gBACAV,UAAU,CAAC,IAAD,CAAV;cACD;;YAPe;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAH;;IAAA,gBAAXS,WAAW;MAAA;IAAA;EAAA,GAAjB;;EAWA,IAAMO,aAAa,GAAG,SAAhBA,aAAgB,CAAAN,KAAK,EAAI;IAC7B,OAAO,IAAIQ,OAAJ,CAAY,UAAAC,OAAO,EAAI;MAC5B,IAAM3T,GAAG,GAAG,IAAI4T,KAAJ,EAAZ;;MACA5T,GAAG,CAAC6T,MAAJ,GAAa,YAAM;QACjB,IACE,CAAC,iCAAQ7T,GAAG,CAAC1C,KAAZ,qCAAsBkU,sCAAtB,GAAD,IACA,CAAC,iCAAQxR,GAAG,CAAC8T,MAAZ,qCAAuBvC,uCAAvB,GADD,IAEA2B,KAAK,CAAC7Y,IAAN,IAAc,OAHhB,EAIE;UACAqP,QAAQ,CAAC;YACP0B,IAAI,EAAExC,+CADC;YAEPmL,qBAAqB,EAAE,IAFhB;YAEsB;YAC7BhJ,OAAO,EAAE/M,IAAI,CAACuI,aAAL,CACP;cACEzH,EAAE,4BADJ;cAEEqH,cAAc;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;YAFhB,CADO,EAMP;cACE6N,aAAa,YAAKxC,2CAAL,cAA8BD,4CAA9B,CADf;cAEE0C,aAAa,YAAKzC,2CAAL,cAA8BD,4CAA9B,CAFf;cAGE2C,WAAW,EAAE;YAHf,CANO;UAHF,CAAD,CAAR;UAiBAP,OAAO,CAAC,KAAD,CAAP;QACD,CAvBD,MAuBO;UACLA,OAAO,CAAC,IAAD,CAAP;UACAX,YAAY,CAAC,UAAAmB,KAAK;YAAA,OAAI9U,OAAO,CAAC8U,KAAK,CAACJ,qBAAP,CAAX;UAAA,CAAN,CAAZ;QACD;MACF,CA5BD;;MA6BA/T,GAAG,CAACoU,GAAJ,GAAUlB,KAAK,CAACG,OAAhB;IACD,CAhCM,CAAP;EAiCD,CAlCD;;EAoCA,IAAI,CAAC1U,OAAL,EAAc;IACZ,oBAAO,oBAAC,sBAAD;MAAQ,UAAU,EAAE+B,UAApB;MAAgC,MAAM,EAAEmR;IAAxC,EAAP;EACD,CAFD,MAEO,IAAI,CAACU,OAAL,EAAc;IACnB,IAAM8B,OAAO,GAAG/C,8CAAmB,CAAC5Q,UAAD,CAAnB,GAAkC,QAAlC,GAA6C,MAA7D;IACA,oBACE,qBAAC,cAAD;MAAA,wBACE,oBAAC,QAAD;QACE,KAAK,EAAE,EADT;QAEE,QAAQ,EAAE,KAFZ;QAGE,MAAM,EAAEtH,6CAHV;QAIE,QAAQ,EAAEuZ,UAJZ;QAKE,UAAU,EAAE;UAAE2B,KAAK,EAAE;YAAEhX,KAAK,EAAE;UAAT;QAAT,CALd;QAME,MAAM,EAAE2V,WANV;QAAA,UAQG;UAAA,IAAGzX,YAAH,SAAGA,YAAH;UAAA,IAAiB+Y,YAAjB,SAAiBA,YAAjB;UAAA,IAA+BjZ,YAA/B,SAA+BA,YAA/B;UAAA,IAA6CC,aAA7C,SAA6CA,aAA7C;UAAA,oBACC,gFAASD,YAAY,EAArB;YAAA,wBACE;cAAO,WAAQ;YAAf,GAAwCC,aAAa,EAArD,EADF,eAEE,qBAAC,uBAAD;cAAyB,YAAY,EAAEC,YAAvC;cAAA,wBACE,qBAAC,WAAD;gBAAa,YAAY,EAAE0W,YAA3B;gBAAA,WACG,CAAC1W,YAAD,iBACC,qBAAC,2BAAD;kBAAA,wBACE,qBAAC,2BAAD;oBAAc,UAAU,EAAC,MAAzB;oBAAgC,QAAQ,EAAE,GAA1C;oBAAA,wBACE,oBAAC,wBAAD;sBAAQ,IAAI,EAAE;oBAAd,EADF,eAEE;sBAAM,EAAE,EAAE,CAAV;sBAAA,uBACE,oBAAC,sBAAD;wBACE,EAAE,mBADJ;wBAEE,cAAc;0BAAA;0BAAA;wBAAA;0BAAA;0BAAA;0BAAA;4BAAA;8BAAA;gCAAA;gCAAA;8BAAA;4BAAA;4BAAA;8BAAA;gCAAA;gCAAA;8BAAA;4BAAA;0BAAA;wBAAA,EAFhB;wBAGE,MAAM,EAAE;0BAAE6Y,OAAO,EAAPA;wBAAF;sBAHV;oBADF,EAFF;kBAAA,EADF,EAWG3T,UAAU,CAACwS,KAAX,iBACC,oBAAC,2BAAD;oBACE,UAAU,EAAC,MADb;oBAEE,QAAQ,EAAE,GAFZ;oBAGE,EAAE,EAAE,CAHN;oBAIE,OAAO,EAAE,iBAAAtX,KAAK,EAAI;sBAChBA,KAAK,CAAC4Y,eAAN;sBACA9B,YAAY,CAAC,IAAD,CAAZ;oBACD,CAPH;oBAAA,uBASE;sBAAM,EAAE,EAAE,CAAV;sBAAA,uBACE,oBAAC,sBAAD;wBACE,EAAE,qBADJ;wBAEE,cAAc;0BAAA;0BAAA;wBAAA;0BAAA;0BAAA;0BAAA;4BAAA;8BAAA;gCAAA;gCAAA;8BAAA;4BAAA;4BAAA;8BAAA;gCAAA;gCAAA;8BAAA;4BAAA;0BAAA;wBAAA,EAFhB;wBAGE,MAAM,EAAE;0BAAE2B,OAAO,EAAPA;wBAAF;sBAHV;oBADF;kBATF,EAZJ;gBAAA,EAFJ,EAkCG7Y,YAAY,KACV+Y,YAAY,gBACX,oBAAC,sBAAD;kBAAkB,EAAE,4BAApB;kBAAgD,cAAc;oBAAA;oBAAA;kBAAA;gBAA9D,EADW,gBAGX,oBAAC,sBAAD;kBACE,EAAE,4BADJ;kBAEE,cAAc;oBAAA;oBAAA;kBAAA;gBAFhB,EAJS,CAlCf;cAAA,EADF,eA6CE,oBAAC,sBAAD;gBAAQ,UAAU,EAAE7T,UAApB;gBAAgC,MAAM,EAAEmR;cAAxC,EA7CF;YAAA,EAFF;UAAA,GADD;QAAA;MARH,EADF,EA8DGY,SAAS,iBACR,oBAAC,gCAAD;QACE,KAAK,EAAC,MADR;QAEE,QAAQ,EAAC,OAFX;QAGE,OAAO,EAAE,mBAAM;UACbC,YAAY,CAAC,KAAD,CAAZ;QACD,CALH;QAME,MAAM,eACJ,oBAAC,sBAAD;UACE,EAAE,qBADJ;UAEE,cAAc;YAAA;YAAA;UAAA;YAAA;YAAA;YAAA;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;cAAA;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;cAAA;YAAA;UAAA,EAFhB;UAGE,MAAM,EAAE;YAAE2B,OAAO,EAAPA;UAAF;QAHV,EAPJ;QAaE,eAAe,mFAAE;UAAA;YAAA;cAAA;gBAAA;kBACfzB,aAAa,CAAC,IAAD,CAAb,CADe,CACM;;kBADN;kBAAA;kBAAA,OAIPG,SAAS,CAAC;oBAAEjP,SAAS,EAAE;sBAAEhF,EAAE,EAAE4B,UAAU,CAAC5B,EAAjB;sBAAqBoU,KAAK,EAAE;oBAA5B;kBAAb,CAAD,CAJF;;gBAAA;kBAKbR,YAAY,CAAC,KAAD,CAAZ;;gBALa;kBAAA;kBAObE,aAAa,CAAC,KAAD,CAAb;kBAPa;;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,CAAF,EAbjB;QAAA,uBAwBE,oBAAC,MAAD;UAAG,QAAQ,EAAC,MAAZ;UAAmB,UAAU,EAAC,MAA9B;UAAqC,EAAE,EAAE,CAAzC;UAAA,uBACE,oBAAC,sBAAD;YACE,EAAE,6BADJ;YAEE,cAAc;cAAA;cAAA;YAAA;UAFhB;QADF;MAxBF,EA/DJ;IAAA,EADF;EAkGD,CApGM,MAoGA;IACL,OAAOC,aAAa,IAAInS,UAAU,CAAC+T,QAA5B,gBACL,oBAAC,wBAAD;MAAU,QAAQ,EAAE7C,8CAApB;MAAA,UACG,kBAAA8C,UAAU;QAAA,oBACT,qBAAC,cAAD;UAAA,wBACE,oBAAC,sBAAD;YAAwB,YAAY,EAAExC,YAAtC;YAAA,uBACE;cACE,WAAQ,iCADV;cAEE,GAAG,EAAEW,aAAa,GAAGA,aAAa,CAACQ,OAAjB,GAA2B3S,UAAU,CAAC+T,QAF1D;cAGE,GAAG,EAAC;YAHN;UADF,EADF,eAQE,qBAAC,mCAAD;YACE,QAAQ,EAAC,UADX;YAEE,OAAO,EAAC,MAFV;YAGE,EAAE,EAAE,CAHN;YAIE,CAAC,EAAE,CAJL;YAKE,MAAM,EAAE,CALV;YAME,UAAU,EAAC,OANb;YAOE,SAAS,EAAC,0BAPZ;YAAA,wBASE,oBAAC,QAAD;cAAA;YAAA,EATF,eAUE,oBAAC,2BAAD;cACE,aAAa,EAAC,YADhB;cAEE,QAAQ,EAAE,GAFZ;cAGE,QAAQ,EAAE9B,UAHZ;cAIE,OAAO,EAAE,mBAAM;gBACbG,gBAAgB,CAAC,IAAD,CAAhB;gBACAN,UAAU,CAAC,KAAD,CAAV;cACD,CAPH;cAAA,uBASE,oBAAC,sBAAD;gBAAkB,EAAE,eAApB;gBAAmC,cAAc;kBAAA;kBAAA;gBAAA;cAAjD;YATF,EAVF,eAqBE,oBAAC,2BAAD;cACE,WAAQ,wBADV;cAEE,aAAa,EAAC,YAFhB;cAGE,WAAW,EAAC,SAHd;cAIE,EAAE,EAAE,CAJN;cAKE,QAAQ,EAAE,GALZ;cAME,OAAO,EAAEG,UANX;cAOE,OAAO,mFAAE;gBAAA;gBAAA;kBAAA;oBAAA;sBAAA;wBACPC,aAAa,CAAC,IAAD,CAAb,CADO,CACc;;wBADd;wBAIL;wBACI+B,MALC,GAKQjU,UAAU,CAACwS,KALnB;;wBAAA,KAMDL,aANC;0BAAA;0BAAA;wBAAA;;wBAAA;wBAAA,OAOYxB,sBAAM,CAACwB,aAAD,EAAgB,gBAAhB,CAPlB;;sBAAA;wBAOH8B,MAPG;;sBAAA;wBAAA;wBAAA,OAWCD,UAAU,CAAC;0BAAE5Q,SAAS,EAAE;4BAAEhF,EAAE,EAAE4B,UAAU,CAAC5B,EAAjB;4BAAqBoU,KAAK,EAAEyB;0BAA5B;wBAAb,CAAD,CAXX;;sBAAA;wBAaL;wBACA7B,gBAAgB,CAAC,IAAD,CAAhB;wBACAN,UAAU,CAAC,KAAD,CAAV;;sBAfK;wBAAA;wBAiBLI,aAAa,CAAC,KAAD,CAAb;wBAjBK;;sBAAA;sBAAA;wBAAA;oBAAA;kBAAA;gBAAA;cAAA,CAAF,EAPT;cAAA,uBA4BE,oBAAC,sBAAD;gBAAkB,EAAE,QAApB;gBAA4B,cAAc;kBAAA;kBAAA;gBAAA;cAA1C;YA5BF,EArBF;UAAA,EARF;QAAA,EADS;MAAA;IADb,EADK,gBAmEL,oBAAC,sBAAD;MAAQ,UAAU,EAAElS,UAApB;MAAgC,MAAM,EAAEmR;IAAxC,EAnEF;EAqED;AACF,CArOD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkPA,oDAAetQ,8BAAU,CAAC+Q,UAAD,CAAzB;;;;;GAnK0C;EAAEsC,aAAa,EAAE;AAAjB;;;;;GAkBE;EAAEA,aAAa,EAAE;AAAjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrL5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;;AAEA,IAAMiB,cAAc,oEACjBD,iDADiB,EACQf,0BADR,6CAEjBe,mDAFiB,EAEST,4BAFT,6CAGjBS,+CAHiB,EAGO7J,wBAHP,6CAIjB6J,+CAJiB,EAIOR,wBAJP,6CAKjBQ,qDALiB,EAKUN,8BALV,6CAMjBM,mDANiB,EAMSb,4BANT,6CAOjBa,uDAPiB,EAOWP,sBAPX,6CAQjBO,iDARiB,EAQQH,0BARR,6CASjBG,iDATiB,EASQF,0BATR,6CAUjBE,+CAViB,EAUOV,wBAVP,6CAWjBU,+CAXiB,EAWOZ,wBAXP,6CAYjBY,6CAZiB,EAYMJ,sBAZN,6CAajBI,mDAbiB,EAaSL,4BAbT,6CAcjBK,yCAdiB,EAcIP,sBAdJ,6CAejBO,iDAfiB,EAeQP,sBAfR,6CAgBjBO,qDAhBiB,EAgBUd,8BAhBV,6CAiBjBc,mDAjBiB,EAiBSD,4BAjBT,6CAkBjBC,6CAlBiB,EAkBMP,sBAlBN,6CAmBjBO,mDAnBiB,EAmBSP,sBAnBT,6CAoBjBO,+CApBiB,EAoBOX,wBApBP,mBAApB;;AAuBA,SAASiC,qBAAT,CAA+B9L,IAA/B,EAAqD;EACnD,OAAOyK,cAAc,CAACzK,IAAD,CAAd,IAAwBiK,sBAA/B;AACD;;AAOc,SAAS8B,eAAT,OAAuE;EAAA,IAA5CC,WAA4C,QAA5CA,WAA4C;EAAA,IAA/BC,KAA+B,QAA/BA,KAA+B;EACpF,OAAOD,WAAW,CAACjZ,GAAZ,CAAgB,UAACmZ,UAAD,EAAatN,KAAb,EAAuB;IAC5C,IAAMuN,IAAI,GAAGL,qBAAqB,CAACI,UAAU,CAAClM,IAAZ,CAAlC;IACA,oBACE,oBAAC,yBAAD;MAEE,iCAAwBpB,KAAxB,CAFF;MAGE,IAAI,EAAEsN,UAAU,CAACxM,GAHnB;MAIE,oBAAoB,EAAE,CAACuM,KAJzB;MAKE,yBAAyB,EAAE,CAAC,CAACA,KAL/B;MAAA,uBAOE,oBAAC,gCAAD;QAAmB,IAAI,EAAE,EAAzB;QAA6B,EAAE,EAAE,CAAjC;QAAA,uBACE,oBAAC,IAAD;UAAM,IAAI,EAAE;QAAZ;MADF;IAPF,GACOC,UAAU,CAAClM,IAAX,GAAkBkM,UAAU,CAACxM,GADpC,CADF;EAaD,CAfM,CAAP;AAgBD;;;;;;;;;;;;ACxED;AAEA;AAEA;AAEA;AAEA;AACA;AACA;;;AAEO,IAAM0M,iCAAiC,GAAGhW,wBAAKA;AAAA;AAAR,+VAAvC;AAaA,IAAMiW,6CAA6C,GAAG,SAAhDA,6CAAgD,CAAAxU,IAAI,EAAI;EACnE,OAAO;IAAEA,IAAI,EAAJA;EAAF,CAAP;AACD,CAFM;AAIP,IAAMyU,YAAY,GAAG;EAAEpd,QAAQ,EAAE,MAAZ;EAAoB2T,UAAU,EAAE;AAAhC,CAArB;AAEA;AACA;AACA;AACA;;AACA,IAAM0J,wCAAwC,GAAG,SAA3CA,wCAA2C,OAAoB;EAAA,IAAjBjX,UAAiB,QAAjBA,UAAiB;;EACnE,gBAAiC2L,mBAAQ,CAACmL,iCAAD,EAAoC;IAC3E1T,SAAS,EAAE2T,6CAA6C,CAAC/W,UAAU,CAACuC,IAAZ;EADmB,CAApC,CAAzC;EAAA,IAAQN,IAAR,aAAQA,IAAR;EAAA,IAAc0K,OAAd,aAAcA,OAAd;EAAA,IAAuBzT,KAAvB,aAAuBA,KAAvB;;EAIA,IAAIA,KAAK,IAAIyT,OAAT,IAAoB,CAAC,cAAI1K,IAAJ,EAAU,mCAAV,CAAzB,EAAyE;IACvE,OAAO,IAAP;EACD;;EAED,uBAA4BA,IAAI,CAACiV,UAAjC;EAAA,IAAQpT,KAAR,oBAAQA,KAAR;EAAA,IAAe1G,QAAf,oBAAeA,QAAf;EACA,oBACE,qBAAC,2BAAD;IAAK,EAAE,EAAE,CAAT;IAAY,WAAQ,+BAApB;IAAA,wBACE,oBAAC,MAAD;MAAG,QAAQ,EAAC,MAAZ;MAAmB,aAAa,EAAC,WAAjC;MAAA,uBACE,oBAAC,sBAAD;QAAkB,EAAE,6BAApB;QAAiD,cAAc;UAAA;UAAA;QAAA;MAA/D;IADF,EADF,eAIE,oBAAC,mCAAD;MAAsB,MAAM,EAAE0G,KAAK,CAACqT,gBAApC;MAAsD,QAAQ,EAAE/Z,QAAhE;MAA0E,YAAY,EAAE4Z;IAAxF,EAJF;EAAA,EADF;AAQD,CAlBD;;;;;;;;;;;;;;;;;;;;;;AA0BA,kFAAeC,wCAAf;;;;;;;;;;;;;AC7DA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;CAGA;;;;AACA,IAAMiB,gBAAgB,GAAGxH,iBAAO,CAAC;EAAA,OAAM,qGAAN;AAAA,CAAD;EAAA;IAAA;MAAA,4BAAc,KAAd;IAAA;EAAA;AAAA,EAAhC;AAEA,IAAMyH,0BAA0B,GAAGzH,iBAAO,CAAC;EAAA,OAAM,gJAAN;AAAA,CAAD,EAA+C;EACvF/D,OADuF,qBAC7E;IACR,oBACE,oBAAC,2BAAD;MAAA,uBACE,oBAAC,iCAAD;QAAoB,MAAM,EAAE,GAA5B;QAAiC,QAAQ,EAAE;MAA3C;IADF,EADF;EAKD,CAPsF;EAAA;IAAA;MAAA,4BAAjC,KAAiC;IAAA;EAAA;AAAA,CAA/C,CAA1C;AAUA,IAAMyL,YAAY,GAAGjT,sBAAc,CAAC;EAClCkT,OAAO,EAAE;IACPja,EAAE,kBADK;IAEPqH,cAAc;MAAA;MAAA;IAAA;EAFP;AADyB,CAAD,CAAnC;AAOA,IAAM6S,sBAAsB,GAAGjjB,yEAAH;EAAA;EAAA;AAAA,kLAA5B;AAkBA,IAAMmjB,0BAA0B,GAAGnjB,iDAAM,CAAC+C,2BAAD,CAAT;EAAA;EAAA;AAAA,qEAAhC;AAOA,IAAMqgB,aAAa,GAAGpjB,iDAAM,CAACmM,yBAAD,CAAT;EAAA;EAAA;AAAA,6GAAnB;AAWA;AACA;AACA;;AACA,IAAMkX,IAAI,GAAG,SAAPA,IAAO,OAAyD;EAAA;;EAAA,IAAtD1Y,UAAsD,QAAtDA,UAAsD;EAAA,IAA1C4M,IAA0C,QAA1CA,IAA0C;EAAA,IAApC3O,OAAoC,QAApCA,OAAoC;EAAA,IAA3B0a,oBAA2B,QAA3BA,oBAA2B;EACpE,IAAMrb,IAAI,GAAG3B,0BAAO,EAApB;;EACA,uBAAyB6b,kCAAe,EAAxC;EAAA,IAAQoB,YAAR,oBAAQA,YAAR;;EACA,sBAA0C1jB,cAAA,CAAe,KAAf,CAA1C;EAAA;EAAA,IAAO2jB,cAAP;EAAA,IAAuBC,eAAvB;;EACA,uBAAoC5jB,cAAA,CAAe,KAAf,CAApC;EAAA;EAAA,IAAO6jB,cAAP;EAAA,IAAuBC,SAAvB;;EACA,uBAAkC9jB,cAAA,CAAe,KAAf,CAAlC;EAAA;EAAA,IAAO+jB,aAAP;EAAA,IAAsBvM,QAAtB;;EACA,IAAMhN,SAAS,GAAGmZ,cAAc,IAAIE,cAApC;EACA,IAAMG,YAAY,GAAGlZ,UAAU,CAAC0K,IAAX,KAAoB9O,wDAAzC;EACA,IAAMwd,OAAO,GAAGpZ,UAAU,CAAC0K,IAAX,KAAoB9O,8CAApC;EACA,IAAM0d,SAAS,GAAGtZ,UAAU,CAAC0K,IAAX,KAAoB9O,kDAAtC;EACA,IAAM2d,MAAM,GAAGvZ,UAAU,CAAC0K,IAAX,KAAoB9O,4CAAnC;EACA,IAAM6d,YAAY,GAAG7M,IAAI,IAAI,0BAAA5M,UAAU,CAAC0Z,gBAAX,gFAA6Btb,EAA7B,MAAoCwO,IAAI,CAACxO,EAAtE;;EACA,IAAMub,qBAAqB,GAAG,gBAAM3Z,UAAU,CAAC4Z,WAAjB,CAA9B;;EACA,IAAMC,sBAAsB,GAAGF,qBAAqB,IAAI/M,IAAzB,IAAiC+M,qBAAqB,CAAC3Z,UAAtB,CAAiC5B,EAAjC,KAAwCwO,IAAI,CAACxO,EAA7G;EACA,IAAM0b,yBAAyB,GAAGD,sBAAsB,GAAG,IAAH,GAAUF,qBAAlE,CAdoE,CAepE;;EACA,IAAMI,SAAS,GAAG,4BAAI,IAAIC,GAAJ,wBAAQha,UAAU,CAACmO,OAAnB,wDAAQ,oBAAoB8L,IAApB,GAA2BrM,WAA3B,GAAyCS,KAAzC,CAA+C,GAA/C,CAAR,CAAP,CAAf;;EACA,IAAM6L,QAAQ,uBAAGla,UAAU,CAACgN,IAAd,qDAAG,iBAAiBvR,MAAlC;EACA,IAAM0e,aAAa,wBAAGna,UAAU,CAACgN,IAAd,sDAAG,kBAAiBpG,KAAjB,CAAuB,CAAvB,EAA0B,CAA1B,CAAtB;EACA,IAAMwT,UAAU,wBAAGpa,UAAU,CAACgN,IAAd,sDAAG,kBAAiBpG,KAAjB,CAAuB,CAAvB,CAAnB;EACA,IAAMyT,kBAAkB,GAAGD,UAAH,aAAGA,UAAH,uBAAGA,UAAU,CAAE3e,MAAvC,CApBoE,CAsBpE;;EACA2b,mBAAS,CAAC,YAAM;IACd4B,SAAS,CAAC,KAAD,CAAT;IACAF,eAAe,CAAC,KAAD,CAAf;EACD,CAHQ,EAGN,CAAC9Y,UAAU,CAAC5B,EAAZ,CAHM,CAAT;EAKA,IAAMkc,cAAc,GAAGta,UAAU,CAAC0W,WAAX,IAA0B1W,UAAU,CAAC0W,WAAX,CAAuBjb,MAAvB,GAAgC,CAAjF;EAEA,oBACE,qBAAC,cAAD;IAAA,WACGsd,cAAc,iBAAI,oBAAC,0BAAD;MAA4B,UAAU,EAAE/Y,UAAxC;MAAoD,OAAO,EAAE;QAAA,OAAMgZ,SAAS,CAAC,KAAD,CAAf;MAAA;IAA7D,EADrB,EAEGC,aAAa,iBAAI,oBAAC,aAAD;MAAe,UAAU,EAAEjZ,UAA3B;MAAuC,OAAO,EAAE;QAAA,OAAM0M,QAAQ,CAAC,KAAD,CAAd;MAAA;IAAhD,EAFpB,eAIE,qBAAC,mCAAD;MAAW,QAAQ,EAAC,UAApB;MAA+B,SAAS,EAAE,GAA1C;MAA+C,MAAM,EAAE,IAAvD;MAA6D,WAAQ,iBAArE;MAAA,wBACE,oBAAC,8BAAD;QAAgB,UAAU,EAAE1M;MAA5B,EADF,EAEG/B,OAAO,IAAI,CAACyB,SAAZ,iBACC,qBAAC,mCAAD;QAAW,WAAQ,kCAAnB;QAAsD,QAAQ,EAAC,UAA/D;QAA0E,KAAK,EAAE,EAAjF;QAAqF,GAAG,EAAE,EAA1F;QAA8F,MAAM,EAAE,GAAtG;QAAA,wBACE,qBAAC,2BAAD;UAAc,WAAQ,gBAAtB;UAAuC,UAAU,EAAC,MAAlD;UAAyD,OAAO,EAAE;YAAA,OAAMsZ,SAAS,CAAC,IAAD,CAAf;UAAA,CAAlE;UAAA,wBACE,oBAAC,wBAAD;YAAQ,IAAI,EAAC;UAAb,EADF,eAEE;YAAM,EAAE,EAAE,CAAV;YAAA,uBACE,oBAAC,sBAAD;cAAkB,EAAE,kBAApB;cAAsC,cAAc;gBAAA;gBAAA;cAAA;YAApD;UADF,EAFF;QAAA,EADF,eAOE,qBAAC,2BAAD;UAAc,WAAQ,qBAAtB;UAA4C,UAAU,EAAC,MAAvD;UAA8D,EAAE,EAAE,CAAlE;UAAqE,OAAO,EAAE;YAAA,OAAMF,eAAe,CAAC,IAAD,CAArB;UAAA,CAA9E;UAAA,wBACE,oBAAC,0BAAD;YAAS,IAAI,EAAC;UAAd,EADF,eAEE;YAAM,EAAE,EAAE,CAAV;YAAA,uBACE,oBAAC,sBAAD;cAAkB,EAAE,kBAApB;cAAsC,cAAc;gBAAA;gBAAA;cAAA;YAApD;UADF,EAFF;QAAA,EAPF;MAAA,EAHJ,EAkBGD,cAAc,iBACb,oBAAC,mCAAD;QAAW,QAAQ,EAAC,OAApB;QAA4B,KAAK,EAAE,EAAnC;QAAuC,GAAG,EAAE,EAA5C;QAAgD,MAAM,EAAE,KAAxD;QAAA,uBACE,oBAAC,0BAAD;UACE,UAAU,EAAE7Y,UADd;UAEE,QAAQ,EAAE2Y,oBAFZ;UAGE,OAAO,EAAE;YAAA,OAAMG,eAAe,CAAC,KAAD,CAArB;UAAA;QAHX;MADF,EAnBJ,eA2BE,qBAAC,sCAAD;QAAyB,EAAE,EAAE,EAA7B;QAAiC,OAAO,EAAC,MAAzC;QAAgD,aAAa,EAAC,QAA9D;QAAA,wBAEE,oBAAC,mCAAD;UAAW,QAAQ,EAAC,UAApB;UAA+B,EAAE,EAAE,CAAnC;UAAsC,KAAK,EAAE,GAA7C;UAAA,uBACE,oBAAC,eAAD;YAAY,UAAU,EAAE9Y,UAAxB;YAAoC,OAAO,EAAE/B;UAA7C;QADF,EAFF,eAKE,oBAAC,2BAAD;UAAK,QAAQ,EAAE,CAAC,KAAD,EAAQ,KAAR,EAAe,IAAf,EAAqB,KAArB,EAA4B,KAA5B,CAAf;UAAA,uBACE,oBAAC,OAAD;YACE,KAAK,EAAC,WADR;YAEE,QAAQ,EAAC,MAFX;YAGE,UAAU,EAAC,MAHb;YAIE,SAAS,EAAC,MAJZ;YAKE,WAAQ,kBALV;YAME,SAAS,EAAC,QANZ;YAAA,UAQG+B,UAAU,CAAC/F,IAAX,IAAmB+F,UAAU,CAACuC;UARjC;QADF,EALF,eAiBE,oBAAC,4BAAD;UAAA,UACGwX,SAAS,CAACte,MAAV,GAAmB,CAAnB,IACCse,SAAS,CAACtc,GAAV,CAAc,UAAA0Q,OAAO;YAAA,oBACnB,oBAAC,yBAAD;cAA0B,EAAE,EAAED,sBAA9B;cAA2C,EAAE,EAAE,CAA/C;cAAkD,QAAQ,EAAC,MAA3D;cAAkE,UAAU,EAAE,GAA9E;cAAmF,OAAO,EAAEC;YAA5F,GAAiBA,OAAjB,CADmB;UAAA,CAArB;QAFJ,EAjBF,EAuBG,CAACiL,OAAD,iBACC,qBAAC,cAAD;UAAA,WACG,CAACF,YAAY,IAAIK,MAAhB,IAA0BD,SAA3B,kBACC,qBAAC,4BAAD;YAAM,EAAE,EAAC,MAAT;YAAgB,EAAE,EAAE,CAApB;YAAuB,QAAQ,EAAC,MAAhC;YAAuC,WAAQ,iBAA/C;YAAA,wBACE,oBAAC,wBAAD;cACE,aAAa,EAAC,WADhB;cAEE,OAAO,EAAC,cAFV;cAGE,eAAe,EAAC,WAHlB;cAIE,EAAE,EAAE,CAAC,KAAD,EAAQ,CAAR,CAJN;cAKE,UAAU,EAAE,GALd;cAAA,uBAOE,oBAAC,iCAAD;gBAAoB,IAAI,EAAEtZ,UAAU,CAAC0K;cAArC;YAPF,EADF,EAUGwP,QAAQ,GAAG,CAAX,iBACC,qBAAC,cAAD;cAAA,wBACE,oBAAC,mCAAD;gBAAW,WAAW,EAAC,mBAAvB;gBAA2C,MAAM,EAAC,MAAlD;gBAAyD,OAAO,EAAC,KAAjE;gBAAuE,EAAE,EAAE,CAAC,KAAD,EAAQ,CAAR;cAA3E,EADF,EAEGC,aAAa,CAAC1c,GAAd,CAAkB,UAAAqQ,GAAG;gBAAA,oBACpB,oBAAC,mBAAD;kBAAgB,IAAI,wBAAiBA,GAAjB,CAApB;kBAAA,uBACE,oBAAC,wBAAD;oBAAW,OAAO,EAAC,eAAnB;oBAAmC,EAAE,EAAC,MAAtC;oBAA6C,EAAE,EAAE,CAAC,KAAD,EAAQ,CAAR,CAAjD;oBAA6D,UAAU,EAAE,GAAzE;oBAAA,uBACE,oBAAC,iCAAD;sBAAoB,IAAI,EAAEA;oBAA1B;kBADF;gBADF,GAAWA,GAAX,CADoB;cAAA,CAArB,CAFH,EASGoM,QAAQ,GAAG,CAAX,iBACC,oBAAC,+BAAD;gBAAU,OAAO,EAAC,OAAlB;gBAAA,UACG;kBAAA,IAAGK,YAAH,SAAGA,YAAH;kBAAA,IAAiBC,aAAjB,SAAiBA,aAAjB;kBAAA,oBACC,qBAAC,cAAD;oBAAA,wBACE,oBAAC,wBAAD;sBACE,EAAE,EAAElZ,2BADN;sBAEE,MAAM,EAAC,MAFT;sBAGE,OAAO,EAAC,eAHV;sBAIE,EAAE,EAAC,MAJL;sBAKE,EAAE,EAAE,CAAC,KAAD,EAAQ,CAAR,CALN;sBAME,UAAU,EAAE;oBANd,GAOMiZ,YAPN;sBAAA,uBASE,oBAAC,sBAAD;wBACE,EAAE,sBADJ;wBAEE,cAAc;0BAAA;0BAAA;wBAAA;0BAAA;0BAAA;wBAAA;0BAAA;0BAAA;wBAAA,EAFhB;wBAGE,MAAM,EAAE;0BAAEtf,KAAK,EAAEif,QAAQ,GAAG;wBAApB;sBAHV;oBATF,GADF,eAgBE,oBAAC,sCAAD,0CAAqBM,aAArB;sBAAoC,KAAK,EAAE;wBAAEC,SAAS,EAAE;sBAAb,CAA3C;sBAAA,uBACE,qBAAC,0BAAD;wBAAA,WACGL,UAAU,CAACxT,KAAX,CAAiB,CAAjB,EAAoByT,kBAAkB,GAAG,CAAzC,EAA4C5c,GAA5C,CAAgD,UAAAqQ,GAAG;0BAAA,oBAClD,qBAAC,cAAD;4BAAA,wBACE,oBAAC,mBAAD;8BAAM,IAAI,wBAAiBA,GAAjB,CAAV;8BAAA,uBACE,oBAAC,aAAD;gCAAe,EAAE,EAAEtY,mCAAnB;gCAA8B,EAAE,EAAE,EAAlC;gCAAsC,EAAE,EAAE,EAA1C;gCAAA,uBACE,oBAAC,iCAAD;kCAAoB,IAAI,EAAEsY;gCAA1B;8BADF;4BADF,EADF,eAME,6BANF;0BAAA,GAAeA,GAAf,CADkD;wBAAA,CAAnD,CADH,eAWE,oBAAC,mBAAD;0BAAM,IAAI,wBAAiBsM,UAAU,CAACC,kBAAkB,GAAG,CAAtB,CAA3B,CAAV;0BAAA,uBACE,oBAAC,aAAD;4BAAe,EAAE,EAAE7kB,mCAAnB;4BAA8B,EAAE,EAAE,EAAlC;4BAAsC,EAAE,EAAE,EAA1C;4BAAA,uBACE,oBAAC,iCAAD;8BAAoB,IAAI,EAAE4kB,UAAU,CAACC,kBAAkB,GAAG,CAAtB;4BAApC;0BADF;wBADF,EAXF;sBAAA;oBADF,GAhBF;kBAAA,EADD;gBAAA;cADH,EAVJ;YAAA,EAXJ,EAgEGpc,OAAO,iBACN,qBAAC,8BAAD;cAAS,EAAE,EAAC,MAAZ;cAAmB,EAAE,EAAE,CAAC,KAAD,EAAQ,CAAR,CAAvB;cAAmC,MAAM,EAAEgb,aAA3C;cAA0D,OAAO,EAAE;gBAAA,OAAMvM,QAAQ,CAAC,IAAD,CAAd;cAAA,CAAnE;cAAA,wBACE,oBAAC,oBAAD;gBAAM,IAAI,EAAC;cAAX,EADF,EACuB,GADvB,eAEE,oBAAC,iBAAD;gBAAM,EAAE,EAAC,KAAT;gBAAe,aAAa,EAAE,CAA9B;gBAAA,uBACE,oBAAC,sBAAD;kBAAkB,EAAE,6BAApB;kBAAiD,cAAc;oBAAA;oBAAA;kBAAA;gBAA/D;cADF,EAFF;YAAA,EAjEJ;UAAA,EAFJ,eA4EE,qBAAC,4BAAD;YAAM,UAAU,EAAC,QAAjB;YAA0B,QAAQ,EAAC,MAAnC;YAAA,wBACE,qBAAC,4BAAD;cAAM,EAAE,EAAE,CAAV;cAAA,WACG1M,UAAU,CAAC0a,UAAX,iBACC,oBAAC,mCAAD;gBAAsB,UAAU,EAAE1a,UAAlC;gBAA8C,YAAY,EAAE4Y,YAA5D;gBAAA,UACG,kBAAA+B,QAAQ;kBAAA,oBACP,oBAAC,gCAAD,0CAAuBA,QAAvB;oBAAiC,IAAI,EAAE,EAAvC;oBAA2C,EAAE,EAAE,CAA/C;oBAAkD,KAAK,EAAC,SAAxD;oBAAkE,cAAW,SAA7E;oBAAA,uBACE,oBAAC,oBAAD;sBAAM,IAAI,EAAE;oBAAZ;kBADF,GADO;gBAAA;cADX,EAFJ,EAUGL,cAAc,iBAAI,oBAAC,eAAD;gBAAiB,WAAW,EAAEta,UAAU,CAAC0W,WAAzC;gBAAsD,KAAK;cAA3D,EAVrB,EAWG,CAAC4D,cAAD,IAAmBta,UAAU,CAAC4a,aAA9B,iBACC,oBAAC,yBAAD;gBACE,WAAQ,mBADV;gBAEE,IAAI,EAAEnD,yCAAiB,CAACzX,UAAU,CAAC4a,aAAZ,CAFzB;gBAGE,yBAAyB,MAH3B;gBAAA,uBAKE,oBAAC,gCAAD;kBAAmB,IAAI,EAAE,EAAzB;kBAA6B,EAAE,EAAE,CAAjC;kBAAoC,KAAK,EAAC,SAA1C;kBAAoD,cAAW,cAA/D;kBAAA,uBACE,oBAAC,0BAAD;oBAAS,IAAI,EAAE;kBAAf;gBADF;cALF,EAZJ,EAsBG,CAACN,cAAD,IAAmBta,UAAU,CAACqY,OAA9B,iBACC,oBAAC,yBAAD;gBAAY,WAAQ,mBAApB;gBAAwC,IAAI,EAAErY,UAAU,CAACqY,OAAzD;gBAAkE,yBAAyB,MAA3F;gBAAA,uBACE,oBAAC,gCAAD;kBACE,IAAI,EAAE,EADR;kBAEE,EAAE,EAAE,CAFN;kBAGE,KAAK,EAAE/a,IAAI,CAACuI,aAAL,CAAmBuS,YAAY,CAACC,OAAhC,CAHT;kBAIE,cAAW,cAJb;kBAAA,uBAME,oBAAC,sBAAD;oBAAO,IAAI,EAAE;kBAAb;gBANF;cADF,EAvBJ,EAkCG,CAACiC,cAAD,IAAmBta,UAAU,CAACuL,aAA9B,iBACC,oBAAC,yBAAD;gBAAY,WAAQ,eAApB;gBAAoC,IAAI,EAAEvL,UAAU,CAACuL,aAArD;gBAAoE,yBAAyB,MAA7F;gBAAA,uBACE,qBAAC,2BAAD;kBAAc,UAAU,EAAC,MAAzB;kBAAgC,KAAK,EAAC,WAAtC;kBAAkD,MAAM,EAAE,EAA1D;kBAA8D,EAAE,EAAE,CAAlE;kBAAA,wBACE,oBAAC,6BAAD;oBAAoB,IAAI,EAAE,EAA1B;oBAA8B,aAAa,EAAEvL,UAAU,CAACuL;kBAAxD,EADF,eAEE,oBAAC,iBAAD;oBAAM,EAAE,EAAE,CAAV;oBAAA,uBACE,oBAAC,sBAAD;sBAAA;sBAAkB,cAAc;wBAAA;wBAAA;sBAAA;oBAAhC;kBADF,EAFF;gBAAA;cADF,EAnCJ;YAAA,EADF,EA8CG5M,OAAO,CAAC,CAAC8a,YAAD,IAAiBzZ,UAAU,CAAC0Z,gBAA7B,CAAP,iBACC,oBAAC,mCAAD;cAAW,EAAE,EAAE,CAAf;cAAkB,KAAK,EAAC,WAAxB;cAAoC,EAAE,EAAC,MAAvC;cAAA,uBACE,oBAAC,sBAAD;gBACE,EAAE,oCADJ;gBAEE,cAAc;kBAAA;kBAAA;gBAAA;kBAAA;kBAAA;gBAAA,EAFhB;gBAGE,MAAM,EAAE;kBACNmB,UAAU,eACR,oBAAC,yBAAD;oBAAY,EAAE,EAAEzZ,6BAAhB;oBAAgC,UAAU,EAAEpB,UAAU,CAAC0Z,gBAAvD;oBAAyE,OAAO,MAAhF;oBAAA,uBACE,oBAAC,uCAAD;sBAA0B,KAAK,EAAE1Z,UAAU,CAAC0Z,gBAAX,CAA4Bzf,IAA7D;sBAAmE,MAAM,EAAC;oBAA1E;kBADF;gBAFI;cAHV;YADF,EA/CJ,EA6DG2S,IAAI,IAAI5M,UAAU,CAAC8a,UAAnB,IAAiClO,IAAI,CAACxO,EAAL,KAAY4B,UAAU,CAAC5B,EAAxD,IAA8D,CAAC4B,UAAU,CAAC+a,MAA1E,iBACC,qBAAC,cAAD;cAAA,wBACE,oBAAC,mCAAD;gBAAW,EAAE,EAAE,CAAf;gBAAkB,KAAK,EAAC,WAAxB;gBAAoC,EAAE,EAAE,CAAxC;gBAAA,uBACE,oBAAC,sBAAD;kBACE,EAAE,wBADJ;kBAEE,cAAc;oBAAA;oBAAA;kBAAA;oBAAA;oBAAA;kBAAA;oBAAA;oBAAA;kBAAA,EAFhB;kBAGE,MAAM,EAAE;oBACNC,UAAU,eAAE,oBAAC,0BAAD;sBAAa,IAAI,EAAEpD,gDAAnB;sBAAsC,KAAK,EAAC;oBAA5C,EADN;oBAENsD,QAAQ,eACN,oBAAC,yBAAD;sBACE,EAAE,EAAE9Z,6BADN;sBAEE,UAAU,EAAEwL,IAFd;sBAGE,WAAQ,gBAHV;sBAIE,OAAO,MAJT;sBAKE,KAAK,EAAC,WALR;sBAAA,uBAOE,oBAAC,uCAAD;wBAA0B,KAAK,EAAEA,IAAI,CAAC3S,IAAtC;wBAA4C,MAAM,EAAC;sBAAnD;oBAPF;kBAHI;gBAHV;cADF,EADF,EAqBG6f,yBAAyB,iBACxB,oBAAC,mCAAD;gBAAW,EAAE,EAAE,CAAf;gBAAkB,KAAK,EAAC,WAAxB;gBAAoC,EAAE,EAAC,MAAvC;gBAAA,uBACE,oBAAC,sBAAD;kBACE,EAAE,oCADJ;kBAEE,cAAc;oBAAA;oBAAA;kBAAA;oBAAA;oBAAA;kBAAA,EAFhB;kBAGE,MAAM,EAAE;oBACNe,UAAU,eACR,oBAAC,yBAAD;sBACE,EAAE,EAAEzZ,6BADN;sBAEE,UAAU,EAAE0Y,yBAAyB,CAAC9Z,UAFxC;sBAGE,OAAO,MAHT;sBAIE,KAAK,EAAC,WAJR;sBAAA,uBAME,oBAAC,uCAAD;wBACE,KAAK,EAAE8Z,yBAAyB,CAAC9Z,UAA1B,CAAqC/F,IAD9C;wBAEE,MAAM,EAAC;sBAFT;oBANF;kBAFI;gBAHV;cADF,EAtBJ;YAAA,EA9DJ,EA4GG+F,UAAU,CAAC+a,MAAX,iBACC,qBAAC,cAAD;cAAA,WACG/a,UAAU,CAAC0K,IAAX,KAAoB9O,wDAApB,iBACC,qBAAC,cAAD;gBAAA,WACG,yBAAAoE,UAAU,CAACC,QAAX,8EAAqBkb,GAArB,kBACC,oBAAC,yBAAD;kBACE,YAAY,MADd;kBAEE,IAAI,EAAEnb,UAAU,CAACC,QAAX,CAAoBkb,GAF5B;kBAGE,YAAY,EAAC,oBAHf;kBAIE,KAAK,EAAC,WAJR;kBAKE,cAAc,EAAC,MALjB;kBAME,QAAQ,EAAC,MANX;kBAOE,EAAE,EAAE,CAPN;kBAAA,uBASE,oBAAC,sBAAD;oBAAkB,EAAE,YAApB;oBAAgC,cAAc;sBAAA;sBAAA;oBAAA;kBAA9C;gBATF,EAFJ,eAcE,oBAAC,mCAAD;kBAAW,EAAE,EAAE,CAAf;kBAAkB,EAAE,EAAE,CAAtB;kBAAyB,KAAK,EAAC,WAA/B;kBAA2C,QAAQ,EAAC,MAApD;kBAAA,uBACE,oBAAC,sBAAD;oBACE,EAAE,gBADJ;oBAEE,cAAc;sBAAA;sBAAA;oBAAA;sBAAA;sBAAA;oBAAA,EAFhB;oBAGE,MAAM,EAAE;sBACNC,GAAG,eACD,qBAAC,0BAAD;wBAAa,IAAI,EAAExD,0CAAnB;wBAAmC,KAAK,EAAC,WAAzC;wBAAA,WACG5X,UAAU,CAACsb,cAAX,IAA6B,CADhC;sBAAA;oBAFI;kBAHV;gBADF,EAdF;cAAA,EAFJ,EA+BGtb,UAAU,CAACub,kBAAX,GAAgC,CAAhC,iBACC,oBAAC,mCAAD;gBAAW,EAAE,EAAE,CAAf;gBAAkB,EAAE,EAAE,CAAtB;gBAAyB,KAAK,EAAC,WAA/B;gBAA2C,QAAQ,EAAC,MAApD;gBAAA,uBACE,oBAAC,sBAAD;kBACE,EAAE,oBADJ;kBAEE,cAAc;oBAAA;oBAAA;kBAAA;oBAAA;oBAAA;kBAAA,EAFhB;kBAGE,MAAM,EAAE;oBACNH,GAAG,eACD,qBAAC,0BAAD;sBAAa,IAAI,EAAExD,kDAAnB;sBAAuC,KAAK,EAAC,WAA7C;sBAAA,WACG5X,UAAU,CAACub,kBAAX,IAAiC,CADpC;oBAAA;kBAFI;gBAHV;cADF,EAhCJ;YAAA,EA7GJ;UAAA,EA5EF;QAAA,EAxBJ,eAoQE,oBAAC,sBAAD;UAAA,UAAyBvb,UAAU,CAAC4D;QAApC,EApQF,EAqQGwV,OAAO,iBACN,oBAAC,gBAAD;UACE,UAAU,EAAEpZ,UADd;UAEE,IAAI,EAAE4M,IAFR;UAGE,yBAAyB,EAAEkN;QAH7B,EAtQJ,EA6QG,CAAC9Z,UAAU,CAAC+a,MAAZ,IAAsB,CAACnf,4CAAD,EAAsBA,4DAAtB,EAAmDoS,QAAnD,CAA4DhO,UAAU,CAAC0K,IAAvE,CAAtB,iBACC,oBAAC,6CAAD;UAA0C,UAAU,EAAE1K;QAAtD,EA9QJ;MAAA,EA3BF;IAAA,EAJF;EAAA,EADF;AAoTD,CAlVD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2YA,2DAAe9K,UAAA,CAAWwjB,IAAX,CAAf;;;;;GAlWgC;EAAExE,aAAa,EAAE;AAAjB;;;;;GAMA;EAAEA,aAAa,EAAE;AAAjB;;;;;;ACvJhC;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CAGA;;;;;AACA,IAAM6H,gCAAgC,GAAG,SAAnCA,gCAAmC;EAAA,oBAAM,oBAAC,iCAAD;IAAoB,MAAM,EAAE;EAA5B,EAAN;AAAA,CAAzC;;AACA,IAAMC,cAAc,GAAGtL,iBAAO,CAAC;EAAA,OAAM,gJAAN;AAAA,CAAD,EAAuC;EACnE/D,OAAO,EAAEoP,gCAD0D;EAEnEzK,GAAG,EAAE,KAF8D,CAEvD;EAFuD;EAAA;IAAA;MAAA,4BAAzB,KAAyB;IAAA;EAAA;AAAA,CAAvC,CAA9B;AAKA,IAAM/L,QAAQ,GAAGJ,sBAAc,CAAC;EAC9B8W,WAAW,EAAE;IACX7d,EAAE,qCADS;IAEXqH,cAAc;MAAA;MAAA;IAAA;EAFH;AADiB,CAAD,CAA/B;AAOA;AACA;AACA;;AACA,IAAMyW,YAAY,GAAG,SAAfA,YAAe,OAAmC;EAAA,IAAhClc,UAAgC,QAAhCA,UAAgC;EAAA,IAApBmc,OAAoB,QAApBA,OAAoB;EAAA,IAAX7e,IAAW,QAAXA,IAAW;EACtD,IAAM8e,kBAAkB,GAAGR,mCAAY,CAAC5b,UAAU,CAACqc,eAAZ,CAAvC;EACA,IAAMnD,YAAY,GAAGlZ,UAAU,CAAC0K,IAAX,KAAoB9O,wDAAzC;EACA,IAAM2d,MAAM,GAAGvZ,UAAU,CAAC0K,IAAX,KAAoB9O,4CAAnC;EACAugB,OAAO,GAAGnc,UAAU,CAACgF,UAAX,GAAwB,KAAxB,GAAgCmX,OAA1C;EAEA,oBACE,oBAAC,sCAAD;IAAyB,EAAE,EAAE,CAA7B;IAAgC,EAAE,EAAE,CAApC;IAAA,uBACE,oBAAC,mCAAD;MAAW,KAAK,EAAC,MAAjB;MAAwB,QAAQ,EAAE,GAAlC;MAAuC,MAAM,EAAC,QAA9C;MAAuD,EAAE,EAAE,CAA3D;MAAA,uBACE,oBAAC,8BAAD;QACE,QAAQ,EAAEL,uDADZ;QAEE,MAAM,EAAE9b,UAFV;QAGE,KAAK,EAAC,iBAHR;QAIE,OAAO,EAAEmc,OAJX;QAKE,OAAO,EAAE,CAAC,EALZ;QAME,YAAY,EAAE,CAACC,kBANjB;QAOE,kBAAkB,EAAE,4BAAAvM,CAAC;UAAA,OAAK+L,mCAAY,CAAC/L,CAAD,CAAZ,GAAkB,IAAlB,GAAyBA,CAA9B;QAAA,CAPvB;QAQE,gBAAgB,EAAE,0BAAC7P,UAAD,EAAaqc,eAAb;UAAA,OAAkC;YAClDje,EAAE,EAAE4B,UAAU,CAAC5B,EADmC;YAElDie,eAAe,EAAET,mCAAY,CAACS,eAAD,CAAZ,GAAgC,IAAhC,GAAuCA;UAFN,CAAlC;QAAA,CARpB;QAAA,UAaG,yBAAgE;UAAA,IAA7D3c,SAA6D,SAA7DA,SAA6D;UAAA,IAAlDxF,KAAkD,SAAlDA,KAAkD;UAAA,IAA3CoiB,QAA2C,SAA3CA,QAA2C;UAAA,IAAjCC,YAAiC,SAAjCA,YAAiC;UAAA,IAAnBzT,YAAmB,SAAnBA,YAAmB;;UAC/D,IAAIpJ,SAAJ,EAAe;YACb,oBACE,oBAAC,cAAD;cACE,IAAI,EAAC,0BADP;cAEE,YAAY,EAAEM,UAAU,CAACqc,eAF3B;cAGE,QAAQ,EAAE,kBAAApM,CAAC;gBAAA,OAAIqM,QAAQ,CAACrM,CAAC,CAACC,MAAF,CAAShW,KAAV,CAAZ;cAAA,CAHb;cAIE,WAAW,EAAEoD,IAAI,CAACuI,aAAL,CAAmBN,QAAQ,CAAC0W,WAA5B,CAJf;cAKE,UAAU,EAAE,CAAC,EAAD,EAAK,EAAL,CALd;cAME,sBAAsB,EAAC,SANzB;cAOE,iBAAiB,MAPnB;cAQE,iBAAiB,MARnB;cASE,SAAS,MATX;cAUE,YAAY,EAAEnT;YAVhB,EADF;UAcD,CAfD,MAeO,IAAIsT,kBAAJ,EAAwB;YAC7B,oBACE,oBAAC,4BAAD;cAAM,cAAc,EAAC,QAArB;cAAA,UACGD,OAAO,gBACN,qBAAC,4BAAD;gBAAM,aAAa,EAAC,QAApB;gBAA6B,UAAU,EAAC,QAAxC;gBAAA,WACGjD,YAAY,IAAI,CAACK,MAAjB,iBACC,oBAAC,yBAAD;kBAAY,IAAI,EAAC,MAAjB;kBAAwB,QAAQ,MAAhC;kBAAiC,SAAS,EAAC,QAA3C;kBAAoD,QAAQ,EAAC,MAA7D;kBAAoE,EAAE,EAAE,CAAxE;kBAAA,uBACE,oBAAC,sBAAD;oBACE,EAAE,oBADJ;oBAEE,cAAc;sBAAA;sBAAA;oBAAA;kBAFhB;gBADF,EAFJ,eASE,oBAAC,2BAAD;kBAAc,UAAU,EAAC,OAAzB;kBAAiC,OAAO,EAAEgD,YAA1C;kBAAA,uBACE,oBAAC,sBAAD;oBAAkB,EAAE,qCAApB;oBAAyD,cAAc;sBAAA;sBAAA;oBAAA;kBAAvE;gBADF,EATF;cAAA,EADM,gBAeN,oBAAC,iBAAD;gBAAM,KAAK,EAAC,WAAZ;gBAAwB,SAAS,EAAC,QAAlC;gBAAA,uBACE,oBAAC,sBAAD;kBACE,EAAE,mCADJ;kBAEE,cAAc;oBAAA;oBAAA;kBAAA;oBAAA;oBAAA;kBAAA,EAFhB;kBAGE,MAAM,EAAE;oBAAEna,cAAc,EAAEpC,UAAU,CAAC/F;kBAA7B;gBAHV;cADF;YAhBJ,EADF;UA2BD,CA5BM,MA4BA;YACL,oBAAO,oBAAC,0BAAD;cAAa,OAAO,EAAEC,KAAtB;cAA6B,WAAQ;YAArC,EAAP;UACD;QACF;MA5DH;IADF;EADF,EADF;AAoED,CA1ED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA,uDAAehF,UAAA,CAAW2L,8BAAU,CAACqb,YAAD,CAArB,CAAf;;;;;;;;;;;;;;;;;;;;;;;;;;AClIA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;IAEMU;;;;;;;;;;;;;;;;yGAgB+B,UAAAhgB,KAAK,EAAI;MAC1C,IAAMigB,qBAAqB,GAAGL,uCAAqB,GAAGC,6DAAA,GAA+B,CAArF;;MACA,IAAI7f,KAAK,IAAIigB,qBAAqB,GAAG,CAArC,EAAwC;QACtC,OAAOA,qBAAP;MACD,CAFD,MAEO,IAAIjgB,KAAK,IAAIigB,qBAAqB,GAAG,CAArC,EAAwC;QAC7C,OAAOA,qBAAqB,GAAG,CAA/B;MACD,CAFM,MAEA;QACL,OAAOA,qBAAqB,GAAG,CAA/B;MACD;IACF;;;;;;;WAED,kBAAS;MACP,kBAA6C,KAAKhnB,KAAlD;MAAA,IAAQmK,UAAR,eAAQA,UAAR;MAAA,IAAoB8c,oBAApB,eAAoBA,oBAApB;;MAEA,IAAI,EAACA,oBAAD,aAACA,oBAAD,eAACA,oBAAoB,CAAErhB,MAAvB,CAAJ,EAAmC;QACjC,OAAO,IAAP;MACD;;MAED,oBACE,qBAAC,2BAAD;QAAK,EAAE,EAAE,CAAT;QAAA,wBACE,oBAAC,sCAAD;UAAA,uBACE,oBAAC,OAAD;YAAI,QAAQ,EAAE,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,CAAd;YAAwC,UAAU,EAAC,QAAnD;YAA4D,KAAK,EAAC,WAAlE;YAAA,uBACE,oBAAC,sBAAD;cAAkB,EAAE,wBAApB;cAA4C,cAAc;gBAAA;gBAAA;cAAA;YAA1D;UADF;QADF,EADF,eAME,oBAAC,iCAAD;UACE,SAAS,EAAEkhB,uCADb;UAEE,iBAAiB,EAAE,KAAKI,gCAF1B;UAAA,UAIGD,oBAAoB,CAACrf,GAArB,CAAyB;YAAA,IAAGW,EAAH,QAAGA,EAAH;YAAA,IAAO4B,UAAP,QAAOA,UAAP;YAAA,oBACxB,oBAAC,2BAAD;cAAc,EAAE,EAAEyc,wDAAlB;cAAA,uBACE,oBAAC,mCAAD;gBAAsB,UAAU,EAAEzc;cAAlC;YADF,GAAU5B,EAAV,CADwB;UAAA,CAAzB;QAJH,EANF,EAgBGO,OAAO,CAACme,oBAAoB,CAACrhB,MAArB,GAA8B,CAA/B,CAAP,iBACC,oBAAC,sCAAD;UAAA,uBACE,oBAAC,mBAAD;YAAM,IAAI,aAAMuE,UAAU,CAACuC,IAAjB,2BAAV;YAAA,uBACE,qBAAC,2BAAD;cAAc,EAAE,EAAE,CAAlB;cAAqB,KAAK,EAAE,CAA5B;cAA+B,UAAU,EAAC,OAA1C;cAAkD,QAAQ,EAAC,MAA3D;cAAA,wBACE,oBAAC,sBAAD;gBAAkB,EAAE,gCAApB;gBAAoD,cAAc;kBAAA;kBAAA;gBAAA;cAAlE,EADF;YAAA;UADF;QADF,EAjBJ;MAAA,EADF;IA4BD;;;;EA9DgCrN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEnC,kEAAe2L,8BAAU,CAAC+b,oBAAD,CAAzB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChFA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CAGA;;;;AACA,IAAMkB,6BAA6B,GAAGpN,iBAAO,CAAC;EAAA,OAAM,0MAAN;AAAA,CAAD,EAAuE;EAClHY,GAAG,EAAE,KAD6G;EAAA;IAAA;MAAA,4BAAzD,KAAyD;IAAA;EAAA;AAAA,CAAvE,CAA7C;AAIA;AACA;AACA;AACA;;IACMyM;;;;;;;;;;;;;;;;8EA2CI;MACNC,cAAc,EAAE,KADV;MAENC,QAAQ,EAAE,KAFJ;MAGNC,UAAU,EAAE;IAHN;;0FAMY,YAAM;MACxB,MAAKznB,QAAL,CAAc;QAAEunB,cAAc,EAAE;MAAlB,CAAd;IACD;;4GAEqChB,kCAAU,CAAC,UAAA9f,YAAY,EAAI;MAC/D,OAAOA,YAAY,CAAC6Q,MAAb,CAAoB,UAAAlH,CAAC;QAAA,OAAIA,CAAC,CAACsX,QAAF,KAAetX,CAAC,CAACuX,QAAF,CAAW3iB,MAAX,KAAsB,CAAtB,IAA2BoL,CAAC,CAACuX,QAAF,CAAW,CAAX,MAAkB,IAA5D,CAAJ;MAAA,CAArB,CAAP;IACD,CAF+C;;wFAI9BpB,kCAAU,CAAC,UAAA9f,YAAY,EAAI;MAC3C,OAAOA,YAAY,CAACmhB,IAAb,CAAkB,UAAAxX,CAAC;QAAA,OAAIA,CAAC,CAACsX,QAAN;MAAA,CAAnB,CAAP;IACD,CAF2B;;;qFAID,iBAAMG,KAAN;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA,cACmB,MAAKzoB,KADxB,EACjBmK,UADiB,eACjBA,UADiB,EACLue,mBADK,eACLA,mBADK;gBAEnBC,QAFmB,GAERF,KAAK,CAAC7gB,GAAN,CAAU,UAAAoJ,CAAC;kBAAA,OAAIA,CAAC,CAAC1L,GAAN;gBAAA,CAAX,CAFQ,EAIzB;;gBACA,MAAK1E,QAAL,CAAc;kBAAEwnB,QAAQ,EAAE;gBAAZ,CAAd;;gBALyB;gBAOjBQ,iBAPiB,GAOG;kBAAEC,YAAY,EAAE1e,UAAU,CAAC5B,EAA3B;kBAA+BjD,GAAG,EAAEiiB,kCAApC;kBAAqDljB,KAAK,EAAEskB;gBAA5D,CAPH;gBAAA;gBAAA,OAQjBD,mBAAmB,CAAC;kBACxBnb,SAAS,EAAEqb,iBADa;kBAExBpc,MAAM,EAAE,gBAACsc,KAAD,EAAQC,QAAR,EAAqB;oBAC3B;oBACA,IAAMC,4BAA4B,GAAGhB,0DAA+B,CAAC7d,UAAU,CAACuC,IAAZ,CAApE;oBACA,IAAMN,IAAI,GAAG0c,KAAK,CAACG,SAAN,CAAgB;sBAAEC,KAAK,EAAEnB,0CAAT;sBAA8Bxa,SAAS,EAAEyb;oBAAzC,CAAhB,CAAb;;oBACA,IAAMG,OAAO,GAAG,cAAI,oBAAU/c,IAAV,CAAJ,EAAqB,qBAArB,EAA4C2c,QAAQ,CAAC3c,IAAT,CAAcgd,kBAAd,CAAiChf,QAA7E,CAAhB;;oBACA0e,KAAK,CAACO,UAAN,CAAiB;sBAAEH,KAAK,EAAEnB,0CAAT;sBAA8Bxa,SAAS,EAAEyb,4BAAzC;sBAAuE5c,IAAI,EAAE+c;oBAA7E,CAAjB;kBACD;gBARuB,CAAD,CARF;;cAAA;gBAkBvB,MAAKvoB,QAAL,CAAc;kBAAEwnB,QAAQ,EAAE;gBAAZ,CAAd;;gBAlBuB;gBAAA;;cAAA;gBAAA;gBAAA;;gBAoBvB,MAAKxnB,QAAL,CAAc;kBAAEyC,KAAK,EAAEgkB,+CAA4B,aAArC;kBAA0Ce,QAAQ,EAAE;gBAApD,CAAd;;cApBuB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;;;;;;;4FAmCLjB,kCAAU,CAAC,UAACsB,KAAD,EAAQa,SAAR,EAAsB;MACrD,OAAO,kBAAQb,KAAR,EAAe,UAAAc,IAAI,EAAI;QAC5B,IAAM9V,KAAK,GAAG6V,SAAS,CAACE,SAAV,CAAoB,UAAAlkB,GAAG;UAAA,OAAIA,GAAG,KAAKikB,IAAI,CAACjkB,GAAjB;QAAA,CAAvB,CAAd;QACA,OAAOmO,KAAK,KAAK,CAAC,CAAX,GAAegW,QAAf,GAA0BhW,KAAjC,CAF4B,CAEY;MACzC,CAHM,CAAP;IAID,CAL+B;;2FAOX0T,kCAAU,CAAC,UAAAuC,KAAK,EAAI;MACvC,mBAAiE,MAAK1pB,KAAtE;MAAA,IAAQmK,UAAR,gBAAQA,UAAR;MAAA,IAAoB9C,YAApB,gBAAoBA,YAApB;MAAA,IAAkCsiB,iBAAlC,gBAAkCA,iBAAlC;MAAA,IAAqDvhB,OAArD,gBAAqDA,OAArD;MACA,IAAMwhB,gBAAgB,GAAG,CAAC,MAAKC,eAAL,CAAqBxiB,YAArB,CAA1B;MACA,IAAMyiB,aAAa,GAAG3f,UAAU,CAAC4f,QAAX,KAAwB,CAACzb,kCAAW,CAACnE,UAAD,CAAZ,IAA4B/B,OAApD,CAAtB;MACA,IAAM4hB,qBAAqB,GAAG,CAAC,cAAI7f,UAAJ,EAAgB,qCAAhB,EAAuD,KAAvD,CAA/B;;MACA,IAAM8f,qBAAqB,GACzB,CAAC,cAAI9f,UAAJ,EAAgB,qCAAhB,EAAuD,IAAvD,CAAD,IACA,cAAIA,UAAJ,EAAgB,6BAAhB,EAA+C,KAA/C,CAFF,CALuC,CASvC;;;MACA,IAAM+f,SAAS,GAAGR,KAAK,CAACxR,MAAN,CAAa,UAAAiS,IAAI;QAAA,OAAIA,IAAI,CAACtV,IAAL,KAAcuS,2CAAlB;MAAA,CAAjB,CAAlB;;MAEA,IAAMiD,eAAe,GAAG,4BACnBH,SAAS,CAACtiB,GAAV,CAAc,UAAAuiB,IAAI;QAAA,OAAK;UACxB7kB,GAAG,EAAE6kB,IAAI,CAAC5hB,EADc;UAExB+hB,SAAS,EAAE1C,6BAFa;UAGxB2C,cAAc,EAAE;YAAEpgB,UAAU,EAAVA,UAAF;YAAcggB,IAAI,EAAJA,IAAd;YAAoBK,gBAAgB,EAAEZ;UAAtC;QAHQ,CAAL;MAAA,CAAlB,CADgB,CAArB;;MAQA,IAAII,qBAAJ,EAA2B;QACzBK,eAAe,CAAC/V,IAAhB,CAAqB;UACnBhP,GAAG,EAAE,QADc;UAEnBglB,SAAS,EAAE3C,+BAFQ;UAGnB4C,cAAc,EAAE;YACdpgB,UAAU,EAAVA,UADc;YAEd9C,YAAY,EAAE,MAAKojB,mCAAL,CAAyCpjB,YAAzC,CAFA;YAGd4G,KAAK,EAAE0b,iBAHO;YAIda,gBAAgB,EAAEZ,gBAJJ;YAKdc,UAAU,EAAE,CAACZ;UALC;QAHG,CAArB;MAWD;;MAED,IAAIG,qBAAJ,EAA2B;QACzBI,eAAe,CAAC/V,IAAhB,CAAqB;UACnBhP,GAAG,EAAE,QADc;UAEnBglB,SAAS,EAAE5C,+BAFQ;UAGnB6C,cAAc,EAAE;YACdpgB,UAAU,EAAVA,UADc;YAEdqgB,gBAAgB,EAAE,IAFJ;YAEU;YACxBE,UAAU,EAAE,CAACZ;UAHC;QAHG,CAArB;MASD;;MAED,OAAOO,eAAP;IACD,CA/C8B;;wFAiDblD,kCAAU,CAAC,UAAAuC,KAAK,EAAI;MACpC,OAAO,8CAAYA,KAAZ,GAAoB,CAAC,QAAD,CAApB,EAAgC,CAAC,MAAD,CAAhC,CAAP;IACD,CAF2B;;sFAIZvC,kCAAU,CAAC,UAAAuC,KAAK,EAAI;MAClC,OAAOA,KAAK,CAACxR,MAAN,CAAa,UAAAiS,IAAI;QAAA,OAAIA,IAAI,CAACtV,IAAL,KAAcuS,2CAAlB;MAAA,CAAjB,CAAP;IACD,CAFyB;;;;;;;WAvE1B,0CAAiCrgB,KAAjC,EAAwC;MACtC,IAAMigB,qBAAqB,GAAGL,uCAAqB,GAAGC,6DAAA,GAA+B,CAArF;;MACA,IAAI7f,KAAK,IAAIigB,qBAAqB,GAAG,CAArC,EAAwC;QACtC,OAAOA,qBAAP;MACD,CAFD,MAEO,IAAIjgB,KAAK,IAAIigB,qBAAqB,GAAG,CAArC,EAAwC;QAC7C,OAAOA,qBAAqB,GAAG,CAA/B;MACD,CAFM,MAEA;QACL,OAAOA,qBAAqB,GAAG,CAA/B;MACD;IACF;;;WAkED,kBAAS;MAAA;MAAA;;MACP,mBAAmF,KAAKhnB,KAAxF;MAAA,IAAQmK,UAAR,gBAAQA,UAAR;MAAA,IAAoBuf,KAApB,gBAAoBA,KAApB;MAAA,IAA2BiB,MAA3B,gBAA2BA,MAA3B;MAAA,IAAmC1D,oBAAnC,gBAAmCA,oBAAnC;MAAA,IAAyD5f,YAAzD,gBAAyDA,YAAzD;MAAA,IAAuEe,OAAvE,gBAAuEA,OAAvE;MACA,kBAAqC,KAAKnH,KAA1C;MAAA,IAAQmnB,QAAR,eAAQA,QAAR;MAAA,IAAkBD,cAAlB,eAAkBA,cAAlB;MACA,IAAM5E,OAAO,GAAGpZ,UAAU,CAAC0K,IAAX,KAAoB9O,8CAApC;MACA,IAAM0d,SAAS,GAAGtZ,UAAU,CAAC0K,IAAX,KAAoB9O,kDAAtC;MACA,IAAM2d,MAAM,GAAGvZ,UAAU,CAAC0K,IAAX,KAAoB9O,4CAAnC;MACA,IAAM6kB,wBAAwB,GAC5B,CAACrH,OAAD,IAAY,CAACE,SAAb,IAA0B,CAACC,MAA3B,KAAsCtb,OAAO,IAAIuiB,MAAM,CAAC/kB,MAAP,GAAgB,CAA3B,IAAgCqhB,oBAAoB,CAACrhB,MAArB,GAA8B,CAApG,CADF;MAEA,IAAMmkB,QAAQ,GAAG5f,UAAU,CAAC4f,QAA5B;MACA,IAAMc,OAAO,GAAG1gB,UAAU,CAAC4M,IAA3B;MACA,IAAMmO,MAAM,GAAG/a,UAAU,CAAC+a,MAA1B;MACA,IAAMoE,SAAS,GAAGhC,0DAAmC,CAACnd,UAAD,CAArD;MACA,IAAMkgB,eAAe,GAAG,KAAKS,kBAAL,CAAwBpB,KAAxB,CAAxB;MACA,IAAMqB,qBAAqB,GAAG,KAAKC,mBAAL,CAAyBX,eAAzB,EAA0Cf,SAA1C,CAA9B;MACA,IAAM2B,aAAa,GAAGniB,OAAO,CAACV,OAAO,IAAK+B,UAAU,CAAC4f,QAAX,IAAuBM,eAAe,CAACzkB,MAApD,CAA7B;MACA,IAAMgkB,gBAAgB,GAAG,CAAC,KAAKC,eAAL,CAAqBxiB,YAArB,CAA1B;MACA,IAAM6jB,iBAAiB,GAAG,KAAKC,eAAL,CAAqB,KAAKC,aAAL,CAAmB1B,KAAnB,CAArB,CAA1B;MACA,IAAM2B,UAAU,GAAG9H,OAAO,IAAIza,OAAO,CAACV,OAAO,IAAK+B,UAAU,CAAC4f,QAAX,IAAuBmB,iBAAiB,CAACtlB,MAAtD,CAArC;MACA,IAAM0lB,wBAAwB,GAAG,CAACJ,iBAAiB,CAACtlB,MAAlB,KAA6B,CAA7B,IAAkC,CAACuE,UAAU,CAAC4f,QAA/C,KAA4D,CAAC3hB,OAA9F;MACA,IAAMmjB,kBAAkB,GAAI,CAACF,UAAD,IAAe,CAACjjB,OAAjB,IAA6BkG,kCAAW,CAACnE,UAAD,CAAnE;MAEA;AACJ;AACA;AACA;AACA;AACA;AACA;;MAGI,IAAI,CAAC8gB,aAAD,IAAkB,CAACI,UAAnB,IAAiC,CAACT,wBAAtC,EAAgE;QAC9D,OAAO,IAAP;MACD;;MAED,oBACE,qBAAC,cAAD;QAAA,WAEGxiB,OAAO,IAAI,CAACyiB,OAAZ,IAAuB,CAAC3F,MAAxB,iBACC,qBAAC,sCAAD;UAAyB,EAAE,EAAE,CAA7B;UAAA,wBACE,oBAAC,4BAAD;YAAM,EAAE,EAAE,CAAV;YAAa,cAAc,EAAC,eAA5B;YAA4C,UAAU,EAAC,QAAvD;YAAgE,QAAQ,EAAC,MAAzE;YAAA,uBACE;cAAG,KAAK,EAAC,WAAT;cAAqB,EAAE,EAAE,CAAzB;cAA4B,EAAE,EAAE,CAAhC;cAAA,uBACE,oBAAC,sBAAD;gBACE,EAAE,0BADJ;gBAEE,cAAc;kBAAA;kBAAA;gBAAA;cAFhB;YADF;UADF,EADF,eASE,oBAAC,2BAAD;YAAK,EAAE,EAAE,CAAT;YAAA,uBACE,oBAAC,mBAAD;cAAM,IAAI,aAAM,0BAAA/a,UAAU,CAAC0Z,gBAAX,gFAA6BnX,IAA7B,KAAqCvC,UAAU,CAACuC,IAAtD,oCAAV;cAAA,uBACE,oBAAC,2BAAD;gBAAc,WAAW,EAAC,SAA1B;gBAAoC,UAAU,EAAC,OAA/C;gBAAA,uBACE,oBAAC,sBAAD;kBAAkB,EAAE,gCAApB;kBAAoD,cAAc;oBAAA;oBAAA;kBAAA;gBAAlE;cADF;YADF;UADF,EATF;QAAA,EAHJ,EAsBG,CAAEtE,OAAO,IAAIyiB,OAAZ,IAAyBziB,OAAO,IAAI8c,MAApC,IAAgD,CAAC9c,OAAD,IAAY2hB,QAA7D,kBACC,qBAAC,cAAD;UAAA,WAEGkB,aAAa,iBACZ,qBAAC,cAAD;YAAA,wBACE,oBAAC,sCAAD;cAAA,uBACE,oBAAC,2BAAD;gBAAA,uBACE,oBAAC,sBAAD;kBAAkB,EAAE,0BAApB;kBAA8C,cAAc;oBAAA;oBAAA;kBAAA;gBAA5D;cADF;YADF,EADF,eAME,oBAAC,2BAAD;cAAK,EAAE,EAAE,CAAT;cAAY,WAAQ,yBAApB;cAAA,uBACE,oBAAC,iCAAD;gBACE,iBAAiB,EAAE,KAAK/D,gCAD1B;gBAEE,SAAS,EAAEJ,uCAFb;gBAGE,cAAc,EAAE;kBAAE0E,qBAAqB,EAAE,CAAC,CAAC,KAAKvqB,KAAL,CAAWonB;gBAAtC,CAHlB;gBAAA,uBAKE,qBAAC,cAAD;kBAAA,WACGD,QAAQ,iBACP,qBAAC,+BAAD;oBAAkB,QAAQ,EAAC,OAA3B;oBAAmC,GAAG,EAAE,CAAxC;oBAA2C,UAAU,EAAC,QAAtD;oBAAA,wBACE,oBAAC,4BAAD;sBAAe,IAAI,EAAE;oBAArB,EADF,eAEE,oBAAC,MAAD;sBAAG,EAAE,EAAE,CAAP;sBAAU,QAAQ,EAAC,MAAnB;sBAAA,uBACE,oBAAC,sBAAD;wBAAkB,EAAE,UAApB;wBAA8B,cAAc;0BAAA;0BAAA;wBAAA;sBAA5C;oBADF,EAFF;kBAAA,EAFJ,EASG,EAAEhgB,OAAO,IAAI+f,cAAb,KACC4C,qBAAqB,CAACnjB,GAAtB,CAA0B;oBAAA,IAAGtC,GAAH,SAAGA,GAAH;oBAAA,IAAQglB,SAAR,SAAQA,SAAR;oBAAA,IAAmBC,cAAnB,SAAmBA,cAAnB;oBAAA,oBACxB,oBAAC,sCAAD;sBAAA,uBACE,oBAAC,SAAD,8BAAeA,cAAf;oBADF,GAA8BjlB,GAA9B,CADwB;kBAAA,CAA1B,CAVJ,EAeG8C,OAAO,iBACN,oBAAC,mCAAD;oBAAW,OAAO,EAAE+f,cAAc,GAAG,OAAH,GAAa,MAA/C;oBAAuD,WAAQ,wBAA/D;oBAAA,uBACE,oBAAC,6BAAD;sBACE,UAAU,EAAEhe,UADd;sBAEE,KAAK,EAAE4gB,qBAFT;sBAGE,SAAS,EAAE,KAAKU,wBAHlB;sBAIE,QAAQ,EAAE,KAAKxqB,KAAL,CAAWmnB,QAJvB;sBAKE,aAAa,EAAE,uBAAAC,UAAU;wBAAA,OAAI,MAAI,CAACznB,QAAL,CAAc;0BAAEynB,UAAU,EAAVA;wBAAF,CAAd,CAAJ;sBAAA,CAL3B;sBAME,UAAU,EAAE,KAAKpnB,KAAL,CAAWonB,UANzB;sBAOE,OAAO,EAAE,KAAKqD;oBAPhB;kBADF,EAhBJ;gBAAA;cALF;YADF,EANF;UAAA,EAHJ,EAkDGnI,OAAO,IAAI,CAACgI,kBAAZ,IAAkC,CAACD,wBAAnC,iBACC,qBAAC,2BAAD;YAAK,EAAE,EAAE,CAAT;YAAY,WAAQ,SAApB;YAAA,wBACE,oBAAC,sCAAD;cAAA,uBACE,oBAAC,4BAAD;gBAAM,UAAU,EAAC,MAAjB;gBAAwB,EAAE,EAAE,CAA5B;gBAAA,uBACE,oBAAC,OAAD;kBAAI,QAAQ,EAAC,MAAb;kBAAoB,UAAU,EAAC,KAA/B;kBAAqC,KAAK,EAAC,WAA3C;kBAAA,uBACE,oBAAC,sBAAD;oBAAkB,EAAE,yBAApB;oBAA6C,cAAc;sBAAA;sBAAA;oBAAA;kBAA3D;gBADF;cADF;YADF,EADF,eAQE,qBAAC,iCAAD;cACE,SAAS,EAAExE,uCADb;cAEE,iBAAiB,EAAE,KAAKI,gCAF1B;cAAA,WAIGgE,iBAAiB,CAACtjB,GAAlB,CAAsB,UAAAuiB,IAAI;gBAAA,oBACzB,oBAAC,sCAAD;kBAAA,uBACE,oBAAC,6BAAD;oBACE,UAAU,EAAEhgB,UADd;oBAEE,IAAI,EAAEggB,IAFR;oBAGE,gBAAgB,EAAEP,gBAHpB;oBAIE,UAAU,EAAE,CAACzf,UAAU,CAAC4f;kBAJ1B;gBADF,GAA8BI,IAAI,CAAC5hB,EAAnC,CADyB;cAAA,CAA1B,CAJH,EAcGH,OAAO,iBACN,oBAAC,sCAAD;gBAAyB,SAAS,EAAE,GAApC;gBAAA,uBACE,oBAAC,wBAAD;kBAAW,KAAK,aAAM+B,UAAU,CAAC0Z,gBAAX,CAA4BnX,IAAlC,qBAAiDvC,UAAU,CAACuC,IAA5D,mBAAhB;kBAAA,uBACE,oBAAC,sBAAD;oBAAkB,EAAE,+BAApB;oBAAmD,cAAc;sBAAA;sBAAA;oBAAA;kBAAjE;gBADF;cADF,EAfJ;YAAA,EARF;UAAA,EAnDJ,EAqFG,CAACgd,KAAK,CAAC9jB,MAAN,GAAe,CAAf,IAAoBglB,wBAArB,kBACC,oBAAC,sCAAD;YAAyB,EAAE,EAAE,CAA7B;YAAA,uBACE,oBAAC,mBAAD;cAAM,IAAI,YAAK1f,8CAAsB,CAACf,UAAD,CAA3B,gBAAV;cAAA,uBACE,qBAAC,2BAAD;gBAAc,EAAE,EAAE,CAAlB;gBAAqB,KAAK,EAAE,CAA5B;gBAA+B,UAAU,EAAC,OAA1C;gBAAkD,QAAQ,EAAC,MAA3D;gBAAA,wBACE,oBAAC,sBAAD;kBAAkB,EAAE,yBAApB;kBAA6C,cAAc;oBAAA;oBAAA;kBAAA;gBAA3D,EADF;cAAA;YADF;UADF,EAtFJ;QAAA,EAvBJ;MAAA,EADF;IA0HD;;;;EA5T6B9K;;AA+ThC,IAAMssB,6BAA6B,GAAG7gB,0BAAO,CAACgd,4CAAD,EAA6B;EACxE1jB,IAAI,EAAE,qBADkE;EAExEkJ,OAAO,EAAE;IAAE0J,OAAO,EAAEd,6BAAcA;EAAzB;AAF+D,CAA7B,CAA7C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,+CAAeyV,6BAA6B,CAACzD,iBAAD,CAA5C;;;;;GA5HsD;EAAExa,IAAI,EAAE,SAAR;EAAmBC,QAAQ,EAAE;AAA7B;;;;;;;;;;;;;;;;;;;;;;ACrPtD;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;AACA,IAAMme,oBAAoB,GAAG,SAAvBA,oBAAuB,OAAoC;EAAA;;EAAA,IAAjCC,UAAiC,QAAjCA,UAAiC;EAAA,IAArBtkB,IAAqB,QAArBA,IAAqB;EAAA,IAAZzH,KAAY;;EAC/D,eAAmB8F,0BAAO,EAA1B;EAAA,IAAQkmB,MAAR,YAAQA,MAAR;;EACA,IAAQC,OAAR,GAAiCF,UAAjC,CAAQE,OAAR;EAAA,IAAiB/jB,KAAjB,GAAiC6jB,UAAjC,CAAiB7jB,KAAjB;EAAA,IAAwBgkB,IAAxB,GAAiCH,UAAjC,CAAwBG,IAAxB;EACA,oBACE,oBAAC,mCAAD;IAAsB,UAAU,EAAED;EAAlC,GAA+CjsB,KAA/C;IAAA,uBACE,oBAAC,mCAAD;MAAW,CAAC,EAAE,CAAd;MAAA,uBACE,qBAAC,2BAAD;QAAK,WAAQ,SAAb;QAAuB,EAAE,EAAE,CAA3B;QAAA,WACGksB,IAAI,iBACH,qBAAC,MAAD;UAAG,QAAQ,EAAC,MAAZ;UAAmB,UAAU,EAAC,MAA9B;UAAqC,EAAE,EAAE,CAAzC;UAA4C,WAAQ,yBAApD;UAAA,wBACE,oBAAC,sBAAD;YACE,EAAE,+BADJ;YAEE,cAAc;cAAA;cAAA;YAAA;cAAA;cAAA;YAAA,EAFhB;YAGE,MAAM,EAAE;cACNC,eAAe,EACbD,IAAI,KAAK5jB,wCAAT,GACIb,IAAI,CAACuI,aAAL,CAAmB;gBAAA;gBAAEJ,cAAc;kBAAA;kBAAA;gBAAA;cAAhB,CAAnB,CADJ,GAEI5J,8BAAgB,CAACyB,IAAD,EAAOykB,IAAP;YAJhB;UAHV,EADF,EAUK,GAVL,eAWE,oBAAC,iBAAD;YAAM,OAAO,EAAC,OAAd;YAAsB,QAAQ,EAAC,MAA/B;YAAsC,UAAU,EAAC,MAAjD;YAAA,uBACE,oBAAC,iBAAD;cAAe,KAAK,EAAEhkB,KAAtB;cAA6B,KAAK,EAAC,MAAnC;cAA0C,IAAI,EAAC;YAA/C;UADF,EAXF;QAAA,EAFJ,EAkBGgkB,IAAI,KAAK5jB,4CAAT,gBACC,qBAAC,MAAD;UAAG,EAAE,EAAE,CAAP;UAAU,WAAQ,oBAAlB;UAAA,wBACE,qBAAC,iBAAD;YAAM,QAAQ,EAAC,MAAf;YAAsB,UAAU,EAAC,MAAjC;YAAA,wBACE,oBAAC,sBAAD;cAAkB,EAAE,mCAApB;cAAuD,cAAc;gBAAA;gBAAA;cAAA;YAArE,EADF,EACgG,GADhG;UAAA,EADF,eAIE,oBAAC,iBAAD;YAAM,OAAO,EAAC,OAAd;YAAsB,QAAQ,EAAC,MAA/B;YAAsC,UAAU,EAAC,MAAjD;YAAA;YAEI;AAClB;YACkBsjB,yCAAc,CAACG,UAAU,CAACO,cAAX,CAA0BC,YAA3B,EAAyCR,UAAU,CAACO,cAAX,CAA0B/kB,QAA1B,IAAsC,KAA/E,EAAsF;cAClGilB,SAAS,EAAE,CADuF;cAElGR,MAAM,EAANA;YAFkG,CAAtF;UAJlB,EAJF;QAAA,EADD,gBAiBC,oBAAC,MAAD;UAAG,EAAE,EAAE,CAAP;UAAU,QAAQ,EAAC,MAAnB;UAA0B,UAAU,EAAC,MAArC;UAAA,UACG,qBAAAC,OAAO,CAAC/d,OAAR,sEAAiBqC,UAAjB,IAA8B,CAA9B,iBACC,oBAAC,sBAAD;YACE,EAAE,oCADJ;YAEE,cAAc;cAAA;cAAA;cAAA;gBAAA;kBAAA;oBAAA;oBAAA;kBAAA;oBAAA;oBAAA;kBAAA;gBAAA;gBAAA;kBAAA;oBAAA;oBAAA;kBAAA;oBAAA;oBAAA;kBAAA;gBAAA;cAAA;cAAA;cAAA;YAAA,EAFhB;YAGE,MAAM,EAAE;cACNnL,KAAK,EAAE6mB,OAAO,CAAC/d,OAAR,CAAgBqC,UADjB;cAENkc,WAAW,eACT,oBAAC,iBAAD;gBAAM,UAAU,EAAC,MAAjB;gBAAwB,QAAQ,EAAC,MAAjC;gBAAA,UACGR,OAAO,CAAC/d,OAAR,CAAgBqC;cADnB;YAHI;UAHV;QAFJ,EAnCJ;MAAA;IADF;EADF,GADF;AA2DD,CA9DD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA,oEAAevF,8BAAU,CAAC8gB,oBAAD,CAAzB;;;;;;;;;;;;;;;;;;ACvGA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,IAAMiB,SAAS,GAAG,EAAlB;AAEA,IAAMC,OAAO,GAAG;EACdC,GAAG,EAAE,KADS;EAEdC,kBAAkB,EAAE,MAFN;EAGdC,YAAY,EAAE,OAHA;EAIdC,aAAa,EAAE,OAJD;EAKdC,IAAI,EAAE,MALQ;EAMdC,SAAS,EAAE,WANG;EAOdC,MAAM,EAAE;AAPM,CAAhB;AAUA,IAAMC,YAAY,GAAG,CACnB;EACEjlB,EAAE,EAAEykB,OAAO,CAACC,GADd;EAEEQ,IAAI,EAAE;IACJvB,IAAI,EAAE,CACJQ,wCADI,EAEJA,0CAFI,EAGJA,sDAHI,EAIJA,4CAJI,EAKJA,4CALI,CADF;IAQJmB,WAAW,EAAE,IART;IASJC,OAAO,EAAE;MAAElW,KAAK,EAAE,cAAT;MAAyBmW,SAAS,EAAE;IAApC;EATL,CAFR;EAaEhE,QAAQ,EAAE;IAAA,OAAM,IAAN;EAAA;AAbZ,CADmB,EAgBnB;EACExhB,EAAE,EAAEykB,OAAO,CAACE,kBADd;EAEEO,IAAI,EAAE;IACJvB,IAAI,EAAE,CAACQ,wCAAD,CADF;IAEJmB,WAAW,EAAE,CAAC9nB,wDAAD,CAFT;IAGJ+nB,OAAO,EAAE;MAAElW,KAAK,EAAE,cAAT;MAAyBmW,SAAS,EAAE;IAApC;EAHL,CAFR;EAOEhE,QAAQ,EAAE,kBAAAzhB,KAAK;IAAA,OAAIA,KAAJ,aAAIA,KAAJ,uBAAIA,KAAK,CAAE0lB,IAAP,CAAY,UAAAC,CAAC;MAAA,OAAIA,CAAC,CAAC/B,IAAF,KAAWQ,wCAAX,IAAmCuB,CAAC,CAACpZ,IAAF,KAAW9O,wDAAlD;IAAA,CAAb,CAAJ;EAAA;AAPjB,CAhBmB,EAyBnB;EACEwC,EAAE,EAAEykB,OAAO,CAACG,YADd;EAEEM,IAAI,EAAE;IACJvB,IAAI,EAAE,CAACQ,wCAAD,CADF;IAEJmB,WAAW,EAAE,CAAC9nB,4CAAD,CAFT;IAGJ+nB,OAAO,EAAE;MAAElW,KAAK,EAAE,cAAT;MAAyBmW,SAAS,EAAE;IAApC;EAHL,CAFR;EAOEhE,QAAQ,EAAE,kBAAAzhB,KAAK;IAAA,OAAIA,KAAJ,aAAIA,KAAJ,uBAAIA,KAAK,CAAE0lB,IAAP,CAAY,UAAAC,CAAC;MAAA,OAAIA,CAAC,CAAC/B,IAAF,KAAWQ,wCAAX,IAAmCuB,CAAC,CAACpZ,IAAF,KAAW9O,4CAAlD;IAAA,CAAb,CAAJ;EAAA;AAPjB,CAzBmB,EAkCnB;EACEwC,EAAE,EAAEykB,OAAO,CAACI,aADd;EAEEK,IAAI,EAAE;IACJvB,IAAI,EAAE,CAACQ,wCAAD,CADF;IAEJmB,WAAW,EAAE,CAAC9nB,8CAAD,CAFT;IAGJ+nB,OAAO,EAAE;MAAElW,KAAK,EAAE,cAAT;MAAyBmW,SAAS,EAAE;IAApC;EAHL,CAFR;EAOEhE,QAAQ,EAAE,kBAACzhB,KAAD,EAAQ2jB,OAAR;IAAA,OACR,CAAAA,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEpX,IAAT,MAAkB9O,wDAAlB,KACAuC,KADA,aACAA,KADA,uBACAA,KAAK,CAAE0lB,IAAP,CAAY,UAAAC,CAAC;MAAA,OAAIA,CAAC,CAAC/B,IAAF,KAAWQ,wCAAX,IAAmCuB,CAAC,CAACpZ,IAAF,KAAW,OAAlD;IAAA,CAAb,CADA,CADQ;EAAA;AAPZ,CAlCmB,EA6CnB;EACEtM,EAAE,EAAEykB,OAAO,CAACM,SADd;EAEEG,IAAI,EAAE;IACJvB,IAAI,EAAE,CAACQ,4CAAD,CADF;IAEJmB,WAAW,EAAE,IAFT;IAGJC,OAAO,EAAE;MAAElW,KAAK,EAAE,mBAAT;MAA8BmW,SAAS,EAAE;IAAzC;EAHL,CAFR;EAOEhE,QAAQ,EAAE,kBAAAzhB,KAAK;IAAA,OAAIA,KAAJ,aAAIA,KAAJ,uBAAIA,KAAK,CAAE0lB,IAAP,CAAY,UAAAC,CAAC;MAAA,OAAIA,CAAC,CAAC/B,IAAF,KAAWQ,4CAAf;IAAA,CAAb,CAAJ;EAAA;AAPjB,CA7CmB,EAsDnB;EACEnkB,EAAE,EAAEykB,OAAO,CAACK,IADd;EAEEI,IAAI,EAAE;IACJvB,IAAI,EAAE,CAACQ,0CAAD,EAAwBA,4CAAxB,CADF;IAEJmB,WAAW,EAAE,IAFT;IAGJC,OAAO,EAAE;MAAElW,KAAK,EAAE,cAAT;MAAyBmW,SAAS,EAAE;IAApC;EAHL,CAFR;EAOEhE,QAAQ,EAAE,kBAAAzhB,KAAK;IAAA,OAAIA,KAAJ,aAAIA,KAAJ,uBAAIA,KAAK,CAAE0lB,IAAP,CAAY,UAAAC,CAAC;MAAA,OAAIA,CAAC,CAAC/B,IAAF,KAAWQ,0CAAX,IAAoCuB,CAAC,CAAC/B,IAAF,KAAWQ,4CAAnD;IAAA,CAAb,CAAJ;EAAA;AAPjB,CAtDmB,EA+DnB;EACEnkB,EAAE,EAAEykB,OAAO,CAACO,MADd;EAEEE,IAAI,EAAE;IACJvB,IAAI,EAAE,CAACQ,gDAAD,CADF;IAEJmB,WAAW,EAAE,IAFT;IAGJC,OAAO,EAAE;MAAElW,KAAK,EAAE,cAAT;MAAyBmW,SAAS,EAAE;IAApC;EAHL,CAFR;EAOEhE,QAAQ,EAAE,kBAAAzhB,KAAK;IAAA,OAAIA,KAAJ,aAAIA,KAAJ,uBAAIA,KAAK,CAAE0lB,IAAP,CAAY,UAAAC,CAAC;MAAA,OAAIA,CAAC,CAAC/B,IAAF,KAAWQ,gDAAf;IAAA,CAAb,CAAJ;EAAA;AAPjB,CA/DmB,CAArB;;AA0EA,IAAMyB,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAA7lB,KAAK,EAAI;EACnC,OAAOklB,YAAY,CAACtV,MAAb,CAAoB,UAAAkW,CAAC;IAAA,OAAIA,CAAC,CAACrE,QAAF,CAAWzhB,KAAX,CAAJ;EAAA,CAArB,EAA4CV,GAA5C,CAAgD,UAAAwmB,CAAC;IAAA,OAAIA,CAAC,CAAC7lB,EAAN;EAAA,CAAjD,CAAP;AACD,CAFD;;AAIA,IAAM8lB,WAAW,GAAG/e,sBAAc,kEAC/B0d,OAAO,CAACC,GADuB,EACjB;EACb1kB,EAAE,4BADW;EAEbqH,cAAc;IAAA;IAAA;EAAA;AAFD,CADiB,6CAK/Bod,OAAO,CAACE,kBALuB,EAKF;EAC5B3kB,EAAE,qBAD0B;EAE5BqH,cAAc;IAAA;IAAA;EAAA;AAFc,CALE,6CAS/Bod,OAAO,CAACG,YATuB,EASR;EACtB5kB,EAAE,eADoB;EAEtBqH,cAAc;IAAA;IAAA;EAAA;AAFQ,CATQ,6CAa/Bod,OAAO,CAACI,aAbuB,EAaP;EACvB7kB,EAAE,gBADqB;EAEvBqH,cAAc;IAAA;IAAA;EAAA;AAFS,CAbO,6CAiB/Bod,OAAO,CAACM,SAjBuB,EAiBX;EACnB/kB,EAAE,sBADiB;EAEnBqH,cAAc;IAAA;IAAA;EAAA;AAFK,CAjBW,6CAqB/Bod,OAAO,CAACK,IArBuB,EAqBhB;EACd9kB,EAAE,sBADY;EAEdqH,cAAc;IAAA;IAAA;EAAA;AAFA,CArBgB,6CAyB/Bod,OAAO,CAACO,MAzBuB,EAyBd;EAChBhlB,EAAE,UADc;EAEhBqH,cAAc;IAAA;IAAA;EAAA;AAFE,CAzBc,oBAAlC;AA+BA,IAAM0e,qBAAqB,GAAG,uCAA9B;AAEA;;AACA,IAAMC,uBAAuB,GAAG/uB,2EAAH;EAAA;EAAA;AAAA,6BACdqtB,8BADc,CAA7B;AAIA,IAAM2B,+BAA+B,GAAGjd,mCAAH,wgCAArC;AA6CA,IAAMkd,yBAAyB,GAAGld,mCAAH,swDAA/B;;AA+EA,IAAMmd,oBAAoB,GAAG,SAAvBA,oBAAuB,OAAoB;EAAA,IAAjBvkB,UAAiB,QAAjBA,UAAiB;EAC/C,IAAM1C,IAAI,GAAG3B,0BAAO,EAApB;;EACA,sBAAwCzG,cAAA,CAAe,KAAf,CAAxC;EAAA;EAAA,IAAOsvB,aAAP;EAAA,IAAsBC,cAAtB;;EACA,uBAA4BvvB,cAAA,CAAe8K,UAAU,CAAC+a,MAAX,GAAoB8H,OAAO,CAACE,kBAA5B,GAAiDF,OAAO,CAACC,GAAxE,CAA5B;EAAA;EAAA,IAAO/U,MAAP;EAAA,IAAe2W,SAAf;;EACA,IAAMC,cAAc,GAAGtB,YAAY,CAAChF,IAAb,CAAkB,UAAA4F,CAAC;IAAA,OAAIA,CAAC,CAAC7lB,EAAF,KAAS2P,MAAb;EAAA,CAAnB,CAAvB;;EACA,gBAAqCpC,mBAAQ,CAAC2Y,yBAAD,EAA4B;IACvElhB,SAAS,EAAE;MAAEb,IAAI,EAAEvC,UAAU,CAACuC,IAArB;MAA2BqiB,KAAK,EAAEhC,SAAlC;MAA6CiC,MAAM,EAAE;IAArD,GAA2DF,cAAc,CAACrB,IAA1E,CAD8D;IAEvEzW,OAAO,EAAEd,6BAF8D;IAGvE+Y,2BAA2B,EAAE;EAH0C,CAA5B,CAA7C;EAAA,IAAQ7iB,IAAR,aAAQA,IAAR;EAAA,IAAc0K,OAAd,aAAcA,OAAd;EAAA,IAAuBoY,SAAvB,aAAuBA,SAAvB;;EAKA,iBAA6BpZ,mBAAQ,CAAC0Y,+BAAD,EAAkC;IACrEjhB,SAAS,EAAE;MAAEb,IAAI,EAAEvC,UAAU,CAACuC;IAAnB,CAD0D;IAErEsK,OAAO,EAAEd,6BAAcA;EAF8C,CAAlC,CAArC;EAAA,IAAciZ,UAAd,cAAQ/iB,IAAR;;EAKA,IAAMgjB,cAAc;IAAA,gFAAG;MAAA;MAAA;QAAA;UAAA;YAAA;cACrBR,cAAc,CAAC,IAAD,CAAd;cACMI,MAFe,GAENK,QAAQ,CAACjf,KAAT,CAAexK,MAFT;cAGfkpB,cAHe,GAGEtB,YAAY,CAAChF,IAAb,CAAkB,UAAA4F,CAAC;gBAAA,OAAIA,CAAC,CAAC7lB,EAAF,KAAS2P,MAAb;cAAA,CAAnB,CAHF;cAAA;cAAA,OAIfgX,SAAS,CAAC;gBACd3hB,SAAS,EAAE;kBAAEyhB,MAAM,EAANA;gBAAJ,GAAeF,cAAc,CAACrB,IAA9B,CADK;gBAEd6B,WAAW,EAAE,qBAACC,IAAD,SAA+B;kBAAA,IAAtBC,eAAsB,SAAtBA,eAAsB;;kBAC1C,IAAI,CAACA,eAAL,EAAsB;oBACpB,OAAOD,IAAP;kBACD;;kBACD,OAAO3S,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB0S,IAAlB,EAAwB;oBAC7BtD,OAAO,EAAE,0DACJsD,IAAI,CAACtD,OADH;sBAELoD,QAAQ,EAAE,0DACLG,eAAe,CAACvD,OAAhB,CAAwBoD,QADrB;wBAENjf,KAAK,wCAAMmf,IAAI,CAACtD,OAAL,CAAaoD,QAAb,CAAsBjf,KAA5B,+BAAsCof,eAAe,CAACvD,OAAhB,CAAwBoD,QAAxB,CAAiCjf,KAAvE;sBAFC;oBAFH;kBADsB,CAAxB,CAAP;gBASD;cAfa,CAAD,CAJM;;YAAA;cAqBrBwe,cAAc,CAAC,KAAD,CAAd;;YArBqB;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAH;;IAAA,gBAAdQ,cAAc;MAAA;IAAA;EAAA,GAApB;;EAwBA,IAAMK,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAlnB,EAAE,EAAI;IAC/BsmB,SAAS,CAACtmB,EAAD,CAAT;IACA,IAAMumB,cAAc,GAAGtB,YAAY,CAAChF,IAAb,CAAkB,UAAA4F,CAAC;MAAA,OAAIA,CAAC,CAAC7lB,EAAF,KAASA,EAAb;IAAA,CAAnB,CAAvB;IACA2mB,SAAS,CAAC;MACR3hB,SAAS,EAAE;QAAEyhB,MAAM,EAAE;MAAZ,GAAkBF,cAAc,CAACrB,IAAjC,CADD;MAER6B,WAAW,EAAE,qBAACC,IAAD,SAA+B;QAAA,IAAtBC,eAAsB,SAAtBA,eAAsB;QAC1C,OAAOA,eAAe,GAAGA,eAAH,GAAqBD,IAA3C;MACD;IAJO,CAAD,CAAT;EAMD,CATD;;EAWA,YAA8B,CAAAnjB,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAE6f,OAAN,KAAiB,EAA/C;EAAA,IAAQA,OAAR,SAAQA,OAAR;EAAA,IAAiBoD,QAAjB,SAAiBA,QAAjB;;EACA,YAA8C,CAAAF,UAAU,SAAV,IAAAA,UAAU,WAAV,YAAAA,UAAU,CAAElD,OAAZ,KAAuB,EAArE;EAAA,IAAQyD,cAAR,SAAQA,cAAR;EAAA,IAAwBC,iBAAxB,SAAwBA,iBAAxB;;EACA,IAAMC,cAAc,GAAG,CAAA3D,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEpX,IAAT,MAAkB9O,4DAAzC;EACA,IAAM8pB,gBAAgB,GAAG1B,mBAAmB,CAAC,CAAAkB,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAE/mB,KAAV,KAAmB,EAApB,EAAwB2jB,OAAxB,CAA5C;EACA,IAAM6D,WAAW,GAAGT,QAAQ,IAAIA,QAAQ,CAAC9e,UAAT,GAAsB8e,QAAQ,CAACjf,KAAT,CAAexK,MAArE;EACA,oBACE,qBAAC,2BAAD;IAAK,EAAE,EAAE,CAAT;IAAA,wBACE,qBAAC,cAAD;MAAA,wBACE,oBAAC,sCAAD;QAAA,UACG,CAAA8pB,cAAc,SAAd,IAAAA,cAAc,WAAd,YAAAA,cAAc,CAAEnf,UAAhB,IAA6B,CAA7B,iBACC,oBAAC,OAAD;UAAI,QAAQ,EAAE,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,CAAd;UAAwC,UAAU,EAAC,QAAnD;UAA4D,KAAK,EAAC,WAAlE;UAAA,uBACE,oBAAC,sBAAD;YACE,EAAE,0DADJ;YAEE,MAAM,EAAE;cAAEC,CAAC,EAAEkf,cAAc,CAACnf;YAApB,CAFV;YAGE,cAAc;cAAA;cAAA;YAAA;cAAA;cAAA;cAAA;gBAAA;kBAAA;oBAAA;oBAAA;kBAAA;gBAAA;gBAAA;kBAAA;oBAAA;oBAAA;kBAAA;oBAAA;oBAAA;kBAAA;gBAAA;cAAA;cAAA;cAAA;YAAA;UAHhB;QADF;MAFJ,EADF,EAYG,CAAAsf,gBAAgB,SAAhB,IAAAA,gBAAgB,WAAhB,YAAAA,gBAAgB,CAAEjqB,MAAlB,IAA2B,CAA3B,iBACC,oBAAC,2BAAD;QAAK,EAAE,EAAE,CAAT;QAAY,EAAE,EAAC,MAAf;QAAsB,QAAQ,EAAEknB,iEAAhC;QAAA,uBACE,oBAAC,4BAAD;UACE,OAAO,EAAE+C,gBADX;UAEE,QAAQ,EAAE,kBAAAvqB,GAAG;YAAA,OAAImC,IAAI,CAACuI,aAAL,CAAmBqe,WAAW,CAAC/oB,GAAD,CAA9B,CAAJ;UAAA,CAFf;UAGE,QAAQ,EAAEmqB,kBAHZ;UAIE,QAAQ,EAAEvX,MAJZ;UAKE,cAAc,EAAC,MALjB;UAME,cAAc,EAAE,GANlB;UAOE,EAAE,EAAE4U,iDAPN;UAQE,QAAQ,EAAE6B;QARZ;MADF,EAbJ,eA0BE,oBAAC,mCAAD;QACE,WAAQ,eADV;QAEE,QAAQ,EAAE7B,iEAFZ;QAGE,EAAE,EAAEA,iDAHN;QAIE,EAAE,EAAE,CAJN;QAKE,EAAE,EAAC,MALL;QAAA,uBAOE,qBAAC,4BAAD;UAAM,OAAO,EAAE,EAAf;UAAmB,mBAAmB,EAAEwB,qBAAxC;UAAA,WACG,CAAC,CAACxX,OAAD,IAAa6X,aAAa,IAAI7X,OAA/B,MACCuY,QADD,aACCA,QADD,uBACCA,QAAQ,CAAEjf,KAAV,CAAgBxI,GAAhB,CAAoB,UAAAmkB,UAAU;YAAA,oBAC5B,oBAAC,uBAAD;cAAyB,WAAQ,yBAAjC;cAAA,uBACE,oBAAC,+BAAD;gBAAsB,UAAU,EAAEA;cAAlC;YADF,GAAgEA,UAAU,CAACxjB,EAA3E,CAD4B;UAAA,CAA9B,CADD,CADH,EAOGuO,OAAO,IACN,4BAAImZ,KAAK,CAACH,WAAW,GAAG/C,SAAd,GAA0B+C,WAA1B,GAAwC/C,SAAzC,CAAL,CAAyDmD,IAAzD,EAAJ,EAAqEtoB,GAArE,CAAyE,UAAAW,EAAE;YAAA,oBACzE,oBAAC,iCAAD;cAA6B,MAAM,EAAE;YAArC,GAAyBA,EAAzB,CADyE;UAAA,CAA3E,CARJ;QAAA;MAPF,EA1BF,EA8CG,CAAA8mB,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEjf,KAAV,CAAgBxK,MAAhB,KAAyBypB,QAAzB,aAAyBA,QAAzB,uBAAyBA,QAAQ,CAAE9e,UAAnC,kBACC,oBAAC,4BAAD;QAAM,EAAE,EAAE,CAAV;QAAa,cAAc,EAAC,QAA5B;QAAA,uBACE,qBAAC,2BAAD;UACE,WAAQ,WADV;UAEE,aAAa,EAAC,YAFhB;UAGE,QAAQ,EAAE,GAHZ;UAIE,OAAO,EAAE6e,cAJX;UAKE,OAAO,EAAEtY,OALX;UAAA,wBAOE,oBAAC,sBAAD;YAAkB,EAAE,YAApB;YAAgC,cAAc;cAAA;cAAA;YAAA;UAA9C,EAPF;QAAA;MADF,EA/CJ;IAAA,EADF,EA8DG,CAAA6Y,iBAAiB,SAAjB,IAAAA,iBAAiB,WAAjB,YAAAA,iBAAiB,CAAEpf,UAAnB,IAAgC,CAAhC,iBACC,qBAAC,2BAAD;MAAK,EAAE,EAAE,CAAT;MAAA,wBACE,oBAAC,sCAAD;QAAA,uBACE,oBAAC,2BAAD;UAAc,SAAS,EAAC,MAAxB;UAA+B,EAAE,EAAE,CAAnC;UAAsC,QAAQ,EAAE,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,CAAhD;UAA0E,KAAK,EAAC,WAAhF;UAAA,UACGqf,cAAc,gBACb,oBAAC,sBAAD;YACE,EAAE,8BADJ;YAEE,cAAc;cAAA;cAAA;cAAA;gBAAA;kBAAA;oBAAA;oBAAA;kBAAA;gBAAA;gBAAA;kBAAA;oBAAA;oBAAA;kBAAA;gBAAA;cAAA;cAAA;cAAA;YAAA;cAAA;cAAA;YAAA,EAFhB;YAGE,MAAM,EAAE;cAAEpf,CAAC,EAAEmf,iBAAiB,CAACpf;YAAvB;UAHV,EADa,gBAOb,oBAAC,sBAAD;YACE,EAAE,wCADJ;YAEE,cAAc;cAAA;cAAA;cAAA;gBAAA;kBAAA;oBAAA;oBAAA;kBAAA;gBAAA;gBAAA;kBAAA;oBAAA;oBAAA;kBAAA;gBAAA;cAAA;cAAA;cAAA;YAAA;cAAA;cAAA;YAAA,EAFhB;YAGE,MAAM,EAAE;cAAEC,CAAC,EAAEmf,iBAAiB,CAACpf;YAAvB;UAHV;QARJ;MADF,EADF,eAkBE,oBAAC,mCAAD;QAAW,QAAQ,EAAEuc,iEAArB;QAAmD,EAAE,EAAEA,iDAAvD;QAA6E,CAAC,EAAC,QAA/E;QAAA,uBACE,oBAAC,4BAAD;UAAM,OAAO,EAAE,EAAf;UAAmB,mBAAmB,EAAEwB,qBAAxC;UAAA,UACGqB,iBAAiB,CAACvf,KAAlB,CAAwBxI,GAAxB,CAA4B,UAAAmkB,UAAU;YAAA,oBACrC,oBAAC,uBAAD;cAAA,uBACE,oBAAC,+BAAD;gBAAsB,UAAU,EAAEA;cAAlC;YADF,GAA8BA,UAAU,CAACxjB,EAAzC,CADqC;UAAA,CAAtC;QADH;MADF,EAlBF;IAAA,EA/DJ;EAAA,EADF;AA+FD,CAtJD;;AA+JA,IAAM4nB,iBAAiB,GAAG,SAApBA,iBAAoB,QAA2B;EAAA,IAAxBC,OAAwB,SAAxBA,OAAwB;EAAA,IAAfxuB,QAAe,SAAfA,QAAe;EACnD,oBACE,KAAC,SAAD;IACE,WAAQ,eADV;IAEE,QAAQ,EAAEkrB,UAAU,CAACiD,iBAFvB;IAGE,EAAE,EAAEjD,UAAU,CAACkD,SAHjB;IAIE,EAAE,EAAE,CAJN;IAKE,EAAE,EAAC,MALL;IAAA,uBAOE,KAAC,IAAD;MAAM,OAAO,EAAE,EAAf;MAAmB,mBAAmB,EAAE1B,qBAAxC;MAAA,UACG8B,OAAO,CAACxoB,GAAR,CAAY,UAAAyoB,KAAK;QAAA,oBAChB,KAAC,uBAAD;UAAwC,WAAQ,yBAAhD;UAAA,UACGzuB,QAAQ,CAACyuB,KAAD;QADX,GAA8BA,KAAK,CAAC9nB,EAApC,CADgB;MAAA,CAAjB;IADH;EAPF,EADF;AAiBD,CAlBD;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,kDAAemmB,oBAAf;;;;;;AC1cA,+DAAe,oBAAoB;;;;;;;;;;;;;;;ACAnC;AAEA;AACA;AACA;AAEA;AACA;AACA;CAEA;;AACA;AACA;AACA;AAEA;AAEA;;;;AACA,IAAM+B,aAAa,GAAGjxB,iDAAM,CAACG,mCAAD,CAAT;EAAA;EAAA;AAAA,4LAQc6wB,0BARd,CAAnB;;AAoBA;AACA;AACA;IACqBE;;;;;EAiBnB,6BAAY1wB,KAAZ,EAAmB;IAAA;;IAAA;;IACjB,0BAAMA,KAAN;;IADiB,8EAOP,UAAAkY,MAAM,EAAI;MACpB,MAAKtX,QAAL,CAAc;QAAEsX,MAAM,EAANA;MAAF,CAAd;IACD,CATkB;;IAAA,2FAYMiP,kCAAU,CAAC,UAACwJ,gBAAD,EAAmBC,qBAAnB,EAA6C;MAC/E,IAAIA,qBAAqB,CAAChrB,MAAtB,IAAgC+qB,gBAAgB,CAAC/qB,MAArD,EAA6D;QAC3D,OAAO0qB,uCAAP;MACD,CAFD,MAEO;QACL,OAAO,EAAP;MACD;IACF,CANkC,CAZhB;;IAAA,uFAoBEnJ,kCAAU,CAAC,UAACwJ,gBAAD,EAAmBC,qBAAnB,EAA0C1Y,MAA1C,EAAqD;MACnF;MACA,IAAIA,MAAM,KAAKoY,wDAAf,EAA4D;QAC1D,OAAOK,gBAAP;MACD,CAFD,MAEO,IAAIzY,MAAM,KAAKoY,kEAAf,EAAiE;QACtE,OAAOM,qBAAP;MACD,CAFM,MAEA;QACL,IAAMG,mBAAmB,GAAG,IAAI5M,GAAJ,CAAQwM,gBAAgB,CAAC/oB,GAAjB,CAAqB,UAAAoJ,CAAC;UAAA,OAAIA,CAAC,CAACzI,EAAN;QAAA,CAAtB,CAAR,CAA5B;QACA,6CAAWooB,gBAAX,+BAAgCC,qBAAqB,CAAC1Y,MAAtB,CAA6B,UAAAlH,CAAC;UAAA,OAAI,CAAC+f,mBAAmB,CAACC,GAApB,CAAwBhgB,CAAC,CAACzI,EAA1B,CAAL;QAAA,CAA9B,CAAhC;MACD;IACF,CAV8B,CApBZ;;IAEjB,MAAKtH,KAAL,GAAa;MAAEiX,MAAM,EAAEoY,sDAA0CrD;IAApD,CAAb;IAFiB;EAGlB;;;;WA6BD,0BAAiB1gB,cAAjB,EAAiC;MAC/B,IAAIA,cAAc,CAAC3G,MAAf,GAAwB,EAA5B,EAAgC;QAC9B,OAAO,EAAP;MACD,CAFD,MAEO,IAAI2G,cAAc,CAAC3G,MAAf,GAAwB,EAA5B,EAAgC;QACrC,OAAO,EAAP;MACD,CAFM,MAEA;QACL,OAAO,EAAP;MACD;IACF;;;WAED,kBAAS;MACP,kBAAuE,KAAK5F,KAA5E;MAAA,IAAQmK,UAAR,eAAQA,UAAR;MAAA,IAAoBymB,qBAApB,eAAoBA,qBAApB;MAAA,IAA2CD,gBAA3C,eAA2CA,gBAA3C;MAAA,IAA6D1iB,KAA7D,eAA6DA,KAA7D;MACA,IAAQiK,MAAR,GAAmB,KAAKjX,KAAxB,CAAQiX,MAAR;MACA,IAAM+Y,OAAO,GAAG,KAAKC,sBAAL,CAA4BP,gBAA5B,EAA8CC,qBAA9C,CAAhB;MACA,IAAMvpB,YAAY,GAAG,KAAK8pB,kBAAL,CAAwBR,gBAAxB,EAA0CC,qBAA1C,EAAiE1Y,MAAjE,CAArB;MACA,IAAMkZ,UAAU,GAAGH,OAAO,CAACrrB,MAAR,GAAiB,CAApC;MAEA,oBACE,qBAAC,aAAD;QAAe,WAAQ,cAAvB;QAAsC,EAAE,EAAE,CAA1C;QAAA,wBACE,qBAAC,sCAAD;UAAA,wBACE,oBAAC,2BAAD;YAAc,UAAU,EAAC,MAAzB;YAAgC,QAAQ,EAAE,KAAKyrB,gBAAL,CAAsBlnB,UAAU,CAAC/F,IAAjC,CAA1C;YAAkF,UAAU,EAAC,KAA7F;YAAA,uBACE,oBAAC,sBAAD;cACE,EAAE,0BADJ;cAEE,cAAc;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA,EAFhB;cAGE,MAAM,EAAE;gBAAEmI,cAAc,EAAEpC,UAAU,CAAC/F;cAA7B;YAHV;UADF,EADF,eAQE,oBAAC,OAAD;YAAI,EAAE,EAAE,CAAR;YAAW,UAAU,EAAC,QAAtB;YAA+B,KAAK,EAAC,WAArC;YAAA,uBACE,oBAAC,sBAAD;cACE,EAAE,kCADJ;cAEE,cAAc;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA,EAFhB;cAGE,MAAM,EAAE;gBACNgB,KAAK,eAAE,oBAAC,iBAAD;kBAAM,KAAK,EAAC,WAAZ;kBAAA,UAAyB6I,KAAK,CAACC,OAAN,CAAcojB,GAAd,GAAoBX,gBAAgB,CAAC/qB;gBAA9D;cADD;YAHV;UADF,EARF,eAiBE,oBAAC,MAAD;YAAG,KAAK,EAAC,WAAT;YAAqB,EAAE,EAAE,CAAzB;YAAA,uBACE,oBAAC,sBAAD;cACE,EAAE,0CADJ;cAEE,cAAc;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA,EAFhB;cAGE,MAAM,EAAE;gBAAE2G,cAAc,EAAEpC,UAAU,CAAC/F;cAA7B;YAHV;UADF,EAjBF;QAAA,EADF,EA0BGgtB,UAAU,iBACT,oBAAC,mCAAD;UAAW,QAAQ,EAAEtE,iEAArB;UAAmD,MAAM,EAAC,QAA1D;UAAA,uBACE,oBAAC,kCAAD;YACE,QAAQ,EAAE5U,MADZ;YAEE,QAAQ,EAAE,KAAK2W,SAFjB;YAGE,OAAO,EAAEoC,OAHX;YAIE,mBAAmB,EAAC,SAJtB;YAKE,EAAE,EAAEnE,iDAAoBkD;UAL1B;QADF,EA3BJ,eAqCE,oBAAC,+BAAD;UACE,YAAY,EAAE3oB,YADhB;UAEE,YAAY,EAAE8C,UAAU,CAAC5B,EAF3B;UAGE,QAAQ,EAAE4B,UAAU,CAAC5C,QAHvB;UAIE,mBAAmB,EAAEulB,iEAA4BiD;QAJnD,EArCF;MAAA,EADF;IA8CD;;;;EAhH8C1wB;;yBAA5BqxB,yDAsBuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/D5C;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEO,IAAMa,yBAAyB,GAAGhgB,mCAAH,+UASlCE,sDATkC,CAA/B;AAYP;AACA;AACA;;IACM+f;;;;;;;;;;;;;WAmBJ,kBAAS;MACP,kBAA6B,KAAKxxB,KAAlC;MAAA,IAAQmK,UAAR,eAAQA,UAAR;MAAA,IAAoBiC,IAApB,eAAoBA,IAApB;;MACA,IAAMsE,aAAa,GAAG,cAAItE,IAAJ,EAAU,uBAAV,EAAmC,EAAnC,CAAtB;;MAEA,oBACE,qBAAC,sCAAD;QAAyB,EAAE,EAAE,CAA7B;QAAA,wBACE,oBAAC,2BAAD;UAAc,QAAQ,EAAE,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,CAAxB;UAAkD,KAAK,EAAC,WAAxD;UAAoE,EAAE,EAAE,EAAxE;UAAA,uBACE,oBAAC,sBAAD;YAAkB,EAAE,iBAApB;YAAqC,cAAc;cAAA;cAAA;YAAA;UAAnD;QADF,EADF,eAIE,qBAAC,4BAAD;UAAM,EAAE,EAAE,CAAV;UAAa,cAAc,EAAC,eAA5B;UAA4C,UAAU,EAAC,QAAvD;UAAgE,QAAQ,EAAC,MAAzE;UAAA,wBACE;YAAG,KAAK,EAAC,WAAT;YAAqB,EAAE,EAAE,CAAzB;YAAA,uBACE,oBAAC,sBAAD;cACE,EAAE,0BADJ;cAEE,cAAc;gBAAA;gBAAA;cAAA;YAFhB;UADF,EADF,eAOE,oBAAC,mBAAD;YAAM,IAAI,aAAMjC,UAAU,CAACuC,IAAjB,uBAAV;YAAA,uBACE,qBAAC,2BAAD;cAAc,WAAW,EAAC,SAA1B;cAAoC,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAAxC;cAAA,wBACE,oBAAC,iBAAD;gBAAM,QAAQ,EAAC,MAAf;gBAAsB,UAAU,EAAC,MAAjC;gBAAwC,EAAE,EAAE,CAA5C;gBAAA;cAAA,EADF,eAIE,oBAAC,sBAAD;gBAAkB,EAAE,wBAApB;gBAA4C,cAAc;kBAAA;kBAAA;gBAAA;cAA1D,EAJF;YAAA;UADF,EAPF;QAAA,EAJF,EAoBG,kBAAQgE,aAAa,CAACN,KAAtB,iBACC;UAAA,uBACE,oBAAC,yBAAD;YAAY,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAAhB;YAAwB,IAAI,EAAC,MAA7B;YAAoC,QAAQ,MAA5C;YAA6C,QAAQ,EAAE,GAAvD;YAA4D,SAAS,EAAC,QAAtE;YAA+E,QAAQ,EAAC,MAAxF;YAAA,uBACE,oBAAC,sBAAD;cACE,EAAE,kCADJ;cAEE,cAAc;gBAAA;gBAAA;cAAA;YAFhB;UADF;QADF,EADD,gBAUC,qBAAC,2BAAD;UAAK,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAAT;UAAiB,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAArB;UAAA,wBACE,oBAAC,gCAAD;YAAmB,cAAc,EAAEjG,UAAU,CAACuC,IAA9C;YAAoD,aAAa,EAAEgE,aAAa,CAACN;UAAjF,EADF,EAEGM,aAAa,CAACH,UAAd,GAA2B,CAA3B,iBACC,oBAAC,mBAAD;YAAM,IAAI,aAAMpG,UAAU,CAACuC,IAAjB,mBAAV;YAAA,uBACE,qBAAC,2BAAD;cAAc,KAAK,EAAC,MAApB;cAA2B,EAAE,EAAE,CAA/B;cAAkC,UAAU,EAAC,OAA7C;cAAqD,QAAQ,EAAC,MAA9D;cAAA,wBACE,oBAAC,sBAAD;gBAAkB,EAAE,yBAApB;gBAA6C,cAAc;kBAAA;kBAAA;gBAAA;cAA3D,EADF;YAAA;UADF,EAHJ;QAAA,EA9BJ;MAAA,EADF;IA4CD;;;;EAnEgCrN;;AAsEnC,IAAMoyB,2BAA2B,GAAG3mB,0BAAO,CAACymB,yBAAD,EAA4B;EACrEjkB,OAAO,EAAE,iBAAAtN,KAAK;IAAA,OAAK;MACjBuN,SAAS,EAAEmkB,qCAAqC,CAAC1xB,KAAK,CAACmK,UAAN,CAAiBuC,IAAlB,CAD/B;MAEjBsK,OAAO,EAAEd,6BAAcA;IAFN,CAAL;EAAA;AADuD,CAA5B,CAA3C;AAOO,IAAMwb,qCAAqC,GAAG,SAAxCA,qCAAwC,CAAAhlB,IAAI,EAAI;EAC3D,OAAO;IAAEqD,cAAc,EAAErD;EAAlB,CAAP;AACD,CAFM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIP,kDAAe+kB,2BAA2B,CAACD,oBAAD,CAA1C;;;;;GApD2C;EAAE9jB,IAAI,EAAE,SAAR;EAAmBC,QAAQ,EAAE;AAA7B;;;;;AC/D3C;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAMgkB,gBAAgB,GAAGnyB,iDAAM,CAACG,mCAAD,CAAT;EAAA;EAAA;AAAA,qHAAtB;AAOA,IAAMiyB,YAAY,GAAGpyB,2EAAH;EAAA;EAAA;AAAA,iCAAlB;AAKA;AAEA;;;;AAEA,IAAMsyB,YAAY,GAAG,SAAfA,YAAe,CAAA9xB,KAAK,EAAI;EAC5B,IAAQmK,UAAR,GAAuBnK,KAAvB,CAAQmK,UAAR;EAEA,oBACE,oBAAC,2BAAD;IAAK,EAAE,EAAE,CAAT;IAAA,uBACE,oBAAC,sCAAD;MAAA,uBACE,qBAAC,gBAAD;QACE,OAAO,EAAC,MADV;QAEE,aAAa,EAAE,CAAC,QAAD,EAAW,KAAX,CAFjB;QAGE,QAAQ,EAAE2iB,iEAHZ;QAIE,EAAE,EAAE,CAJN;QAKE,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CALN;QAAA,wBAOE,oBAAC,4BAAD;UAAM,UAAU,EAAC,QAAjB;UAA0B,cAAc,EAAC,QAAzC;UAAA,uBACE,oBAAC,YAAD;YAAc,GAAG,EAAE+E,2CAAnB;YAAoD,GAAG,EAAC;UAAxD;QADF,EAPF,eAUE,qBAAC,4BAAD;UACE,aAAa,EAAC,QADhB;UAEE,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAFN;UAGE,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAHN;UAIE,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAJN;UAKE,cAAc,EAAC,cALjB;UAME,UAAU,EAAE,CAAC,QAAD,EAAW,YAAX,CANd;UAAA,wBAQE,oBAAC,MAAD;YAAG,QAAQ,EAAC,MAAZ;YAAmB,KAAK,EAAC,WAAzB;YAAqC,UAAU,EAAC,MAAhD;YAAA,uBACE,oBAAC,sBAAD;cACE,EAAE,uBADJ;cAEE,cAAc;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA,EAFhB;cAGE,MAAM,EAAE;gBACN1nB,UAAU,EAAEA,UAAU,CAAC/F;cADjB;YAHV;UADF,EARF,eAiBE,oBAAC,mBAAD;YAAM,IAAI,EAAC,SAAX;YAAA,uBACE,qBAAC,2BAAD;cAAc,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAAlB;cAA0B,WAAW,EAAC,SAAtC;cAAgD,UAAU,EAAC,QAA3D;cAAoE,QAAQ,EAAC,MAA7E;cAAoF,UAAU,EAAC,MAA/F;cAAA,wBACE,oBAAC,sBAAD;gBAAkB,EAAE,4BAApB;gBAAgD,cAAc;kBAAA;kBAAA;gBAAA;cAA9D,EADF;YAAA;UADF,EAjBF;QAAA,EAVF;MAAA;IADF;EADF,EADF;AAwCD,CA3CD;;;;;;;;;;;;;;;;;;;;;;AAoDA,0CAAe0tB,YAAf;;;;;;;;;;;;;;;;AChFA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;IAEME;;;;;;;;;;;;;;;;mFAiBS7K,kCAAU,CAAC4K,6BAAD;;yGAEY,UAAAhrB,KAAK,EAAI;MAC1C,IAAMigB,qBAAqB,GAAGL,uCAAqB,GAAGC,6DAAA,GAA+B,CAArF;;MACA,IAAI7f,KAAK,IAAIigB,qBAAqB,GAAG,CAArC,EAAwC;QACtC,OAAOA,qBAAP;MACD,CAFD,MAEO,IAAIjgB,KAAK,IAAIigB,qBAAqB,GAAG,CAArC,EAAwC;QAC7C,OAAOA,qBAAqB,GAAG,CAA/B;MACD,CAFM,MAEA;QACL,OAAOA,qBAAqB,GAAG,CAA/B;MACD;IACF;;;;;;;WAED,kBAAS;MACP,kBAAwC,KAAKhnB,KAA7C;MAAA,IAAQmK,UAAR,eAAQA,UAAR;MAAA,IAAoBwgB,MAApB,eAAoBA,MAApB;MAAA,IAA4BviB,OAA5B,eAA4BA,OAA5B;MACA,IAAM6pB,yBAAyB,GAAG,CAACtH,MAAM,CAACnC,IAAP,CAAY,UAAAnjB,KAAK;QAAA,OAAIA,KAAK,CAACgC,YAAN,CAAmBzB,MAAnB,GAA4B,CAAhC;MAAA,CAAjB,CAAnC;;MAEA,IAAI,EAAC+kB,MAAD,aAACA,MAAD,eAACA,MAAM,CAAE/kB,MAAT,KAAmB,CAACwC,OAAxB,EAAiC;QAC/B,OAAO,IAAP;MACD;;MAED,oBACE,qBAAC,2BAAD;QAAK,EAAE,EAAE,CAAT;QAAY,EAAE,EAAE,CAAhB;QAAA,wBACE,qBAAC,sCAAD;UAAA,wBACE,oBAAC,OAAD;YAAI,QAAQ,EAAE,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,CAAd;YAAwC,UAAU,EAAC,QAAnD;YAA4D,KAAK,EAAC,WAAlE;YAA8E,EAAE,EAAE,CAAlF;YAAA,uBACE,oBAAC,sBAAD;cAAkB,EAAE,UAApB;cAA8B,cAAc;gBAAA;gBAAA;cAAA;YAA5C;UADF,EADF,eAIE,oBAAC,MAAD;YAAG,KAAK,EAAC,WAAT;YAAqB,EAAE,EAAE,CAAzB;YAAA,UACGA,OAAO,gBACN,oBAAC,sBAAD;cACE,EAAE,iDADJ;cAEE,cAAc;gBAAA;gBAAA;cAAA;YAFhB,EADM,gBAMN,oBAAC,sBAAD;cACE,EAAE,4CADJ;cAEE,cAAc;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA,EAFhB;cAGE,MAAM,EAAE;gBAAEmE,cAAc,EAAEpC,UAAU,CAAC/F;cAA7B;YAHV;UAPJ,EAJF;QAAA,EADF,eAoBE,qBAAC,iCAAD;UACE,SAAS,EAAE0iB,uCADb;UAEE,iBAAiB,EAAE,KAAKI,gCAF1B;UAAA,WAIG,KAAK6K,UAAL,CAAgBpH,MAAhB,EAAwB/iB,GAAxB,CAA4B,UAAAvC,KAAK;YAAA,oBAChC,oBAAC,2BAAD;cAAoB,EAAE,EAAEuhB,wDAAxB;cAAA,uBACE,oBAAC,8BAAD;gBAAiB,UAAU,EAAEzc,UAA7B;gBAAyC,KAAK,EAAE9E,KAAhD;gBAAuD,gBAAgB,EAAE4sB;cAAzE;YADF,GAAU5sB,KAAK,CAACkD,EAAhB,CADgC;UAAA,CAAjC,CAJH,EASGH,OAAO,iBACN,oBAAC,2BAAD;YAAK,EAAE,EAAEwe,wDAAT;YAAoC,SAAS,EAAE,GAA/C;YAAA,uBACE,oBAAC,wBAAD;cAAW,KAAK,aAAMzc,UAAU,CAACuC,IAAjB,mBAAhB;cAAuD,WAAQ,cAA/D;cAAA,uBACE,oBAAC,sBAAD;gBAAkB,EAAE,oBAApB;gBAAwC,cAAc;kBAAA;kBAAA;gBAAA;cAAtD;YADF;UADF,EAVJ;QAAA,EApBF,EAqCG5D,OAAO,CAAC,CAAA6hB,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAE/kB,MAAR,IAAiB,CAAlB,CAAP,iBACC,oBAAC,sCAAD;UAAA,uBACE,oBAAC,mBAAD;YAAM,IAAI,aAAMuE,UAAU,CAACuC,IAAjB,YAAV;YAAA,uBACE,qBAAC,2BAAD;cAAc,EAAE,EAAE,CAAlB;cAAqB,KAAK,EAAE,CAA5B;cAA+B,UAAU,EAAC,OAA1C;cAAkD,QAAQ,EAAC,MAA3D;cAAA,wBACE,oBAAC,sBAAD;gBAAkB,EAAE,wCAApB;gBAA4D,cAAc;kBAAA;kBAAA;gBAAA;cAA1E,EADF;YAAA;UADF;QADF,EAtCJ;MAAA,EADF;IAiDD;;;;EAvFyBrN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0F5B,2CAAe2L,8BAAU,CAACgnB,aAAD,CAAzB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7GA;AAEA;AACA;AACA;AAEA;AAEA;;;AACA,IAAMK,KAAK,GAAG7yB,+EAAH;EAAA;EAAA;AAAA,8TACP2yB,wBADO,CAAX;AA4BO,IAAMI,kBAAkB,GAAG,SAArBA,kBAAqB,CAACjtB,GAAD,EAAM+R,MAAN,EAAiB;EACjDA,MAAM,CAAC/R,GAAP,GAAaA,GAAb;EACA,OAAO+R,MAAP;AACD,CAHM;AAKA,IAAMmb,WAAW,GAAG,SAAdA,WAAc,OAA2C;EAAA;;EAAA,IAAxCC,OAAwC,QAAxCA,OAAwC;EAAA,IAA/BC,IAA+B,QAA/BA,IAA+B;EAAA,IAAzBC,QAAyB,QAAzBA,QAAyB;EAAA,IAAZ3yB,KAAY;;EACpE,IAAI2yB,QAAJ,EAAc;IACZD,IAAI,GAAGA,IAAI,CAAC3hB,KAAL,CAAW,CAAX,EAAc4hB,QAAd,CAAP;EACD;;EAED,oBACE,qBAAC,KAAD;IAAO,EAAE,EAAE,CAAX;IAAc,WAAW,EAAE,CAA3B;IAA8B,WAAW,EAAC;EAA1C,GAAqD3yB,KAArD;IAAA,wBACE;MAAA,uBACE;QAAA,UACGyyB,OAAO,CAAC7qB,GAAR,CAAY,UAAAgrB,MAAM;UAAA,oBACjB;YAAA,UAAsBA;UAAtB,GAASA,MAAM,CAACttB,GAAhB,CADiB;QAAA,CAAlB;MADH;IADF,EADF,eAQE;MAAA,mBACGotB,IADH,0CACG,MAAM9qB,GAAN,CAAU,UAAAirB,GAAG;QAAA,oBACZ;UAAA,UACGA,GAAG,CAACjrB,GAAJ,CAAQ,UAACkrB,IAAD,EAAOC,CAAP;YAAA,oBACP;cAAA,UAA0CD;YAA1C,GAAS,CAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAExtB,GAAN,eAAgButB,GAAG,CAACvtB,GAApB,cAA2BytB,CAA3B,CAAT,CADO;UAAA,CAAR;QADH,GAASF,GAAG,CAACvtB,GAAb,CADY;MAAA,CAAb;IADH,EARF;EAAA,GADF;AAoBD,CAzBM;AAiCA,IAAM0tB,MAAM,GAAG,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,SAAlC,EAA6C,SAA7C,CAAf;AAEA,IAAMC,SAAS,GAAGzzB,2EAAH;EAAA;EAAA;AAAA,mIAOA,UAAAQ,KAAK;EAAA,OAAIA,KAAK,CAACsJ,KAAV;AAAA,CAPL,CAAf;AAUA,IAAM4pB,gBAAgB,GAAG1zB,iDAAM,CAACI,4BAAD,CAAT;EAAA;EAAA;AAAA,8FAAtB;AAWA,IAAMuzB,WAAW,GAAG;EACzBC,IAAI,EAAE,MADmB;EAEzBC,IAAI,EAAE,MAFmB;EAGzBC,GAAG,EAAE,KAHoB;EAIzBC,GAAG,EAAE;AAJoB,CAApB;AAOA,IAAMC,eAAe,GAAGh0B,iFAAH;EAAA;EAAA;AAAA,mKAaxB,UAAAQ,KAAK;EAAA,OACLA,KAAK,CAACyzB,MAAN,0FAKI,EANC;AAAA,CAbmB,CAArB;AAsBA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACnsB,QAAD,EAAWosB,QAAX,EAAqBlsB,IAArB;EAAA,OAA+B;IAC5DmsB,MAAM,EAAE;MACNC,IAAI,EAAE,IADA;MAENC,eAAe,EAAE,MAFX;MAGN/vB,QAAQ,EAAE,MAHJ;MAINgwB,UAAU,EAAE,SAJN;MAKNrc,UAAU,EAAE,GALN;MAMNsc,OAAO,EAAE;QACPjtB,KAAK,EAAE,CADA;QAEPwW,MAAM,EAAE,EAFD;QAGP0W,MAAM,EAAE,CAHD;QAIPC,OAAO,EAAE;MAJF;IANH,CADoD;IAc5D/wB,MAAM,EAAE6vB,MAdoD;IAe5DmB,IAAI,EAAE;MACJC,KAAK,EAAE;QAAEC,KAAK,EAAE;UAAER,IAAI,EAAE;QAAR;MAAT,CADH;MAEJS,KAAK,EAAE;QAAED,KAAK,EAAE;UAAER,IAAI,EAAE;QAAR;MAAT;IAFH,CAfsD;IAmB5DU,MAAM,EAAE;MACNC,KAAK,EAAE,UADD;MAENztB,KAAK,EAAE;IAFD,CAnBoD;IAuB5D0tB,UAAU,EAAE;MACVC,OAAO,EAAE;IADC,CAvBgD;IA0B5DN,KAAK,EAAE;MACLO,MAAM,EAAE;QACNC,SAAS,EAAE,mBAAUvwB,KAAV,EAAiB;UAC1B;UACA,IAAIsvB,QAAQ,KAAK,MAAjB,EAAyB;YACvB,OAAOzB,mBAAK,CAAC7tB,KAAD,CAAL,CAAawwB,GAAb,GAAmB3nB,IAAnB,EAAP,CADuB,CAEvB;UACD,CAHD,MAGO,IAAIymB,QAAQ,KAAK,OAAjB,EAA0B;YAC/B,OAAOzB,mBAAK,CAAC7tB,KAAD,CAAL,CAAawwB,GAAb,GAAmBC,MAAnB,CAA0B,UAA1B,CAAP,CAD+B,CAE/B;UACD,CAHM,MAGA,IAAInB,QAAQ,KAAK,MAAb,IAAuBA,QAAQ,KAAK,KAAxC,EAA+C;YACpD,OAAOzB,mBAAK,CAAC7tB,KAAD,CAAL,CAAawwB,GAAb,GAAmBC,MAAnB,CAA0B,aAA1B,CAAP;UACD;QACF;MAZK;IADH,CA1BqD;IA0C5DR,KAAK,EAAE;MACLK,MAAM,EAAE;QACNC,SAAS,EAAE,mBAAAvwB,KAAK;UAAA,OAAI+tB,wCAAqB,CAAC/tB,KAAD,EAAQkD,QAAR,EAAkBE,IAAI,CAACukB,MAAvB,CAAzB;QAAA;MADV;IADH;EA1CqD,CAA/B;AAAA,CAAxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/HP;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAMsJ,KAAK,GAAGza,iBAAO,CAAC;EAAA,OAAM,gJAAN;AAAA,CAAD,EAAmC;EAAEY,GAAG,EAAE,KAAP;EAAA;IAAA;MAAA,4BAArB,KAAqB;IAAA;EAAA;AAAA,CAAnC,CAArB;AAEA;;;AAWA,IAAM8Z,+BAA+B,GAAGhkB,mCAAH,kzBAArC;;AA+BA,IAAMikB,mBAAmB,GAAG,SAAtBA,mBAAsB,OAAmD;EAAA;;EAAA,IAAhDrrB,UAAgD,QAAhDA,UAAgD;EAAA,IAApCsrB,mBAAoC,QAApCA,mBAAoC;EAAA,IAAZz1B,KAAY;;EAC7E,sBAA8CX,cAAA,CAAeo2B,mBAAf,CAA9C;EAAA;EAAA,IAAOC,eAAP;EAAA,IAAwBC,kBAAxB;;EACA,uBAAkCt2B,cAAA,CAAe8zB,gBAAf,CAAlC;EAAA;EAAA,IAAOyC,SAAP;EAAA,IAAkBC,YAAlB;;EACA,gBAA0B/f,mBAAQ,CAACyf,+BAAD,EAAkC;IAClEhoB,SAAS,EAAE;MAAEb,IAAI,EAAEvC,UAAU,CAACuC;IAArB,GAA8BgpB,eAA9B,CADyD;IAElE1e,OAAO,EAAEd,6BAAcA;EAF2C,CAAlC,CAAlC;EAAA,IAAQ9J,IAAR,aAAQA,IAAR;EAAA,IAAc0K,OAAd,aAAcA,OAAd;;EAIA,IAAMrP,IAAI,GAAG3B,0BAAO,EAApB;EAEA,IAAM6tB,QAAQ,GAAGvnB,IAAH,aAAGA,IAAH,wCAAGA,IAAI,CAAE6f,OAAT,kDAAG,cAAehe,KAAf,CAAqB6nB,6BAArB,CAAmDnC,QAApE;;EACA,4BAAmByB,8CAA2B,CAAChpB,IAAD,aAACA,IAAD,yCAACA,IAAI,CAAE6f,OAAP,mDAAC,eAAehe,KAAf,CAAqB6nB,6BAArB,CAAmD1lB,KAApD,EAA2D;IACvGpG,CAAC,EAAE,MADoG;IAEvGC,CAAC,EAAE,cAFoG;IAGvG8rB,KAAK,EAAE,OAHgG;IAIvGC,oBAAoB,EAAE;EAJiF,CAA3D,CAA9C;EAAA,IAAQC,MAAR,yBAAQA,MAAR;;EAOA,IAAMC,kBAAkB,GAAGxC,eAAe,CAACvpB,UAAU,CAAC5C,QAAZ,EAAsBosB,QAAtB,EAAgClsB,IAAhC,CAA1C;EAEA,oBACE,qBAAC,4BAAD,wEAAUzH,KAAV;IAAA,wBACE,qBAAC,4BAAD;MAAM,cAAc,EAAC,eAArB;MAAqC,UAAU,EAAC,QAAhD;MAAyD,QAAQ,EAAE,CAAnE;MAAA,wBACE,oBAAC,MAAD;QAAG,QAAQ,EAAC,MAAZ;QAAmB,UAAU,EAAC,MAA9B;QAAqC,UAAU,EAAC,KAAhD;QAAA,uBACE,oBAAC,sBAAD;UAAkB,EAAE,iBAApB;UAAqC,cAAc;YAAA;YAAA;UAAA;QAAnD;MADF,EADF,eAIE,qBAAC,4BAAD;QAAM,GAAG,EAAC,KAAV;QAAgB,UAAU,EAAC,QAA3B;QAAA,wBACE,oBAAC,wCAAD;UACE,QAAQ,EAAE21B,kBADZ;UAEE,QAAQ,EAAED,eAFZ;UAGE,YAAY,EAAE,sBAAA1b,CAAC;YAAA,OAAIA,CAAJ,aAAIA,CAAJ,uBAAIA,CAAC,CAAEmc,WAAH,EAAJ;UAAA,CAHjB;UAIE,QAAQ,EAAErf;QAJZ,EADF,eAOE,oBAAC,eAAD;UAAiB,MAAM,EAAE8e,SAAS,KAAKzC,gBAAvC;UAAyD,OAAO,EAAE;YAAA,OAAM0C,YAAY,CAAC1C,gBAAD,CAAlB;UAAA,CAAlE;UAAA,uBACE,oBAAC,gDAAD;QADF,EAPF,eAUE,oBAAC,eAAD;UAAiB,MAAM,EAAEyC,SAAS,KAAKzC,gBAAvC;UAAyD,OAAO,EAAE;YAAA,OAAM0C,YAAY,CAAC1C,gBAAD,CAAlB;UAAA,CAAlE;UAAA,uBACE,oBAAC,4BAAD;QADF,EAVF,eAaE,oBAAC,eAAD;UAAiB,MAAM,EAAEyC,SAAS,KAAKzC,eAAvC;UAAwD,OAAO,EAAE;YAAA,OAAM0C,YAAY,CAAC1C,eAAD,CAAlB;UAAA,CAAjE;UAAA,uBACE,oBAAC,4BAAD;QADF,EAbF,eAgBE,oBAAC,eAAD;UAAiB,MAAM,EAAEyC,SAAS,KAAKzC,eAAvC;UAAwD,OAAO,EAAE;YAAA,OAAM0C,YAAY,CAAC1C,eAAD,CAAlB;UAAA,CAAjE;UAAA,uBACE,oBAAC,4BAAD;QADF,EAhBF;MAAA,EAJF;IAAA,EADF,EA0BGrc,OAAO,gBACN,oBAAC,iCAAD;MAAoB,EAAE,EAAC,MAAvB;MAA8B,MAAM,EAAE;IAAtC,EADM,gBAGN,oBAAC,yBAAD;MAAY,EAAE,EAAC,MAAf;MAAA,uBACE,qBAAC,gBAAD;QAAA,wBACE,qBAAC,2BAAD;UAAK,KAAK,EAAC,KAAX;UAAA,wBACE,oBAAC,MAAD;YAAG,QAAQ,EAAC,MAAZ;YAAmB,UAAU,EAAC,MAA9B;YAAqC,UAAU,EAAC,KAAhD;YAAsD,aAAa,EAAC,WAApE;YAAgF,KAAK,EAAC,WAAtF;YAAA,uBACE,oBAAC,sBAAD;cAAkB,EAAE,yBAApB;cAA6C,cAAc;gBAAA;gBAAA;cAAA;YAA3D;UADF,EADF,eAIE,oBAAC,MAAD;YAAG,QAAQ,EAAC,MAAZ;YAAmB,UAAU,EAAC,MAA9B;YAAqC,UAAU,EAAC,KAAhD;YAAsD,EAAE,EAAC,KAAzD;YAAA,UACG,gBAAM1K,IAAN,aAAMA,IAAN,yCAAMA,IAAI,CAAE6f,OAAZ,mDAAM,eAAehe,KAAf,CAAqBmoB,mBAA3B,EAAgD,OAAhD;UADH,EAJF;QAAA,EADF,eASE,qBAAC,2BAAD;UAAK,KAAK,EAAC,KAAX;UAAA,wBACE,oBAAC,MAAD;YAAG,QAAQ,EAAC,MAAZ;YAAmB,UAAU,EAAC,MAA9B;YAAqC,UAAU,EAAC,KAAhD;YAAsD,aAAa,EAAC,WAApE;YAAgF,KAAK,EAAC,WAAtF;YAAA,uBACE,oBAAC,sBAAD;cAAkB,EAAE,yBAApB;cAA6C,cAAc;gBAAA;gBAAA;cAAA;YAA3D;UADF,EADF,eAIE,oBAAC,MAAD;YAAG,QAAQ,EAAC,MAAZ;YAAmB,UAAU,EAAC,MAA9B;YAAqC,UAAU,EAAC,KAAhD;YAAsD,EAAE,EAAC,KAAzD;YAAA,UACGxK,yCAAc,CACb,gBAAMxf,IAAN,aAAMA,IAAN,yCAAMA,IAAI,CAAE6f,OAAZ,mDAAM,eAAehe,KAAf,CAAqBmoB,mBAA3B,EAAgD,qBAAhD,CADa,EAEbjsB,UAAU,CAAC5C,QAFE;UADjB,EAJF;QAAA,EATF;MAAA;IADF,EA7BJ,EAsDGuP,OAAO,gBACN,oBAAC,iCAAD;MAAoB,EAAE,EAAE,CAAxB;MAA2B,MAAM,EAAE;IAAnC,EADM,gBAGN,qBAAC,cAAD;MAAA,WACG8e,SAAS,KAAKzC,gBAAd,iBACC,oBAAC,WAAD;QACE,EAAE,EAAE,CADN;QAEE,WAAW,EAAC,MAFd;QAGE,OAAO,EAAE,cACP,oBAAC,sBAAD;UAA0B,EAAE,SAA5B;UAAqC,cAAc;YAAA;YAAA;UAAA;QAAnD,GAAuB,CAAvB,CADO,eAEP,oBAAC,sBAAD;UAA0B,EAAE,+BAA5B;UAA2D,cAAc;YAAA;YAAA;UAAA;QAAzE,GAAuB,CAAvB,CAFO,eAGP,oBAAC,sBAAD;UAEE,EAAE,4BAFJ;UAGE,cAAc;YAAA;YAAA;UAAA;YAAA;YAAA;UAAA;YAAA;YAAA;UAAA,EAHhB;UAIE,MAAM,EAAE;YAAE5rB,QAAQ,EAAE6E,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAE6f,OAAN,CAAc1kB;UAA1B;QAJV,GACO,CADP,CAHO,CAHX;QAaE,IAAI,EAAE6E,IAAF,aAAEA,IAAF,yCAAEA,IAAI,CAAE6f,OAAR,mDAAE,eAAehe,KAAf,CAAqBmoB,mBAArB,CAAyCxuB,GAAzC,CAA6C,UAACyuB,YAAD,EAAetD,CAAf;UAAA,OACjDR,kBAAkB,CAAC8D,YAAY,CAACC,KAAb,GAAqBD,YAAY,CAACjxB,KAAnC,EAA0C,cAC1D,qBAAC,cAAD;YAAA,wBACE,oBAAC,SAAD;cAAW,KAAK,EAAE4tB,MAAM,CAACD,CAAC,GAAGC,aAAL;YAAxB,EADF,EAEGqD,YAAY,CAACC,KAFhB;UAAA,GAAqBD,YAAY,CAACC,KAAlC,CAD0D,EAK1DD,YAAY,CAACjxB,KAL6C,EAM1DwmB,yCAAc,CAACyK,YAAY,CAACE,MAAb,CAAoBhK,YAArB,EAAmC8J,YAAY,CAACE,MAAb,CAAoBhvB,QAAvD,CAN4C,CAA1C,CAD+B;QAAA,CAA7C;MAbR,EAFJ,EA2BGquB,SAAS,KAAKzC,gBAAd,iBACC,oBAAC,2BAAD;QAAK,EAAE,EAAE,CAAT;QAAA,uBACE,oBAAC,KAAD;UACE,IAAI,EAAC,MADP;UAEE,KAAK,EAAC,MAFR;UAGE,MAAM,EAAC,OAHT;UAIE,OAAO,wEACF+C,kBADE;YAELM,KAAK,EAAE;cACLjuB,EAAE,EAAE;YADC;UAFF,EAJT;UAUE,MAAM,EAAE4sB,8BAAW,CAACc,MAAD;QAVrB;MADF,EA5BJ,EA2CGL,SAAS,KAAKzC,eAAd,iBACC,oBAAC,2BAAD;QAAK,EAAE,EAAE,CAAT;QAAA,uBACE,oBAAC,KAAD;UACE,IAAI,EAAC,KADP;UAEE,KAAK,EAAC,MAFR;UAGE,MAAM,EAAC,OAHT;UAIE,OAAO,wEACF+C,kBADE;YAELM,KAAK,EAAE;cACLjuB,EAAE,EAAE,oCADC;cAELkuB,OAAO,EAAE;YAFJ;UAFF,EAJT;UAWE,MAAM,EAAEtB,8BAAW,CAACc,MAAD;QAXrB;MADF,EA5CJ,EA4DGL,SAAS,KAAKzC,eAAd,iBACC,oBAAC,2BAAD;QAAK,EAAE,EAAE,CAAT;QAAA,uBACE,oBAAC,KAAD;UACE,IAAI,EAAC,KADP;UAEE,KAAK,EAAC,MAFR;UAGE,MAAM,EAAC,OAHT;UAIE,OAAO,EAAE;YACPwB,MAAM,EAAEvoB,IAAF,aAAEA,IAAF,yCAAEA,IAAI,CAAE6f,OAAR,mDAAE,eAAehe,KAAf,CAAqBmoB,mBAArB,CAAyCxuB,GAAzC,CAA6C,UAAAyuB,YAAY;cAAA,OAAI,qBAAWA,YAAY,CAACC,KAAxB,CAAJ;YAAA,CAAzD,CADD;YAEPnzB,MAAM,EAAE6vB,MAFD;YAGPwD,KAAK,EAAE;cACLjuB,EAAE,EAAE;YADC,CAHA;YAMPqrB,MAAM,EAAE,sEAAKsC,kBAAkB,CAACtC,MAA1B;cAAkC8C,QAAQ,EAAE;YAA5C,EANC;YAOPtC,KAAK,EAAE8B,kBAAkB,CAAC9B,KAPnB;YAQPE,KAAK,EAAE4B,kBAAkB,CAAC5B;UARnB,CAJX;UAcE,MAAM,EAAEloB,IAAF,aAAEA,IAAF,yCAAEA,IAAI,CAAE6f,OAAR,mDAAE,eAAehe,KAAf,CAAqBmoB,mBAArB,CAAyCxuB,GAAzC,CAA6C,UAAAyuB,YAAY;YAAA,OAAIA,YAAY,CAACE,MAAb,CAAoBlyB,KAAxB;UAAA,CAAzD;QAdV;MADF,EA7DJ;IAAA,EAzDJ,eA2IE,oBAAC,MAAD;MAAG,EAAE,EAAE,CAAP;MAAU,SAAS,EAAC,OAApB;MAAA,uBACE,qBAAC,mBAAD;QACE,IAAI,YAAK6G,8CAAsB,CAACf,UAAD,CAA3B,kDADN;QAEE,WAAQ,6BAFV;QAAA,wBAIE,oBAAC,sBAAD;UACE,EAAE,qDADJ;UAEE,cAAc;YAAA;YAAA;UAAA;QAFhB,EAJF,EAOK,GAPL;MAAA;IADF,EA3IF;EAAA,GADF;AA0JD,CA7KD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0LA,+DAAeqrB,mBAAf;;;;;;;;;;;;;;;;AC7PA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAMF,mBAAK,GAAGza,iBAAO,CAAC;EAAA,OAAM,gJAAN;AAAA,CAAD,EAAmC;EAAEY,GAAG,EAAE,KAAP;EAAA;IAAA;MAAA,4BAArB,KAAqB;IAAA;EAAA;AAAA,CAAnC,CAArB;AAEA;;;AAWA,IAAMkb,yBAAyB,GAAGplB,mCAAH,kxBAA/B;;AA+BA,IAAMqlB,aAAa,GAAG,SAAhBA,aAAgB,OAAmD;EAAA;;EAAA,IAAhDzsB,UAAgD,QAAhDA,UAAgD;EAAA,IAApCsrB,mBAAoC,QAApCA,mBAAoC;EAAA,IAAZz1B,KAAY;;EACvE,sBAA8CX,cAAA,CAAeo2B,mBAAf,CAA9C;EAAA;EAAA,IAAOC,eAAP;EAAA,IAAwBC,kBAAxB;;EACA,uBAAkCt2B,cAAA,CAAe8zB,gBAAf,CAAlC;EAAA;EAAA,IAAOyC,SAAP;EAAA,IAAkBC,YAAlB;;EACA,gBAA0B/f,mBAAQ,CAAC6gB,yBAAD,EAA4B;IAC5DppB,SAAS,EAAE;MAAEb,IAAI,EAAEvC,UAAU,CAACuC;IAArB,GAA8BgpB,eAA9B,CADmD;IAE5D1e,OAAO,EAAEd,6BAAcA;EAFqC,CAA5B,CAAlC;EAAA,IAAQ9J,IAAR,aAAQA,IAAR;EAAA,IAAc0K,OAAd,aAAcA,OAAd;;EAIA,IAAMrP,IAAI,GAAG3B,0BAAO,EAApB;EAEA,IAAM6tB,QAAQ,GAAGvnB,IAAH,aAAGA,IAAH,wCAAGA,IAAI,CAAE6f,OAAT,kDAAG,cAAehe,KAAf,CAAqB4oB,sBAArB,CAA4ClD,QAA7D;;EACA,4BAAmByB,8CAA2B,CAAChpB,IAAD,aAACA,IAAD,yCAACA,IAAI,CAAE6f,OAAP,mDAAC,eAAehe,KAAf,CAAqB4oB,sBAArB,CAA4CzmB,KAA7C,EAAoD;IAChGpG,CAAC,EAAE,MAD6F;IAEhGC,CAAC,EAAE,cAF6F;IAGhG8rB,KAAK,EAAE,OAHyF;IAIhGC,oBAAoB,EAAE;EAJ0E,CAApD,CAA9C;EAAA,IAAQC,MAAR,yBAAQA,MAAR;;EAOA,IAAMC,kBAAkB,GAAGxC,eAAe,CAACvpB,UAAU,CAAC5C,QAAZ,EAAsBosB,QAAtB,EAAgClsB,IAAhC,CAA1C;EAEA,oBACE,qBAAC,4BAAD,4DAAUzH,KAAV;IAAA,wBACE,qBAAC,4BAAD;MAAM,cAAc,EAAC,eAArB;MAAqC,UAAU,EAAC,QAAhD;MAAyD,QAAQ,EAAE,CAAnE;MAAA,wBACE,oBAAC,MAAD;QAAG,QAAQ,EAAC,MAAZ;QAAmB,UAAU,EAAC,MAA9B;QAAqC,UAAU,EAAC,KAAhD;QAAA,uBACE,oBAAC,sBAAD;UAAkB,EAAE,YAApB;UAAgC,cAAc;YAAA;YAAA;UAAA;QAA9C;MADF,EADF,eAIE,qBAAC,4BAAD;QAAM,GAAG,EAAC,KAAV;QAAgB,UAAU,EAAC,QAA3B;QAAA,wBACE,oBAAC,wCAAD;UACE,QAAQ,EAAE21B,kBADZ;UAEE,QAAQ,EAAED,eAFZ;UAGE,YAAY,EAAE,sBAAA1b,CAAC;YAAA,OAAIA,CAAJ,aAAIA,CAAJ,uBAAIA,CAAC,CAAEmc,WAAH,EAAJ;UAAA,CAHjB;UAIE,QAAQ,EAAErf;QAJZ,EADF,eAOE,oBAAC,eAAD;UAAiB,MAAM,EAAE8e,SAAS,KAAKzC,gBAAvC;UAAyD,OAAO,EAAE;YAAA,OAAM0C,YAAY,CAAC1C,gBAAD,CAAlB;UAAA,CAAlE;UAAA,uBACE,oBAAC,gDAAD;QADF,EAPF,eAUE,oBAAC,eAAD;UAAiB,MAAM,EAAEyC,SAAS,KAAKzC,gBAAvC;UAAyD,OAAO,EAAE;YAAA,OAAM0C,YAAY,CAAC1C,gBAAD,CAAlB;UAAA,CAAlE;UAAA,uBACE,oBAAC,4BAAD;QADF,EAVF,eAaE,oBAAC,eAAD;UAAiB,MAAM,EAAEyC,SAAS,KAAKzC,eAAvC;UAAwD,OAAO,EAAE;YAAA,OAAM0C,YAAY,CAAC1C,eAAD,CAAlB;UAAA,CAAjE;UAAA,uBACE,oBAAC,4BAAD;QADF,EAbF,eAgBE,oBAAC,eAAD;UAAiB,MAAM,EAAEyC,SAAS,KAAKzC,eAAvC;UAAwD,OAAO,EAAE;YAAA,OAAM0C,YAAY,CAAC1C,eAAD,CAAlB;UAAA,CAAjE;UAAA,uBACE,oBAAC,4BAAD;QADF,EAhBF;MAAA,EAJF;IAAA,EADF,EA0BGrc,OAAO,gBACN,oBAAC,iCAAD;MAAoB,EAAE,EAAC,MAAvB;MAA8B,MAAM,EAAE;IAAtC,EADM,gBAGN,oBAAC,yBAAD;MAAY,EAAE,EAAC,MAAf;MAAA,uBACE,qBAAC,gBAAD;QAAA,wBACE,qBAAC,2BAAD;UAAK,KAAK,EAAC,KAAX;UAAA,wBACE,oBAAC,MAAD;YAAG,QAAQ,EAAC,MAAZ;YAAmB,UAAU,EAAC,MAA9B;YAAqC,UAAU,EAAC,KAAhD;YAAsD,aAAa,EAAC,WAApE;YAAgF,KAAK,EAAC,WAAtF;YAAA,uBACE,oBAAC,sBAAD;cAAkB,EAAE,gBAApB;cAAoC,cAAc;gBAAA;gBAAA;cAAA;YAAlD;UADF,EADF,eAIE,oBAAC,MAAD;YAAG,QAAQ,EAAC,MAAZ;YAAmB,UAAU,EAAC,MAA9B;YAAqC,UAAU,EAAC,KAAhD;YAAsD,EAAE,EAAC,KAAzD;YAAA,UACG,gBAAM1K,IAAN,aAAMA,IAAN,yCAAMA,IAAI,CAAE6f,OAAZ,mDAAM,eAAehe,KAAf,CAAqB6oB,YAA3B,EAAyC,OAAzC;UADH,EAJF;QAAA,EADF,eASE,qBAAC,2BAAD;UAAK,KAAK,EAAC,KAAX;UAAA,wBACE,oBAAC,MAAD;YAAG,QAAQ,EAAC,MAAZ;YAAmB,UAAU,EAAC,MAA9B;YAAqC,UAAU,EAAC,KAAhD;YAAsD,aAAa,EAAC,WAApE;YAAgF,KAAK,EAAC,WAAtF;YAAA,uBACE,oBAAC,sBAAD;cAAkB,EAAE,mBAApB;cAAuC,cAAc;gBAAA;gBAAA;cAAA;YAArD;UADF,EADF,eAIE,oBAAC,MAAD;YAAG,QAAQ,EAAC,MAAZ;YAAmB,UAAU,EAAC,MAA9B;YAAqC,UAAU,EAAC,KAAhD;YAAsD,EAAE,EAAC,KAAzD;YAAA,UACGlL,yCAAc,CAAC,gBAAMxf,IAAN,aAAMA,IAAN,yCAAMA,IAAI,CAAE6f,OAAZ,mDAAM,eAAehe,KAAf,CAAqB6oB,YAA3B,EAAyC,qBAAzC,CAAD,EAAkE3sB,UAAU,CAAC5C,QAA7E;UADjB,EAJF;QAAA,EATF;MAAA;IADF,EA7BJ,EAmDGuP,OAAO,gBACN,oBAAC,iCAAD;MAAoB,EAAE,EAAE,CAAxB;MAA2B,MAAM,EAAE;IAAnC,EADM,gBAGN,qBAAC,cAAD;MAAA,WACG8e,SAAS,KAAKzC,gBAAd,iBACC,oBAAC,WAAD;QACE,EAAE,EAAE,CADN;QAEE,WAAW,EAAC,MAFd;QAGE,OAAO,EAAE,cACP,oBAAC,sBAAD;UAA0B,EAAE,QAA5B;UAAoC,cAAc;YAAA;YAAA;UAAA;QAAlD,GAAuB,CAAvB,CADO,eAEP,oBAAC,sBAAD;UAA0B,EAAE,0BAA5B;UAAsD,cAAc;YAAA;YAAA;UAAA;QAApE,GAAuB,CAAvB,CAFO,eAGP,oBAAC,sBAAD;UAEE,EAAE,4BAFJ;UAGE,cAAc;YAAA;YAAA;UAAA;YAAA;YAAA;UAAA;YAAA;YAAA;UAAA,EAHhB;UAIE,MAAM,EAAE;YAAE5rB,QAAQ,EAAE6E,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAE6f,OAAN,CAAc1kB;UAA1B;QAJV,GACO,CADP,CAHO,CAHX;QAaE,IAAI,EAAE6E,IAAF,aAAEA,IAAF,yCAAEA,IAAI,CAAE6f,OAAR,mDAAE,eAAehe,KAAf,CAAqB6oB,YAArB,CAAkClvB,GAAlC,CAAsC,UAACmvB,UAAD,EAAahE,CAAb;UAAA,OAC1CR,kBAAkB,CAACwE,UAAU,CAACxuB,EAAX,GAAgBwuB,UAAU,CAAC3xB,KAA5B,EAAmC,cACnD,qBAAC,cAAD;YAAA,wBACE,oBAAC,SAAD;cAAW,KAAK,EAAE4tB,MAAM,CAACD,CAAC,GAAGC,aAAL;YAAxB,EADF,EAEG+D,UAAU,CAACT,KAFd;UAAA,GAAqBS,UAAU,CAACT,KAAhC,CADmD,EAKnDS,UAAU,CAAC3xB,KALwC,EAMnDwmB,yCAAc,CAACmL,UAAU,CAACR,MAAX,CAAkBhK,YAAnB,EAAiCwK,UAAU,CAACR,MAAX,CAAkBhvB,QAAnD,CANqC,CAAnC,CADwB;QAAA,CAAtC;MAbR,EAFJ,EA2BGquB,SAAS,KAAKzC,gBAAd,iBACC,oBAAC,2BAAD;QAAK,EAAE,EAAE,CAAT;QAAA,uBACE,oBAAC,mBAAD;UACE,IAAI,EAAC,MADP;UAEE,KAAK,EAAC,MAFR;UAGE,MAAM,EAAC,OAHT;UAIE,OAAO,4DACF+C,kBADE;YAELM,KAAK,EAAE;cACLjuB,EAAE,EAAE;YADC;UAFF,EAJT;UAUE,MAAM,EAAE4sB,8BAAW,CAACc,MAAD;QAVrB;MADF,EA5BJ,EA2CGL,SAAS,KAAKzC,eAAd,iBACC,oBAAC,2BAAD;QAAK,EAAE,EAAE,CAAT;QAAA,uBACE,oBAAC,mBAAD;UACE,IAAI,EAAC,KADP;UAEE,KAAK,EAAC,MAFR;UAGE,MAAM,EAAC,OAHT;UAIE,OAAO,4DACF+C,kBADE;YAELM,KAAK,EAAE;cACLjuB,EAAE,EAAE,oCADC;cAELkuB,OAAO,EAAE;YAFJ;UAFF,EAJT;UAWE,MAAM,EAAEtB,8BAAW,CAACc,MAAD;QAXrB;MADF,EA5CJ,EA4DGL,SAAS,KAAKzC,eAAd,iBACC,oBAAC,2BAAD;QAAK,EAAE,EAAE,CAAT;QAAA,uBACE,oBAAC,mBAAD;UACE,IAAI,EAAC,KADP;UAEE,KAAK,EAAC,MAFR;UAGE,MAAM,EAAC,OAHT;UAIE,OAAO,EAAE;YACPwB,MAAM,EAAEvoB,IAAF,aAAEA,IAAF,yCAAEA,IAAI,CAAE6f,OAAR,mDAAE,eAAehe,KAAf,CAAqB6oB,YAArB,CAAkClvB,GAAlC,CAAsC,UAAAmvB,UAAU;cAAA,OAAI,qBAAWA,UAAU,CAACT,KAAtB,CAAJ;YAAA,CAAhD,CADD;YAEPnzB,MAAM,EAAE6vB,MAFD;YAGPwD,KAAK,EAAE;cACLjuB,EAAE,EAAE;YADC,CAHA;YAMPqrB,MAAM,EAAE,0DAAKsC,kBAAkB,CAACtC,MAA1B;cAAkC8C,QAAQ,EAAE;YAA5C,EANC;YAOPtC,KAAK,EAAE8B,kBAAkB,CAAC9B,KAPnB;YAQPE,KAAK,EAAE4B,kBAAkB,CAAC5B;UARnB,CAJX;UAcE,MAAM,EAAEloB,IAAF,aAAEA,IAAF,yCAAEA,IAAI,CAAE6f,OAAR,mDAAE,eAAehe,KAAf,CAAqB6oB,YAArB,CAAkClvB,GAAlC,CAAsC,UAAAmvB,UAAU;YAAA,OAAIA,UAAU,CAACR,MAAX,CAAkBlyB,KAAtB;UAAA,CAAhD;QAdV;MADF,EA7DJ;IAAA,EAtDJ,eAwIE,oBAAC,MAAD;MAAG,EAAE,EAAE,CAAP;MAAU,SAAS,EAAC,OAApB;MAAA,uBACE,qBAAC,mBAAD;QAAM,IAAI,YAAK6G,8CAAsB,CAACf,UAAD,CAA3B,cAAV;QAA8D,WAAQ,wBAAtE;QAAA,wBACE,oBAAC,sBAAD;UAAkB,EAAE,gDAApB;UAAoE,cAAc;YAAA;YAAA;UAAA;QAAlF,EADF,EAC4G,GAD5G;MAAA;IADF,EAxIF;EAAA,GADF;AAiJD,CApKD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiLA,yDAAeysB,aAAf;;;;;;ACpPA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;AAEO,IAAMM,kBAAkB,GAAG3lB,mCAAH,w0BAAxB;AAoCP;AACA;AACA;AACA;;AACA,IAAM4lB,wBAAwB,GAAG,SAA3BA,wBAA2B,OAAkC;EAAA;;EAAA,IAA/BhtB,UAA+B,QAA/BA,UAA+B;EAAA,IAAnB4Y,YAAmB,QAAnBA,YAAmB;EACjE,IAAMqU,iBAAiB,GAAGthB,mBAAQ,CAACohB,kBAAD,EAAqB;IACrD3pB,SAAS,EAAE;MAAEb,IAAI,EAAEvC,UAAU,CAACuC;IAAnB,CAD0C;IAErDsK,OAAO,EAAEd,6BAAcA;EAF8B,CAArB,CAAlC;EAIA,IAAQ9J,IAAR,GAA0BgrB,iBAA1B,CAAQhrB,IAAR;EAAA,IAAcD,OAAd,GAA0BirB,iBAA1B,CAAcjrB,OAAd;EAEA,IAAMxI,SAAS,GAAGyzB,iBAAiB,CAACtgB,OAApC;EACA,IAAM2e,mBAAmB,GAAGuB,8FAAA,EAA5B,CARiE,CAUjE;;EACA33B,eAAA,CAAgB,YAAM;IACpB,IAAI0jB,YAAJ,EAAkB;MAChB5W,OAAO;IACR;EACF,CAJD,EAIG,CAAC4W,YAAD,CAJH;EAMA,oBACE,qBAAC,sCAAD;IAAyB,EAAE,EAAE,CAA7B;IAAA,WACGpf,SAAS,gBACR,oBAAC,iCAAD;MAAoB,MAAM,EAAE;IAA5B,EADQ,gBAGR,oBAAC,0BAAD;MAAa,UAAU,EAAEwG,UAAzB;MAAqC,KAAK,EAAEiC,IAAF,aAAEA,IAAF,wCAAEA,IAAI,CAAE6f,OAAR,kDAAE,cAAehe,KAA3D;MAAkE,UAAU;IAA5E,EAJJ,eAME,qBAAC,4BAAD;MAAM,aAAa,EAAE,CAAC,QAAD,EAAW,IAAX,EAAiB,KAAjB,CAArB;MAA8C,UAAU,EAAC,YAAzD;MAAsE,GAAG,EAAE,MAA3E;MAAA,wBACE,oBAAC,oBAAD;QACE,UAAU,EAAE9D,UADd;QAEE,mBAAmB,EAAEsrB,mBAFvB;QAGE,EAAE,EAAE,CAHN;QAIE,aAAa,EAAC,QAJhB;QAKE,QAAQ,EAAE,CALZ;QAME,QAAQ,EAAE,CAAC,MAAD,EAAS,IAAT,EAAe,KAAf,CANZ;QAOE,KAAK,EAAE,CAAC,MAAD,EAAS,IAAT,EAAe,MAAf;MAPT,EADF,eAUE,oBAAC,0BAAD;QACE,UAAU,EAAEtrB,UADd;QAEE,mBAAmB,EAAEsrB,mBAFvB;QAGE,EAAE,EAAE,CAHN;QAIE,aAAa,EAAC,QAJhB;QAKE,QAAQ,EAAE,CALZ;QAME,QAAQ,EAAE,CAAC,SAAD,EAAY,IAAZ,EAAkB,KAAlB,CANZ;QAOE,KAAK,EAAE,CAAC,MAAD,EAAS,IAAT,EAAe,MAAf;MAPT,EAVF;IAAA,EANF;EAAA,EADF;AA6BD,CA9CD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,mEAAep2B,UAAA,CAAWsR,iCAAQ,CAACwmB,wBAAD,CAAnB,CAAf;;ACvHA;AAEA;AAEA;CAGA;;;;AACA,IAAMI,4BAA4B,GAAG,SAA/BA,4BAA+B;EAAA,oBAAM,oBAAC,iCAAD;IAAoB,MAAM,EAAE;EAA5B,EAAN;AAAA,CAArC;;AACA,IAAMC,UAAU,GAAG3c,iBAAO,CAAC;EAAA,OAAM,qGAAN;AAAA,CAAD,EAAmC;EAC3D/D,OAAO,EAAEygB,4BADkD;EAAA;IAAA;MAAA,4BAArB,KAAqB;IAAA;EAAA;AAAA,CAAnC,CAA1B;AAIA;AACA;AACA;;AACA,IAAME,YAAY,GAAG,SAAfA,YAAe,OAAoB;EAAA,IAAjBttB,UAAiB,QAAjBA,UAAiB;EACvC,oBACE,oBAAC,mCAAD;IAAW,UAAU,EAAC,oBAAtB;IAA2C,EAAE,EAAE,CAA/C;IAAkD,EAAE,EAAE,EAAtD;IAAA,uBACE,oBAAC,mCAAD;MAAW,QAAQ,EAAC,KAApB;MAA0B,CAAC,EAAC,QAA5B;MAAA,uBACE,oBAAC,UAAD;QAAY,UAAU,EAAEA;MAAxB;IADF;EADF,EADF;AAOD,CARD;;;;;;;;;;;;;;;;;;;;;;;;;;AAkBA,uDAAe9K,UAAA,CAAWo4B,YAAX,CAAf;;;;AClCA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAEA,IAAMG,qBAAqB,GAAG,SAAxBA,qBAAwB,CAAAvyB,KAAK,EAAI;EAAA;;EACrC,OAAO,oBAAAA,KAAK,CAACwyB,QAAN,oEAAgBzzB,IAAhB,MAAyB,QAAzB,IAAqC,CAACiB,KAAK,CAACwyB,QAAN,CAAeC,OAArD,IAAgE,CAACzyB,KAAK,CAAC0yB,mBAA9E;AACD,CAFD;;AAIA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,OAAoC;EAAA,IAArB3yB,KAAqB,QAAjC8E,UAAiC;EAAA,IAAdgC,OAAc,QAAdA,OAAc;;EACnD,uBAAyBwV,kCAAe,EAAxC;EAAA,IAAQoB,YAAR,oBAAQA,YAAR;;EACA,IAAMkV,gBAAgB,GAAG54B,YAAA,CAAa0jB,YAAb,CAAzB;EAEA1jB,eAAA,CAAgB,YAAM;IACpB,IAAI0jB,YAAY,IAAI,CAACkV,gBAAgB,CAACz3B,OAAtC,EAA+C;MAC7C;MACA2L,OAAO;MACP8rB,gBAAgB,CAACz3B,OAAjB,GAA2BuiB,YAA3B;IACD;EACF,CAND,EAMG,CAACA,YAAD,CANH;;EAQA,IAAI2U,oDAAyB,CAACryB,KAAD,CAAzB,IAAoCuyB,qBAAqB,CAACvyB,KAAD,CAA7D,EAAsE;IACpE,OAAO,IAAP;EACD;;EAED,oBACE,oBAAC,2BAAD;IAAK,EAAE,EAAE,CAAT;IAAA,uBACE,qBAAC,sCAAD;MAAyB,EAAE,EAAE,CAA7B;MAAA,wBACE,oBAAC,2BAAD;QAAc,SAAS,EAAC,QAAxB;QAAA,uBACE,oBAAC,sBAAD;UAAkB,EAAE,yBAApB;UAA6C,cAAc;YAAA;YAAA;UAAA;QAA3D;MADF,EADF,eAIE,oBAAC,kCAAD;QACE,QAAQ,EAAEA,KAAK,CAACwyB,QADlB;QAEE,mBAAmB,EAAExyB,KAAK,CAAC0yB,mBAF7B;QAGE,SAAS,EAAE;MAHb,EAJF,EASG1yB,KAAK,CAAC0yB,mBAAN,iBACC,qBAAC,mCAAD;QAAW,QAAQ,EAAE,GAArB;QAA0B,EAAE,EAAC,MAA7B;QAAoC,EAAE,EAAE,CAAxC;QAAA,wBACE,oBAAC,MAAD;UAAG,UAAU,EAAC,MAAd;UAAqB,QAAQ,EAAC,MAA9B;UAAA,uBACE,oBAAC,sBAAD;YAAkB,EAAE,mCAApB;YAAuD,cAAc;cAAA;cAAA;YAAA;UAArE;QADF,EADF,eAIE,oBAAC,MAAD;UAAG,EAAE,EAAE,CAAP;UAAU,QAAQ,EAAC,MAAnB;UAA0B,UAAU,EAAC,UAArC;UAAA,UACG1yB,KAAK,CAAC0yB;QADT,EAJF;MAAA,EAVJ;IAAA;EADF,EADF;AAwBD,CAxCD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA,sDAAeC,QAAf;;;;;;;;;;;ACnEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAEA,IAAMK,qBAAqB,GAAG,GAA9B;AAEA;AACA;AACA;;AACA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,OAAoD;EAAA,IAAjDnuB,UAAiD,QAAjDA,UAAiD;EAAA,IAArCwmB,gBAAqC,QAArCA,gBAAqC;EAAA,IAAnB5N,YAAmB,QAAnBA,YAAmB;;EACzE,IAAMwV,sBAAsB,GAAG,cAAIxV,YAAJ,EAAkB,cAAlB,CAA/B;;EAEA,oBACE,oBAAC,sCAAD;IAAyB,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAA7B;IAAA,uBACE,qBAAC,mCAAD;MAAW,KAAK,EAAC,MAAjB;MAAwB,QAAQ,EAAE,GAAlC;MAAuC,MAAM,EAAC,QAA9C;MAAA,wBACE,oBAAC,OAAD;QAAI,SAAS,EAAC,QAAd;QAAuB,QAAQ,EAAC,MAAhC;QAAuC,UAAU,EAAC,MAAlD;QAAyD,UAAU,EAAC,KAApE;QAA0E,KAAK,EAAC,WAAhF;QAA4F,EAAE,EAAE,CAAhG;QAAA,uBACE,oBAAC,sBAAD;UAAkB,EAAE,WAApB;UAA+B,cAAc;YAAA;YAAA;UAAA;QAA7C;MADF,EADF,eAIE,oBAAC,mCAAD;QAAW,OAAO,EAAC,MAAnB;QAA0B,QAAQ,EAAC,MAAnC;QAA0C,cAAc,EAAC,cAAzD;QAAwE,EAAE,EAAE,CAA5E;QAAA,UACG4N,gBAAgB,CAAC/oB,GAAjB,CAAqB,UAAAC,WAAW;UAAA,oBAC/B,oBAAC,8BAAD;YAEE,CAAC,EAAE,CAFL;YAGE,KAAK,EAAEwwB,qBAHT;YAIE,MAAM,EAAC,MAJT;YAKE,WAAW,EAAExwB,WALf;YAME,QAAQ,EAAEsC,UAAU,CAAC5C,QANvB;YAOE,YAAY,EAAE4C,UAAU,CAAC5B,EAP3B;YAQE,YAAY,EAAEgwB,sBAAsB,KAAK1wB,WAAW,CAACghB,YARvD;YASE,sBAAsB;UATxB,GACOhhB,WAAW,CAACU,EADnB,CAD+B;QAAA,CAAhC;MADH,EAJF,EAmBG4B,UAAU,CAAC0a,UAAX,iBACC,oBAAC,mCAAD;QAAW,OAAO,EAAC,MAAnB;QAA0B,aAAa,EAAC,QAAxC;QAAiD,UAAU,EAAC,QAA5D;QAAA,uBACE,oBAAC,mCAAD;UAAsB,UAAU,EAAE1a,UAAlC;UAA8C,YAAY,EAAE4Y,YAA5D;UAAA,UACG,kBAAA+B,QAAQ;YAAA,oBACP,qBAAC,2BAAD,gDAAkBA,QAAlB;cAA4B,WAAW,EAAC,WAAxC;cAAoD,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAAxD;cAAA,wBACE,oBAAC,iBAAD;gBAAM,EAAE,EAAC,KAAT;gBAAA,uBACE,oBAAC,oBAAD;kBAAM,IAAI,EAAE;gBAAZ;cADF,EADF,eAIE,oBAAC,sBAAD;gBAAA;gBAAkB,cAAc;kBAAA;kBAAA;gBAAA;cAAhC,EAJF;YAAA,GADO;UAAA;QADX;MADF,EApBJ;IAAA;EADF,EADF;AAsCD,CAzCD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA,yDAAezlB,UAAA,CAAWi5B,cAAX,CAAf;;;;;;;;;;;;;;;;;;AC7EA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,IAAM1R,yBAAyB,GAAG,CAAC,EAAD,EAAK,EAAL,CAAlC;AAEA,IAAMa,gCAAuB,GAAGjoB,iDAAM,CAAC+C,2BAAD,CAAN,CAAYmH,KAAZ,CAAkB;EAAE8uB,EAAE,EAAE5R;AAAN,CAAlB,CAAH;EAAA;EAAA;AAAA,GAC3BnnB,8BAAG,CAAC;EACFg5B,eAAe,EAAE,CAAC,QAAD,EAAW,IAAX,EAAiB,OAAjB;AADf,CAAD,CADwB,CAA7B;;IAMMC;;;;;;;;;;;;;;;;uFAwBavR,kCAAU,CAAC,UAACwR,QAAD,EAAWvwB,OAAX,EAAuB;MACjD,IAAIA,OAAJ,EAAa;QACX,OAAOuwB,QAAP;MACD,CAFD,MAEO;QACL,OAAOA,QAAQ,CAACzgB,MAAT,CAAgB,UAAA0gB,CAAC;UAAA,OAAI,CAACA,CAAC,CAACzpB,UAAP;QAAA,CAAjB,CAAP;MACD;IACF,CAN0B;;;;;;;WAX3B,0CAAiCpI,KAAjC,EAAwC;MACtC,IAAMigB,qBAAqB,GAAGL,uCAAqB,GAAGC,yBAAyB,CAAC,CAAD,CAAzB,GAA+B,CAArF;;MACA,IAAI7f,KAAK,IAAIigB,qBAAqB,GAAG,CAArC,EAAwC;QACtC,OAAOA,qBAAP;MACD,CAFD,MAEO,IAAIjgB,KAAK,IAAIigB,qBAAqB,GAAG,CAArC,EAAwC;QAC7C,OAAOA,qBAAqB,GAAG,CAA/B;MACD,CAFM,MAEA;QACL,OAAOA,qBAAqB,GAAG,CAA/B;MACD;IACF;;;WAUD,kBAAS;MACP,kBAAgC,KAAKhnB,KAArC;MAAA,IAAQmK,UAAR,eAAQA,UAAR;MAAA,IAAoB/B,OAApB,eAAoBA,OAApB;MACA,IAAMuwB,QAAQ,GAAG,KAAKE,cAAL,CAAoB,KAAK74B,KAAL,CAAW24B,QAA/B,EAAyCvwB,OAAzC,CAAjB;;MACA,IAAI,CAACuwB,QAAQ,CAAC/yB,MAAT,KAAoB,CAApB,IAAyB,CAACuE,UAAU,CAAC4f,QAAtC,KAAmD,CAAC3hB,OAAxD,EAAiE;QAC/D,OAAO,IAAP;MACD;;MAED,oBACE,qBAAC,2BAAD;QAAK,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAAT;QAAiB,WAAQ,UAAzB;QAAA,wBACE,qBAAC,sCAAD;UAAA,wBACE,oBAAC,2BAAD;YAAA,uBACE,oBAAC,sBAAD;cAAkB,EAAE,YAApB;cAAgC,cAAc;gBAAA;gBAAA;cAAA;YAA9C;UADF,EADF,eAIE,oBAAC,MAAD;YAAG,KAAK,EAAC,WAAT;YAAqB,EAAE,EAAE,CAAzB;YAAA,UACGA,OAAO,gBACN,oBAAC,sBAAD;cACE,EAAE,mDADJ;cAEE,cAAc;gBAAA;gBAAA;cAAA;YAFhB,EADM,gBAMN,oBAAC,sBAAD;cACE,EAAE,8CADJ;cAEE,cAAc;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA,EAFhB;cAGE,MAAM,EAAE;gBAAEmE,cAAc,EAAEpC,UAAU,CAAC/F;cAA7B;YAHV;UAPJ,EAJF;QAAA,EADF,eAqBE,qBAAC,2BAAD;UAAK,EAAE,EAAE,CAAT;UAAA,wBACE,qBAAC,iCAAD;YACE,SAAS,EAAE0iB,uCADb;YAEE,iBAAiB,EAAE,KAAKI,gCAF1B;YAAA,WAIGyR,QAAQ,CAAC/wB,GAAT,CAAa,UAAAsH,OAAO;cAAA,oBACnB,oBAAC,2BAAD;gBAAsB,EAAE,EAAE0X,yBAA1B;gBAAA,uBACE,oBAAC,gCAAD;kBACE,UAAU,EAAEzc,UADd;kBAEE,OAAO,EAAE+E,OAFX;kBAGE,UAAU,EAAE,CAACA,OAAO,CAAC6a,QAHvB;kBAIE,gBAAgB,EAAE,CAAC4O,QAAQ,CAAC3K,IAAT,CAAc,UAAA9e,OAAO;oBAAA,OAAIA,OAAO,CAAC7H,YAAR,CAAqBzB,MAAzB;kBAAA,CAArB;gBAJrB;cADF,GAAUsJ,OAAO,CAAC3G,EAAlB,CADmB;YAAA,CAApB,CAJH,EAcGH,OAAO,iBACN,oBAAC,gCAAD;cAAyB,SAAS,EAAE,GAApC;cAAA,uBACE,oBAAC,wBAAD;gBAAW,KAAK,aAAM+B,UAAU,CAACuC,IAAjB,qBAAhB;gBAAA,uBACE,oBAAC,sBAAD;kBAAkB,EAAE,iCAApB;kBAAqD,cAAc;oBAAA;oBAAA;kBAAA;gBAAnE;cADF;YADF,EAfJ;UAAA,EADF,EAuBG5D,OAAO,CAAC6vB,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAE/yB,MAAX,CAAP,iBACC,oBAAC,sCAAD;YAAA,uBACE,oBAAC,mBAAD;cAAM,IAAI,aAAMuE,UAAU,CAACuC,IAAjB,cAAV;cAAA,uBACE,qBAAC,2BAAD;gBAAc,EAAE,EAAE,CAAlB;gBAAqB,KAAK,EAAE,CAA5B;gBAA+B,UAAU,EAAC,OAA1C;gBAAkD,QAAQ,EAAC,MAA3D;gBAAA,wBACE,oBAAC,sBAAD;kBAAkB,EAAE,0CAApB;kBAA8D,cAAc;oBAAA;oBAAA;kBAAA;gBAA5E,EADF;cAAA;YADF;UADF,EAxBJ;QAAA,EArBF;MAAA,EADF;IAyDD;;;;EAhG2BrN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmG9B,6CAAeq5B,eAAf;;;;;;;;;;;;;;;;;;;AC9HA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,IAAM1L,8BAAO,GAAG;EACdgM,MAAM,EAAE,QADM;EAEdC,OAAO,EAAE,SAFK;EAGdC,MAAM,EAAE,QAHM;EAIdC,SAAS,EAAE;AAJG,CAAhB;AAOA,IAAM9K,kCAAW,GAAG/e,sBAAc,uEAAC,uCAChC0d,8BAAO,CAACgM,MADuB,EACd;EAChBzwB,EAAE,wBADc;EAEhBqH,cAAc;IAAA;IAAA;EAAA;AAFE,CADc,4BAAC,uCAKhCod,8BAAO,CAACiM,OALuB,EAKb;EACjB1wB,EAAE,qBADe;EAEjBqH,cAAc;IAAA;IAAA;EAAA;AAFG,CALa,4BAAC,uCAShCod,8BAAO,CAACkM,MATuB,EASd;EAChB3wB,EAAE,oBADc;EAEhBqH,cAAc;IAAA;IAAA;EAAA;AAFE,CATc,4BAAC,uCAahCod,8BAAO,CAACmM,SAbuB,EAaX;EACnB5wB,EAAE,2BADiB;EAEnBqH,cAAc;IAAA;IAAA;EAAA;AAFK,CAbW,0CAAlC;;IAmBMwpB;;;;;EAeJ,uCAAYp5B,KAAZ,EAAmB;IAAA;;IAAA;;IACjB,0BAAMA,KAAN;IACA,MAAKiB,KAAL,GAAa;MAAEiX,MAAM,EAAE;IAAV,CAAb;IAFiB;EAGlB;;;;WAED,kBAAS;MAAA;;MACP,kBAAuB,KAAKlY,KAA5B;MAAA,IAAQoM,IAAR,eAAQA,IAAR;MAAA,IAAc3E,IAAd,eAAcA,IAAd;MAEA,IAAMwpB,OAAO,GAAG,CAAC,QAAD,EAAW,SAAX,EAAsB,QAAtB,EAAgC,WAAhC,CAAhB;;MAEA,IAAI7kB,IAAI,CAAC0K,OAAT,EAAkB;QAChB,oBAAO,oBAAC,iCAAD;UAAoB,MAAM,EAAE,GAA5B;UAAiC,YAAY,EAAE;QAA/C,EAAP;MACD,CAFD,MAEO,IAAI,CAAC1K,IAAI,CAAC6f,OAAV,EAAmB;QACxB,oBACE,oBAAC,mCAAD;UAAW,OAAO,EAAC,MAAnB;UAA0B,MAAM,EAAC,oBAAjC;UAAsD,cAAc,EAAC,QAArE;UAA8E,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAAlF;UAA0F,UAAU,EAAC,SAArG;UAAA,uBACE,oBAAC,yBAAD;YAAY,IAAI,EAAC,OAAjB;YAAyB,QAAQ,MAAjC;YAAA,uBACE,oBAAC,sBAAD;cACE,EAAE,yBADJ;cAEE,cAAc;gBAAA;gBAAA;cAAA;YAFhB;UADF;QADF,EADF;MAUD;;MAED,IAAM9hB,UAAU,GAAGiC,IAAI,IAAIA,IAAI,CAAC6f,OAAhC;MACA,IAAMoN,sBAAsB,GAAGlvB,UAAU,IAAIA,UAAU,CAACmvB,MAAxD;MAEA,oBACE,qBAAC,2BAAD;QAAK,EAAE,EAAE,CAAT;QAAA,wBACE,oBAAC,sCAAD;UAAA,uBACE,oBAAC,2BAAD;YAAc,SAAS,EAAC,MAAxB;YAA+B,EAAE,EAAE,CAAnC;YAAsC,QAAQ,EAAE,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,CAAhD;YAA0E,KAAK,EAAC,WAAhF;YAAA,uBACE,oBAAC,sBAAD;cAAkB,EAAE,2BAApB;cAA+C,cAAc;gBAAA;gBAAA;cAAA;YAA7D;UADF;QADF,EADF,eAME,oBAAC,2BAAD;UAAK,EAAE,EAAC,MAAR;UAAe,QAAQ,EAAExM,iEAAzB;UAAA,uBACE,oBAAC,4BAAD;YACE,OAAO,EAAEmE,OADX;YAEE,QAAQ,EAAE,kBAAA3rB,GAAG;cAAA,OAAImC,IAAI,CAACuI,aAAL,CAAmBqe,kCAAW,CAAC/oB,GAAD,CAA9B,CAAJ;YAAA,CAFf;YAGE,QAAQ,EAAE,KAAKrE,KAAL,CAAWiX,MAHvB;YAIE,cAAc,EAAC,MAJjB;YAKE,cAAc,EAAE,GALlB;YAME,EAAE,EAAE4U,iDANN;YAOE,QAAQ,EAAE,kBAAA5U,MAAM;cAAA,OAAI,MAAI,CAACtX,QAAL,CAAc;gBAAEsX,MAAM,EAAEA;cAAV,CAAd,CAAJ;YAAA;UAPlB;QADF,EANF,eAiBE,oBAAC,mCAAD;UAAW,QAAQ,EAAE4U,iEAArB;UAAmD,EAAE,EAAEA,iDAAvD;UAA6E,EAAE,EAAE,CAAjF;UAAoF,EAAE,EAAC,MAAvF;UAAA,uBACE,oBAAC,+CAAD;YACE,sBAAsB,EAAEuM,sBAD1B;YAEE,OAAO,EAAElvB,UAFX;YAGE,MAAM,EAAE,KAAKlJ,KAAL,CAAWiX,MAHrB;YAIE,EAAE,EAAE;UAJN;QADF,EAjBF;MAAA,EADF;IA4BD;;;WAtED,+BAA4C;MAAA,IAAVxL,IAAU,QAAnBwc,KAAmB,CAAVxc,IAAU;MAC1C,OAAO;QAAEA,IAAI,EAAJA;MAAF,CAAP;IACD;;;;EAHyCrN;;AA0E5C,IAAMk6B,OAAO,GAAGzuB,0BAAO,CAACguB,uEAAD,EAA2B;EAChDxrB,OAAO,EAAE,iBAAAtN,KAAK;IAAA,OAAK;MACjBgX,OAAO,EAAEd,6BADQ;MAEjB3I,SAAS,EAAEisB,8CAA8C,CAACx5B,KAAK,CAAC0M,IAAP;IAFxC,CAAL;EAAA;AADkC,CAA3B,CAAvB;AAOO,IAAM8sB,8CAA8C,GAAG,SAAjDA,8CAAiD,CAAA9sB,IAAI,EAAI;EACpE,OAAO;IAAEA,IAAI,EAAJA;EAAF,CAAP;AACD,CAFM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIP,2DAAe1B,8BAAU,CAACuuB,OAAO,CAACH,6BAAD,CAAR,CAAzB;;;;;;;;;;;;;;;;;;;;ACjIA;AAEA;AAEA;AACA;AACA;;;;IAEMK;;;;;EAMJ,kBAAYz5B,KAAZ,EAAmB;IAAA;;IAAA;;IACjB,0BAAMA,KAAN;IACA,MAAK0P,QAAL,GAAgBJ,sBAAc,CAAC;MAC7BoqB,GAAG,EAAE;QAAEnxB,EAAE,uBAAJ;QAA6BqH,cAAc;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;MAA3C;IADwB,CAAD,CAA9B;IAFiB;EAKlB;;;;WAED,kBAAS;MACP,kBAA2B,KAAK5P,KAAhC;MAAA,IAAQyH,IAAR,eAAQA,IAAR;MAAA,IAAcshB,QAAd,eAAcA,QAAd;MACA,IAAQ4Q,IAAR,GAA6C5Q,QAA7C,CAAQ4Q,IAAR;MAAA,IAAc5rB,WAAd,GAA6Cgb,QAA7C,CAAchb,WAAd;MAAA,IAA2BsG,MAA3B,GAA6C0U,QAA7C,CAA2B1U,MAA3B;MAAA,IAAmCjP,KAAnC,GAA6C2jB,QAA7C,CAAmC3jB,KAAnC;;MAEA,IAAI,CAACu0B,IAAL,EAAW;QACT,oBAAO,8BAAP;MACD;;MAED,IAAMv1B,IAAI,GACR,CAACu1B,IAAI,CAACv1B,IAAL,IAAau1B,IAAI,CAACv1B,IAAL,CAAUwR,KAAV,CAAgB,OAAhB,CAAb,GAAwC,IAAxC,GAA+C+jB,IAAI,CAACv1B,IAArD,KACCu1B,IAAI,CAACC,KAAL,IAAcD,IAAI,CAACC,KAAL,CAAWC,MAAX,CAAkB,CAAlB,EAAqBF,IAAI,CAACC,KAAL,CAAWE,OAAX,CAAmB,GAAnB,CAArB,CAFjB;;MAIA,IAAI,CAAC11B,IAAL,EAAW;QACT,oBAAO,8BAAP;MACD;;MAED,IAAMgD,KAAK,GAAGK,IAAI,CAACuI,aAAL,CAAmB,KAAKN,QAAL,CAAc2E,MAAd,CAAnB,EAA0C;QAAEjQ,IAAI,EAAJA;MAAF,CAA1C,CAAd;MACA,oBACE,oBAAC,6BAAD;QAAgB,UAAU,EAAEu1B,IAA5B;QAAkC,KAAK,EAAEvyB,KAAzC;QAAA,uBACE,qBAAC,mCAAD;UACE,OAAO,EAAC,MADV;UAEE,UAAU,EAAC,QAFb;UAGE,KAAK,EAAC,MAHR;UAIE,MAAM,EAAC,MAJT;UAKE,QAAQ,EAAC,OALX;UAME,SAAM,MANR;UAOE,QAAQ,EAAC,UAPX;UAQE,MAAM,EAAC,MART;UASE,QAAQ,EAAC,QATX;UAAA,wBAWE,oBAAC,sBAAD;YAAQ,UAAU,EAAEuyB,IAApB;YAA0B,MAAM,EAAE;UAAlC,EAXF,eAYE,qBAAC,mCAAD;YAAW,OAAO,EAAC,cAAnB;YAAA,wBACE,oBAAC,mCAAD;cAAW,QAAQ,EAAC,QAApB;cAAA,UACGA,IAAI,CAAC5xB,WAAL,gBAAmB,oBAAC,sBAAD;gBAAkB,EAAE,qBAApB;gBAAyC,cAAc;kBAAA;kBAAA;gBAAA;cAAvD,EAAnB,GAA4F3D;YAD/F,EADF,eAIE,oBAAC,mCAAD;cAAW,QAAQ,EAAC,QAApB;cAA6B,KAAK,EAAC,WAAnC;cAAA,UACG2J,WAAW,IAAI4rB,IAAI,CAAC5rB;YADvB,EAJF,EAOG3I,KAAK,GAAG,CAAR,iBACC,oBAAC,mCAAD;cAAW,EAAE,EAAE,CAAf;cAAkB,QAAQ,EAAC,QAA3B;cAAoC,KAAK,EAAC,WAA1C;cAAA,uBACE,oBAAC,sBAAD;gBAAA;gBAAkB,cAAc;kBAAA;kBAAA;gBAAA;kBAAA;kBAAA;gBAAA,EAAhC;gBAAmD,MAAM,EAAE;kBAAEA,KAAK,EAALA;gBAAF;cAA3D;YADF,EARJ;UAAA,EAZF;QAAA;MADF,EADF;IA8BD;;;;EA5DoB/F;;;;;;;;;;;;;;;;;;;;;;;AA+DvB,wDAAe2L,8BAAU,CAACyuB,QAAD,CAAzB;;;;;;;;;;;;;ACvEA;AAIA;AACA;;;IAEMM;;;;;;;;;;;;;WAKJ,kBAAS;MACP,IAAQC,SAAR,GAAsB,KAAKh6B,KAA3B,CAAQg6B,SAAR;;MACA,IAAI,CAACA,SAAD,IAAcA,SAAS,CAACp0B,MAAV,KAAqB,CAAvC,EAA0C;QACxC,oBAAO,8BAAP;MACD;;MACD,oBACE,oBAAC,mCAAD;QAAW,KAAK,EAAC,MAAjB;QAAwB,OAAO,EAAC,cAAhC;QAAA,uBACE,oBAAC,mCAAD;UAAW,MAAM,EAAC,WAAlB;UAA8B,QAAQ,EAAC,OAAvC;UAAA,UACGo0B,SAAS,CAACpyB,GAAV,CAAc,UAAAmhB,QAAQ;YAAA,oBACrB,oBAAC,mBAAD;cAAuE,QAAQ,EAAEA;YAAjF,aAAkB,cAAIA,QAAJ,EAAc,SAAd,EAAyB,CAAzB,CAAlB,cAAiDA,QAAQ,CAAC3b,SAA1D,EADqB;UAAA,CAAtB;QADH;MADF,EADF;IASD;;;;EAnBqB/N;;;;;;;;;;;;;;;;;;;AAsBxB,yDAAe06B,SAAf;;;AC7BA;AAGA;AACA;AAEA;AAEA;AACA;;;AAEA,IAAMG,yBAAyB,GAAG16B,2EAAH;EAAA;EAAA;AAAA,mOAA/B;AAeA,IAAM26B,eAAe,GAAG36B,2EAAH;EAAA;EAAA;AAAA,6DAArB;;AAMA,IAAM46B,gBAAgB,GAAG,SAAnBA,gBAAmB;EAAA,IAAGC,OAAH,QAAGA,OAAH;EAAA,oBACvB;IAAG,IAAI,aAAMA,OAAO,CAAC3tB,IAAd,CAAP;IAAA,uBACE,qBAAC,yBAAD;MAAA,wBACE,oBAAC,eAAD;QAAiB,GAAG,EAAC,EAArB;QAAwB,SAAS,EAAC,MAAlC;QAAyC,GAAG,EAAEutB,0CAAkB,CAACI,OAAD,EAAU;UAAEj2B,IAAI,EAAE;QAAR,CAAV;MAAhE,EADF,eAEE,oBAAC,MAAD;QAAG,KAAK,EAAC,SAAT;QAAmB,QAAQ,EAAC,QAA5B;QAAqC,CAAC,EAAE,CAAxC;QAAA,UACGi2B,OAAO,CAACj2B;MADX,EAFF,eAKE,qBAAC,mCAAD;QAAW,OAAO,EAAC,aAAnB;QAAiC,MAAM,EAAC,GAAxC;QAA4C,SAAS,EAAC,MAAtD;QAA6D,SAAS,EAAC,mBAAvE;QAA2F,QAAQ,EAAC,QAApG;QAAA,wBACE,oBAAC,MAAD;UACE,QAAQ,EAAC,MADX;UAEE,UAAU,EAAC,KAFb;UAGE,aAAa,EAAC,WAHhB;UAIE,KAAK,EAAC,SAJR;UAKE,UAAU,EAAC,QALb;UAME,YAAY,EAAC,UANf;UAOE,aAAa,EAAC,QAPhB;UAQE,YAAY,EAAC,QARf;UAAA,UAUG,cAAIi2B,OAAJ,EAAa,WAAb;QAVH,EADF,eAaE,oBAAC,MAAD;UAAG,QAAQ,EAAC,MAAZ;UAAmB,aAAa,EAAC,SAAjC;UAA2C,OAAO,EAAC,KAAnD;UAAyD,CAAC,EAAE,CAA5D;UAAA,uBACE,oBAAC,sBAAD;YACE,EAAE,oBADJ;YAEE,cAAc;cAAA;cAAA;YAAA;cAAA;cAAA;YAAA,EAFhB;YAGE,MAAM,EAAE;cAAEpyB,IAAI,eAAE,oBAAC,iBAAD;gBAAe,KAAK,EAAEoyB,OAAO,CAACjtB,SAA9B;gBAAyC,KAAK,EAAC,MAA/C;gBAAsD,IAAI,EAAC;cAA3D;YAAR;UAHV;QADF,EAbF;MAAA,EALF;IAAA;EADF,EADuB;AAAA,CAAzB;;;;;;;;;;;;;;;;AAoCA,gEAAegtB,gBAAf;;;;;;;;;;;;ACpEA;AAGA;AACA;;;IAEME;;;;;EAKJ,kBAAYt6B,KAAZ,EAAmB;IAAA;;IAAA,yBACXA,KADW;EAElB;;;;WAED,kBAAS;MACP,IAAQu6B,QAAR,GAAqB,KAAKv6B,KAA1B,CAAQu6B,QAAR;;MACA,IAAI,CAACA,QAAD,IAAaA,QAAQ,CAAC30B,MAAT,KAAoB,CAArC,EAAwC;QACtC,oBAAO,8BAAP;MACD;;MACD,oBACE,oBAAC,mCAAD;QAAW,QAAQ,EAAC,OAApB;QAA4B,MAAM,EAAC,gBAAnC;QAAoD,SAAS,EAAC,QAA9D;QAAuE,QAAQ,EAAC,QAAhF;QAAA,UACG20B,QAAQ,CAAC3yB,GAAT,CAAa,UAAAyyB,OAAO;UAAA,oBACnB,oBAAC,2BAAD;YAAkB,IAAI,EAAC,SAAvB;YAAkD,OAAO,EAAEA;UAA3D,GAAsCA,OAAO,CAAC9xB,EAA9C,CADmB;QAAA,CAApB;MADH,EADF;IAOD;;;;EArBoBlJ;;;;;;;;;;;;;;;;;;;AAwBvB,wDAAei7B,QAAf;;;;;;;;;;;AC9BA;AAGA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAEA,IAAMI,kBAAkB,GAAGl7B,2EAAH;EAAA;EAAA;AAAA,kQAAxB;;AAsBA,IAAMm7B,YAAY,GAAG,SAAfA,YAAe,OAAkD;EAAA,IAAnCt1B,KAAmC,QAA/C8E,UAA+C;EAAA,IAA5B4Y,YAA4B,QAA5BA,YAA4B;EAAA,IAAd5W,OAAc,QAAdA,OAAc;;EACrE,sBAAsC9M,cAAA,CAAe,KAAf,CAAtC;EAAA;EAAA,IAAOu7B,WAAP;EAAA,IAAoBC,cAApB,uBADqE,CAGrE;EACA;EACA;EAEA;EACA;;;EACA,IAAMvB,MAAM,GAAG,4BAAIj0B,KAAK,CAACi0B,MAAV,EAAkBwB,IAAlB,CAAuB,UAACC,CAAD,EAAIC,CAAJ;IAAA,OAAU,IAAIC,IAAJ,CAASD,CAAC,CAAC5tB,SAAX,EAAsB8tB,OAAtB,KAAkC,IAAID,IAAJ,CAASF,CAAC,CAAC3tB,SAAX,EAAsB8tB,OAAtB,EAA5C;EAAA,CAAvB,CAAf;;EAEA,IAAMC,WAAW,GAAG,EAApB;EACA,IAAMC,aAAa,GAAG,EAAtB;EACA9B,MAAM,CAACplB,OAAP,CAAe,UAAAmnB,KAAK,EAAI;IACtB,IAAI,cAAIA,KAAJ,EAAW,WAAX,EAAwB,EAAxB,EAA4BzlB,KAA5B,CAAkC,UAAlC,CAAJ,EAAmD;MACjDwlB,aAAa,CAAC9mB,IAAd,CAAmB+mB,KAAnB;IACD,CAFD,MAEO;MACLF,WAAW,CAAC7mB,IAAZ,CAAiB+mB,KAAjB;IACD;EACF,CAND;EAOA,IAAMrB,SAAS,GAAGpd,MAAM,CAACvF,MAAP,CAChB,oBACE,kBAAQ8jB,WAAR,EAAqB,UAAAE,KAAK;IAAA,OAAIA,KAAK,CAAC5uB,cAAN,IAAwB4uB,KAAK,CAAC5uB,cAAN,CAAqBlE,EAAjD;EAAA,CAA1B,CADF,EAEE,UAAA+wB,MAAM;IAAA,OAAK;MACTK,IAAI,EAAEL,MAAM,CAAC,CAAD,CAAN,CAAU7sB,cADP;MAETW,SAAS,EAAEksB,MAAM,CAAC,CAAD,CAAN,CAAUlsB,SAFZ;MAGTiH,MAAM,EAAE,KAHC;MAITjP,KAAK,EAAEk0B,MAAM,CAAC1zB;IAJL,CAAL;EAAA,CAFR,CADgB,CAAlB;EAYA,IAAM20B,QAAQ,GAAGa,aAAa,CAACxzB,GAAd,CAAkB,UAAAyzB,KAAK,EAAI;IAC1C,IAAMC,iBAAiB,GAAG1e,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBwe,KAAK,CAAC5uB,cAAxB,CAA1B;IACA6uB,iBAAiB,CAACnR,IAAlB,GAAyBkR,KAAK,CAAClR,IAA/B;IACAmR,iBAAiB,CAACluB,SAAlB,GAA8B,IAAI6tB,IAAJ,CAASI,KAAK,CAACjuB,SAAf,CAA9B;IACA,OAAOkuB,iBAAP;EACD,CALgB,CAAjB;EAOA,IAAMC,YAAY,GAAGxY,YAAY,IAAIA,YAAY,CAACwY,YAAb,CAA0Bl2B,KAA1B,CAArC;EAEAhG,eAAA,CAAgB,YAAM;IACpB,IAAMm8B,WAAW;MAAA,gFAAG;QAAA;UAAA;YAAA;cAAA;gBAAA,KACdD,YADc;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAEVpvB,OAAO,EAFG;;cAAA;gBAGhB0uB,cAAc,CAAC,IAAD,CAAd;;cAHgB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAAH;;MAAA,gBAAXW,WAAW;QAAA;MAAA;IAAA,GAAjB;;IAOAA,WAAW;EACZ,CATD,EASG,CAACzY,YAAD,CATH;EAWA,oBACE,qBAAC,2BAAD;IAAK,EAAE,EAAE,CAAT;IAAA,WACGwX,QAAQ,CAAC30B,MAAT,GAAkB,CAAlB,iBACC,qBAAC,sCAAD;MAAyB,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAA7B;MAAA,wBACE,oBAAC,2BAAD;QAAc,SAAS,EAAC,QAAxB;QAAA,uBACE,oBAAC,sBAAD;UAAkB,EAAE,wBAApB;UAA4C,cAAc;YAAA;YAAA;UAAA;QAA1D;MADF,EADF,eAIE,oBAAC,mBAAD;QAAU,QAAQ,EAAE20B;MAApB,EAJF;IAAA,EAFJ,EASGP,SAAS,CAACp0B,MAAV,GAAmB,CAAnB,iBACC,qBAAC,sCAAD;MAAyB,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAA7B;MAAA,wBACE,oBAAC,2BAAD;QAAc,SAAS,EAAC,QAAxB;QAAA,uBACE,oBAAC,sBAAD;UACE,EAAE,+BADJ;UAEE,MAAM,EAAE;YAAE4K,CAAC,EAAE2qB,WAAW,CAACv1B;UAAjB,CAFV;UAGE,cAAc;YAAA;YAAA;UAAA;YAAA;YAAA;UAAA;YAAA;YAAA;YAAA;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;cAAA;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;cAAA;YAAA;YAAA;YAAA;UAAA;QAHhB;MADF,EADF,EAQG21B,YAAY,IAAIX,WAAhB,iBACC,oBAAC,kBAAD;QAAA,uBACE;UAAA,uBACE;YAAA,uBACE,oBAAC,+BAAD;cAAkB,OAAO,EAAE;gBAAA,OAAMJ,mCAAW,CAACn1B,KAAD,CAAjB;cAAA,CAA3B;cAAA,uBACE,oBAAC,sBAAD;gBAAkB,EAAE,iBAApB;gBAAqC,cAAc;kBAAA;kBAAA;gBAAA;kBAAA;kBAAA;gBAAA,EAAnD;gBAAsE,MAAM,EAAE;kBAAEyvB,MAAM,EAAE;gBAAV;cAA9E;YADF;UADF;QADF;MADF,EATJ,eAmBE,oBAAC,oBAAD;QAAW,SAAS,EAAEkF;MAAtB,EAnBF;IAAA,EAVJ;EAAA,EADF;AAmCD,CAvFD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA,4DAAeW,YAAf;;;;;ACtIA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;;;;;AACA,IAAMe,+BAA+B,GAAG,SAAlCA,+BAAkC,OAA2C;EAAA,IAAxCvxB,UAAwC,QAAxCA,UAAwC;EAAA,IAA5BymB,qBAA4B,QAA5BA,qBAA4B;EACjF,IAAMrN,OAAO,GAAGpZ,UAAU,CAAC0K,IAAX,KAAoB9O,8CAApC;;EACA,0BAA2C01B,6CAAkB,CAAC7K,qBAAD,CAA7D;EAAA;EAAA,IAAO+K,gBAAP;EAAA,IAAyBC,cAAzB;;EAEA,IAAIrY,OAAO,IAAK,EAACoY,gBAAD,aAACA,gBAAD,eAACA,gBAAgB,CAAE/1B,MAAnB,KAA6B,EAACg2B,cAAD,aAACA,cAAD,eAACA,cAAc,CAAEh2B,MAAjB,CAA7C,EAAuE;IACrE,OAAO,IAAP;EACD;;EAED,oBACE,qBAAC,sCAAD;IAAyB,EAAE,EAAE,CAA7B;IAAA,wBACE,oBAAC,2BAAD;MAAA,uBACE,oBAAC,sBAAD;QAAkB,EAAE,qCAApB;QAAyD,cAAc;UAAA;UAAA;QAAA;MAAvE;IADF,EADF,eAIE,oBAAC,8BAAD;MAAiB,aAAa,EAAE+1B,gBAAhC;MAAkD,WAAW,EAAEC,cAA/D;MAA+E,QAAQ,EAAEzxB,UAAU,CAAC5C;IAApG,EAJF;EAAA,EADF;AAQD,CAhBD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,0EAAelI,UAAA,CAAWq8B,+BAAX,CAAf;;;;;;;;;;;;;;AC/CA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,IAAMK,YAAY,GAAG,EAArB;AACA,IAAM/O,oBAAO,GAAG;EAAEC,GAAG,EAAE,KAAP;EAAc+O,QAAQ,EAAE,UAAxB;EAAoCC,aAAa,EAAE;AAAnD,CAAhB;AACA,IAAMpL,YAAY,GAAGjU,MAAM,CAACvF,MAAP,CAAc2V,oBAAd,CAArB;AACA,IAAMqB,wBAAW,GAAG/e,sBAAc,6DAAC,6BAChC0d,oBAAO,CAACC,GADuB,EACjB;EACb1kB,EAAE,2BADW;EAEbqH,cAAc;IAAA;IAAA;EAAA;AAFD,CADiB,4BAAC,6BAKhCod,oBAAO,CAACgP,QALuB,EAKZ;EAClBzzB,EAAE,YADgB;EAElBqH,cAAc;IAAA;IAAA;EAAA;AAFI,CALY,4BAAC,6BAShCod,oBAAO,CAACiP,aATuB,EASP;EACvB1zB,EAAE,iBADqB;EAEvBqH,cAAc;IAAA;IAAA;EAAA;AAFS,CATO,gCAAlC;AAeO,IAAMssB,wBAAwB,GAAG3qB,mCAAH,gmBAqBjCuqB,oDArBiC,CAA9B;AAwBA,IAAMK,oCAAoC,GAAG,SAAvCA,oCAAuC,CAAAzvB,IAAI,EAAI;EAC1D,OAAO;IAAEA,IAAI,EAAJA,IAAF;IAAQqiB,KAAK,EAAEgN,YAAf;IAA6Bx3B,IAAI,EAAEs3B,kDAAe;EAAlD,CAAP;AACD,CAFM;;AAIP,IAAMO,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAAp8B,KAAK,EAAI;EAAA;;EACnC,IAAMq8B,uBAAuB,GAAGvmB,mBAAQ,CAAComB,wBAAD,EAA2B;IACjE3uB,SAAS,EAAE4uB,oCAAoC,CAACn8B,KAAK,CAACmK,UAAN,CAAiBuC,IAAlB,CADkB;IAEjEsK,OAAO,EAAEd,6BAFwD;IAGjE;IACA;IACA+Y,2BAA2B,EAAE;EALoC,CAA3B,CAAxC;EAOA,IAAQ7iB,IAAR,GAAmCiwB,uBAAnC,CAAQjwB,IAAR;EAAA,IAAcD,OAAd,GAAmCkwB,uBAAnC,CAAclwB,OAAd;EAAA,IAAuB2K,OAAvB,GAAmCulB,uBAAnC,CAAuBvlB,OAAvB;;EACA,sBAA4BzX,cAAA,CAAe2tB,oBAAO,CAACC,GAAvB,CAA5B;EAAA;EAAA,IAAO/U,MAAP;EAAA,IAAe2W,SAAf;;EACAxvB,eAAA,CAAgB,YAAM;IACpB8M,OAAO;EACR,CAFD,EAEG,CAACnM,KAAK,CAACoI,OAAP,EAAgBpI,KAAK,CAACs8B,MAAtB,EAA8BnwB,OAA9B,CAFH;EAGA9M,eAAA,CAAgB,YAAM;IACpB,IAAMk9B,UAAU,GAAGrkB,MAAM,KAAK8U,oBAAO,CAACgP,QAAnB,IAA+Bx6B,SAAlD;IACA,IAAMg7B,QAAQ,GAAGtkB,MAAM,KAAK8U,oBAAO,CAACiP,aAAnB,IAAoCz6B,SAArD;IACA2K,OAAO,CAAC;MAAEO,IAAI,EAAE1M,KAAK,CAACmK,UAAN,CAAiBuC,IAAzB;MAA+BqiB,KAAK,EAAEgN,YAAtC;MAAoDQ,UAAU,EAAVA,UAApD;MAAgEC,QAAQ,EAARA;IAAhE,CAAD,CAAP;EACD,CAJD,EAIG,CAACtkB,MAAD,EAASlY,KAAK,CAACmK,UAAN,CAAiBuC,IAA1B,EAAgCP,OAAhC,CAJH;EAMA,IAAQ1E,IAAR,GAA6BzH,KAA7B,CAAQyH,IAAR;EAAA,IAAc0C,UAAd,GAA6BnK,KAA7B,CAAcmK,UAAd;EACA,IAAMsyB,2BAA2B,GAAG,CAAC3lB,OAAD,IAAY,CAAA1K,IAAI,SAAJ,IAAAA,IAAI,WAAJ,kCAAAA,IAAI,CAAE2F,YAAN,0EAAoBxB,UAApB,MAAmC,CAA/C,IAAoD2H,MAAM,KAAK8U,oBAAO,CAACC,GAA3G;EAEA,oBACE,qBAAC,2BAAD;IAAK,EAAE,EAAE,CAAT;IAAA,wBACE,qBAAC,sCAAD;MAAA,wBACE,oBAAC,2BAAD;QACE,WAAQ,4BADV;QAEE,EAAE,EAAE,CAFN;QAGE,SAAS,EAAC,MAHZ;QAIE,QAAQ,EAAE,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,CAJZ;QAKE,KAAK,EAAC,WALR;QAAA,uBAOE,oBAAC,sBAAD;UAAkB,EAAE,qBAApB;UAAyC,cAAc;YAAA;YAAA;UAAA;QAAvD;MAPF,EADF,EAUGwP,2BAA2B,iBAC1B,oBAAC,yBAAD;QAAY,IAAI,EAAC,MAAjB;QAAwB,QAAQ,MAAhC;QAAA,uBACE,oBAAC,sBAAD;UAAkB,EAAE,6BAApB;UAAiD,cAAc;YAAA;YAAA;UAAA;QAA/D;MADF,EAXJ;IAAA,EADF,EAiBG,CAACA,2BAAD,iBACC,oBAAC,2BAAD;MAAK,EAAE,EAAE,CAAT;MAAY,QAAQ,EAAE3P,iEAAtB;MAAoD,EAAE,EAAC,MAAvD;MAAA,uBACE,oBAAC,4BAAD;QACE,OAAO,EAAE+D,YADX;QAEE,QAAQ,EAAE3Y,MAFZ;QAGE,QAAQ,EAAE2W,SAHZ;QAIE,QAAQ,EAAE,kBAAA3W,MAAM;UAAA,OAAIzQ,IAAI,CAACuI,aAAL,CAAmBqe,wBAAW,CAACnW,MAAD,CAA9B,CAAJ;QAAA,CAJlB;QAKE,cAAc,EAAE,GALlB;QAME,EAAE,EAAE4U,iDAAoBkD;MAN1B;IADF,EAlBJ,EA8BG,CAACyM,2BAAD,iBACC,qBAAC,sCAAD;MAAyB,EAAE,EAAE,CAA7B;MAAA,WACG3lB,OAAO,gBACN,oBAAC,iCAAD;QAAoB,MAAM,EAAE,GAA5B;QAAiC,YAAY,EAAE;MAA/C,EADM,gBAGN,oBAAC,+BAAD;QACE,UAAU,EAAE3M,UADd;QAEE,YAAY,EAAEiC,IAAF,aAAEA,IAAF,8CAAEA,IAAI,CAAE2F,YAAR,wDAAE,oBAAoB3B,KAFpC;QAGE,cAAc,MAHhB;QAIE,iBAAiB,EAAE;UAAA,OAAMjE,OAAO,EAAb;QAAA;MAJrB,EAJJ,EAWG,CAAAC,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAE2F,YAAN,CAAmBxB,UAAnB,MAAkC,CAAlC,iBACC,oBAAC,yBAAD;QAAY,IAAI,EAAC,MAAjB;QAAA,uBACE,oBAAC,sBAAD;UACE,EAAE,0BADJ;UAEE,cAAc;YAAA;YAAA;UAAA;YAAA;YAAA;YAAA;cAAA;cAAA;YAAA;UAAA;YAAA;YAAA;UAAA,EAFhB;UAGE,MAAM,EAAE;YACNmsB,SADM,qBACIC,IADJ,EACU;cACd,oBAAO,oBAAC,+BAAD;gBAAkB,OAAO,EAAE;kBAAA,OAAM9N,SAAS,CAAC7B,oBAAO,CAACC,GAAT,CAAf;gBAAA,CAA3B;gBAAA,UAA0D0P;cAA1D,EAAP;YACD;UAHK;QAHV;MADF,EAZJ,eAwBE,oBAAC,mBAAD;QAAM,IAAI,aAAMxyB,UAAU,CAACuC,IAAjB,kBAAV;QAAA,uBACE,qBAAC,2BAAD;UAAc,EAAE,EAAE,CAAlB;UAAqB,KAAK,EAAC,MAA3B;UAAkC,UAAU,EAAC,OAA7C;UAAqD,QAAQ,EAAC,WAA9D;UAAA,wBACE,oBAAC,sBAAD;YAAkB,EAAE,wBAApB;YAA4C,cAAc;cAAA;cAAA;YAAA;UAA1D,EADF;QAAA;MADF,EAxBF;IAAA,EA/BJ;EAAA,EADF;AAiED,CAvFD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA,8DAAerN,UAAA,CAAW2L,8BAAU,CAACoxB,mBAAD,CAArB,CAAf;;;;;;;;;;;;;;;;;;;;;;;ACvLA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;AAEA,IAAMa,qBAAqB,GAAGz9B,iDAAM,CAACG,mCAAD,CAAN,CAAkB+J,KAAlB,CAAwB;EACpDiE,QAAQ,EAAEmf,iEAD0C;EAEpD8L,CAAC,EAAE9L,iDAFiD;EAGpDoQ,CAAC,EAAE;AAHiD,CAAxB,CAAH;EAAA;EAAA;AAAA,4DAA3B;AAUA,IAAMC,gBAAgB,GAAG39B,iEAAA,CAAiB;EAAEmK,GAAG,EAAE;AAAP,CAAjB,CAAH;EAAA;EAAA;AAAA,iDAAtB;AAMA,IAAMyzB,sBAAsB,GAAG59B,iDAAM,CAACI,4BAAD,CAAT;EAAA;EAAA;AAAA,uPAOVi9B,4CAAQ,CAAC,oBAAD,CAPE,CAA5B;AAuBA,IAAMQ,cAAc,gBAAGh+B,gBAAA,CAAiB,gBAAqCkB,GAArC,EAA6C;EAAA,IAA1C4J,UAA0C,QAA1CA,UAA0C;EAAA,IAA9BozB,QAA8B,QAA9BA,QAA8B;EAAA,IAAjBv9B,KAAiB;;EACnF,IAAMyH,IAAI,GAAG3B,0BAAO,EAApB;EACA,IAAMsG,IAAI,GAAG0wB,0DAA0B,CAACr1B,IAAD,EAAO0C,UAAP,EAAmBozB,QAAnB,CAAvC;EACA,oBACE,qBAAC,qBAAD;IAAuB,GAAG,EAAEh9B;EAA5B,GAAqCP,KAArC;IAAA,wBACE,qBAAC,4BAAD;MAAM,UAAU,EAAC,QAAjB;MAA0B,cAAc,EAAC,QAAzC;MAAA,wBACE,oBAAC,sBAAD;QAAwB,UAAU,EAAC,QAAnC;QAA4C,EAAE,EAAE,CAAhD;QAAA,uBACE,oBAAC,gBAAD;UAAkB,GAAG,EAAEoM,IAAI,CAAC3C;QAA5B;MADF,EADF,eAIE,qBAAC,4BAAD;QAAM,UAAU,EAAC,QAAjB;QAA0B,EAAE,EAAE,CAA9B;QAAA,wBACE,oBAAC,2BAAD;UAAc,EAAE,EAAE,CAAlB;UAAqB,EAAE,EAAE,CAAzB;UAA4B,8BAAqB8zB,QAArB,WAA5B;UAAA,UACGnxB,IAAI,CAAChF;QADR,EADF,EAIGgF,IAAI,CAACoxB,IAAL,iBACC,oBAAC,4BAAD;UAAe,OAAO,EAAE;YAAA,OAAMpxB,IAAI,CAACoxB,IAAX;UAAA,CAAxB;UAAA,uBACE,oBAAC,oBAAD;YAAM,IAAI,EAAE,EAAZ;YAAgB,KAAK,EAAC;UAAtB;QADF,EALJ;MAAA,EAJF,eAcE,oBAAC,uBAAD;QAAU,IAAI,EAAC,GAAf;QAAmB,WAAW,EAAC,OAA/B;QAAuC,WAAW,EAAC,WAAnD;QAA+D,EAAE,EAAE;MAAnE,EAdF;IAAA,EADF,EAiBGpxB,IAAI,CAACqxB,QAAL,iBACC,oBAAC,4BAAD;MAAM,EAAE,EAAE,CAAV;MAAa,cAAc,EAAC,eAA5B;MAA4C,UAAU,EAAC,QAAvD;MAAgE,QAAQ,EAAC,MAAzE;MAAA,uBACE;QAAG,KAAK,EAAC,WAAT;QAAqB,EAAE,EAAE,CAAzB;QAA4B,EAAE,EAAE,CAAhC;QAAA,UACGrxB,IAAI,CAACqxB;MADR;IADF,EAlBJ;EAAA,GADF;AA2BD,CA9BsB,CAAvB;AAgCAJ,cAAc,CAACK,WAAf,GAA6B,gBAA7B;;;;;;;;;;;;;;;;;;;;;;;;AAOA,mEAAeL,cAAf;;;;;GAhBkD;EAAE3vB,IAAI,EAAE,SAAR;EAAmBC,QAAQ,EAAE;AAA7B;;ACjFlD;AAEA,IAAMgwB,gBAAgB,GAAGn+B,mFAAH;EAAA;EAAA;AAAA,sBAElB,UAAAQ,KAAK;EAAA,OACLA,KAAK,CAAC69B,iBAAN,IACAp+B,6CADA,0BADK;AAAA,CAFa,CAAtB;AASA,qEAAek+B,gBAAf;;;;;;ACXA;AAEA;AACA;AACA;AACA;;AACA,IAAMI,4BAA4B,gFAC/BD,uCAD+B,EACd,IADc,mDAE/BA,iDAF+B,EAET,IAFS,mDAG/BA,uCAH+B,EAGd,IAHc,yBAAlC;AAMA,iEAAeC,4BAAf;;;;;;;;;;;;;;;;;;;ACZA;AAGA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;IACMU;;;;;EA+BJ,wBAAYz+B,KAAZ,EAAmB;IAAA;;IAAA;;IACjB,0BAAMA,KAAN;;IADiB,gFAgBLmnB,kCAAU,CAAC,UAAChd,UAAD,EAAa/B,OAAb,EAAsBs2B,WAAtB,EAAsC;MAC7D,OAAOP,gEAAgC,CAACh0B,UAAD,EAAa/B,OAAb,EAAsBs2B,WAAtB,CAAvC;IACD,CAFuB,CAhBL;;IAAA,0FAoBKvX,kCAAU,CAAC,UAAChd,UAAD,EAAa/B,OAAb,EAAsBs2B,WAAtB,EAAsC;MACvE,IAAMC,QAAQ,GAAG,MAAKC,WAAL,CAAiBz0B,UAAjB,EAA6B/B,OAA7B,EAAsCs2B,WAAtC,CAAjB;;MACA,OAAOC,QAAQ,CAACzmB,MAAT,CAAgB,UAAA2mB,CAAC;QAAA,OAAIA,CAAC,CAAChqB,IAAF,KAAW,UAAf;MAAA,CAAjB,CAAP;IACD,CAHiC,CApBf;;IAAA,6EAyBR,mBAAS,YAAM;MACxB,kBAAoC,MAAK5T,KAAzC;MAAA,IAAM69B,OAAN,eAAMA,OAAN;MAAA,IAAeC,gBAAf,eAAeA,gBAAf,CADwB,CAExB;;MACA,IAAI,MAAKC,oBAAL,CAA0Bx+B,OAA9B,EAAuC;QACrC,IAAI,MAAKw+B,oBAAL,CAA0Bx+B,OAA1B,CAAkCy+B,qBAAlC,GAA0DC,GAA1D,IAAiE,EAArE,EAAyE;UACvEJ,OAAO,GAAG,IAAV;QACD,CAFD,MAEO,IAAIA,OAAJ,EAAa;UAClBA,OAAO,GAAG,KAAV;QACD;MACF,CATuB,CAWxB;;;MACA,IAAMK,iBAAiB,GAAG,GAA1B;MACA,IAAMC,UAAU,GAAGC,MAAM,CAACC,OAAP,GAAiBH,iBAApC;;MACA,IAAMI,UAAU,GAAG,MAAKC,qBAAL,CAA2B,MAAKx/B,KAAL,CAAWmK,UAAtC,EAAkD,MAAKnK,KAAL,CAAWoI,OAA7D,EAAsE,MAAKpI,KAAL,CAAW0+B,WAAjF,CAAnB;;MAEA,KAAK,IAAI3L,CAAC,GAAGwM,UAAU,CAAC35B,MAAX,GAAoB,CAAjC,EAAoCmtB,CAAC,IAAI,CAAzC,EAA4CA,CAAC,EAA7C,EAAiD;QAC/C,IAAM0M,YAAY,GAAGF,UAAU,CAACxM,CAAD,CAAV,CAAc3uB,IAAnC;QACA,IAAMs7B,WAAW,GAAG,MAAKC,qBAAL,CAA2BF,YAA3B,CAApB;;QACA,IAAIC,WAAW,IAAIN,UAAU,IAAIM,WAAW,CAACE,SAA7C,EAAwD;UACtDb,gBAAgB,GAAGU,YAAnB;UACA;QACD;MACF,CAvBuB,CAyBxB;;;MACA,IAAI,MAAKx+B,KAAL,CAAW69B,OAAX,KAAuBA,OAAvB,IAAkC,MAAK79B,KAAL,CAAW89B,gBAAX,KAAgCA,gBAAtE,EAAwF;QACtF,MAAKn+B,QAAL,CAAc;UAAEk+B,OAAO,EAAPA,OAAF;UAAWC,gBAAgB,EAAhBA;QAAX,CAAd;MACD,CAFD,MAEO,IAAI,CAACA,gBAAD,IAAqBQ,UAArB,aAAqBA,UAArB,eAAqBA,UAAU,CAAE35B,MAArC,EAA6C;QAClD;QACA,MAAKhF,QAAL,CAAc;UAAEk+B,OAAO,EAAPA,OAAF;UAAWC,gBAAgB,EAAEQ,UAAU,CAAC,CAAD,CAAV,CAAcn7B;QAA3C,CAAd;MACD;IACF,CAhCU,EAgCR,GAhCQ,CAzBQ;;IAAA,sFA2DC,YAAM;MACxBi7B,MAAM,CAACQ,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;IACD,CA7DkB;;IAEjB,MAAKF,qBAAL,GAA6B,EAA7B,CAFiB,CAEgB;;IACjC,MAAKX,oBAAL,gBAA4B3/B,eAAA,EAA5B;IACA,MAAK4B,KAAL,GAAa;MAAE69B,OAAO,EAAE,KAAX;MAAkBC,gBAAgB,EAAE;IAApC,CAAb;IAJiB;EAKlB;;;;WAED,6BAAoB;MAClBM,MAAM,CAACn+B,gBAAP,CAAwB,QAAxB,EAAkC,KAAK4+B,QAAvC,EAAiD;QAAE1+B,OAAO,EAAE;MAAX,CAAjD;MACA,KAAK0+B,QAAL,GAFkB,CAED;IAClB;;;WAED,gCAAuB;MACrBT,MAAM,CAACh+B,mBAAP,CAA2B,QAA3B,EAAqC,KAAKy+B,QAA1C;IACD;;;WAiDD,uBAAclC,OAAd,EAAuBmC,OAAvB,EAAgC;MAAA;;MAC9B,QAAQnC,OAAR;QACE,KAAKE,2CAAL;UACE,oBACE,oBAAC,uBAAD;YACE,UAAU,EAAE,KAAK99B,KAAL,CAAWmK,UADzB;YAEE,OAAO,EAAE,KAAKnK,KAAL,CAAWoI,OAFtB;YAGE,UAAU,EAAEU,OAAO,CAAC,KAAK9I,KAAL,CAAW+iB,YAAZ;UAHrB,EADF;;QAOF,KAAK+a,uDAAL;UACE,oBAAO,oBAAC,aAAD;YAAsB,UAAU,EAAE,KAAK99B,KAAL,CAAWmK,UAA7C;YAAyD,aAAa,EAAE,KAAKnK,KAAL,CAAW0Q;UAAnF,EAAP;;QAEF,KAAKotB,2EAAL;UACE,oBACE,oBAAC,sBAAD;YAA+B,IAAI,EAAE,KAAK99B,KAAL,CAAWmK,UAAX,CAAsBuC,IAA3D;YAAiE,YAAY,EAAE,KAAK1M,KAAL,CAAW+iB;UAA1F,EADF;;QAGF,KAAK+a,6CAAL;UACE,oBAAO,oBAAC,iBAAD;YAAiB,UAAU,EAAE,KAAK99B,KAAL,CAAWmK,UAAxC;YAAoD,OAAO,EAAE,KAAKnK,KAAL,CAAWmM;UAAxE,EAAP;QAEF;;QACA,KAAK2xB,iDAAL;UACE,oBACE,oBAAC,UAAD;YACE,MAAM,EAAE,KAAK99B,KAAL,CAAWqU,MADrB;YAEE,UAAU,EAAE,KAAKrU,KAAL,CAAWmK,UAFzB;YAGE,KAAK,EAAE,KAAKnK,KAAL,CAAW0pB,KAHpB;YAIE,MAAM,EAAE,KAAK1pB,KAAL,CAAW2qB,MAJrB;YAKE,oBAAoB,EAAE,KAAK3qB,KAAL,CAAWinB,oBALnC;YAME,YAAY,EAAE,KAAKjnB,KAAL,CAAW4wB,qBAN3B;YAOE,iBAAiB,EAAE,KAAK5wB,KAAL,CAAWiO,KAAX,CAAiBC,OAPtC;YAQE,OAAO,EAAE,KAAKlO,KAAL,CAAWoI;UARtB,EADF;;QAYF,KAAK01B,uDAAL;UACE,oBAAO,oBAAC,aAAD;YAAsB,UAAU,EAAE,KAAK99B,KAAL,CAAWmK,UAA7C;YAAyD,YAAY,EAAE,KAAKnK,KAAL,CAAW+iB;UAAlF,EAAP;;QACF,KAAK+a,yCAAL;UACE,oBACE,oBAAC,MAAD;YAAe,UAAU,EAAE,KAAK99B,KAAL,CAAWmK,UAAtC;YAAkD,MAAM,EAAE,KAAKnK,KAAL,CAAW2qB,MAArE;YAA6E,OAAO,EAAE,KAAK3qB,KAAL,CAAWoI;UAAjG,EADF;;QAGF,KAAK01B,6CAAL;UACE,oBACE,oBAAC,QAAD;YACE,UAAU,EAAE,KAAK99B,KAAL,CAAWmK,UADzB;YAEE,QAAQ,EAAE,KAAKnK,KAAL,CAAW24B,QAFvB;YAGE,OAAO,EAAE,KAAK34B,KAAL,CAAWoI;UAHtB,EADF;;QAOF,KAAK01B,yCAAL;UACE,OAAOiC,OAAO,KAAK,CAAZ,gBACL,oBAAC,iBAAD;YAA0B,UAAU,EAAE,KAAK//B,KAAL,CAAWmK;UAAjD,EADK,gBAGL,oBAAC,sBAAD;YACE,UAAU,EAAE,KAAKnK,KAAL,CAAWmK,UADzB;YAEE,YAAY,EAAE,KAAKnK,KAAL,CAAW+R,YAF3B;YAGE,QAAQ,EAAE,KAAK/R,KAAL,CAAWsgC;UAHvB,EAHF;;QASF,KAAKxC,qDAAL;UACE,oBACE,oBAAC,YAAD;YACE,UAAU,EAAE,KAAK99B,KAAL,CAAWmK,UADzB;YAEE,OAAO,EAAE,KAAKnK,KAAL,CAAWoI,OAFtB;YAGE,MAAM,EAAE,KAAKpI,KAAL,CAAWs8B;UAHrB,EADF;;QAOF,KAAKwB,qDAAL;UACE,oBACE,oBAAC,mBAAD;YACE,UAAU,EAAE,KAAK99B,KAAL,CAAWmK,UADzB;YAEE,qBAAqB,EAAE,KAAKnK,KAAL,CAAW4wB,qBAFpC;YAGE,gBAAgB,EAAE,KAAK5wB,KAAL,CAAW2wB,gBAH/B;YAIE,KAAK,EAAE,KAAK3wB,KAAL,CAAWiO;UAJpB,EADF;;QAQF,KAAK6vB,qDAAL;UACE,oBACE,oBAAC,uBAAD;YACE,OAAO,EAAE,KAAK99B,KAAL,CAAWmM,OADtB;YAEE,UAAU,EAAE,KAAKnM,KAAL,CAAWmK,UAFzB;YAGE,YAAY,EAAE,KAAKnK,KAAL,CAAW+iB;UAH3B,EADF;;QAOF,KAAK+a,uCAAL;UACE,oBAAO,oBAAC,KAAD;YAAc,UAAU,EAAE,KAAK99B,KAAL,CAAWmK,UAArC;YAAiD,OAAO,EAAE,KAAKnK,KAAL,CAAWoI;UAArE,EAAP;;QACF,KAAK01B,uCAAL;UACE,oBAAO,oBAAC,KAAD;YAAc,UAAU,EAAE,KAAK99B,KAAL,CAAWmK;UAArC,EAAP;;QACF,KAAK2zB,6CAAL;UACE,oBACE,oBAAC,OAAD;YACE,UAAU,EAAE,KAAK99B,KAAL,CAAWmK,UADzB;YAEE,gBAAgB,EAAE,kBAChB,0CAAO,KAAKnK,KAAL,CAAWmK,UAAX,CAAsB0Z,gBAA7B,0DAAO,sBAAwC8M,gBAA/C,EAAiE,KAAK3wB,KAAL,CAAW2wB,gBAA5E,CADgB,CAFpB;YAKE,YAAY,EAAE,KAAK3wB,KAAL,CAAW+iB;UAL3B,EADF;;QASF,KAAK+a,uEAAL;UACE,oBACE,oBAAC,6BAAD;YACE,UAAU,EAAE,KAAK99B,KAAL,CAAWmK,UADzB;YAEE,oBAAoB,EAAE,KAAKnK,KAAL,CAAWinB;UAFnC,EADF;;QAMF,KAAK6W,iFAAL;UACE,oBACE,oBAAC,wBAAD;YACE,UAAU,EAAE,KAAK99B,KAAL,CAAWmK,UADzB;YAEE,qBAAqB,EAAE,KAAKnK,KAAL,CAAW4wB;UAFpC,EADF;;QAMF;UACE,OAAO,IAAP;MA/GJ;IAiHD;;;WAED,kBAAS;MAAA;;MACP,kBAAyE,KAAK5wB,KAA9E;MAAA,IAAQmK,UAAR,eAAQA,UAAR;MAAA,IAAoB4M,IAApB,eAAoBA,IAApB;MAAA,IAA0B3O,OAA1B,eAA0BA,OAA1B;MAAA,IAAmCs2B,WAAnC,eAAmCA,WAAnC;MAAA,IAAgD5b,oBAAhD,eAAgDA,oBAAhD;MACA,mBAAsC,KAAK7hB,KAA3C;MAAA,IAAQ69B,OAAR,gBAAQA,OAAR;MAAA,IAAiBC,gBAAjB,gBAAiBA,gBAAjB;MACA,IAAMJ,QAAQ,GAAG,KAAKC,WAAL,CAAiBz0B,UAAjB,EAA6B/B,OAA7B,EAAsCs2B,WAAtC,CAAjB;MAEA,oBACE;QACE,QAAQ,EAAC,UADX;QAGE,WAAQ,sBAHV;QAAA,OAEOv0B,UAAU,CAACgF,UAAX,GAAwB,0BAAxB,GAAqD3N,SAF5D;QAAA,wBAKE,oBAAC,2BAAD;UAAK,EAAE,EAAE,CAAT;UAAA,uBACE,oBAAC,SAAD;YAAM,UAAU,EAAE2I,UAAlB;YAA8B,IAAI,EAAE4M,IAApC;YAA0C,OAAO,EAAE3O,OAAnD;YAA4D,oBAAoB,EAAE0a;UAAlF;QADF,EALF,eAQE,oBAAC,gCAAD;UACE,UAAU,EAAE3Y,UADd;UAEE,QAAQ,EAAEw0B,QAFZ;UAGE,OAAO,EAAEv2B,OAHX;UAIE,gBAAgB,EAAE22B,gBAJpB;UAKE,iBAAiB,EAAE,KAAK8B,iBAL1B;UAME,cAAc,EAAE,KANlB;UAOE,WAAW,MAPb;UAQE,uBAAuB,MARzB;UASE,QAAQ,EAAE,CAAC/B,OATb;UAUE,4BAA4B;QAV9B,EARF,eAqBE;UAAK,GAAG,EAAE,KAAKE,oBAAf;UAAA,UACG,kBAAQL,QAAR,iBACC,oBAAC,KAAD;YAAc,UAAU,EAAE,KAAK3+B,KAAL,CAAWmK;UAArC,EADD,GAGCw0B,QAAQ,CAAC/2B,GAAT,CAAa,UAACyoB,KAAD,EAAQyQ,QAAR;YAAA,OACXzQ,KAAK,CAACxb,IAAN,KAAe,UAAf,gBACE,qBAAC,cAAD;cAAA,wBACE,oBAAC,8BAAD;gBACE,EAAE,qBAAcwb,KAAK,CAACjsB,IAApB,CADJ;gBAEE,GAAG,EAAE,aAAAs7B,WAAW;kBAAA,OAAK,MAAI,CAACC,qBAAL,CAA2BtP,KAAK,CAACjsB,IAAjC,IAAyCs7B,WAA9C;gBAAA,CAFlB;gBAGE,UAAU,EAAEv1B,UAHd;gBAIE,QAAQ,EAAEkmB,KAAK,CAACjsB;cAJlB,EADF,EAOGisB,KAAK,CAACsO,QAAN,CAAe/2B,GAAf,CAAmB,UAACg2B,OAAD,EAAU91B,GAAV;gBAAA,oBAClB,oBAAC,gCAAD;kBAEE,EAAE,oBAAa81B,OAAO,CAACx5B,IAArB,CAFJ;kBAGE,6BAAoBw5B,OAAO,CAACx5B,IAA5B,CAHF;kBAIE,iBAAiB,EACf0D,GAAG,KAAKuoB,KAAK,CAACsO,QAAN,CAAe/4B,MAAf,GAAwB,CAAhC,IACAk7B,QAAQ,KAAKnC,QAAQ,CAAC/4B,MAAT,GAAkB,CAD/B,IAEA,CAACm4B,4BAA4B,CAACH,OAAO,CAACx5B,IAAT,CAPjC;kBAAA,UAUG,MAAI,CAAC28B,aAAL,CAAmBnD,OAAO,CAACx5B,IAA3B,EAAiCw5B,OAAO,CAACmC,OAAzC;gBAVH,GACOnC,OAAO,CAACx5B,IADf,CADkB;cAAA,CAAnB,CAPH;YAAA,sBAA2BisB,KAAK,CAACjsB,IAAjC,EADF,GAuBIisB,KAAK,CAACxb,IAAN,KAAe,SAAf,gBACF,oBAAC,gCAAD;cAEE,EAAE,oBAAawb,KAAK,CAACjsB,IAAnB,CAFJ;cAGE,6BAAoBisB,KAAK,CAACjsB,IAA1B,CAHF;cAIE,iBAAiB,EAAE08B,QAAQ,KAAKnC,QAAQ,CAAC/4B,MAAT,GAAkB,CAA/B,IAAoC,CAACm4B,4BAA4B,CAAC1N,KAAK,CAACjsB,IAAP,CAJtF;cAAA,UAMG,MAAI,CAAC28B,aAAL,CAAmB1Q,KAAK,CAACjsB,IAAzB;YANH,qBACkBisB,KAAK,CAACjsB,IADxB,EADE,GASA,IAjCO;UAAA,CAAb;QAJJ,EArBF;MAAA,EADF;IAiED;;;;EAxR0BkmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2R7B,oDAAemU,cAAf;;;;;;;;;;;;;;;;;;;;;;;;;;ACrUA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEe,SAAS2C,yBAAT,OAA4D;EAAA,IAAvBj3B,UAAuB,QAAvBA,UAAuB;EAAA,IAAXgC,OAAW,QAAXA,OAAW;EACzE,IAAM1E,IAAI,GAAG3B,0BAAO,EAApB;;EACA,iBAAqBwM,mCAAS,EAA9B;EAAA,IAAQa,QAAR,cAAQA,QAAR;;EACA,mBAA8C0C,sBAAW,CAACqrB,qDAAD,EAA6B;IACpFlqB,OAAO,EAAEd,6BAAcA;EAD6D,CAA7B,CAAzD;EAAA;EAAA,IAAOmrB,sBAAP;EAAA,IAAiCvqB,OAAjC,oBAAiCA,OAAjC;;EAIA,IAAMwqB,kBAAkB;IAAA,gFAAG,iBAAOC,MAAP,EAAuB/sB,OAAvB;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA;cAAA,OAEjB6sB,sBAAsB,CAAC;gBAC3B9zB,SAAS,EAAE;kBACTwJ,IAAI,EAAE;oBAAEyqB,QAAQ,EAAEr3B,UAAU,CAAC4M,IAAX,CAAgBxO;kBAA5B,CADG;kBAET0jB,OAAO,EAAE;oBAAEuV,QAAQ,EAAEr3B,UAAU,CAAC5B;kBAAvB,CAFA;kBAGTg5B,MAAM,EAANA,MAHS;kBAIT/sB,OAAO,EAAPA;gBAJS;cADgB,CAAD,CAFL;;YAAA;cAAA,KAWnBrI,OAXmB;gBAAA;gBAAA;cAAA;;cAAA;cAAA,OAYfA,OAAO,EAZQ;;YAAA;cAAA;cAAA;;YAAA;cAAA;cAAA;cAevBgH,QAAQ,CAAC;gBAAE0B,IAAI,EAAExC,+CAAR;gBAA0BmC,OAAO,EAAEwsB,uCAAoB,CAACv5B,IAAD;cAAvD,CAAD,CAAR;;YAfuB;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAH;;IAAA,gBAAlB65B,kBAAkB;MAAA;IAAA;EAAA,GAAxB;;EAmBA,oBACE,oBAAC,4BAAD;IAAM,QAAQ,EAAC,MAAf;IAAsB,UAAU,EAAC,QAAjC;IAA0C,cAAc,EAAC,QAAzD;IAAA,uBACE,oBAAC,kCAAD;MACE,UAAU,EAAEn3B,UADd;MAEE,SAAS,EAAE2M,OAFb;MAGE,SAAS,EAAE;QAAA,OAAMwqB,kBAAkB,CAAC,SAAD,CAAxB;MAAA,CAHb;MAIE,QAAQ,EAAE,kBAAA9sB,OAAO;QAAA,OAAI8sB,kBAAkB,CAAC,QAAD,EAAW9sB,OAAX,CAAtB;MAAA,CAJnB;MAKE,YAAY,EAAE,sBAAAxU,KAAK;QAAA,oBAAI,oBAAC,6CAAD,6CAA2BA,KAA3B,EAAJ;MAAA;IALrB;EADF,EADF;AAWD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnDD;AAGA;AAEA;AACA;AAEA;AACA;AAEA;;AAEA,IAAM0P,kCAAQ,GAAGJ,sBAAc,CAAC;EAC9B;EACAuyB,iBAAiB,EAAE;IACjBt5B,EAAE,sBADe;IAEjBqH,cAAc;MAAA;MAAA;IAAA;EAFG,CAFW;EAM9BkyB,4BAA4B,EAAE;IAC5Bv5B,EAAE,kCAD0B;IAE5BqH,cAAc;MAAA;MAAA;IAAA;MAAA;MAAA;IAAA;MAAA;MAAA;IAAA;EAFc,CANA;EAW9BmyB,6BAA6B,EAAE;IAC7Bx5B,EAAE,6CAD2B;IAE7BqH,cAAc;MAAA;MAAA;IAAA;MAAA;MAAA;IAAA;MAAA;MAAA;IAAA;EAFe,CAXD;EAe9B;EACAoyB,WAAW,EAAE;IACXz5B,EAAE,sBADS;IAEXqH,cAAc;MAAA;MAAA;IAAA;EAFH,CAhBiB;EAoB9BqyB,sBAAsB,EAAE;IACtB15B,EAAE,kCADoB;IAEtBqH,cAAc;MAAA;MAAA;IAAA;EAFQ,CApBM;EAwB9BsyB,8BAA8B,EAAE;IAC9B35B,EAAE,0CAD4B;IAE9BqH,cAAc;MAAA;MAAA;IAAA;MAAA;MAAA;IAAA;MAAA;MAAA;IAAA;EAFgB,CAxBF;EA4B9B;EACAuyB,YAAY,EAAE;IACZ55B,EAAE,iBADU;IAEZqH,cAAc;MAAA;MAAA;IAAA;EAFF,CA7BgB;EAiC9B;EACAwyB,cAAc,EAAE;IACd75B,EAAE,mBADY;IAEdqH,cAAc;MAAA;MAAA;IAAA;EAFA,CAlCc;EAsC9B;EACAyyB,mBAAmB,EAAE;IACnB95B,EAAE,wBADiB;IAEnBqH,cAAc;MAAA;MAAA;IAAA;EAFK,CAvCS;EA2C9B0yB,6BAA6B,EAAE;IAC7B/5B,EAAE,oCAD2B;IAE7BqH,cAAc;MAAA;MAAA;IAAA;EAFe,CA3CD;EAgD9B;EACA2yB,kBAAkB,EAAE;IAClBh6B,EAAE,yBADgB;IAElBqH,cAAc;MAAA;MAAA;IAAA;MAAA;MAAA;IAAA;EAFI,CAjDU;EAqD9B4yB,6BAA6B,EAAE;IAC7Bj6B,EAAE,qCAD2B;IAE7BqH,cAAc;MAAA;MAAA;IAAA;MAAA;MAAA;IAAA;EAFe,CArDD;EAyD9B;EACA6yB,eAAe,EAAE;IACfl6B,EAAE,sBADa;IAEfqH,cAAc;MAAA;MAAA;IAAA;EAFC,CA1Da;EA8D9B8yB,0BAA0B,EAAE;IAC1Bn6B,EAAE,kCADwB;IAE1BqH,cAAc;MAAA;MAAA;IAAA;MAAA;MAAA;IAAA;MAAA;MAAA;IAAA;EAFY,CA9DE;EAkE9B,sCAAsC;IACpCrH,EAAE,sCADkC;IAEpCqH,cAAc;MAAA;MAAA;IAAA;EAFsB,CAlER;EAsE9B,4CAA4C;IAC1CrH,EAAE,4CADwC;IAE1CqH,cAAc;MAAA;MAAA;IAAA;EAF4B,CAtEd;EA0E9B+yB,YAAY,EAAE;IACZp6B,EAAE,2BADU;IAEZqH,cAAc;MAAA;MAAA;IAAA;MAAA;MAAA;MAAA;QAAA;UAAA;YAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;UAAA;YAAA;YAAA;UAAA;QAAA;MAAA;MAAA;MAAA;IAAA;MAAA;MAAA;IAAA;EAFF,CA1EgB;EA+E9BgzB,uBAAuB,EAAE;IACvBr6B,EAAE,uCADqB;IAEvBqH,cAAc;MAAA;MAAA;IAAA;MAAA;MAAA;MAAA;QAAA;UAAA;YAAA;YAAA;UAAA;QAAA;QAAA;UAAA;YAAA;UAAA;YAAA;YAAA;UAAA;QAAA;MAAA;MAAA;MAAA;IAAA;MAAA;MAAA;IAAA;EAFS;AA/EK,CAAD,CAA/B;;AAsFA,IAAMizB,eAAe,GAAG,SAAlBA,eAAkB,CAACp7B,IAAD,EAAO4M,MAAP,EAAelK,UAAf,EAA2B4M,IAA3B,EAAiCgM,YAAjC,EAA+C5W,OAA/C,EAA2D;EAAA;;EACjF,IAAIkI,MAAM,KAAK,mBAAf,EAAoC;IAClC,QAAQlK,UAAU,CAAC0K,IAAnB;MACE,KAAK9O,4DAAL;QACE,OAAO;UACLqB,KAAK,EAAEK,IAAI,CAACuI,aAAL,CAAmBN,kCAAQ,CAAC2yB,mBAA5B,CADF;UAELt0B,WAAW,EAAEtG,IAAI,CAACuI,aAAL,CAAmBN,kCAAQ,CAAC4yB,6BAA5B,CAFR;UAGLztB,IAAI,EAAE,SAHD;UAILiuB,MAAM,EAAE;QAJH,CAAP;;MAMF;QACE,IAAI34B,UAAU,CAAC8a,UAAf,EAA2B;UACzB,OAAO;YACL7d,KAAK,EAAEK,IAAI,CAACuI,aAAL,CAAmBN,kCAAQ,CAACmyB,iBAA5B,CADF;YAEL9zB,WAAW,EAAEtG,IAAI,CAACuI,aAAL,CAAmBN,kCAAQ,CAACqyB,6BAA5B,EAA2D;cAAEhrB,IAAI,EAAEA,IAAI,CAAC3S;YAAb,CAA3D,CAFR;YAGLyQ,IAAI,EAAE,SAHD;YAILiuB,MAAM,EAAE;UAJH,CAAP;QAMD;;QACD,OAAO;UACL17B,KAAK,EAAEK,IAAI,CAACuI,aAAL,CAAmBN,kCAAQ,CAACmyB,iBAA5B,CADF;UAEL9zB,WAAW,EAAEgJ,IAAI,GAAGtP,IAAI,CAACuI,aAAL,CAAmBN,kCAAQ,CAACoyB,4BAA5B,EAA0D;YAAE/qB,IAAI,EAAEA,IAAI,CAAC3S;UAAb,CAA1D,CAAH,GAAoF,EAFhG;UAGLyQ,IAAI,EAAE,MAHD;UAILiuB,MAAM,EAAE;QAJH,CAAP;IAjBJ;EAwBD,CAzBD,MAyBO,IAAIzuB,MAAM,KAAK,aAAf,EAA8B;IACnC,IAAIlK,UAAU,CAAC8a,UAAf,EAA2B;MACzB,OAAO;QACL7d,KAAK,EAAEK,IAAI,CAACuI,aAAL,CAAmBN,kCAAQ,CAACsyB,WAA5B,CADF;QAELj0B,WAAW,EAAEtG,IAAI,CAACuI,aAAL,CAAmBN,kCAAQ,CAACwyB,8BAA5B,EAA4D;UAAEnrB,IAAI,EAAEA,IAAI,CAAC3S;QAAb,CAA5D,CAFR;QAGLyQ,IAAI,EAAE,SAHD;QAILiuB,MAAM,EAAE;MAJH,CAAP;IAMD;;IACD,OAAO;MACL17B,KAAK,EAAEK,IAAI,CAACuI,aAAL,CAAmBN,kCAAQ,CAACsyB,WAA5B,CADF;MAELj0B,WAAW,EAAEgJ,IAAI,GAAGtP,IAAI,CAACuI,aAAL,CAAmBN,kCAAQ,CAACuyB,sBAA5B,EAAoD;QAAElrB,IAAI,EAAEA,IAAI,CAAC3S;MAAb,CAApD,CAAH,GAA8E,EAF1F;MAGLyQ,IAAI,EAAE,MAHD;MAILiuB,MAAM,EAAE;IAJH,CAAP;EAMD,CAfM,MAeA,IAAIzuB,MAAM,KAAK,cAAf,EAA+B;IACpC,OAAO;MACLjN,KAAK,EAAEK,IAAI,CAACuI,aAAL,CAAmBN,kCAAQ,CAACyyB,YAA5B,CADF;MAELttB,IAAI,EAAE,SAFD;MAGLiuB,MAAM,EAAE;IAHH,CAAP;EAKD,CANM,MAMA,IAAIzuB,MAAM,KAAK,gBAAf,EAAiC;IACtC,OAAO;MACLjN,KAAK,EAAEK,IAAI,CAACuI,aAAL,CAAmBN,kCAAQ,CAAC0yB,cAA5B,CADF;MAELvtB,IAAI,EAAE,SAFD;MAGLiuB,MAAM,EAAE;IAHH,CAAP;EAKD,CANM,MAMA,IAAIzuB,MAAM,KAAK,oBAAX,IAAmClK,UAAU,CAACgF,UAAlD,EAA8D;IACnE,OAAO;MACL/H,KAAK,EAAEK,IAAI,CAACuI,aAAL,CAAmBN,kCAAQ,CAAC6yB,kBAA5B,EAAgD;QAAEn+B,IAAI,EAAE+F,UAAU,CAAC/F;MAAnB,CAAhD,CADF;MAEL2J,WAAW,EAAEtG,IAAI,CAACuI,aAAL,CAAmBN,kCAAQ,CAAC8yB,6BAA5B,EAA2D;QAAEp+B,IAAI,EAAE+F,UAAU,CAAC/F;MAAnB,CAA3D,CAFR;MAGLyQ,IAAI,EAAE,SAHD;MAILiuB,MAAM,EAAE;IAJH,CAAP;EAMD,CAPM,MAOA,IAAI,CAAC34B,UAAU,CAAC8a,UAAZ,IAA0B9a,UAAU,CAAC4M,IAArC,IAA6C5M,UAAU,CAAC0K,IAAX,KAAoB9O,wDAArE,EAAgG;IACrG,OAAO;MACLqB,KAAK,EAAEK,IAAI,CAACuI,aAAL,CAAmBN,kCAAQ,CAAC+yB,eAA5B,CADF;MAEL10B,WAAW,EAAEtG,IAAI,CAACuI,aAAL,CAAmBN,kCAAQ,CAACgzB,0BAA5B,EAAwD;QAAE3rB,IAAI,EAAE5M,UAAU,CAAC4M,IAAX,CAAgB3S;MAAxB,CAAxD,CAFR;MAGLyQ,IAAI,EAAE,SAHD;MAILkuB,OAAO,EAAE,CAAAhgB,YAAY,SAAZ,IAAAA,YAAY,WAAZ,YAAAA,YAAY,CAAE2b,WAAd,CAA0Bv0B,UAA1B,mBACP,oBAAC,yBAAD;QAA2B,UAAU,EAAEA,UAAvC;QAAmD,OAAO,EAAEgC;MAA5D;IALG,CAAP;EAQD,CATM,MASA,IACL4W,YAAY,SAAZ,IAAAA,YAAY,WAAZ,IAAAA,YAAY,CAAEigB,yBAAd,CAAwC74B,UAAxC,KACAA,UAAU,CAAC8a,UADX,IAEAlO,IAFA,aAEAA,IAFA,iCAEAA,IAAI,CAAEksB,QAFN,oEAEA,eAAgBC,yBAFhB,kDAEA,sBAA2CC,MAF3C,IAGA,CAAApsB,IAAI,SAAJ,IAAAA,IAAI,WAAJ,+BAAAA,IAAI,CAAEksB,QAAN,6FAAgBC,yBAAhB,gFAA2CE,cAA3C,KAA4Dj5B,UAA5D,aAA4DA,UAA5D,6CAA4DA,UAAU,CAAEk5B,MAAxE,uDAA4D,mBAAoBz9B,MAAhF,CAHA,IAIA,CAAAuE,UAAU,SAAV,IAAAA,UAAU,WAAV,oCAAAA,UAAU,CAAEm5B,QAAZ,8EAAsBC,+BAAtB,MAA0D,UALrD,EAML;IACA,OAAO;MACLn8B,KAAK,EAAEK,IAAI,CAACuI,aAAL,CAAmBN,kCAAQ,CAACizB,YAA5B,EAA0C;QAC/Ca,kBAAkB,EAAEzsB,IAAI,CAACksB,QAAL,CAAcC,yBAAd,CAAwCE,cAAxC,GAAyDj5B,UAAU,CAACk5B,MAAX,CAAkBz9B;MADhD,CAA1C,CADF;MAILmI,WAAW,EAAEtG,IAAI,CAACuI,aAAL,CAAmBN,kCAAQ,CAACkzB,uBAA5B,EAAqD;QAChEY,kBAAkB,EAAEzsB,IAAI,CAACksB,QAAL,CAAcC,yBAAd,CAAwCE,cAAxC,GAAyDj5B,UAAU,CAACk5B,MAAX,CAAkBz9B;MAD/B,CAArD,CAJR;MAOLiP,IAAI,EAAE,SAPD;MAQLkuB,OAAO,eACL,oBAAC,2CAAD;QAAqB,IAAI,aAAM54B,UAAU,CAACuC,IAAjB,gBAAzB;QAAA,uBACE,oBAAC,sBAAD;UAAA;UAAkB,cAAc;YAAA;YAAA;UAAA;QAAhC;MADF;IATG,CAAP;EAcD,CArBM,MAqBA,IAAI,cAAIvC,UAAJ,EAAgB,MAAhB,MAA4BpE,8CAA5B,IAAoD07B,4CAAqB,CAACt3B,UAAD,CAA7E,EAA2F;IAChG,IAAI,CAAC4Y,YAAD,IAAiB,CAACA,YAAY,CAACigB,yBAAb,CAAuC74B,UAAvC,CAAtB,EAA0E;MACxE;IACD;;IACD,OAAO;MACL/C,KAAK,EAAEK,IAAI,CAACuI,aAAL,CAAmBN,kCAAQ,CAAC,oCAAD,CAA3B,CADF;MAEL3B,WAAW,EAAEtG,IAAI,CAACuI,aAAL,CAAmBN,kCAAQ,CAAC,0CAAD,CAA3B,EAAyE;QACpFvF,UAAU,EAAEA,UAAU,CAAC0Z,gBAAX,CAA4Bzf;MAD4C,CAAzE,CAFR;MAKLyQ,IAAI,EAAE,MALD;MAMLkuB,OAAO,eACL,oBAAC,uCAAD;QACE,cAAc,EAAE54B,UADlB;QAEE,YAAY,EAAEA,UAAU,CAAC0Z,gBAF3B;QAGE,YAAY,EAAEd,YAHhB;QAIE,MAAM,EAAE5Y,UAAU,CAAC8D,KAAX,CAAiBw1B,OAJ3B;QAKE,QAAQ,EAAEt5B,UAAU,CAAC5C,QALvB;QAME,YAAY,EAAE,sBAAAvH,KAAK;UAAA,oBAAI,oBAAC,6CAAD,6CAA2BA,KAA3B,EAAJ;QAAA;MANrB;IAPG,CAAP;EAiBD;AACF,CAhHD;AAkHA;AACA;AACA;;;AACA,IAAM0jC,yBAAyB,GAAG,SAA5BA,yBAA4B,OAA+D;EAAA,IAA5Dj8B,IAA4D,QAA5DA,IAA4D;EAAA,IAAtD4M,MAAsD,QAAtDA,MAAsD;EAAA,IAA9ClK,UAA8C,QAA9CA,UAA8C;EAAA,IAAlC4M,IAAkC,QAAlCA,IAAkC;EAAA,IAA5BgM,YAA4B,QAA5BA,YAA4B;EAAA,IAAd5W,OAAc,QAAdA,OAAc;EAC/F,IAAMw3B,YAAY,GAAGd,eAAe,CAACp7B,IAAD,EAAO4M,MAAP,EAAelK,UAAf,EAA2B4M,IAA3B,EAAiCgM,YAAjC,EAA+C5W,OAA/C,CAApC;EAEA,OAAO,CAACw3B,YAAD,GAAgB,IAAhB,gBAAuB,oBAAC,+BAAD,6CAAqBA,YAArB,EAA9B;AACD,CAJD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,8EAAe34B,8BAAU,CAAC04B,yBAAD,CAAzB;;;;AClPA;AACA;AACA;AACA;AAEA;AACA;AAIA;AACA;AACA;AACA;AACA;AAEA;AAEO,IAAMK,mCAAmC;EAAA,+EAAG,iBAAOr3B,IAAP,EAAas3B,MAAb;IAAA;;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OAC5BA,MAAM,CAAC9a,KAAP,CAAa;cAChCA,KAAK,EAAEnB,0CADyB;cAEhCxa,SAAS,EAAEya,0DAA+B,CAACtb,IAAD;YAFV,CAAb,CAD4B;;UAAA;YAC3CyH,MAD2C;YAK3ChK,UAL2C,GAK9BgK,MAL8B,aAK9BA,MAL8B,uCAK9BA,MAAM,CAAE/H,IALsB,iDAK9B,aAAciV,UALgB;;YAAA,KAM7ClX,UAN6C;cAAA;cAAA;YAAA;;YAOzCw0B,QAPyC,GAO9BR,gEAAgC,CAACh0B,UAAD,CAPF;YAQzC85B,aARyC,GAQzBL,gDAAgB,CAACjF,QAAD,CARS;YASzCuF,OATyC,GAS/B,EAT+B;YAUzCC,YAVyC,GAU1BppB,8CAAmB,CAAC5Q,UAAD,CAAnB,IAAmC,CAACA,UAAU,CAAC+a,MAVrB;;YAW/C,IAAI+e,aAAa,CAAC9rB,QAAd,CAAuB,QAAvB,CAAJ,EAAsC;cACpC+rB,OAAO,CAAC5vB,IAAR,CACE0vB,MAAM,CAAC9a,KAAP,CAAa;gBACXA,KAAK,EAAE2a,wCAAqB,CAAC/6B,OAAO,CAACqB,UAAU,CAAC4M,IAAZ,CAAR,EAA2BotB,YAA3B,CADjB;gBAEX52B,SAAS,EAAEu2B,iDAA8B,CAACp3B,IAAD,sBAAOvC,UAAU,CAAC4M,IAAlB,qDAAO,iBAAiBrK,IAAxB,EAA8By3B,YAA9B,CAF9B;gBAGXntB,OAAO,EAAEd,6BAAcA;cAHZ,CAAb,CADF;YAOD;;YAED,IAAI+tB,aAAa,CAAC9rB,QAAd,CAAuB,cAAvB,CAAJ,EAA4C;cAC1C+rB,OAAO,CAAC5vB,IAAR,CACE0vB,MAAM,CAAC9a,KAAP,CAAa;gBACXA,KAAK,EAAEgT,wBADI;gBAEX3uB,SAAS,EAAE4uB,oCAAoC,CAACzvB,IAAD,CAFpC;gBAGXsK,OAAO,EAAEd,6BAAcA;cAHZ,CAAb,CADF;YAOD;;YACD,IAAI+tB,aAAa,CAAC9rB,QAAd,CAAuB,yBAAvB,CAAJ,EAAuD;cACrD+rB,OAAO,CAAC5vB,IAAR,CACE0vB,MAAM,CAAC9a,KAAP,CAAa;gBACXA,KAAK,EAAE4P,uEADI;gBAEXvrB,SAAS,EAAEisB,8CAA8C,CAAC9sB,IAAD,CAF9C;gBAGXsK,OAAO,EAAEd,6BAAcA;cAHZ,CAAb,CADF;YAOD;;YACD,IAAI+tB,aAAa,CAAC9rB,QAAd,CAAuB,SAAvB,CAAJ,EAAuC;cACrC+rB,OAAO,CAAC5vB,IAAR,CACE0vB,MAAM,CAAC9a,KAAP,CAAa;gBACXA,KAAK,EAAEnd,mCADI;gBAEXwB,SAAS,EAAEC,mDAA+B,CAACd,IAAD;cAF/B,CAAb,CADF;YAMD;;YACD,IAAIu3B,aAAa,CAAC9rB,QAAd,CAAuB,eAAvB,CAAJ,EAA6C;cAC3C+rB,OAAO,CAAC5vB,IAAR,CACE0vB,MAAM,CAAC9a,KAAP,CAAa;gBACXA,KAAK,EAAEqI,yBADI;gBAEXhkB,SAAS,EAAEmkB,qCAAqC,CAAChlB,IAAD,CAFrC;gBAGXsK,OAAO,EAAEd,6BAAcA;cAHZ,CAAb,CADF;YAOD;;YACKmN,YAxDyC,GAwD1BlZ,UAAU,CAAC0K,IAAX,KAAoB9O,wDAxDM;YAyDzCwd,OAzDyC,GAyD/BpZ,UAAU,CAAC0K,IAAX,KAAoB9O,8CAzDW;;YA0D/C,IAAI,CAACsd,YAAD,IAAiB,CAACE,OAAlB,IAA6B,CAACpZ,UAAU,CAAC+a,MAA7C,EAAqD;cACnDgf,OAAO,CAAC5vB,IAAR,CACE0vB,MAAM,CAAC9a,KAAP,CAAa;gBACXA,KAAK,EAAEjI,iCADI;gBAEX1T,SAAS,EAAE2T,6CAA6C,CAACxU,IAAD;cAF7C,CAAb,CADF;YAMD;;YAjE8C;YAAA,OAkEzCyQ,OAAO,CAACmU,GAAR,CAAY4S,OAAZ,CAlEyC;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAnCH,mCAAmC;IAAA;EAAA;AAAA,GAAzC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBP;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;;;;AACA,IAAMgB,qBAAqB,GAAGlqB,iBAAO,CACnC;EAAA,OAAM,6HAAN;AAAA,CADmC,EAEnC;EAAE/D,OAAO,EAAE+tB,sBAAX;EAAA;IAAA;MAAA,4BAD6D,KAC7D;IAAA;EAAA;AAAA,CAFmC,CAArC;AAKA;;AACA,IAAMG,uBAAuB,GAAGnqB,iBAAO,CACrC;EAAA,OAAM,8HAAN;AAAA,CADqC,EAErC;EAAE/D,OAAO,EAAE+tB,sBAAX;EAAA;IAAA;MAAA,4BAD+D,IAC/D;IAAA;EAAA;AAAA,CAFqC,CAAvC;AAKA;;AACA,IAAMI,gBAAgB,GAAGpqB,iBAAO,CAC9B;EAAA,OAAM,wHAAN;AAAA,CAD8B,EAE9B;EAAE/D,OAAO,EAAE+tB,sBAAX;EAAA;IAAA;MAAA,4BADwD,KACxD;IAAA;EAAA;AAAA,CAF8B,CAAhC;AAKA;;AACA,IAAMK,eAAe,GAAGrqB,iBAAO,CAC7B;EAAA,OAAM,iKAAN;AAAA,CAD6B,EAE7B;EAAE/D,OAAO,EAAE+tB,sBAAX;EAAA;IAAA;MAAA,4BADuD,KACvD;IAAA;EAAA;AAAA,CAF6B,CAA/B;AAKA,IAAMM,YAAY,GAAGd,2DAAH,wBAAlB;AAMA;AACA;AACA;AACA;;IACM5F;;;;;EAiEJ,wBAAYz+B,KAAZ,EAAmB;IAAA;;IAAA;;IACjB,0BAAMA,KAAN;;IADiB,2FAgBM,UAAAolC,IAAI,EAAI;MAC/B,MAAKxkC,QAAL,CAAc;QAAEykC,mBAAmB,EAAED;MAAvB,CAAd;IACD,CAlBkB;;IAEjB,MAAKnkC,KAAL,GAAa;MACXqkC,MAAM,EAAE,KADG;MAEXD,mBAAmB,EAAE;IAFV,CAAb;IAFiB;EAMlB;;;;WAED,6BAAoB;MAClB,KAAKzkC,QAAL,CAAc;QAAE0kC,MAAM,EAAE;MAAV,CAAd;MAEA,kBAAyB,KAAKtlC,KAA9B;MAAA,IAAQulC,MAAR,eAAQA,MAAR;MAAA,IAAgBn5B,IAAhB,eAAgBA,IAAhB;MACA,IAAMjC,UAAU,GAAGiC,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEiV,UAAzB;MACAmjB,+CAAuB,CAACe,MAAD,EAASp7B,UAAT,CAAvB;IACD;;;WAMD,kBAAS;MACP,mBAAiE,KAAKnK,KAAtE;MAAA,IAAQ0M,IAAR,gBAAQA,IAAR;MAAA,IAAcN,IAAd,gBAAcA,IAAd;MAAA,IAAoB2W,YAApB,gBAAoBA,YAApB;MAAA,IAAkC1O,MAAlC,gBAAkCA,MAAlC;MAAA,IAA0CmxB,IAA1C,gBAA0CA,IAA1C;MAAA,IAAgDC,IAAhD,gBAAgDA,IAAhD;MAAA,IAAsDlE,MAAtD,gBAAsDA,MAAtD;MACA,IAAQ8D,mBAAR,GAAgC,KAAKpkC,KAArC,CAAQokC,mBAAR;MAEA,IAAMvuB,OAAO,GAAG1K,IAAI,CAAC0K,OAAL,IAAgB,CAAC1K,IAAI,CAACiV,UAAtC;;MAEA,IAAI,CAACvK,OAAL,EAAc;QACZ,IAAI,CAAC1K,IAAD,IAASA,IAAI,CAAC/I,KAAlB,EAAyB;UACvB,oBAAO,oBAAC,wBAAD;YAAW,IAAI,EAAE+I;UAAjB,EAAP;QACD,CAFD,MAEO,IAAI,CAACA,IAAI,CAACiV,UAAV,EAAsB;UAC3B,oBAAO,oBAAC,wBAAD;YAAW,KAAK,EAAEkjB,wCAAqB,CAAC73B,IAAD,CAAvC;YAA+C,GAAG,EAAE;UAApD,EAAP;QACD,CAFM,MAEA,IAAIN,IAAI,CAACiV,UAAL,CAAgBqkB,SAAhB,IAA6B,CAACt5B,IAAI,CAACiV,UAAL,CAAgB0I,QAAlD,EAA4D;UACjE,oBAAO,oBAAC,qBAAD;YAAuB,UAAU,EAAE3d,IAAI,CAACiV;UAAxC,EAAP;QACD,CAFM,MAEA,IAAIjV,IAAI,CAACiV,UAAL,CAAgBtZ,WAApB,EAAiC;UACtC,oBAAO,oBAAC,uBAAD;YAAyB,UAAU,EAAEqE,IAAI,CAACiV;UAA1C,EAAP;QACD,CAFM,MAEA,IAAIjV,IAAI,CAACiV,UAAL,CAAgBskB,OAApB,EAA6B;UAClC,oBAAO,oBAAC,gBAAD;YAAkB,OAAO,EAAEv5B,IAAI,CAACiV;UAAhC,EAAP;QACD;MACF;;MAED,IAAMlX,UAAU,GAAGiC,IAAI,IAAIA,IAAI,CAACiV,UAAhC,CApBO,CAsBP;;MACA,IAAIkgB,MAAM,KAAK,OAAX,IAAsB,EAACp3B,UAAD,aAACA,UAAD,eAACA,UAAU,CAAE+a,MAAb,CAA1B,EAA+C;QAC7C,oBAAO,oBAAC,eAAD,KAAP;MACD;;MAED,oBACE,qBAAC,mBAAD;QACE,UAAU,EAAE/a,UADd;QAEE,YAAY,EAAEs6B,qDAA6B,CAACt6B,UAAD;MAF7C,GAGMm6B,oDAAyB,CAACn6B,UAAD,CAH/B;QAAA,wBAKE,oBAAC,YAAD,KALF,EAMG2M,OAAO,gBACN,oBAAC,mCAAD;UAAW,EAAE,EAAE,CAAC,CAAD,EAAI,CAAJ,CAAf;UAAA,uBACE,oBAAC,sBAAD;QADF,EADM,gBAKN,qBAAC,cAAD;UAAA,wBACE,oBAAC,yCAAD;YACE,UAAU,EAAE3M,UADd;YAEE,IAAI,EAAEA,UAAU,CAAC4M,IAFnB;YAGE,MAAM,EAAE1C,MAHV;YAIE,YAAY,EAAE0O,YAJhB;YAKE,OAAO,EAAE3W,IAAI,CAACD;UALhB,EADF,eAQE,oBAAC,sCAAD;YAAyB,UAAU,EAAEhC,UAArC;YAAA,UACG;cAAA,IAAG2Y,oBAAH,QAAGA,oBAAH;cAAA,oBACC,oBAAC,eAAD;gBACE,UAAU,EAAE3Y,UADd;gBAEE,IAAI,EAAEA,UAAU,CAAC4M,IAFnB;gBAGE,gBAAgB,EAAE5M,UAAU,CAACwmB,gBAH/B;gBAIE,qBAAqB,EAAExmB,UAAU,CAACymB,qBAJpC;gBAKE,KAAK,EAAEzmB,UAAU,CAACuf,KALpB;gBAME,MAAM,EAAEvf,UAAU,CAACwgB,MANrB;gBAOE,QAAQ,EAAExgB,UAAU,CAACwuB,QAPvB;gBAQE,oBAAoB,EAAExuB,UAAU,CAAC8c,oBARnC;gBASE,YAAY,EAAE9c,UAAU,CAAC4H,YAT3B;gBAUE,QAAQ,EAAE5H,UAAU,CAACm2B,QAVvB;gBAWE,KAAK,EAAEn2B,UAAU,CAAC8D,KAXpB;gBAYE,OAAO,EAAE9D,UAAU,CAACmC,OAZtB;gBAaE,aAAa,EAAEnC,UAAU,CAACuG,aAb5B;gBAcE,YAAY,EAAEqS,YAdhB;gBAeE,OAAO,EAAEja,OAAO,CAACia,YAAY,IAAIA,YAAY,CAAC6iB,mBAAb,CAAiCz7B,UAAjC,CAAjB,CAflB;gBAgBE,WAAW,EAAErB,OAAO,CAACia,YAAY,IAAIA,YAAY,CAAC2b,WAAb,CAAyBv0B,UAAzB,CAAjB,CAhBtB;gBAiBE,MAAM,EAAErB,OAAO,CAACia,YAAY,IAAIA,YAAY,CAACuZ,MAA9B,CAjBjB;gBAkBE,oBAAoB,EAAExZ,oBAlBxB;gBAmBE,IAAI,EAAE0iB,IAnBR;gBAoBE,IAAI,EAAEC,IApBR;gBAqBE,OAAO,EAAEr5B,IAAI,CAACD;cArBhB,EADD;YAAA;UADH,EARF,EAmCGs5B,IAAI,KAAK,YAAT,KAAyB1iB,YAAzB,aAAyBA,YAAzB,uBAAyBA,YAAY,CAAE6iB,mBAAd,CAAkCz7B,UAAlC,CAAzB,kBACC,oBAAC,eAAD;YACE,mBAAmB,EAAEk7B,mBADvB;YAEE,sBAAsB,EAAE,KAAKQ,sBAF/B;YAGE,IAAI,EAAEL,IAHR;YAIE,IAAI,EAAEC,IAJR;YAKE,UAAU,EAAEt7B,UALd;YAME,YAAY,EAAE4Y;UANhB,EApCJ;QAAA,EAXJ;MAAA,GADF;IA6DD;;;;iGA5KD;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAA+BihB,MAA/B,SAA+BA,MAA/B,EAAuC8B,GAAvC,SAAuCA,GAAvC,EAA4CC,GAA5C,SAA4CA,GAA5C,sBAAiD7c,KAAjD,EAA0Dxc,IAA1D,eAA0DA,IAA1D,EAAgE2H,MAAhE,eAAgEA,MAAhE,EAAwEmxB,IAAxE,eAAwEA,IAAxE,EAA8EC,IAA9E,eAA8EA,IAA9E,EAAoFlE,MAApF,eAAoFA,MAApF;;gBACE,IAAIwE,GAAG,IAAID,GAAP,KAAeA,GAAG,CAACE,QAAJ,IAAgBF,GAAG,CAAC9Z,MAAJ,KAAe,IAA9C,CAAJ,EAAyD;kBACvD+Z,GAAG,CAACE,GAAJ,CAAQ,eAAR,EAAyB,sBAAzB;gBACD;;gBAEGC,gBALN,GAKyB,KALzB,EAOE;;gBAPF,KAQMJ,GARN;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OASU/B,mCAAmC,CAACr3B,IAAD,EAAOs3B,MAAP,CAT7C;;cAAA;gBAUIkC,gBAAgB,GAAG,IAAnB;;cAVJ;gBAAA,iCAaS;kBAAEx5B,IAAI,EAAJA,IAAF;kBAAQ2H,MAAM,EAANA,MAAR;kBAAgBmxB,IAAI,EAAJA,IAAhB;kBAAsBC,IAAI,EAAJA,IAAtB;kBAA4BS,gBAAgB,EAAhBA,gBAA5B;kBAA8C3E,MAAM,EAANA;gBAA9C,CAbT;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;;;;;;;;;;;EAD2BliC;;AAgL7B,IAAM8mC,qBAAqB,GAAGr7B,0BAAO,CAACid,0CAAD,EAAsB;EACzDza,OAAO,EAAE,iBAAAtN,KAAK;IAAA,OAAK;MACjBuN,SAAS,EAAEya,0DAA+B,CAAChoB,KAAK,CAAC0M,IAAP;IADzB,CAAL;EAAA;AAD2C,CAAtB,CAArC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA,0DAAe03B,qBAAU,CAACzzB,iCAAQ,CAACw1B,qBAAqB,CAAC1H,8BAAD,CAAtB,CAAT,CAAzB;;;;;;;;AC/OA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,KAAuC;AAC9D;AACA;AACA,OAAO,KAAU,EAAE,EAId;AACL","sources":["webpack://_N_E/./public/static/images/collective-navigation/EmptyCollectivePageIllustration.png","webpack://_N_E/./lib/ui-utils.js","webpack://_N_E/./components/HorizontalScroller.js","webpack://_N_E/./components/StyledDropzone.js","webpack://_N_E/./components/TruncatedTextWithTooltip.js","webpack://_N_E/./components/collective-page/TopContributors.js","webpack://_N_E/./components/collective-page/images/HeroBackgroundMask.svg","webpack://_N_E/./components/collective-page/hero/HeroBackground.js","webpack://_N_E/./components/collective-page/sections/Updates.js","webpack://_N_E/./components/contribute-cards/ContributeCollective.js","webpack://_N_E/./components/contribute-cards/ContributeEvent.js","webpack://_N_E/./components/contribute-cards/ContributeProject.js","webpack://_N_E/./components/conversations/ConversationsList.js","webpack://_N_E/./components/conversations/FollowersAvatars.js","webpack://_N_E/./components/conversations/graphql.js","webpack://_N_E/./components/transactions/TransactionsList.js","webpack://_N_E/./lib/hooks/useImageUploader.js","webpack://_N_E/./pages/404.js","webpack://_N_E/./components/CodeRepositoryIcon.js","webpack://_N_E/./components/EditTagsModal.tsx","webpack://_N_E/./components/UserCompany.js","webpack://_N_E/./components/collective-page/hero/CollectiveColorPicker.js","webpack://_N_E/./components/collective-page/hero/HeroAvatar.js","webpack://_N_E/./components/collective-page/hero/HeroSocialLinks.tsx","webpack://_N_E/./components/collective-page/hero/HeroTotalCollectiveContributionsWithData.js","webpack://_N_E/./components/collective-page/hero/Hero.js","webpack://_N_E/./components/collective-page/sections/About.js","webpack://_N_E/./components/collective-page/sections/ConnectedCollectives.js","webpack://_N_E/./components/collective-page/sections/Contribute.js","webpack://_N_E/./components/StyledMembershipCard.js","webpack://_N_E/./components/collective-page/sections/Contributions.js","webpack://_N_E/./components/collective-page/images/ContributorsGridBackground.svg","webpack://_N_E/./components/collective-page/sections/Contributors.js","webpack://_N_E/./components/collective-page/sections/Conversations.js","webpack://_N_E/./components/collective-page/sections/Empty.js","webpack://_N_E/./components/collective-page/sections/Events.js","webpack://_N_E/./components/collective-page/sections/Budget/common.js","webpack://_N_E/./components/collective-page/sections/Budget/ContributionsBudget.js","webpack://_N_E/./components/collective-page/sections/Budget/ExpenseBudget.js","webpack://_N_E/./components/collective-page/sections/FinancialOverview.js","webpack://_N_E/./components/collective-page/sections/Goals.js","webpack://_N_E/./components/collective-page/sections/Location.js","webpack://_N_E/./components/collective-page/sections/OurTeam.js","webpack://_N_E/./components/collective-page/sections/Projects.js","webpack://_N_E/./components/collective-page/sections/RecurringContributions.js","webpack://_N_E/./components/Response.js","webpack://_N_E/./components/Responses.js","webpack://_N_E/./components/EventSponsorCard.js","webpack://_N_E/./components/Sponsors.js","webpack://_N_E/./components/collective-page/sections/SponsorsAndParticipants.js","webpack://_N_E/./components/collective-page/sections/TopFinancialContributors.js","webpack://_N_E/./components/collective-page/sections/Transactions.js","webpack://_N_E/./components/collective-page/CategoryHeader.js","webpack://_N_E/./components/collective-page/SectionContainer.js","webpack://_N_E/./components/collective-page/SectionsWithoutPaddingBottom.js","webpack://_N_E/./components/collective-page/index.js","webpack://_N_E/./components/collective-page/PendingApplicationActions.tsx","webpack://_N_E/./components/collective-page/CollectiveNotificationBar.js","webpack://_N_E/./components/collective-page/graphql/preload.js","webpack://_N_E/./pages/collective-page.js","webpack://_N_E/?d5ee"],"sourcesContent":["module.exports = \"/_next/static/images/EmptyCollectivePageIllustration-d18b0162a4f6b3182b299a03d0456351.png\";","/**\n * A set of helpers to use for UI, rendering, or animations.\n */\n\nimport { debounce } from 'lodash';\n\n/**\n * A debouncer for scroll functions. It is configured to trigger on trailing and\n * leading calls with a max wait of 100 to ensure everything stays responsive.\n */\nexport const debounceScroll = func => {\n  return debounce(func, 100, {\n    maxWait: 100,\n    leading: true,\n    trailing: true,\n  });\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ArrowBack } from '@styled-icons/material/ArrowBack';\nimport { ArrowForward } from '@styled-icons/material/ArrowForward';\nimport styled, { css } from 'styled-components';\n\nimport { debounceScroll } from '../lib/ui-utils';\nimport withViewport from '../lib/withViewport';\n\nimport Container from './Container';\nimport { Flex } from './Grid';\nimport StyledRoundButton from './StyledRoundButton';\n\nconst RefContainer = styled.div`\n  display: flex;\n  overflow-x: auto;\n  scroll-behavior: smooth;\n  max-width: 100%;\n  ${props =>\n    props.hideScrollbar &&\n    css`\n      scrollbar-width: none;\n      -ms-overflow-style: none;\n      overflow: -moz-scrollbars-none; /** For older firefox */\n      &::-webkit-scrollbar {\n        display: none;\n      }\n    `}\n`;\n\nconst ControlsContainer = styled(Flex)`\n  z-index: 10;\n  position: absolute;\n  top: ${props => (props.controlsTopPosition ? `${props.controlsTopPosition}%` : '50%')};\n  pointer-events: none;\n  justify-content: space-between;\n  width: 100%;\n`;\n\nconst ArrowContainer = styled(StyledRoundButton)`\n  transition: opacity 0.25s ease-in, visibility 0.25s;\n  visibility: ${props => (props.isVisible ? 'visible' : 'hidden')};\n  opacity: ${props => (props.isVisible ? '1' : '0')};\n  pointer-events: auto;\n\n  svg {\n    height: 40px;\n    padding 7px;\n  }\n`;\n\n/**\n * Helper to display a list of horizontally scrollable items, with two little\n * carets to navigate easily.\n */\nclass HorizontalScroller extends React.PureComponent {\n  static propTypes = {\n    /* Children component */\n    children: PropTypes.node.isRequired,\n    /** Container component where the list (children) will be inserted */\n    container: PropTypes.elementType,\n    /** Passed to `container` */\n    containerProps: PropTypes.object,\n    /** Callback to get the scrolled distance when we click on prev/next controllers */\n    getScrollDistance: PropTypes.func,\n    /** @ignore from withViewport */\n    width: PropTypes.number,\n    /** Set the top position of the arrows. Defaults 50% */\n    controlsTopPosition: PropTypes.number,\n  };\n\n  constructor(props) {\n    super(props);\n    this.ref = React.createRef();\n    this.state = { canGoPrev: false, canGoNext: false };\n  }\n\n  componentDidMount() {\n    if (this.ref.current) {\n      this.ref.current.addEventListener('scroll', this.updateScrollInfo, { passive: true });\n      this.updateScrollInfo();\n    }\n  }\n\n  componentDidUpdate() {\n    this.updateScrollInfo();\n  }\n\n  componentWillUnmount() {\n    if (this.ref.current) {\n      this.ref.current.removeEventListener('scroll', this.updateScrollInfo);\n    }\n  }\n\n  updateScrollInfo = debounceScroll(() => {\n    if (!this.ref.current) {\n      return;\n    }\n\n    const { offsetWidth, scrollLeft, scrollWidth } = this.ref.current;\n\n    this.setState({\n      canGoPrev: scrollLeft > 0,\n      canGoNext: scrollLeft + offsetWidth < scrollWidth,\n    });\n  });\n\n  // Manually move scroll. We don't need to check for limits here because browsers\n  // already cap the value. See https://developer.mozilla.org/en/docs/Web/API/Element/scrollLeft:\n  // > scrollLeft can be specified as any integer value. However:\n  // > - If the element can't be scrolled (e.g., it has no overflow), scrollLeft is set to 0.\n  // > - If specified as a value less than 0 (greater than 0 for right-to-left elements), scrollLeft is set to 0.\n  // > - If specified as a value greater than the maximum that the content can be scrolled, scrollLeft is set to the maximum.\n  onPrevClick = () => {\n    if (this.ref.current) {\n      this.ref.current.scrollLeft -= this.getScrollDistance();\n    }\n  };\n\n  onNextClick = () => {\n    if (this.ref.current) {\n      this.ref.current.scrollLeft += this.getScrollDistance();\n    }\n  };\n\n  getScrollDistance() {\n    const offsetWidth = this.ref.current.offsetWidth;\n    if (this.props.getScrollDistance) {\n      return this.props.getScrollDistance(offsetWidth);\n    } else {\n      // Default behavior: scroll by 75% of the full width\n      const scrollPercentage = 0.75;\n      return scrollPercentage * offsetWidth;\n    }\n  }\n\n  render() {\n    const { canGoPrev, canGoNext } = this.state;\n\n    return (\n      <Container position=\"relative\">\n        <ControlsContainer px={[2, null, 5]} controlsTopPosition={this.props.controlsTopPosition}>\n          <ArrowContainer isVisible={canGoPrev}>\n            <ArrowBack onMouseDown={canGoPrev ? this.onPrevClick : undefined} />\n          </ArrowContainer>\n          <ArrowContainer isVisible={canGoNext}>\n            <ArrowForward onMouseDown={canGoNext ? this.onNextClick : undefined} />\n          </ArrowContainer>\n        </ControlsContainer>\n        <RefContainer {...this.props.containerProps} as={this.props.container} ref={this.ref}>\n          {this.props.children}\n        </RefContainer>\n      </Container>\n    );\n  }\n}\n\n// We don't use the data from `withViewport`, but we use it to update the\n// component when the window's width changes.\nexport default withViewport(HorizontalScroller, { withWidth: true });\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ExclamationCircle } from '@styled-icons/fa-solid/ExclamationCircle';\nimport { Download as DownloadIcon } from '@styled-icons/feather/Download';\nimport { isNil, omit } from 'lodash';\nimport { useDropzone } from 'react-dropzone';\nimport { FormattedMessage } from 'react-intl';\nimport styled, { css } from 'styled-components';\nimport { v4 as uuid } from 'uuid';\n\nimport { useImageUploader } from '../lib/hooks/useImageUploader';\n\nimport Container from './Container';\nimport { Box } from './Grid';\nimport { getI18nLink } from './I18nFormatters';\nimport StyledSpinner from './StyledSpinner';\nimport { P, Span } from './Text';\nimport UploadedFilePreview from './UploadedFilePreview';\n\nexport const DROPZONE_ACCEPT_IMAGES = { 'image/*': ['.jpeg', '.png'] };\nexport const DROPZONE_ACCEPT_PDF = { 'application/pdf': ['.pdf'] };\nexport const DROPZONE_ACCEPT_ALL = { ...DROPZONE_ACCEPT_IMAGES, ...DROPZONE_ACCEPT_PDF };\n\nconst Dropzone = styled(Container)`\n  border: 1px dashed #c4c7cc;\n  border-radius: 10px;\n  text-align: center;\n  background: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n\n  ${props =>\n    props.onClick &&\n    css`\n      cursor: pointer;\n\n      &:hover:not(:disabled) {\n        background: #f9f9f9;\n        border-color: ${props => props.theme.colors.primary[300]};\n      }\n\n      &:focus {\n        outline: 0;\n        border-color: ${props => props.theme.colors.primary[500]};\n      }\n    `}\n\n  ${props =>\n    props.error &&\n    css`\n      border: 1px solid ${props.theme.colors.red[500]};\n    `}\n\n  img {\n    max-height: 100%;\n    max-width: 100%;\n  }\n`;\n\nconst ReplaceContainer = styled.div`\n  box-sizing: border-box;\n  background: rgba(49, 50, 51, 0.5);\n  color: #ffffff;\n  cursor: pointer;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 24px;\n  padding: 8px;\n  margin-top: -24px;\n  font-size: 12px;\n  line-height: 1em;\n\n  &:hover {\n    background: rgba(49, 50, 51, 0.6);\n  }\n`;\n\n/**\n * A dropzone to upload one or multiple files\n */\nconst StyledDropzone = ({\n  onSuccess,\n  onReject,\n  children,\n  isLoading,\n  loadingProgress,\n  minHeight,\n  size,\n  fontSize,\n  mockImageGenerator,\n  accept,\n  minSize,\n  maxSize,\n  name,\n  error,\n  value,\n  isMulti,\n  kind,\n  ...props\n}) => {\n  const imgUploaderParams = { isMulti, mockImageGenerator, onSuccess, onReject, kind };\n  const { uploadFiles, isUploading, uploadProgress } = useImageUploader(imgUploaderParams);\n  const dropzoneParams = { accept, minSize, maxSize, multiple: isMulti, onDrop: uploadFiles };\n  const { getRootProps, getInputProps, isDragActive } = useDropzone(dropzoneParams);\n\n  minHeight = size || minHeight;\n  const innerMinHeight = minHeight - 2; // -2 To account for the borders\n  const dropProps = getRootProps();\n  return (\n    <Dropzone\n      {...props}\n      {...(value ? omit(dropProps, ['onClick']) : dropProps)}\n      minHeight={size || minHeight}\n      size={size}\n      error={error}\n    >\n      <input name={name} {...getInputProps()} />\n      {isLoading || isUploading ? (\n        <Container\n          position=\"relative\"\n          display=\"flex\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          size=\"100%\"\n          minHeight={innerMinHeight}\n        >\n          <Container\n            position=\"absolute\"\n            display=\"flex\"\n            justifyContent=\"center\"\n            alignItems=\"center\"\n            size={innerMinHeight}\n          >\n            <StyledSpinner size=\"70%\" />\n          </Container>\n          {isUploading && <Container fontSize=\"9px\">{uploadProgress}%</Container>}\n          {isLoading && !isNil(loadingProgress) && <Container>{loadingProgress}%</Container>}\n        </Container>\n      ) : (\n        <Container position=\"relative\">\n          {isDragActive ? (\n            <Container color=\"primary.500\" fontSize=\"12px\">\n              <Box mb={2}>\n                <DownloadIcon size={20} />\n              </Box>\n              <FormattedMessage\n                id=\"StyledDropzone.DropMsg\"\n                defaultMessage=\"Drop {count,plural, one {file} other {files}} here\"\n                values={{ count: isMulti ? 2 : 1 }}\n              />\n            </Container>\n          ) : (\n            <React.Fragment>\n              {!value ? (\n                <P color={error ? 'red.500' : 'black.500'} px={2} fontSize={fontSize}>\n                  {error ? (\n                    <React.Fragment>\n                      <ExclamationCircle color=\"#E03F6A\" size={16} />\n                      <br />\n                      <Span fontWeight={600} ml={1}>\n                        {error}\n                      </Span>\n                      <br />\n                    </React.Fragment>\n                  ) : isMulti ? (\n                    <FormattedMessage\n                      id=\"DropZone.UploadBox\"\n                      defaultMessage=\"Drag and drop one or multiple files or <i18n-link>click here to select</i18n-link>.\"\n                      values={{ 'i18n-link': getI18nLink() }}\n                    />\n                  ) : (\n                    <FormattedMessage\n                      id=\"DragAndDropOrClickToUpload\"\n                      defaultMessage=\"Drag & drop or <i18n-link>click to upload</i18n-link>\"\n                      values={{ 'i18n-link': getI18nLink() }}\n                      tagName=\"span\"\n                    />\n                  )}\n                </P>\n              ) : (\n                <React.Fragment>\n                  <UploadedFilePreview size={size} url={value} border=\"none\" />\n                  <ReplaceContainer\n                    onClick={dropProps.onClick}\n                    role=\"button\"\n                    tabIndex={0}\n                    onKeyDown={event => {\n                      if (event.key === 'Enter') {\n                        event.preventDefault();\n                        dropProps.onClick();\n                      }\n                    }}\n                  >\n                    <FormattedMessage id=\"Image.Replace\" defaultMessage=\"Replace\" />\n                  </ReplaceContainer>\n                </React.Fragment>\n              )}\n              {children}\n            </React.Fragment>\n          )}\n        </Container>\n      )}\n    </Dropzone>\n  );\n};\n\nStyledDropzone.propTypes = {\n  /** Called back with the uploaded files on success */\n  onSuccess: PropTypes.func,\n  /** Name for the input */\n  name: PropTypes.string,\n  /** Called back with the rejectd files */\n  onReject: PropTypes.func,\n  /** Content to show inside the dropzone. Defaults to message \"Drag and drop one or...\" */\n  children: PropTypes.node,\n  /** Force loading state to be displayed */\n  isLoading: PropTypes.bool,\n  /** Use this to override the loading progress indicator */\n  loadingProgress: PropTypes.number,\n  /** Font size used for the default messages */\n  fontSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  /** Min height of the container */\n  minHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  /** To have square container */\n  size: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.array]),\n  /** A function to generate mock images */\n  mockImageGenerator: PropTypes.func,\n  /** Whether the dropzone should accept multiple files */\n  isMulti: PropTypes.bool,\n  /** Filetypes to accept */\n  accept: PropTypes.object,\n  /** Min file size */\n  minSize: PropTypes.number,\n  /** Max file size */\n  maxSize: PropTypes.number,\n  /** A truthy/falsy value defining if the field has an error (ie. if it's required) */\n  error: PropTypes.any,\n  /** required field */\n  required: PropTypes.bool,\n  /** if set, the image will be displayed and a \"replace\" banner will be added */\n  value: PropTypes.string,\n  /** A unique identified for the category of uploaded files */\n  kind: PropTypes.string.isRequired,\n};\n\nStyledDropzone.defaultProps = {\n  minHeight: 96,\n  mockImageGenerator: () => `https://loremflickr.com/120/120?lock=${uuid()}`,\n  isMulti: true,\n  fontSize: '14px',\n};\n\nexport default StyledDropzone;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { truncate } from 'lodash';\n\nimport StyledTooltip from './StyledTooltip';\nimport { Span } from './Text';\n\n/**\n * A tooltip that truncates a value if it's longer than the\n * provided length.\n */\nconst TruncatedTextWithTooltip = ({ value, cursor, length = 30 }) => {\n  if (value?.length <= length) {\n    return value;\n  } else {\n    return (\n      <React.Fragment>\n        <StyledTooltip containerCursor={cursor} content={() => <Span color=\"black.100\">{value}</Span>}>\n          {truncate(value, { length })}\n        </StyledTooltip>\n      </React.Fragment>\n    );\n  }\n};\n\nTruncatedTextWithTooltip.propTypes = {\n  value: PropTypes.string.isRequired,\n  length: PropTypes.number,\n  cursor: PropTypes.string,\n};\n\nexport default TruncatedTextWithTooltip;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { size } from 'lodash';\nimport { FormattedDate, FormattedMessage, useIntl } from 'react-intl';\nimport styled from 'styled-components';\n\nimport { CollectiveType } from '../../lib/constants/collectives';\nimport formatMemberRole from '../../lib/i18n/member-role';\n\nimport { ContributorAvatar } from '../Avatar';\nimport FormattedMoneyAmount from '../FormattedMoneyAmount';\nimport { Box, Flex } from '../Grid';\nimport LinkContributor from '../LinkContributor';\nimport { P } from '../Text';\n\nconst ContributorsList = styled(Flex)`\n  flex-wrap: wrap;\n  margin-bottom: 16px;\n  flex-direction: row;\n\n  @media (max-width: 64em) {\n    // Only show 5 contributors on mobile/tablet\n    & > *:nth-child(1n + 6) {\n      display: none;\n    }\n  }\n\n  @media (max-width: 88em) {\n    // Only show 10 contributors on desktop\n    & > *:nth-child(1n + 11) {\n      display: none;\n    }\n  }\n`;\n\nconst ContributorItem = styled.div`\n  display: flex;\n  margin: 0 24px 16px 0;\n  width: 200px;\n`;\n\nconst AvatarWithRank = styled.div`\n  width: 63px;\n  min-width: 63px;\n  height: 32px;\n  margin-right: 8px;\n  background: white;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-left: 14px;\n  font-size: 10px;\n  border-radius: 32px;\n`;\n\nconst ContributorName = styled.div`\n  font-size: 12px;\n  line-height: 18px;\n  font-weight: 700;\n  color: ${props => props.theme.colors.black[800]};\n  letter-spacing: -0.4px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 100%;\n`;\n\n/**\n * Returns the flex-basis as a string in `px` based on the percentage of\n * contributors that belongs in this column.\n */\nconst getFlexBasisForCol = (nbContributors, totalContributors) => {\n  const baseSpaceBetween = 0.1;\n  const maxPercentage = 0.75;\n  const percentageNbContributors = nbContributors / totalContributors;\n  const width = Math.min(percentageNbContributors - baseSpaceBetween, maxPercentage);\n\n  // If one of the two blocks has less contributors but still two columns, we\n  // force the size two make sure both columns are displayed\n  if (percentageNbContributors <= 0.45 && nbContributors > 5) {\n    return '40%';\n  }\n\n  return `${Math.trunc(width * 100)}%`;\n};\n\n/**\n * Shows a list of contributors with the section title. Auto-size based on number\n * of contributors.\n */\nconst ContributorsBlock = ({ title, contributors, totalNbContributors, currency, showTitle }) => {\n  const intl = useIntl();\n  const isFillingFullscreen = contributors.length === totalNbContributors && contributors.length === 20;\n  return (\n    <Box flex=\"50% 1 3\" style={{ flexBasis: getFlexBasisForCol(contributors.length, totalNbContributors) }}>\n      {showTitle && (\n        <P fontSize=\"20px\" lineHeight=\"28px\" fontWeight=\"500\" color=\"black.700\" mb=\"20px\">\n          {title}\n        </P>\n      )}\n      <ContributorsList justifyContent={isFillingFullscreen ? [null, null, null, null, 'space-between'] : 'flex-start'}>\n        {contributors.map((contributor, idx) => (\n          <ContributorItem key={contributor.id}>\n            <AvatarWithRank>\n              <span>{idx + 1}</span>\n              <LinkContributor contributor={contributor}>\n                <ContributorAvatar contributor={contributor} radius={32} />\n              </LinkContributor>\n            </AvatarWithRank>\n            <Box flex=\"1 1\" maxWidth=\"calc(100% - 63px)\">\n              <LinkContributor contributor={contributor}>\n                <ContributorName>\n                  {contributor.isIncognito ? (\n                    <FormattedMessage id=\"profile.incognito\" defaultMessage=\"Incognito\" />\n                  ) : (\n                    contributor.name\n                  )}\n                </ContributorName>\n              </LinkContributor>\n              <P color=\"black.700\" fontSize=\"10px\" lineHeight=\"14px\">\n                {contributor.totalAmountDonated ? (\n                  <FormattedMessage\n                    id=\"TotalDonatedSince\"\n                    defaultMessage=\"{totalDonated} since {date}\"\n                    values={{\n                      date: <FormattedDate value={contributor.since} month=\"short\" year=\"numeric\" />,\n                      totalDonated: (\n                        <FormattedMoneyAmount\n                          amountStyles={null}\n                          amount={contributor.totalAmountDonated}\n                          currency={currency}\n                          precision={0}\n                          formatWithSeparators\n                        />\n                      ),\n                    }}\n                  />\n                ) : contributor.isAdmin ? (\n                  formatMemberRole(intl, 'ADMIN')\n                ) : contributor.isCore ? (\n                  formatMemberRole(intl, 'MEMBER')\n                ) : (\n                  formatMemberRole(intl, contributor.roles[0])\n                )}\n              </P>\n            </Box>\n          </ContributorItem>\n        ))}\n      </ContributorsList>\n    </Box>\n  );\n};\n\nContributorsBlock.propTypes = {\n  currency: PropTypes.string.isRequired,\n  totalNbContributors: PropTypes.number,\n  title: PropTypes.node.isRequired,\n  showTitle: PropTypes.bool.isRequired,\n  contributors: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n      type: PropTypes.oneOf(Object.values(CollectiveType)).isRequired,\n      collectiveSlug: PropTypes.string,\n      totalAmountDonated: PropTypes.number.isRequired,\n      since: PropTypes.string.isRequired,\n      isIncognito: PropTypes.bool,\n    }).isRequired,\n  ),\n};\n\n/**\n * Shows two columns as leaderboards for organizations and individuals\n * financial contributions.\n */\nconst TopContributors = ({ organizations, individuals, currency }) => {\n  const nbOrgs = size(organizations);\n  const nbIndividuals = size(individuals);\n  const totalNbContributors = nbOrgs + nbIndividuals;\n  const hasBothTypes = Boolean(nbOrgs && nbIndividuals);\n\n  // Nothing to render if there's no one to show\n  if (!totalNbContributors) {\n    return null;\n  }\n\n  // Build the individual blocks in variables so we can sort them later\n  const BlockIndividuals = nbIndividuals > 0 && (\n    <ContributorsBlock\n      currency={currency}\n      contributors={individuals}\n      totalNbContributors={totalNbContributors}\n      title={<FormattedMessage id=\"TopContributors.Individuals\" defaultMessage=\"Individuals\" />}\n      showTitle={hasBothTypes}\n    />\n  );\n\n  const BlockOrgs = nbOrgs > 0 && (\n    <ContributorsBlock\n      currency={currency}\n      contributors={organizations}\n      totalNbContributors={totalNbContributors}\n      title={<FormattedMessage id=\"TopContributors.Organizations\" defaultMessage=\"Organizations\" />}\n      showTitle={hasBothTypes}\n    />\n  );\n\n  // Put the blocks with the most contributors first. If equals, default is to show orgs first.\n  const Blocks = nbIndividuals > nbOrgs ? [BlockIndividuals, BlockOrgs] : [BlockOrgs, BlockIndividuals];\n\n  return (\n    <Flex flexWrap=\"wrap\" justify-content=\"space-between\">\n      {Blocks[0]}\n      {Blocks[1]}\n    </Flex>\n  );\n};\n\nTopContributors.propTypes = {\n  currency: PropTypes.string.isRequired,\n  organizations: PropTypes.arrayOf(PropTypes.object),\n  individuals: PropTypes.arrayOf(PropTypes.object),\n};\n\nexport default TopContributors;\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTM2OCIgaGVpZ2h0PSI0NzIiIHZpZXdCb3g9IjAgMCAxMzY4IDQ3MiIgZmlsbD0ibm9uZSIgCiAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBvcGFjaXR5PSIwLjIiIGQ9Ik0zMS45ODU2IDAuMDAwNDM3MTU0QzIyMC40MDkgMjUzLjYwNiA4MjMuMjU2IDQyOC4yNzcgOTkwLjA4MiA0NTYuNzY0QzExMDMuMjcgNDc2LjA5MiAxMzExLjA2IDQ2OC4yMzIgMTM2OCA0NDYuMDY5QzEzNjggMzg0LjYyMSAxMzY4IDEuMTM4MTQgMTM2OCAxLjEzODE0Qzk4MC4yOCAwLjc2MTY4MiAzNzAuOTkxIDAuMDAwMjQ2MjMgMzEuOTg1NiAwLjAwMDQzNzE1NFoiIGZpbGw9IiMwMDAwMDAiLz4KICA8cGF0aCBvcGFjaXR5PSIwLjA3NSIgZD0iTTkwLjUyMDkgLTQxLjYxNkMyMTcuNDUgLTQxLjYxNiAxMTQwLjgzIC00Mi44MDk4IDEzOTUuNzIgLTQyLjgwOThDMTM5NS43MiAyMS4zMTY1IDEzOTUuNzIgMTY3LjYxMyAxMzk1LjcyIDIwOC41NjZDMTM5NS43MiAyNjcuNTYyIDE2NDQuMiA1MzUuNjExIDEwMDUuMDQgNDY0LjAyNkM2ODguNzU3IDQyOC42MDMgNTExLjg3MyAyMzIuOTgyIDM0OC45MDIgMTk5LjU4OEMyMTkuMzMgMTczLjAzOCA2My4yNTExIDk0LjI1MDYgOTAuNTIwOSAtNDEuNjE2WiIgZmlsbD0iIzAwMDAwMCIvPgogIDxwYXRoIG9wYWNpdHk9IjAuMyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03NTMuODMxIDQzNC44NzJDNzU2LjM4NiA0MzUuMTU1IDc1OC42ODcgNDMzLjMxNCA3NTguOTcgNDMwLjc1OUM3NTkuMjUzIDQyOC4yMDQgNzU3LjQxMiA0MjUuOTAzIDc1NC44NTcgNDI1LjYyQzc1Mi4zMDIgNDI1LjMzNyA3NTAuMDAyIDQyNy4xNzggNzQ5LjcxOSA0MjkuNzMzQzc0OS40MzUgNDMyLjI4OCA3NTEuMjc3IDQzNC41ODkgNzUzLjgzMSA0MzQuODcyWiIgc3Ryb2tlPSIjMDAwMDAwIi8+CiAgPHBhdGggb3BhY2l0eT0iMC4zIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTY3NS45NDggNDI1LjA2QzY3Ny44NyA0MjUuMjczIDY3OS42IDQyMy44ODggNjc5LjgxMyA0MjEuOTY3QzY4MC4wMjYgNDIwLjA0NiA2NzguNjQxIDQxOC4zMTUgNjc2LjcyIDQxOC4xMDJDNjc0Ljc5OSA0MTcuODg5IDY3My4wNjkgNDE5LjI3NCA2NzIuODU2IDQyMS4xOTVDNjcyLjY0MiA0MjMuMTE3IDY3NC4wMjcgNDI0Ljg0NyA2NzUuOTQ4IDQyNS4wNloiIHN0cm9rZT0iIzAwMDAwMCIvPgogIDxwYXRoIG9wYWNpdHk9IjAuMyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik05NTkuMTk5IDQ0NS4zN0M5NjIuNjI4IDQ0NS43NTEgOTY1LjcxNSA0NDMuMjc5IDk2Ni4wOTYgNDM5Ljg1MUM5NjYuNDc2IDQzNi40MjIgOTY0LjAwNCA0MzMuMzM1IDk2MC41NzYgNDMyLjk1NUM5NTcuMTQ4IDQzMi41NzUgOTU0LjA2IDQzNS4wNDYgOTUzLjY4IDQzOC40NzRDOTUzLjMgNDQxLjkwMyA5NTUuNzcxIDQ0NC45OSA5NTkuMTk5IDQ0NS4zN1oiIHN0cm9rZT0iIzAwMDAwMCIvPgogIDxwYXRoIG9wYWNpdHk9IjAuMyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01ODIuNDc0IDM3Mi40OTRDNTg2Ljg1NCAzNzIuOTc5IDU5MC43OTggMzY5LjgyMyA1OTEuMjgzIDM2NS40NDNDNTkxLjc2OSAzNjEuMDYzIDU4OC42MTIgMzU3LjExOSA1ODQuMjMzIDM1Ni42MzRDNTc5Ljg1MyAzNTYuMTQ4IDU3NS45MDkgMzU5LjMwNSA1NzUuNDIzIDM2My42ODRDNTc0LjkzOCAzNjguMDY0IDU3OC4wOTUgMzcyLjAwOCA1ODIuNDc0IDM3Mi40OTRaIiBzdHJva2U9IiMwMDAwMDAiLz4KICA8cGF0aCBvcGFjaXR5PSIwLjMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNODg2LjM4MSA0MjYuNjU5Qzg5MS45MiA0MjcuMjczIDg5Ni45MDggNDIzLjI4IDg5Ny41MjIgNDE3Ljc0MUM4OTguMTM2IDQxMi4yMDIgODk0LjE0NCA0MDcuMjE0IDg4OC42MDUgNDA2LjZDODgzLjA2NiA0MDUuOTg1IDg3OC4wNzcgNDA5Ljk3OCA4NzcuNDYzIDQxNS41MTdDODc2Ljg0OSA0MjEuMDU2IDg4MC44NDEgNDI2LjA0NCA4ODYuMzgxIDQyNi42NTlaIiBzdHJva2U9IiMwMDAwMDAiLz4KICA8cGF0aCBvcGFjaXR5PSIwLjMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNzA3LjExNyA0MTYuNDczQzcxMy45MDUgNDE3LjIyNiA3MjAuMDE4IDQxMi4zMzMgNzIwLjc3MSA0MDUuNTQ0QzcyMS41MjQgMzk4Ljc1NiA3MTYuNjMxIDM5Mi42NDMgNzA5Ljg0MiAzOTEuODlDNzAzLjA1NCAzOTEuMTM3IDY5Ni45NDEgMzk2LjAzIDY5Ni4xODggNDAyLjgxOUM2OTUuNDM1IDQwOS42MDcgNzAwLjMyOCA0MTUuNzIxIDcwNy4xMTcgNDE2LjQ3M1oiIHN0cm9rZT0iIzAwMDAwMCIvPgogIDxwYXRoIG9wYWNpdHk9IjAuMyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik05OTguNjMxIDQzMC4zNzJDMTAwNi41MSA0MzEuMjQ1IDEwMTMuNiA0MjUuNTY5IDEwMTQuNDcgNDE3LjY5M0MxMDE1LjM1IDQwOS44MTcgMTAwOS42NyA0MDIuNzI1IDEwMDEuNzkgNDAxLjg1MkM5OTMuOTE4IDQwMC45NzkgOTg2LjgyNSA0MDYuNjU1IDk4NS45NTIgNDE0LjUzMUM5ODUuMDc5IDQyMi40MDYgOTkwLjc1NSA0MjkuNDk5IDk5OC42MzEgNDMwLjM3MloiIHN0cm9rZT0iIzAwMDAwMCIvPgogIDxwYXRoIG9wYWNpdHk9IjAuMyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03OTEuODk4IDQyMy4zNDZDODA1LjQ3NSA0MjQuODUxIDgxNy43MDIgNDE1LjA2NSA4MTkuMjA3IDQwMS40ODhDODIwLjcxMiAzODcuOTExIDgxMC45MjcgMzc1LjY4NSA3OTcuMzUgMzc0LjE3OUM3ODMuNzczIDM3Mi42NzQgNzcxLjU0NiAzODIuNDYgNzcwLjA0MSAzOTYuMDM3Qzc2OC41MzYgNDA5LjYxNCA3NzguMzIxIDQyMS44NCA3OTEuODk4IDQyMy4zNDZaIiBzdHJva2U9IiMwMDAwMDAiLz4KICA8cGF0aCBvcGFjaXR5PSIwLjMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNjQzLjMxNCAzNzUuNTYyQzY1Ni44OTEgMzc3LjA2NyA2NjkuMTE4IDM2Ny4yODEgNjcwLjYyMyAzNTMuNzA0QzY3Mi4xMjggMzQwLjEyNyA2NjIuMzQzIDMyNy45MDEgNjQ4Ljc2NiAzMjYuMzk1QzYzNS4xODkgMzI0Ljg5IDYyMi45NjIgMzM0LjY3NiA2MjEuNDU3IDM0OC4yNTNDNjE5Ljk1MiAzNjEuODMgNjI5LjczNyAzNzQuMDU2IDY0My4zMTQgMzc1LjU2MloiIHN0cm9rZT0iIzAwMDAwMCIvPgogIDxwYXRoIG9wYWNpdHk9IjAuMyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zODAuNDQ3IDI5Ny41NzhDMzgyLjc4NiAyOTguNjQ0IDM4NS41NDYgMjk3LjYxMSAzODYuNjExIDI5NS4yNzFDMzg3LjY3NiAyOTIuOTMyIDM4Ni42NDMgMjkwLjE3MiAzODQuMzA0IDI4OS4xMDdDMzgxLjk2NSAyODguMDQyIDM3OS4yMDUgMjg5LjA3NSAzNzguMTQgMjkxLjQxNEMzNzcuMDc0IDI5My43NTMgMzc4LjEwNyAyOTYuNTEzIDM4MC40NDcgMjk3LjU3OFoiIHN0cm9rZT0iIzAwMDAwMCIvPgogIDxwYXRoIG9wYWNpdHk9IjAuMyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zMjMuMzkzIDI2MS41MTlDMzI1LjE1MiAyNjIuMzIgMzI3LjIyOCAyNjEuNTQzIDMyOC4wMjkgMjU5Ljc4NEMzMjguODMgMjU4LjAyNSAzMjguMDUzIDI1NS45NDkgMzI2LjI5NCAyNTUuMTQ4QzMyNC41MzUgMjU0LjM0NyAzMjIuNDU5IDI1NS4xMjQgMzIxLjY1OCAyNTYuODgzQzMyMC44NTcgMjU4LjY0MyAzMjEuNjM0IDI2MC43MTggMzIzLjM5MyAyNjEuNTE5WiIgc3Ryb2tlPSIjMDAwMDAwIi8+CiAgPHBhdGggb3BhY2l0eT0iMC4zIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTQ4NS45NzMgMzE5LjMyOUM0ODkuOTgzIDMyMS4xNTUgNDk0LjcxNCAzMTkuMzg0IDQ5Ni41NCAzMTUuMzc0QzQ5OC4zNjYgMzExLjM2MyA0OTYuNTk2IDMwNi42MzIgNDkyLjU4NSAzMDQuODA2QzQ4OC41NzUgMzAyLjk4IDQ4My44NDQgMzA0Ljc1MSA0ODIuMDE4IDMwOC43NjFDNDgwLjE5MiAzMTIuNzcxIDQ4MS45NjIgMzE3LjUwMyA0ODUuOTczIDMxOS4zMjlaIiBzdHJva2U9IiMwMDAwMDAiLz4KICA8cGF0aCBvcGFjaXR5PSIwLjMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzA3LjAzNyAyMzIuOTE4QzMxMS4wNDcgMjM0Ljc0NCAzMTUuNzc5IDIzMi45NzQgMzE3LjYwNSAyMjguOTYzQzMxOS40MzEgMjI0Ljk1MyAzMTcuNjYgMjIwLjIyMiAzMTMuNjUgMjE4LjM5NkMzMDkuNjQgMjE2LjU3IDMwNC45MDggMjE4LjM0IDMwMy4wODIgMjIyLjM1MUMzMDEuMjU2IDIyNi4zNjEgMzAzLjAyNyAyMzEuMDkyIDMwNy4wMzcgMjMyLjkxOFoiIHN0cm9rZT0iIzAwMDAwMCIvPgogIDxwYXRoIG9wYWNpdHk9IjAuMyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MzAuMDE2IDMxMC42NTNDNDM2LjcgMzEzLjY5NiA0NDQuNTg2IDMxMC43NDUgNDQ3LjYyOSAzMDQuMDYxQzQ1MC42NzMgMjk3LjM3NyA0NDcuNzIxIDI4OS40OTIgNDQxLjAzOCAyODYuNDQ4QzQzNC4zNTQgMjgzLjQwNSA0MjYuNDY4IDI4Ni4zNTYgNDIzLjQyNSAyOTMuMDRDNDIwLjM4MSAyOTkuNzI0IDQyMy4zMzMgMzA3LjYwOSA0MzAuMDE2IDMxMC42NTNaIiBzdHJva2U9IiMwMDAwMDAiLz4KICA8cGF0aCBvcGFjaXR5PSIwLjMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzU1LjY4NSAyNjMuMDcyQzM2MS45MDEgMjY1LjkwMiAzNjkuMjM0IDI2My4xNTggMzcyLjA2NSAyNTYuOTQyQzM3NC44OTUgMjUwLjcyNiAzNzIuMTUxIDI0My4zOTIgMzY1LjkzNSAyNDAuNTYyQzM1OS43MTkgMjM3LjczMSAzNTIuMzg1IDI0MC40NzYgMzQ5LjU1NSAyNDYuNjkyQzM0Ni43MjQgMjUyLjkwOCAzNDkuNDY5IDI2MC4yNDEgMzU1LjY4NSAyNjMuMDcyWiIgc3Ryb2tlPSIjMDAwMDAwIi8+CiAgPHBhdGggb3BhY2l0eT0iMC4zIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTUyOC42NzUgMzE1LjM5NUM1MzkuMDM1IDMyMC4xMTIgNTUxLjI1OCAzMTUuNTM4IDU1NS45NzUgMzA1LjE3OEM1NjAuNjkyIDI5NC44MTggNTU2LjExOCAyODIuNTk2IDU0NS43NTggMjc3Ljg3OEM1MzUuMzk4IDI3My4xNjEgNTIzLjE3NiAyNzcuNzM1IDUxOC40NTkgMjg4LjA5NUM1MTMuNzQxIDI5OC40NTUgNTE4LjMxNSAzMTAuNjc4IDUyOC42NzUgMzE1LjM5NVoiIHN0cm9rZT0iIzAwMDAwMCIvPgogIDxwYXRoIG9wYWNpdHk9IjAuMyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MDUuNjQ2IDI3NC41NDJDNDE4LjA3OCAyODAuMjAzIDQzMi43NDUgMjc0LjcxNCA0MzguNDA2IDI2Mi4yODJDNDQ0LjA2NyAyNDkuODUgNDM4LjU3OCAyMzUuMTgzIDQyNi4xNDYgMjI5LjUyMkM0MTMuNzE0IDIyMy44NjEgMzk5LjA0NyAyMjkuMzUgMzkzLjM4NiAyNDEuNzgyQzM4Ny43MjUgMjU0LjIxNCAzOTMuMjE0IDI2OC44ODEgNDA1LjY0NiAyNzQuNTQyWiIgc3Ryb2tlPSIjMDAwMDAwIi8+CiAgPHBhdGggb3BhY2l0eT0iMC4zIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTMwNy44MDcgMjA0LjMxN0MzMjAuMjM5IDIwOS45NzcgMzM0LjkwNiAyMDQuNDg4IDM0MC41NjcgMTkyLjA1NkMzNDYuMjI4IDE3OS42MjUgMzQwLjczOSAxNjQuOTU3IDMyOC4zMDcgMTU5LjI5N0MzMTUuODc1IDE1My42MzYgMzAxLjIwOCAxNTkuMTI1IDI5NS41NDcgMTcxLjU1N0MyODkuODg2IDE4My45ODkgMjk1LjM3NSAxOTguNjU2IDMwNy44MDcgMjA0LjMxN1oiIHN0cm9rZT0iIzAwMDAwMCIvPgogIDxwYXRoIG9wYWNpdHk9IjAuMyIgZD0iTTguMjQ2NTggLTcyLjgyNzZDMjc3LjYxIDI0MC41OCA3MjguODI2IDQ0Ni4wNjkgMTI0MCA0NDYuMDY5QzE3NTAuNDUgNDQ2LjA2OSAyMjAxLjAyIDI0MC41OCAyNDcwIC03Mi44Mjc2SDguMjQ2NThaIiBmaWxsPSIjMDAwMDAwIi8+CiAgPHBhdGggb3BhY2l0eT0iMSIgZD0iTTguMjQ2NTggLTcyLjgyNzZDMjc3LjYxIDI0MC41OCA3MjguODI2IDQ0Ni4wNjkgMTI0MCA0NDYuMDY5QzE3NTAuNDUgNDQ2LjA2OSAyMjAxLjAyIDI0MC41OCAyNDcwIC03Mi44Mjc2SDguMjQ2NThaIiBmaWxsPSIjMDAwMDAwIi8+Cjwvc3ZnPgo=\"","import React from 'react';\nimport { PropTypes } from 'prop-types';\nimport { get, has } from 'lodash';\nimport styled, { css } from 'styled-components';\n\nimport HeroBackgroundMask from '../images/HeroBackgroundMask.svg';\n\nexport const BASE_HERO_WIDTH = 1368;\nexport const BASE_HERO_HEIGHT = 325;\n\nconst generateBackground = theme => {\n  const color = theme.colors.primary[300];\n  const gradient = `linear-gradient(10deg, ${theme.colors.primary[800]}, ${theme.colors.primary[300]})`;\n  return `${gradient}, ${color}`;\n};\n\nconst BackgroundImage = styled.img.attrs({ alt: '' })``;\n\nexport const StyledHeroBackground = styled.div`\n  position: absolute;\n  right: 0;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  max-width: ${BASE_HERO_WIDTH}px; // Should match SVG's viewbox\n  z-index: ${props => (props.isEditing ? 0 : -1)};\n  overflow: hidden;\n\n  img {\n    margin: 0;\n    user-select: none;\n  }\n\n  .reactEasyCrop_Image,\n  ${BackgroundImage} {\n    max-height: none;\n    max-width: none;\n  }\n\n  ${props =>\n    props.isAlignedRight &&\n    css`\n      .reactEasyCrop_Image,\n      ${BackgroundImage} {\n        top: 0;\n        right: 0;\n        min-height: 0;\n        min-width: 0;\n        left: unset;\n        bottom: unset;\n        position: absolute;\n      }\n    `}\n\n  @supports (mask-size: cover) {\n    background: ${props => generateBackground(props.theme)};\n    background-repeat: no-repeat;\n    background-size: 100%;\n\n    mask: url(${HeroBackgroundMask}) no-repeat;\n    mask-size: cover;\n    mask-position-x: 100%;\n    mask-position-y: -150px;\n\n    @media (max-width: 900px) {\n      mask-position-x: 20%;\n    }\n  }\n`;\n\nexport const DEFAULT_BACKGROUND_CROP = { x: 0, y: 0 };\n\nexport const getCrop = collective => {\n  return get(collective.settings, 'collectivePage.background.crop') || DEFAULT_BACKGROUND_CROP;\n};\n\nexport const getZoom = collective => {\n  return get(collective.settings, 'collectivePage.background.zoom') || 1;\n};\n\nexport const getAlignedRight = collective => {\n  return get(collective.settings, 'collectivePage.background.isAlignedRight');\n};\n\n/**\n * Wraps the logic to display the hero background. Fallsback on a white background if\n * css `mask` is not supported.\n */\nconst HeroBackground = ({ collective }) => {\n  const crop = getCrop(collective);\n  const zoom = getZoom(collective);\n  const isAlignedRight = getAlignedRight(collective);\n  const hasBackgroundSettings = has(collective.settings, 'collectivePage.background');\n\n  return (\n    <StyledHeroBackground isAlignedRight={isAlignedRight}>\n      {collective.backgroundImageUrl && (\n        <BackgroundImage\n          src={collective.backgroundImageUrl}\n          style={\n            hasBackgroundSettings\n              ? { transform: `translate(${crop.x}px, ${crop.y}px) scale(${zoom})` }\n              : { minWidth: '100%' }\n          }\n        />\n      )}\n    </StyledHeroBackground>\n  );\n};\n\nHeroBackground.propTypes = {\n  /** The collective to show the image for */\n  collective: PropTypes.shape({\n    id: PropTypes.number,\n    /** The background image */\n    backgroundImage: PropTypes.string,\n    backgroundImageUrl: PropTypes.string,\n    /** Collective settings */\n    settings: PropTypes.shape({\n      collectivePage: PropTypes.shape({\n        background: PropTypes.shape({\n          /** Used to display the background at the right position */\n          offset: PropTypes.shape({ y: PropTypes.number.isRequired }),\n          /** Only used for the editor */\n          crop: PropTypes.shape({ y: PropTypes.number.isRequired }),\n        }),\n      }),\n    }),\n  }).isRequired,\n};\n\n/** @component */\nexport default HeroBackground;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql } from '@apollo/client/react/hoc';\nimport { Lock } from '@styled-icons/fa-solid/Lock';\nimport { get, isEmpty } from 'lodash';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport styled from 'styled-components';\n\nimport { gqlV1 } from '../../../lib/graphql/helpers';\nimport { getCollectivePageRoute } from '../../../lib/url-helpers';\nimport { formatDate } from '../../../lib/utils';\n\nimport Avatar from '../../Avatar';\nimport Container from '../../Container';\nimport { Box, Flex } from '../../Grid';\nimport HTMLContent from '../../HTMLContent';\nimport Link from '../../Link';\nimport LinkCollective from '../../LinkCollective';\nimport MessageBox from '../../MessageBox';\nimport StyledButton from '../../StyledButton';\nimport StyledCard from '../../StyledCard';\nimport StyledLink from '../../StyledLink';\nimport StyledTooltip from '../../StyledTooltip';\nimport { P, Span } from '../../Text';\nimport ContainerSectionContent from '../ContainerSectionContent';\nimport { updatesFieldsFragment } from '../graphql/fragments';\nimport SectionTitle from '../SectionTitle';\n\n/** Query to re-fetch updates */\nexport const updatesSectionQuery = gqlV1/* GraphQL */ `\n  query UpdatesSection($slug: String!, $onlyPublishedUpdates: Boolean) {\n    Collective(slug: $slug) {\n      id\n      updates(limit: 3, onlyPublishedUpdates: $onlyPublishedUpdates) {\n        id\n        ...UpdatesFields\n      }\n    }\n  }\n\n  ${updatesFieldsFragment}\n`;\n\nconst PrivateUpdateMesgBox = styled(MessageBox)`\n  height: 40px;\n  background: #f0f8ff;\n  border: 1px solid #b8deff;\n  box-sizing: border-box;\n  border-radius: 6px;\n  margin: 10px 0;\n  padding: 10px;\n  font-size: 12px;\n  color: #71757a;\n  display: flex;\n  align-items: center;\n`;\n\n/**\n * Displays collective's updates.\n */\nclass SectionUpdates extends React.PureComponent {\n  static propTypes = {\n    /** Collective */\n    collective: PropTypes.shape({\n      slug: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n    }).isRequired,\n\n    /** Does user can see drafts? */\n    isAdmin: PropTypes.bool.isRequired,\n\n    /** Is user loggedIn? */\n    isLoggedIn: PropTypes.bool.isRequired,\n\n    /** Transactions */\n    data: PropTypes.shape({\n      refetch: PropTypes.func,\n      Collective: PropTypes.shape({\n        updates: PropTypes.arrayOf(\n          PropTypes.shape({\n            id: PropTypes.number,\n            slug: PropTypes.string,\n            title: PropTypes.string,\n            summary: PropTypes.string,\n            createdAt: PropTypes.string,\n            publishedAt: PropTypes.string,\n            isPrivate: PropTypes.bool,\n            userCanSeeUpdate: PropTypes.bool,\n            fromCollective: PropTypes.shape({\n              id: PropTypes.number,\n              type: PropTypes.string,\n              name: PropTypes.string,\n              slug: PropTypes.string,\n            }),\n          }),\n        ),\n      }),\n    }),\n  };\n\n  componentDidUpdate(oldProps) {\n    // If user log in/out we need to refresh data as it depends on the current user\n    const refetch = get(this.props.data, 'refetch');\n    if (oldProps.isLoggedIn !== this.props.isLoggedIn && refetch) {\n      refetch();\n    }\n  }\n\n  render() {\n    const { collective, isAdmin } = this.props;\n    const updates = get(this.props.data, 'Collective.updates', []);\n\n    // Nothing to show if updates is empty and user can't add new ones\n    if (isEmpty(updates) && !isAdmin) {\n      return null;\n    }\n\n    return (\n      <ContainerSectionContent pb={4}>\n        <SectionTitle fontSize={['20px', '24px', '32px']} color=\"black.700\" mb={24}>\n          <FormattedMessage\n            id=\"CollectivePage.SectionUpdates.Title\"\n            defaultMessage=\"News from {collectiveName}\"\n            values={{ collectiveName: collective.name }}\n          />\n        </SectionTitle>\n        <Flex mb={4} justifyContent=\"space-between\" alignItems=\"center\" flexWrap=\"wrap\">\n          <P color=\"black.700\" my={2} css={{ flex: '1 0 50%', maxWidth: 700 }}>\n            <FormattedMessage id=\"section.updates.subtitle\" defaultMessage=\"Updates on our activities and progress.\" />\n          </P>\n          {isAdmin && (\n            <Link href={`${getCollectivePageRoute(collective)}/updates/new`}>\n              <StyledButton data-cy=\"create-new-update-btn\" buttonStyle=\"primary\" my={[2, 0]}>\n                <Span fontSize=\"16px\" fontWeight=\"bold\" mr={2}>\n                  +\n                </Span>\n                <FormattedMessage id=\"updates.new.title\" defaultMessage=\"New update\" />\n              </StyledButton>\n            </Link>\n          )}\n        </Flex>\n        {isEmpty(updates) ? (\n          <div>\n            <MessageBox my={[3, 5]} type=\"info\" withIcon maxWidth={700} fontStyle=\"italic\" fontSize=\"14px\">\n              <FormattedMessage\n                id=\"SectionUpdates.PostFirst\"\n                defaultMessage=\"Report your progress and keep your community up to date.\"\n              />\n            </MessageBox>\n          </div>\n        ) : (\n          <Box mt={[3, 5]} mb={[3, 4]}>\n            <StyledCard data-cy=\"updatesList\">\n              {updates.map((update, idx) => (\n                <Container\n                  key={update.id}\n                  p={24}\n                  display=\"flex\"\n                  justifyContent=\"space-between\"\n                  borderBottom={idx === updates.length - 1 ? undefined : '1px solid #e6e8eb'}\n                >\n                  <Flex>\n                    <Box mr={3}>\n                      <LinkCollective collective={update.fromCollective}>\n                        <Avatar collective={update.fromCollective} radius={40} />\n                      </LinkCollective>\n                    </Box>\n                    <Flex flexDirection=\"column\" justifyContent=\"space-between\">\n                      <Link href={`${getCollectivePageRoute(collective)}/updates/${update.slug}`}>\n                        <P color=\"black.900\" fontWeight=\"600\" mb={2}>\n                          {update.title}\n                        </P>\n                      </Link>\n                      {update.userCanSeeUpdate ? (\n                        <Container>\n                          <HTMLContent style={{ display: 'inline' }} content={update.summary} />\n                          {` `}\n                          <StyledLink\n                            as={Link}\n                            fontSize=\"12px\"\n                            href={`${getCollectivePageRoute(collective)}/updates/${update.slug}`}\n                          >\n                            <FormattedMessage id=\"ContributeCard.ReadMore\" defaultMessage=\"Read more\" />\n                          </StyledLink>\n                        </Container>\n                      ) : (\n                        <PrivateUpdateMesgBox type=\"info\" data-cy=\"mesgBox\">\n                          <FormattedMessage\n                            id=\"update.private.cannot_view_message\"\n                            defaultMessage=\"Contribute to {collective} to see this Update\"\n                            values={{ collective: collective.name }}\n                          />\n                        </PrivateUpdateMesgBox>\n                      )}\n                      <Container color=\"black.600\" mt={2} fontSize=\"12px\">\n                        {update.isPrivate && (\n                          <StyledTooltip\n                            content={() => (\n                              <FormattedMessage\n                                id=\"update.private.lock_text\"\n                                defaultMessage=\"This update is for contributors only\"\n                              />\n                            )}\n                          >\n                            <Box mr={1}>\n                              <Lock\n                                data-tip\n                                data-for=\"privateLockText\"\n                                data-cy=\"privateIcon\"\n                                size={12}\n                                cursor=\"pointer\"\n                              />\n                            </Box>\n                          </StyledTooltip>\n                        )}\n                        {update.publishedAt ? (\n                          <FormattedMessage\n                            id=\"update.publishedAtBy\"\n                            defaultMessage=\"Published on {date} by {author}\"\n                            values={{\n                              date: formatDate(update.publishedAt, {\n                                day: 'numeric',\n                                month: 'long',\n                                year: 'numeric',\n                              }),\n                              author: <LinkCollective collective={update.fromCollective} />,\n                            }}\n                          />\n                        ) : (\n                          <FormattedMessage\n                            id=\"update.createdAtBy\"\n                            defaultMessage={'Created on {date} (draft) by {author}'}\n                            values={{\n                              date: formatDate(update.createdAt),\n                              author: <LinkCollective collective={update.fromCollective} />,\n                            }}\n                          />\n                        )}\n                      </Container>\n                    </Flex>\n                  </Flex>\n                </Container>\n              ))}\n            </StyledCard>\n            {updates.length > 0 && (\n              <Link href={`${getCollectivePageRoute(collective)}/updates`}>\n                <StyledButton data-cy=\"view-all-updates-btn\" mt={4} width={1} buttonSize=\"small\" fontSize=\"14px\">\n                  <FormattedMessage id=\"CollectivePage.SectionUpdates.ViewAll\" defaultMessage=\"View all updates\" /> \n                </StyledButton>\n              </Link>\n            )}\n          </Box>\n        )}\n      </ContainerSectionContent>\n    );\n  }\n}\n\nconst addUpdatesSectionData = graphql(updatesSectionQuery, {\n  options: props => ({\n    variables: getUpdatesSectionQueryVariables(props.collective.slug, props.isAdmin),\n  }),\n});\n\nexport const getUpdatesSectionQueryVariables = (slug, isAdmin = false) => {\n  return { slug, onlyPublishedUpdates: !isAdmin };\n};\n\nexport default injectIntl(addUpdatesSectionData(SectionUpdates));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { truncate } from 'lodash';\n\nimport { ContributionTypes } from '../../lib/constants/contribution-types';\nimport { getCollectivePageRoute } from '../../lib/url-helpers';\n\nimport Contribute from './Contribute';\n\n/**\n * A contribute card specialized to display a collective. Useful to display child collectives.\n */\nconst ContributeCollective = ({ collective, ...props }) => {\n  const description = truncate(collective.description, { length: 100 });\n  return (\n    <Contribute\n      route={getCollectivePageRoute(collective)}\n      type={ContributionTypes.CHILD_COLLECTIVE}\n      title={collective.name}\n      contributors={collective.contributors}\n      stats={collective.stats.backers}\n      image={collective.backgroundImageUrl}\n      {...props}\n    >\n      {description}\n    </Contribute>\n  );\n};\n\nContributeCollective.propTypes = {\n  collective: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    slug: PropTypes.string.isRequired,\n    description: PropTypes.string,\n    backgroundImageUrl: PropTypes.string,\n    contributors: PropTypes.arrayOf(PropTypes.object),\n    stats: PropTypes.shape({\n      backers: PropTypes.object,\n    }).isRequired,\n  }),\n};\n\nexport default ContributeCollective;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Calendar } from '@styled-icons/feather/Calendar';\nimport { Clock } from '@styled-icons/feather/Clock';\nimport { truncate } from 'lodash';\nimport { FormattedDate, FormattedMessage } from 'react-intl';\n\nimport { ContributionTypes } from '../../lib/constants/contribution-types';\nimport DayJs from '../../lib/dayjs';\nimport { isPastEvent } from '../../lib/events';\nimport { getCollectivePageRoute } from '../../lib/url-helpers';\n\nimport Container from '../Container';\nimport { Box } from '../Grid';\nimport Link from '../Link';\nimport StyledLink from '../StyledLink';\nimport { Span } from '../Text';\n\nimport Contribute from './Contribute';\n\nconst ContributeEvent = ({ collective, event, ...props }) => {\n  const { startsAt, endsAt } = event;\n  const description = truncate(event.description, { length: 100 });\n  const isTruncated = description && description.length < event.description.length;\n  const isPassed = isPastEvent(event);\n  const takesMultipleDays = startsAt && endsAt && !DayJs(startsAt).isSame(endsAt, 'day');\n  const showYearOnStartDate = !endsAt || !takesMultipleDays ? 'numeric' : undefined; // only if there's no end date\n\n  return (\n    <Contribute\n      route={`${getCollectivePageRoute(collective)}/events/${event.slug}`}\n      type={isPassed ? ContributionTypes.EVENT_PASSED : ContributionTypes.EVENT_PARTICIPATE}\n      contributors={event.contributors}\n      stats={event.stats.backers}\n      image={event.backgroundImageUrl}\n      title={\n        <StyledLink as={Link} color=\"black.800\" href={`/${collective.slug}/events/${event.slug}`}>\n          {event.name}\n        </StyledLink>\n      }\n      {...props}\n    >\n      {(startsAt || endsAt) && (\n        <Box mb={3}>\n          <Container display=\"flex\" alignItems=\"center\" fontSize=\"12px\">\n            <Calendar size=\"1.3em\" color=\"#4E5052\" />\n            <Span ml={2} color=\"black.700\">\n              {startsAt && (\n                <time dateTime={startsAt}>\n                  <FormattedDate value={startsAt} month=\"short\" day=\"numeric\" year={showYearOnStartDate} />\n                </time>\n              )}\n              {takesMultipleDays && '  '}\n              {(takesMultipleDays || (!startsAt && endsAt)) && (\n                <time dateTime={endsAt}>\n                  <FormattedDate value={endsAt} month=\"short\" day=\"numeric\" year=\"numeric\" />\n                </time>\n              )}\n            </Span>\n          </Container>\n          {startsAt && (\n            <Container display=\"flex\" alignItems=\"center\" fontSize=\"12px\" mt={1}>\n              <Clock size=\"1.3em\" color=\"#4E5052\" />\n              <Span ml={2} color=\"black.700\">\n                {!takesMultipleDays ? (\n                  <React.Fragment>\n                    <FormattedDate value={startsAt} hour=\"2-digit\" minute=\"2-digit\" />\n                    {endsAt && (\n                      <React.Fragment>\n                        {`-`}\n                        <FormattedDate value={endsAt} hour=\"2-digit\" minute=\"2-digit\" timeZoneName=\"short\" />\n                      </React.Fragment>\n                    )}\n                  </React.Fragment>\n                ) : (\n                  <FormattedDate value={startsAt} hour=\"2-digit\" minute=\"2-digit\" timeZoneName=\"short\" />\n                )}\n              </Span>\n            </Container>\n          )}\n        </Box>\n      )}\n      {description}\n      {isTruncated && (\n        <Link href={`/${collective.slug}/events/${event.slug}`}>\n          <Span textTransform=\"capitalize\" whiteSpace=\"nowrap\">\n            <FormattedMessage id=\"ContributeCard.ReadMore\" defaultMessage=\"Read more\" />\n          </Span>\n        </Link>\n      )}\n    </Contribute>\n  );\n};\n\nContributeEvent.propTypes = {\n  collective: PropTypes.shape({\n    slug: PropTypes.string.isRequired,\n  }),\n  event: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    slug: PropTypes.string.isRequired,\n    backgroundImageUrl: PropTypes.string,\n    startsAt: PropTypes.string,\n    endsAt: PropTypes.string,\n    description: PropTypes.string,\n    contributors: PropTypes.arrayOf(PropTypes.object),\n    stats: PropTypes.shape({\n      backers: PropTypes.object,\n    }).isRequired,\n  }),\n};\n\nexport default ContributeEvent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { truncate } from 'lodash';\n\nimport { ContributionTypes } from '../../lib/constants/contribution-types';\nimport { getCollectivePageRoute } from '../../lib/url-helpers';\n\nimport Link from '../Link';\nimport StyledLink from '../StyledLink';\n\nimport Contribute from './Contribute';\n\n/**\n * A contribute card specialized to display a Project.\n */\nconst ContributeProject = ({ collective, project, ...props }) => {\n  const description = truncate(project.description, { length: 100 });\n  return (\n    <Contribute\n      route={`${getCollectivePageRoute(collective)}/projects/${project.slug}`}\n      type={project.isArchived ? ContributionTypes.ARCHIVED_PROJECT : ContributionTypes.PROJECT}\n      contributors={project.contributors}\n      stats={project.stats.backers}\n      image={project.backgroundImageUrl}\n      title={\n        <StyledLink as={Link} color=\"black.800\" href={`/${collective.slug}/projects/${project.slug}`}>\n          {project.name}\n        </StyledLink>\n      }\n      {...props}\n    >\n      {description}\n    </Contribute>\n  );\n};\n\nContributeProject.propTypes = {\n  project: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    slug: PropTypes.string.isRequired,\n    description: PropTypes.string,\n    backgroundImageUrl: PropTypes.string,\n    contributors: PropTypes.arrayOf(PropTypes.object),\n    stats: PropTypes.shape({\n      backers: PropTypes.object,\n    }).isRequired,\n    isArchived: PropTypes.bool,\n  }),\n  collective: PropTypes.shape({\n    slug: PropTypes.string.isRequired,\n  }),\n};\n\nexport default ContributeProject;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { size } from 'lodash';\nimport { defineMessages, FormattedDate, FormattedMessage, useIntl } from 'react-intl';\n\nimport Avatar from '../Avatar';\nimport Container from '../Container';\nimport { Box, Flex } from '../Grid';\nimport CommentIcon from '../icons/CommentIcon';\nimport Link from '../Link';\nimport LinkCollective from '../LinkCollective';\nimport StyledCard from '../StyledCard';\nimport { H5, P } from '../Text';\n\nimport FollowersAvatars from './FollowersAvatars';\n\nconst messages = defineMessages({\n  commentsCount: {\n    id: 'comments.count',\n    defaultMessage: '{n, plural, one {# comment} other {# comments}}',\n  },\n});\n\nconst ConversationListItem = ({ conversation, collectiveSlug }) => {\n  const { formatMessage } = useIntl();\n  const { id, slug, title, summary, createdAt, fromAccount, followers, stats } = conversation;\n  const hasFollowers = followers && size(followers.nodes) > 0;\n  const hasComments = stats && stats.commentsCount > 0;\n  return (\n    <Flex>\n      <Box mr={3}>\n        <LinkCollective collective={fromAccount}>\n          <Avatar collective={fromAccount} radius={40} />\n        </LinkCollective>\n      </Box>\n      <div>\n        <Link href={`/${collectiveSlug}/conversations/${slug}-${id}`}>\n          <H5 wordBreak=\"break-word\" mb={2}>\n            {title}\n          </H5>\n        </Link>\n        <P color=\"black.500\" fontSize=\"12px\">\n          <FormattedMessage\n            id=\"update.publishedAtBy\"\n            defaultMessage=\"Published on {date} by {author}\"\n            values={{\n              date: <FormattedDate value={createdAt} day=\"numeric\" month=\"long\" year=\"numeric\" />,\n              author: <LinkCollective collective={fromAccount} />,\n            }}\n          />\n        </P>\n        <P\n          color=\"black.700\"\n          mt={2}\n          fontSize=\"13px\"\n          dangerouslySetInnerHTML={{ __html: summary }}\n          data-cy=\"conversation-preview\"\n        />\n        {(hasFollowers || hasComments) && (\n          <Flex mt={3} alignItems=\"center\">\n            {hasFollowers && (\n              <Box mr={3}>\n                <FollowersAvatars\n                  followers={followers.nodes}\n                  totalCount={followers.totalCount}\n                  maxNbDisplayed={3}\n                  avatarRadius={24}\n                />\n              </Box>\n            )}\n            {hasComments && (\n              <Container\n                display=\"flex\"\n                alignItems=\"center\"\n                color=\"black.500\"\n                title={formatMessage(messages.commentsCount, { n: stats.commentsCount })}\n                fontSize=\"12px\"\n                data-cy=\"replies-count\"\n              >\n                <CommentIcon size=\"1em\" color=\"#9D9FA3\" />\n                &nbsp;\n                {stats.commentsCount}\n              </Container>\n            )}\n          </Flex>\n        )}\n      </div>\n    </Flex>\n  );\n};\n\nConversationListItem.propTypes = {\n  collectiveSlug: PropTypes.string.isRequired,\n  conversation: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    slug: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    summary: PropTypes.string.isRequired,\n    createdAt: PropTypes.string.isRequired,\n    tags: PropTypes.arrayOf(PropTypes.string),\n    fromAccount: PropTypes.shape({\n      type: PropTypes.string,\n      slug: PropTypes.string.isRequired,\n    }).isRequired,\n    followers: PropTypes.shape({\n      totalCount: PropTypes.number,\n      nodes: PropTypes.arrayOf(\n        PropTypes.shape({\n          id: PropTypes.string,\n        }),\n      ),\n    }),\n    stats: PropTypes.shape({\n      commentsCount: PropTypes.number,\n    }),\n  }),\n};\n\n/**\n * Displays a list of conversations\n */\nconst ConversationsList = ({ collectiveSlug, conversations }) => {\n  if (!conversations || conversations.length === 0) {\n    return null;\n  }\n\n  return (\n    <StyledCard>\n      {conversations.map((conversation, idx) => (\n        <Container key={conversation.id} borderTop={!idx ? undefined : '1px solid'} borderColor=\"black.300\" p={3}>\n          <ConversationListItem collectiveSlug={collectiveSlug} conversation={conversation} />\n        </Container>\n      ))}\n    </StyledCard>\n  );\n};\n\nConversationsList.propTypes = {\n  collectiveSlug: PropTypes.string.isRequired,\n  conversations: PropTypes.arrayOf(PropTypes.object),\n};\n\nexport default ConversationsList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { defineMessages, useIntl } from 'react-intl';\n\nimport Avatar from '../Avatar';\nimport Container from '../Container';\nimport { Box } from '../Grid';\nimport LinkCollective from '../LinkCollective';\nimport { Span } from '../Text';\nimport { withUser } from '../UserProvider';\n\nconst messages = defineMessages({\n  andXOthers: {\n    id: 'conversation.followers.rest',\n    defaultMessage: '{usersList} and {count, plural, one {one other} other {# others}}',\n  },\n});\n\nconst getFollwersNotDisplayedNames = (followers, maxNbDisplayed) => {\n  if (followers.length <= maxNbDisplayed) {\n    return null;\n  } else {\n    return followers\n      .slice(maxNbDisplayed)\n      .map(c => c.name)\n      .join(', ');\n  }\n};\n\n/**\n * A small list of avatars with a count next to it.\n */\nconst FollowersAvatars = ({ followers, totalCount, avatarRadius, maxNbDisplayed }) => {\n  const { formatMessage } = useIntl();\n\n  if (!followers || !followers.length) {\n    return null;\n  }\n\n  const nbNotDisplayed = totalCount - maxNbDisplayed;\n  const nbNotFetched = totalCount - followers.length;\n  const usersNotDisplayedNames = getFollwersNotDisplayedNames(followers, maxNbDisplayed);\n  return (\n    <Container display=\"flex\" alignItems=\"center\" fontSize=\"12px\">\n      {followers.slice(0, maxNbDisplayed).map(collective => (\n        <Box key={collective.id} mr={[-2, 2]}>\n          <LinkCollective collective={collective}>\n            <Avatar collective={collective} radius={avatarRadius} />\n          </LinkCollective>\n        </Box>\n      ))}\n      {nbNotDisplayed > 0 && (\n        <Span\n          color=\"black.500\"\n          title={\n            followers.length < totalCount\n              ? formatMessage(messages.andXOthers, { count: nbNotFetched, usersList: usersNotDisplayedNames })\n              : usersNotDisplayedNames\n          }\n        >\n          +&nbsp;{nbNotDisplayed}\n        </Span>\n      )}\n    </Container>\n  );\n};\n\nFollowersAvatars.propTypes = {\n  /** Max number of followers to display */\n  maxNbDisplayed: PropTypes.number.isRequired,\n  totalCount: PropTypes.number.isRequired,\n  avatarRadius: PropTypes.number.isRequired,\n  followers: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string,\n    }),\n  ),\n};\n\nFollowersAvatars.defaultProps = {\n  maxNbDisplayed: 5,\n  avatarRadius: 24,\n};\n\nexport default withUser(FollowersAvatars);\n","import { gql } from '@apollo/client';\n\nexport const commentFieldsFragment = gql`\n  fragment CommentFields on Comment {\n    id\n    createdAt\n    html\n    reactions\n    userReactions\n    fromAccount {\n      id\n      type\n      name\n      slug\n      imageUrl\n    }\n  }\n`;\n\nexport const conversationListFragment = gql`\n  fragment ConversationListFragment on ConversationCollection {\n    totalCount\n    offset\n    limit\n    nodes {\n      id\n      title\n      summary\n      slug\n      createdAt\n      tags\n      fromAccount {\n        id\n        name\n        type\n        slug\n        imageUrl\n      }\n      followers(limit: 5) {\n        totalCount\n        nodes {\n          id\n          slug\n          type\n          name\n          imageUrl(height: 64)\n        }\n      }\n      stats {\n        id\n        commentsCount\n      }\n    }\n  }\n`;\n\nexport const isUserFollowingConversationQuery = gql`\n  query IsUserFollowingConversation($id: String!) {\n    loggedInAccount {\n      id\n      slug\n      imageUrl\n      type\n      name\n      ... on Individual {\n        isFollowingConversation(id: $id)\n      }\n    }\n  }\n`;\n\nexport const updateListFragment = gql`\n  fragment UpdateListFragment on UpdateCollection {\n    totalCount\n    offset\n    limit\n    nodes {\n      id\n      slug\n      title\n      summary\n      createdAt\n      publishedAt\n      isPrivate\n      userCanSeeUpdate\n      fromAccount {\n        id\n        type\n        name\n        slug\n        imageUrl\n      }\n    }\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled, { css } from 'styled-components';\n\nimport StyledCard from '../StyledCard';\n\nimport TransactionItem from './TransactionItem';\n\nconst Container = styled.div`\n  ${props =>\n    !props.isFirst &&\n    css`\n      border-top: 1px solid #e6e8eb;\n    `}\n`;\n\nconst TransactionsList = ({ transactions, collective, displayActions, onMutationSuccess }) => {\n  if (!transactions?.length) {\n    return null;\n  }\n\n  return (\n    <StyledCard>\n      {transactions.map((transaction, idx) => {\n        return (\n          <Container key={transaction?.id || idx} isFirst={!idx} data-cy=\"single-transaction\">\n            <TransactionItem\n              transaction={transaction}\n              collective={collective}\n              displayActions={displayActions}\n              onMutationSuccess={onMutationSuccess}\n            />\n          </Container>\n        );\n      })}\n    </StyledCard>\n  );\n};\n\nTransactionsList.propTypes = {\n  isLoading: PropTypes.bool,\n  displayActions: PropTypes.bool,\n  collective: PropTypes.shape({\n    slug: PropTypes.string.isRequired,\n    parent: PropTypes.shape({\n      slug: PropTypes.string.isRequired,\n    }),\n  }),\n  transactions: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n    }),\n  ),\n  onMutationSuccess: PropTypes.func,\n};\n\nTransactionsList.defaultProps = {\n  view: 'public',\n};\n\nexport default TransactionsList;\n","import React from 'react';\nimport { get, pick } from 'lodash';\nimport { defineMessages, useIntl } from 'react-intl';\n\nimport I18nFormatters from '../../components/I18nFormatters';\nimport { TOAST_TYPE, useToasts } from '../../components/ToastProvider';\n\nimport { uploadImageWithXHR } from '../api';\nimport { allSettled } from '../utils';\n\nconst msg = defineMessages({\n  invalidFiles: {\n    id: 'StyledDropzone.InvalidFiles',\n    defaultMessage: 'The following {count, plural, one {file is} other {files are}} not valid: {files}',\n  },\n});\n\n/** Fets the average progress from a list of upload progress */\nconst getUploadProgress = uploadProgressList => {\n  if (!uploadProgressList || uploadProgressList.length === 0) {\n    return 0;\n  } else {\n    const totalUploadProgress = uploadProgressList.reduce((total, current) => total + current, 0);\n    return Math.trunc(totalUploadProgress / uploadProgressList.length);\n  }\n};\n\nexport const useImageUploader = ({ isMulti, mockImageGenerator, onSuccess, onReject, kind }) => {\n  const [isUploading, setUploading] = React.useState(false);\n  const [uploadProgressList, setUploadProgressList] = React.useState([]);\n  const { addToast } = useToasts();\n  const intl = useIntl();\n  return {\n    isUploading,\n    uploadProgress: getUploadProgress(uploadProgressList),\n    uploadFiles: React.useCallback(\n      async (acceptedFiles, rejectedFiles) => {\n        setUploading(true);\n        const filesToUpload = isMulti ? acceptedFiles : [acceptedFiles[0]];\n        const results = await allSettled(\n          filesToUpload.map((file, index) =>\n            uploadImageWithXHR(file, kind, {\n              mockImage: mockImageGenerator && mockImageGenerator(index),\n              onProgress: progress => {\n                const newProgressList = [...uploadProgressList];\n                newProgressList.splice(index, 0, progress);\n                setUploadProgressList(newProgressList);\n              },\n            }),\n          ),\n        );\n\n        setUploading(false);\n\n        const successes = [];\n        const failures = [];\n        results.forEach((result, index) => {\n          const fileInfo = pick(filesToUpload[index], ['name', 'size', 'type']);\n          if (result.status === 'fulfilled') {\n            successes.push({ url: result.value, ...fileInfo });\n          } else {\n            failures.push({ message: result.reason, ...fileInfo });\n          }\n        });\n\n        if (onSuccess && successes.length > 0) {\n          await onSuccess(isMulti ? successes : successes[0]);\n        }\n\n        if (onReject && failures.length > 0) {\n          onReject(isMulti ? failures : failures[0]);\n        }\n\n        if (rejectedFiles?.length) {\n          const baseMsg = intl.formatMessage(msg.invalidFiles, {\n            ...I18nFormatters,\n            count: rejectedFiles.length,\n            files: rejectedFiles.map(({ file }) => file.name).join(', '),\n          });\n          const errorMsg = get(rejectedFiles[0], 'errors.0.message') || '';\n          addToast({ type: TOAST_TYPE.ERROR, message: `${baseMsg}. ${errorMsg}` });\n        }\n      },\n      [isMulti, onSuccess, onReject, mockImageGenerator, uploadProgressList],\n    ),\n  };\n};\n","import React from 'react';\nimport Router from 'next/router';\nimport { FormattedMessage } from 'react-intl';\n\nimport Body from '../components/Body';\nimport Container from '../components/Container';\nimport Footer from '../components/Footer';\nimport { Flex } from '../components/Grid';\nimport Header from '../components/Header';\nimport StyledButton from '../components/StyledButton';\nimport { H1, P } from '../components/Text';\n\nexport default function Custom404() {\n  return (\n    <div className=\"ErrorPage\" data-cy=\"error-page\">\n      <Header />\n      <Body>\n        <Container borderTop=\"1px solid #E8E9EB\" py={[5, 6]}>\n          <Flex data-cy=\"not-found\" flexDirection=\"column\" alignItems=\"center\">\n            <H1 textAlign=\"center\">\n              <FormattedMessage id=\"notFound\" defaultMessage=\"Not found\" />\n            </H1>\n            <P fontSize=\"3.6rem\" color=\"primary.500\" mt={4} mb={5}>\n              \\_()_/\n            </P>\n            <Flex flexWrap=\"wrap\" justifyContent=\"center\">\n              <StyledButton m={2} onClick={() => Router.back()}>\n                &larr; <FormattedMessage id=\"error.goBack\" defaultMessage=\"Go back to the previous page\" />\n              </StyledButton>\n            </Flex>\n          </Flex>\n        </Container>\n      </Body>\n      <Footer />\n    </div>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Code as CodeRepositoryGenericIcon } from '@styled-icons/fa-solid/Code';\nimport { Github } from '@styled-icons/feather/Github';\n\nconst CodeRepositoryIcon = ({ repositoryUrl, ...props }) => {\n  const isGithubUrl = repositoryUrl?.match(/^(https?:\\/\\/)?github\\.com\\//);\n  return isGithubUrl ? <Github {...props} /> : <CodeRepositoryGenericIcon {...props} />;\n};\n\nCodeRepositoryIcon.propTypes = {\n  repositoryUrl: PropTypes.string,\n};\n\nexport default CodeRepositoryIcon;\n","import React from 'react';\nimport { gql, useMutation, useQuery } from '@apollo/client';\nimport { Form, Formik } from 'formik';\nimport { FormattedMessage } from 'react-intl';\n\nimport { IGNORED_TAGS } from '../lib/constants/collectives';\nimport { API_V2_CONTEXT, gqlV1 } from '../lib/graphql/helpers';\nimport { Collective } from '../lib/graphql/types/v2/graphql';\n\nimport CollectiveTagsInput from './CollectiveTagsInput';\nimport { Flex } from './Grid';\nimport MessageBox from './MessageBox';\nimport StyledButton from './StyledButton';\nimport StyledInputFormikField from './StyledInputFormikField';\nimport StyledModal, { ModalBody, ModalFooter, ModalHeader } from './StyledModal';\nimport { TOAST_TYPE, useToasts } from './ToastProvider';\n\nconst editTagsMutation = gqlV1`\n  mutation editCollective(\n    $collective: CollectiveInputType!\n  ) {\n    editCollective(\n      collective: $collective\n    ) {\n      id\n      tags\n    }\n  }\n`;\n\nconst tagStatsQuery = gql`\n  query tagStats($host: AccountReferenceInput) {\n    tagStats(host: $host, limit: 5) {\n      nodes {\n        id\n        tag\n      }\n    }\n  }\n`;\n\nexport type EditTagsModalProps = {\n  collective: Collective;\n  onClose: () => void;\n};\n\nexport default function EditTagsModal({ collective, onClose }: EditTagsModalProps) {\n  const { addToast } = useToasts();\n  const [editTags, { loading }] = useMutation(editTagsMutation);\n\n  const { data: { tagStats } = { tagStats: null } } = useQuery(tagStatsQuery, {\n    variables: { ...(collective.host?.slug ? { host: { slug: collective.host.slug } } : {}) },\n    context: API_V2_CONTEXT,\n  });\n\n  const initialValues = {\n    tags: collective.tags,\n  };\n\n  const submit = async values => {\n    const { tags } = values;\n    try {\n      const variables = {\n        collective: {\n          id: collective.id,\n          tags: tags,\n        },\n      };\n\n      await editTags({ variables });\n    } catch (e) {\n      addToast({\n        type: TOAST_TYPE.ERROR,\n        message: (\n          <FormattedMessage\n            defaultMessage=\"Error submiting form: {error}\"\n            values={{\n              error: e.message,\n            }}\n          />\n        ),\n      });\n      return;\n    }\n    addToast({\n      type: TOAST_TYPE.SUCCESS,\n      message: <FormattedMessage defaultMessage=\"Successfully updated tags\" />,\n    });\n    handleClose();\n  };\n\n  const handleClose = () => {\n    onClose?.();\n  };\n\n  return (\n    <StyledModal flexGrow={1} maxWidth=\"500px\" onClose={handleClose} trapFocus>\n      <Formik initialValues={initialValues} onSubmit={submit}>\n        {formik => (\n          <Form onSubmit={formik.handleSubmit}>\n            {/* A hack to disable automatic focus from Formik on the tags input.  */}\n            {/* eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex */}\n            <div tabIndex={0} />\n            <ModalHeader onClose={handleClose} hideCloseIcon={true}>\n              <FormattedMessage defaultMessage=\"Edit tags\" />\n            </ModalHeader>\n            <ModalBody mb={0}>\n              <StyledInputFormikField\n                name=\"tags\"\n                htmlFor=\"tags\"\n                labelProps={{ fontWeight: 500, fontSize: '14px', lineHeight: '17px' }}\n              >\n                {({ field }) => {\n                  return (\n                    <CollectiveTagsInput\n                      {...field}\n                      defaultValue={formik.values.tags}\n                      onChange={tags => {\n                        formik.setFieldValue(\n                          'tags',\n                          tags.map(t => t.value.toLowerCase()),\n                        );\n                      }}\n                      suggestedTags={tagStats?.nodes?.map(node => node.tag).filter(tag => !IGNORED_TAGS.includes(tag))}\n                    />\n                  );\n                }}\n              </StyledInputFormikField>\n              <MessageBox type=\"info\" mt={3}>\n                <FormattedMessage\n                  id=\"collective.tags.info\"\n                  defaultMessage=\"Tags help you improve your groups discoverability and connect with similar initiatives across the world.\"\n                />\n              </MessageBox>\n            </ModalBody>\n            <ModalFooter isFullWidth>\n              <Flex justifyContent=\"flex-start\" flexWrap=\"wrap\" gap=\"16px\">\n                <StyledButton\n                  minWidth={132}\n                  buttonStyle=\"primary\"\n                  loading={loading}\n                  disabled={!formik.dirty}\n                  type=\"submit\"\n                >\n                  <FormattedMessage id=\"save\" defaultMessage=\"Save\" />\n                </StyledButton>\n                <StyledButton\n                  minWidth={132}\n                  buttonStyle=\"secondary\"\n                  disabled={loading}\n                  type=\"button\"\n                  onClick={handleClose}\n                >\n                  <FormattedMessage id=\"actions.cancel\" defaultMessage=\"Cancel\" />\n                </StyledButton>\n              </Flex>\n            </ModalFooter>\n          </Form>\n        )}\n      </Formik>\n    </StyledModal>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Link from './Link';\n\nconst UserCompany = ({ company, ...props }) => {\n  if (!company || company[0] !== '@') {\n    return company;\n  }\n\n  // This could be used to generate malicious URLs.\n  // By splitting on `/` we limit that risk.\n  const companySlug = company.split('/')[0].slice(1);\n  return (\n    <Link href={`/${companySlug}`} {...props}>\n      @{companySlug}\n    </Link>\n  );\n};\n\nUserCompany.propTypes = {\n  company: PropTypes.string,\n};\n\nexport default UserCompany;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Mutation } from '@apollo/client/react/components';\nimport { Check } from '@styled-icons/fa-solid/Check';\nimport { cloneDeep, set } from 'lodash';\nimport { FormattedMessage } from 'react-intl';\nimport styled, { withTheme } from 'styled-components';\nimport { isHexColor } from 'validator';\n\nimport defaultTheme from '../../../lib/theme';\n\nimport Container from '../../Container';\nimport { Box, Flex } from '../../Grid';\nimport StyledButton from '../../StyledButton';\nimport StyledCard from '../../StyledCard';\nimport StyledInput from '../../StyledInput';\nimport StyledInputGroup from '../../StyledInputGroup';\nimport { P } from '../../Text';\nimport { editCollectiveSettingsMutation } from '../graphql/mutations';\n\nconst colorPath = 'collectivePage.primaryColor';\n\nconst ColorPreset = styled.button`\n  cursor: pointer;\n  width: 30px;\n  height: 30px;\n  margin-right: 5px;\n  margin-bottom: 8px;\n  border-radius: 50%;\n  border: none;\n  transition: transform 0.1s;\n  &:hover {\n    transform: scale(1.25);\n  }\n`;\n\n// prettier-ignore\nconst PRESET_COLORS = [\n  '#BE2721', '#F65316', '#D17C07', '#1E824C', '#1D8882', '#1F3993', '#663299', '#2E3131',\n  '#E94531', '#ED7529', '#F89308', '#19B156', '#12ADA4', '#3062BC', '#9E28B4', '#6D7A89',\n  '#FA533E', '#F6A050', '#FFA413', '#1AC780', '#55C9BC', '#3E8DCE', '#B13BC6', '#95A5A6',\n];\n\n/** Ensure the color is formatted like #123456 */\nconst validateColor = value => isHexColor(value) && value.length === 7;\n\nconst CollectiveColorPicker = ({ collective, onChange, onClose, theme }) => {\n  const color = theme.colors.primary.base || theme.colors.primary[500];\n  const [textValue, setTextValue] = React.useState(color.replace('#', ''));\n  const [showError, setShowError] = React.useState(false);\n  const hasError = !validateColor(`#${textValue}`);\n  const dispatchValue = v => {\n    setTextValue(v.replace('#', ''));\n    onChange(v);\n  };\n\n  return (\n    <Mutation mutation={editCollectiveSettingsMutation}>\n      {(editSettings, { loading }) => (\n        <StyledCard\n          data-cy=\"collective-color-picker-card\"\n          flexDirection=\"column\"\n          boxShadow=\"4px 4px 10px #c7c5c5\"\n          maxWidth={360}\n        >\n          <Box px={32} py={24}>\n            <P fontSize=\"20px\" fontWeight={600} mb={3}>\n              <FormattedMessage id=\"CollectiveColorPicker.Title\" defaultMessage=\"Select page color\" />\n            </P>\n            <P fontSize=\"16px\" mb={3}>\n              <FormattedMessage id=\"CollectiveColorPicker.Preset\" defaultMessage=\"Preset colors\" />\n            </P>\n            <Flex flexWrap=\"wrap\" justifyContent=\"space-between\">\n              {PRESET_COLORS.map(preset => (\n                <ColorPreset\n                  data-cy=\"collective-color-picker-options-btn\"\n                  key={preset}\n                  style={{ background: preset }}\n                  onClick={() => dispatchValue(preset)}\n                >\n                  {color === preset && <Check size={12} color=\"white\" />}\n                </ColorPreset>\n              ))}\n            </Flex>\n            <P fontSize=\"16px\" mt={3} mb={2}>\n              <FormattedMessage id=\"CollectiveColorPicker.Custom\" defaultMessage=\"Use custom color\" />\n            </P>\n            <Flex>\n              <StyledInput\n                size={40}\n                flex=\"0 0 40px\"\n                px={2}\n                py={2}\n                background=\"white\"\n                borderRadius=\"50%\"\n                type=\"color\"\n                value={color}\n                disabled={loading}\n                onChange={e => {\n                  dispatchValue(e.target.value);\n                }}\n              />\n              <div>\n                <StyledInputGroup\n                  prepend=\"#\"\n                  placeholder=\"000000\"\n                  px={2}\n                  containerProps={{ ml: 2 }}\n                  value={textValue}\n                  maxLength={7}\n                  disabled={loading}\n                  onBlur={() => setShowError(true)}\n                  error={\n                    showError &&\n                    hasError && (\n                      <FormattedMessage\n                        id=\"CollectiveColorPicker.Error\"\n                        defaultMessage=\"Please use an hexadecimal value (eg. #3E8DCE)\"\n                      />\n                    )\n                  }\n                  onChange={e => {\n                    const newValue = e.target.value.replace('#', '');\n                    setTextValue(newValue);\n                    setShowError(false); // Don't show errors while typing\n                    const hexValue = `#${newValue}`;\n                    if (validateColor(hexValue)) {\n                      onChange(hexValue);\n                    }\n                  }}\n                />\n              </div>\n            </Flex>\n          </Box>\n          <Container borderTop=\"1px solid #D7DBE0\" px={2}>\n            <Flex justifyContent=\"space-between\" flexWrap=\"wrap\">\n              <StyledButton\n                m={2}\n                flex=\"1 1\"\n                textTransform=\"capitalize\"\n                onClick={() => {\n                  dispatchValue(defaultTheme.colors.primary[500]);\n                }}\n              >\n                <FormattedMessage id=\"Reset\" defaultMessage=\"Reset\" />\n              </StyledButton>\n              <Flex flex=\"1 1 50%\">\n                <StyledButton\n                  m={2}\n                  flex=\"1 1 50%\"\n                  textTransform=\"capitalize\"\n                  onClick={() => {\n                    onChange(null);\n                    onClose();\n                  }}\n                >\n                  <FormattedMessage id=\"form.cancel\" defaultMessage=\"cancel\" />\n                </StyledButton>\n                <StyledButton\n                  data-cy=\"collective-color-picker-save-btn\"\n                  m={2}\n                  buttonStyle=\"primary\"\n                  textTransform=\"capitalize\"\n                  flex=\"1 1 50%\"\n                  loading={loading}\n                  disabled={hasError}\n                  onClick={() => {\n                    const newSettings = cloneDeep(collective.settings || {});\n                    set(newSettings, colorPath, color);\n                    editSettings({\n                      variables: { id: collective.id, settings: newSettings },\n                    }).then(() => {\n                      onChange(null);\n                      onClose();\n                    });\n                  }}\n                >\n                  <FormattedMessage id=\"save\" defaultMessage=\"Save\" />\n                </StyledButton>\n              </Flex>\n            </Flex>\n          </Container>\n        </StyledCard>\n      )}\n    </Mutation>\n  );\n};\n\nCollectiveColorPicker.propTypes = {\n  collective: PropTypes.shape({\n    id: PropTypes.number,\n    settings: PropTypes.shape({\n      collectivePage: PropTypes.shape({\n        primaryColor: PropTypes.string,\n      }),\n    }),\n  }).isRequired,\n  onChange: PropTypes.func.isRequired,\n  onClose: PropTypes.func.isRequired,\n  /** @ignore from withTheme */\n  theme: PropTypes.object,\n};\n\nexport default withTheme(CollectiveColorPicker);\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { useMutation } from '@apollo/client';\nimport { Mutation } from '@apollo/client/react/components';\nimport { Camera } from '@styled-icons/feather/Camera';\nimport { inRange } from 'lodash';\nimport dynamic from 'next/dynamic';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport styled, { css } from 'styled-components';\n\nimport { upload } from '../../../lib/api';\nimport { isIndividualAccount } from '../../../lib/collective.lib';\nimport { AVATAR_HEIGHT_RANGE, AVATAR_WIDTH_RANGE } from '../../../lib/constants/collectives';\nimport { getAvatarBorderRadius } from '../../../lib/image-utils';\n\nimport Avatar from '../../Avatar';\nimport ConfirmationModal from '../../ConfirmationModal';\nimport Container from '../../Container';\nimport { Box } from '../../Grid';\nimport LoadingPlaceholder from '../../LoadingPlaceholder';\nimport StyledButton from '../../StyledButton';\nimport { DROPZONE_ACCEPT_IMAGES } from '../../StyledDropzone';\nimport { P, Span } from '../../Text';\nimport { TOAST_TYPE, useToasts } from '../../ToastProvider';\nimport { editCollectiveAvatarMutation } from '../graphql/mutations';\n\nconst AVATAR_SIZE = 128;\n\n// Dynamically import components for admins\nconst DropzoneLoadingPlaceholder = () => (\n  <LoadingPlaceholder height={AVATAR_SIZE} width={AVATAR_SIZE} color=\"primary.500\" borderRadius=\"25%\" />\n);\nconst dynamicParams = { loading: DropzoneLoadingPlaceholder, ssr: false };\nconst Dropzone = dynamic(() => import(/* webpackChunkName: 'react-dropzone' */ 'react-dropzone'), dynamicParams);\n\nconst EditOverlay = styled.div`\n  position: absolute;\n  width: 128px;\n  height: 128px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background: rgba(255, 255, 255, 0.75);\n  cursor: pointer;\n  text-align: center;\n  padding: 1em;\n  border-radius: ${props => props.borderRadius};\n`;\n\nconst EditableAvatarContainer = styled.div`\n  position: relative;\n  width: 128px;\n\n  ${props =>\n    !props.isDragActive &&\n    css`\n      &:not(:hover) ${EditOverlay} {\n        visibility: hidden;\n      }\n    `}\n`;\n\nconst EditingAvatarContainer = styled.div`\n  width: 128px;\n  height: 128px;\n  border: 2px dashed lightgrey;\n  border-radius: ${props => props.borderRadius};\n  clip-path: inset(0 0 0 0 round ${props => props.borderRadius});\n  img {\n    width: 100%;\n    height: 100%;\n  }\n`;\n\nconst Triangle = styled.div`\n  position: absolute;\n  font-size: 42px;\n  top: -45px;\n  left: 42px;\n  color: white;\n  text-shadow: -2px -3px 4px rgba(121, 121, 121, 0.5);\n`;\n\nconst HeroAvatar = ({ collective, isAdmin, intl }) => {\n  const [editing, setEditing] = React.useState(false);\n  const [showModal, setshowModal] = React.useState(false);\n  const [submitting, setSubmitting] = React.useState(false);\n  const [uploadedImage, setUploadedImage] = React.useState(null);\n  const borderRadius = getAvatarBorderRadius(collective.type);\n  const [editImage] = useMutation(editCollectiveAvatarMutation);\n  const { addToast, removeToasts } = useToasts();\n\n  const onDropImage = async ([image]) => {\n    if (image) {\n      Object.assign(image, { preview: URL.createObjectURL(image) });\n      const isValid = await validateImage(image);\n      if (isValid) {\n        setUploadedImage(image);\n        setEditing(true);\n      }\n    }\n  };\n\n  const validateImage = image => {\n    return new Promise(resolve => {\n      const img = new Image();\n      img.onload = () => {\n        if (\n          !inRange(img.width, ...AVATAR_WIDTH_RANGE) ||\n          !inRange(img.height, ...AVATAR_HEIGHT_RANGE) ||\n          image.size >= 5000000\n        ) {\n          addToast({\n            type: TOAST_TYPE.ERROR,\n            __isAvatarUploadError: true, // Flag to allow for easy removal of toast when a valid image is uploaded\n            message: intl.formatMessage(\n              {\n                id: 'uploadImage.sizeRejected',\n                defaultMessage:\n                  'Image resolution needs to be between {minResolution} and {maxResolution}. File size must be below {maxFileSize}.',\n              },\n              {\n                minResolution: `${AVATAR_WIDTH_RANGE[0]}x${AVATAR_HEIGHT_RANGE[0]}`,\n                maxResolution: `${AVATAR_WIDTH_RANGE[1]}x${AVATAR_HEIGHT_RANGE[1]}`,\n                maxFileSize: '5MB',\n              },\n            ),\n          });\n\n          resolve(false);\n        } else {\n          resolve(true);\n          removeToasts(toast => Boolean(toast.__isAvatarUploadError));\n        }\n      };\n      img.src = image.preview;\n    });\n  };\n\n  if (!isAdmin) {\n    return <Avatar collective={collective} radius={AVATAR_SIZE} />;\n  } else if (!editing) {\n    const imgType = isIndividualAccount(collective) ? 'AVATAR' : 'LOGO';\n    return (\n      <Fragment>\n        <Dropzone\n          style={{}}\n          multiple={false}\n          accept={DROPZONE_ACCEPT_IMAGES}\n          disabled={submitting}\n          inputProps={{ style: { width: 1 } }}\n          onDrop={onDropImage}\n        >\n          {({ isDragActive, isDragAccept, getRootProps, getInputProps }) => (\n            <div {...getRootProps()}>\n              <input data-cy=\"heroAvatarDropzone\" {...getInputProps()} />\n              <EditableAvatarContainer isDragActive={isDragActive}>\n                <EditOverlay borderRadius={borderRadius}>\n                  {!isDragActive && (\n                    <Box>\n                      <StyledButton buttonSize=\"tiny\" minWidth={120}>\n                        <Camera size={12} />\n                        <Span ml={2} css={{ verticalAlign: 'center' }}>\n                          <FormattedMessage\n                            id=\"HeroAvatar.Edit\"\n                            defaultMessage=\"Edit {imgType, select, AVATAR {avatar} other {logo}}\"\n                            values={{ imgType }}\n                          />\n                        </Span>\n                      </StyledButton>\n                      {collective.image && (\n                        <StyledButton\n                          buttonSize=\"tiny\"\n                          minWidth={120}\n                          mt={2}\n                          onClick={event => {\n                            event.stopPropagation();\n                            setshowModal(true);\n                          }}\n                        >\n                          <Span ml={2} css={{ verticalAlign: 'center' }}>\n                            <FormattedMessage\n                              id=\"HeroAvatar.Remove\"\n                              defaultMessage=\"Remove {imgType, select, AVATAR {avatar} other {logo}}\"\n                              values={{ imgType }}\n                            />\n                          </Span>\n                        </StyledButton>\n                      )}\n                    </Box>\n                  )}\n                  {isDragActive &&\n                    (isDragAccept ? (\n                      <FormattedMessage id=\"uploadImage.isDragActive\" defaultMessage=\"Drop it like it's hot \" />\n                    ) : (\n                      <FormattedMessage\n                        id=\"uploadImage.isDragReject\"\n                        defaultMessage=\" This file type is not accepted\"\n                      />\n                    ))}\n                </EditOverlay>\n                <Avatar collective={collective} radius={AVATAR_SIZE} />\n              </EditableAvatarContainer>\n            </div>\n          )}\n        </Dropzone>\n        {showModal && (\n          <ConfirmationModal\n            width=\"100%\"\n            maxWidth=\"570px\"\n            onClose={() => {\n              setshowModal(false);\n            }}\n            header={\n              <FormattedMessage\n                id=\"HeroAvatar.Remove\"\n                defaultMessage=\"Remove {imgType, select, AVATAR {avatar} other {logo}}\"\n                values={{ imgType }}\n              />\n            }\n            continueHandler={async () => {\n              setSubmitting(true); // Need this because `upload` is not a graphql function\n\n              try {\n                await editImage({ variables: { id: collective.id, image: null } });\n                setshowModal(false);\n              } finally {\n                setSubmitting(false);\n              }\n            }}\n          >\n            <P fontSize=\"14px\" lineHeight=\"18px\" mt={2}>\n              <FormattedMessage\n                id=\"HeroAvatar.Confirm.Remove\"\n                defaultMessage=\"Do you really want to remove your profile picture?\"\n              />\n            </P>\n          </ConfirmationModal>\n        )}\n      </Fragment>\n    );\n  } else {\n    return uploadedImage || collective.imageUrl ? (\n      <Mutation mutation={editCollectiveAvatarMutation}>\n        {editAvatar => (\n          <Fragment>\n            <EditingAvatarContainer borderRadius={borderRadius}>\n              <img\n                data-cy=\"collective-avatar-image-preview\"\n                src={uploadedImage ? uploadedImage.preview : collective.imageUrl}\n                alt=\"\"\n              />\n            </EditingAvatarContainer>\n            <Container\n              position=\"absolute\"\n              display=\"flex\"\n              mt={2}\n              p={2}\n              zIndex={2}\n              background=\"white\"\n              boxShadow=\"0px 3px 5px -2px #777777\"\n            >\n              <Triangle></Triangle>\n              <StyledButton\n                textTransform=\"capitalize\"\n                minWidth={150}\n                disabled={submitting}\n                onClick={() => {\n                  setUploadedImage(null);\n                  setEditing(false);\n                }}\n              >\n                <FormattedMessage id=\"form.cancel\" defaultMessage=\"cancel\" />\n              </StyledButton>\n              <StyledButton\n                data-cy=\"heroAvatarDropzoneSave\"\n                textTransform=\"capitalize\"\n                buttonStyle=\"primary\"\n                ml={3}\n                minWidth={150}\n                loading={submitting}\n                onClick={async () => {\n                  setSubmitting(true); // Need this because `upload` is not a graphql function\n\n                  try {\n                    // Upload image if changed or remove it\n                    let imgURL = collective.image;\n                    if (uploadedImage) {\n                      imgURL = await upload(uploadedImage, 'ACCOUNT_AVATAR');\n                    }\n\n                    // Update settings\n                    await editAvatar({ variables: { id: collective.id, image: imgURL } });\n\n                    // Reset\n                    setUploadedImage(null);\n                    setEditing(false);\n                  } finally {\n                    setSubmitting(false);\n                  }\n                }}\n              >\n                <FormattedMessage id=\"save\" defaultMessage=\"Save\" />\n              </StyledButton>\n            </Container>\n          </Fragment>\n        )}\n      </Mutation>\n    ) : (\n      <Avatar collective={collective} radius={AVATAR_SIZE} />\n    );\n  }\n};\n\nHeroAvatar.propTypes = {\n  collective: PropTypes.shape({\n    id: PropTypes.number,\n    type: PropTypes.string,\n    image: PropTypes.string,\n    imageUrl: PropTypes.string,\n  }).isRequired,\n  isAdmin: PropTypes.bool,\n  intl: PropTypes.object,\n};\n\nexport default injectIntl(HeroAvatar);\n","import React from 'react';\nimport { Discord } from '@styled-icons/fa-brands/Discord';\nimport { Discourse } from '@styled-icons/fa-brands/Discourse';\nimport { Mastodon } from '@styled-icons/fa-brands/Mastodon';\nimport { Meetup } from '@styled-icons/fa-brands/Meetup';\nimport { Tiktok } from '@styled-icons/fa-brands/Tiktok';\nimport { Tumblr } from '@styled-icons/fa-brands/Tumblr';\nimport { Facebook } from '@styled-icons/feather/Facebook';\nimport { Github } from '@styled-icons/feather/Github';\nimport { Gitlab } from '@styled-icons/feather/Gitlab';\nimport { Globe } from '@styled-icons/feather/Globe';\nimport { Instagram } from '@styled-icons/feather/Instagram';\nimport { Linkedin } from '@styled-icons/feather/Linkedin';\nimport { Slack } from '@styled-icons/feather/Slack';\nimport { Twitter } from '@styled-icons/feather/Twitter';\nimport { Youtube } from '@styled-icons/feather/Youtube';\nimport { Pixelfed } from '@styled-icons/remix-line/Pixelfed';\n\nimport { SocialLink, SocialLinkType } from '../../../lib/graphql/types/v2/graphql';\n\nimport StyledLink from '../../StyledLink';\nimport StyledRoundButton from '../../StyledRoundButton';\n\nconst SocialLinkIcon = {\n  [SocialLinkType.DISCORD]: Discord,\n  [SocialLinkType.FACEBOOK]: Facebook,\n  [SocialLinkType.GITHUB]: Github,\n  [SocialLinkType.GITLAB]: Gitlab,\n  [SocialLinkType.INSTAGRAM]: Instagram,\n  [SocialLinkType.MASTODON]: Mastodon,\n  [SocialLinkType.MATTERMOST]: Globe,\n  [SocialLinkType.TWITTER]: Twitter,\n  [SocialLinkType.YOUTUBE]: Youtube,\n  [SocialLinkType.TUMBLR]: Tumblr,\n  [SocialLinkType.MEETUP]: Meetup,\n  [SocialLinkType.SLACK]: Slack,\n  [SocialLinkType.LINKEDIN]: Linkedin,\n  [SocialLinkType.GIT]: Globe,\n  [SocialLinkType.WEBSITE]: Globe,\n  [SocialLinkType.DISCOURSE]: Discourse,\n  [SocialLinkType.PIXELFED]: Pixelfed,\n  [SocialLinkType.GHOST]: Globe,\n  [SocialLinkType.PEERTUBE]: Globe,\n  [SocialLinkType.TIKTOK]: Tiktok,\n};\n\nfunction iconForSocialLinkType(type: SocialLinkType) {\n  return SocialLinkIcon[type] || Globe;\n}\n\nexport type HeroSocialLinksProps = {\n  socialLinks: SocialLink[];\n  relMe?: boolean;\n};\n\nexport default function HeroSocialLinks({ socialLinks, relMe }: HeroSocialLinksProps) {\n  return socialLinks.map((socialLink, index) => {\n    const Icon = iconForSocialLinkType(socialLink.type);\n    return (\n      <StyledLink\n        key={socialLink.type + socialLink.url}\n        data-cy={`social-link-${index}`}\n        href={socialLink.url}\n        openInNewTabNoFollow={!relMe}\n        openInNewTabNoFollowRelMe={!!relMe}\n      >\n        <StyledRoundButton size={32} mr={3}>\n          <Icon size={12} />\n        </StyledRoundButton>\n      </StyledLink>\n    );\n  });\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useQuery } from '@apollo/client';\nimport { get } from 'lodash';\nimport { FormattedMessage } from 'react-intl';\n\nimport { gqlV1 } from '../../../lib/graphql/helpers';\n\nimport FormattedMoneyAmount from '../../FormattedMoneyAmount';\nimport { Box } from '../../Grid';\nimport { P } from '../../Text';\n\nexport const totalCollectiveContributionsQuery = gqlV1/* GraphQL */ `\n  query HeroTotalCollectiveContributions($slug: String!) {\n    Collective(slug: $slug) {\n      id\n      currency\n      stats {\n        id\n        totalAmountSpent\n      }\n    }\n  }\n`;\n\nexport const getTotalCollectiveContributionsQueryVariables = slug => {\n  return { slug };\n};\n\nconst amountStyles = { fontSize: '20px', fontWeight: 'bold' };\n\n/**\n * This component fetches its own data because we don't want to query these fields\n * for regular collective.\n */\nconst HeroTotalCollectiveContributionsWithData = ({ collective }) => {\n  const { data, loading, error } = useQuery(totalCollectiveContributionsQuery, {\n    variables: getTotalCollectiveContributionsQueryVariables(collective.slug),\n  });\n\n  if (error || loading || !get(data, 'Collective.stats.totalAmountSpent')) {\n    return null;\n  }\n\n  const { stats, currency } = data.Collective;\n  return (\n    <Box my={2} data-cy=\"hero-total-amount-contributed\">\n      <P fontSize=\"10px\" textTransform=\"uppercase\">\n        <FormattedMessage id=\"membership.totalDonations\" defaultMessage=\"Total amount contributed\" />\n      </P>\n      <FormattedMoneyAmount amount={stats.totalAmountSpent} currency={currency} amountStyles={amountStyles} />\n    </Box>\n  );\n};\n\nHeroTotalCollectiveContributionsWithData.propTypes = {\n  collective: PropTypes.shape({\n    slug: PropTypes.string,\n  }),\n};\n\nexport default HeroTotalCollectiveContributionsWithData;\n","import React, { Fragment, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Tags } from '@styled-icons/bootstrap/Tags';\nimport { Palette } from '@styled-icons/boxicons-regular/Palette';\nimport { Camera } from '@styled-icons/feather/Camera';\nimport { Globe } from '@styled-icons/feather/Globe';\nimport { Mail } from '@styled-icons/feather/Mail';\nimport { Twitter } from '@styled-icons/feather/Twitter';\nimport { first } from 'lodash';\nimport dynamic from 'next/dynamic';\nimport { defineMessages, FormattedMessage, useIntl } from 'react-intl';\nimport styled from 'styled-components';\n\nimport { CollectiveType } from '../../../lib/constants/collectives';\nimport useLoggedInUser from '../../../lib/hooks/useLoggedInUser';\nimport { twitterProfileUrl } from '../../../lib/url-helpers';\n\nimport CodeRepositoryIcon from '../../CodeRepositoryIcon';\nimport ContactCollectiveBtn from '../../ContactCollectiveBtn';\nimport Container from '../../Container';\nimport DefinedTerm, { Terms } from '../../DefinedTerm';\nimport EditTagsModal from '../../EditTagsModal';\nimport { Box, Flex } from '../../Grid';\nimport I18nCollectiveTags from '../../I18nCollectiveTags';\nimport Link from '../../Link';\nimport LinkCollective from '../../LinkCollective';\nimport LoadingPlaceholder from '../../LoadingPlaceholder';\nimport StyledButton from '../../StyledButton';\nimport { Dropdown, DropdownContent } from '../../StyledDropdown';\nimport { EditTag } from '../../StyledInputTags';\nimport StyledLink from '../../StyledLink';\nimport StyledModal from '../../StyledModal';\nimport StyledRoundButton from '../../StyledRoundButton';\nimport StyledTag from '../../StyledTag';\nimport { H1, Span } from '../../Text';\nimport TruncatedTextWithTooltip from '../../TruncatedTextWithTooltip';\nimport UserCompany from '../../UserCompany';\nimport ContainerSectionContent from '../ContainerSectionContent';\n\nimport CollectiveColorPicker from './CollectiveColorPicker';\nimport HeroAvatar from './HeroAvatar';\nimport HeroBackground from './HeroBackground';\nimport HeroSocialLinks from './HeroSocialLinks';\nimport HeroTotalCollectiveContributionsWithData from './HeroTotalCollectiveContributionsWithData';\n\n// Dynamic imports\nconst HeroEventDetails = dynamic(() => import('./HeroEventDetails'));\n\nconst HeroBackgroundCropperModal = dynamic(() => import('./HeroBackgroundCropperModal'), {\n  loading() {\n    return (\n      <StyledModal>\n        <LoadingPlaceholder height={300} minWidth={280} />\n      </StyledModal>\n    );\n  },\n});\n\nconst Translations = defineMessages({\n  website: {\n    id: 'Fields.website',\n    defaultMessage: 'Website',\n  },\n});\n\nconst StyledShortDescription = styled.h2`\n  margin-top: 8px;\n  font-size: 16px;\n  line-height: 24px;\n\n  @media (min-width: 40em) {\n    text-align: left;\n  }\n\n  @media (min-width: 64em) {\n    max-width: 600px;\n  }\n\n  @media (min-width: 88em) {\n    max-width: 750px;\n  }\n`;\n\nconst HiddenTagDropdownContainer = styled(Box)`\n  text-align: center;\n  width: 132px;\n  max-height: 300px;\n  overflow: auto;\n`;\n\nconst HiddenTagItem = styled(StyledLink)`\n  color: #323334;\n  font-weight: 500;\n  font-size: 14px;\n  @media (hover: hover) {\n    :hover {\n      text-decoration: underline;\n    }\n  }\n`;\n\n/**\n * Collective's page Hero/Banner/Cover component.\n */\nconst Hero = ({ collective, host, isAdmin, onPrimaryColorChange }) => {\n  const intl = useIntl();\n  const { LoggedInUser } = useLoggedInUser();\n  const [hasColorPicker, showColorPicker] = React.useState(false);\n  const [isEditingCover, editCover] = React.useState(false);\n  const [isEditingTags, editTags] = React.useState(false);\n  const isEditing = hasColorPicker || isEditingCover;\n  const isCollective = collective.type === CollectiveType.COLLECTIVE;\n  const isEvent = collective.type === CollectiveType.EVENT;\n  const isProject = collective.type === CollectiveType.PROJECT;\n  const isFund = collective.type === CollectiveType.FUND;\n  const parentIsHost = host && collective.parentCollective?.id === host.id;\n  const firstConnectedAccount = first(collective.connectedTo);\n  const connectedAccountIsHost = firstConnectedAccount && host && firstConnectedAccount.collective.id === host.id;\n  const displayedConnectedAccount = connectedAccountIsHost ? null : firstConnectedAccount;\n  // get only unique references\n  const companies = [...new Set(collective.company?.trim().toLowerCase().split(' '))];\n  const tagCount = collective.tags?.length;\n  const displayedTags = collective.tags?.slice(0, 3);\n  const hiddenTags = collective.tags?.slice(3);\n  const numberOfHiddenTags = hiddenTags?.length;\n\n  // Cancel edit mode when user navigates out to another collective\n  useEffect(() => {\n    editCover(false);\n    showColorPicker(false);\n  }, [collective.id]);\n\n  const hasSocialLinks = collective.socialLinks && collective.socialLinks.length > 0;\n\n  return (\n    <Fragment>\n      {isEditingCover && <HeroBackgroundCropperModal collective={collective} onClose={() => editCover(false)} />}\n      {isEditingTags && <EditTagsModal collective={collective} onClose={() => editTags(false)} />}\n\n      <Container position=\"relative\" minHeight={325} zIndex={1000} data-cy=\"collective-hero\">\n        <HeroBackground collective={collective} />\n        {isAdmin && !isEditing && (\n          <Container data-cy=\"edit-collective-display-features\" position=\"absolute\" right={25} top={25} zIndex={222}>\n            <StyledButton data-cy=\"edit-cover-btn\" buttonSize=\"tiny\" onClick={() => editCover(true)}>\n              <Camera size=\"1.2em\" />\n              <Span ml={2} css={{ verticalAlign: 'middle' }}>\n                <FormattedMessage id=\"Hero.EditCover\" defaultMessage=\"Edit cover\" />\n              </Span>\n            </StyledButton>\n            <StyledButton data-cy=\"edit-main-color-btn\" buttonSize=\"tiny\" ml={3} onClick={() => showColorPicker(true)}>\n              <Palette size=\"1.2em\" />\n              <Span ml={2} css={{ verticalAlign: 'middle' }}>\n                <FormattedMessage id=\"Hero.EditColor\" defaultMessage=\"Edit main color\" />\n              </Span>\n            </StyledButton>\n          </Container>\n        )}\n        {hasColorPicker && (\n          <Container position=\"fixed\" right={25} top={72} zIndex={99999}>\n            <CollectiveColorPicker\n              collective={collective}\n              onChange={onPrimaryColorChange}\n              onClose={() => showColorPicker(false)}\n            />\n          </Container>\n        )}\n        <ContainerSectionContent pt={40} display=\"flex\" flexDirection=\"column\">\n          {/* Collective presentation (name, logo, description...) */}\n          <Container position=\"relative\" mb={2} width={128}>\n            <HeroAvatar collective={collective} isAdmin={isAdmin} />\n          </Container>\n          <Box maxWidth={['70%', '60%', null, '40%', '45%']}>\n            <H1\n              color=\"black.800\"\n              fontSize=\"32px\"\n              lineHeight=\"36px\"\n              textAlign=\"left\"\n              data-cy=\"collective-title\"\n              wordBreak=\"normal\"\n            >\n              {collective.name || collective.slug}\n            </H1>\n          </Box>\n          <Flex>\n            {companies.length > 0 &&\n              companies.map(company => (\n                <StyledLink key={company} as={UserCompany} mr={1} fontSize=\"20px\" fontWeight={600} company={company} />\n              ))}\n          </Flex>\n          {!isEvent && (\n            <Fragment>\n              {(isCollective || isFund || isProject) && (\n                <Flex my=\"30px\" mb={2} flexWrap=\"wrap\" data-cy=\"collective-tags\">\n                  <StyledTag\n                    textTransform=\"uppercase\"\n                    variant=\"rounded-left\"\n                    backgroundColor=\"black.200\"\n                    mt={['5px', 0]}\n                    fontWeight={500}\n                  >\n                    <I18nCollectiveTags tags={collective.type} />\n                  </StyledTag>\n                  {tagCount > 0 && (\n                    <Fragment>\n                      <Container borderRight=\"1px solid #C3C6CB\" height=\"22px\" padding=\"5px\" mt={['5px', 0]} />\n                      {displayedTags.map(tag => (\n                        <Link key={tag} href={`/search?tag=${tag}`}>\n                          <StyledTag variant=\"rounded-right\" ml=\"10px\" mt={['5px', 0]} fontWeight={500}>\n                            <I18nCollectiveTags tags={tag} />\n                          </StyledTag>\n                        </Link>\n                      ))}\n                      {tagCount > 3 && (\n                        <Dropdown trigger=\"click\">\n                          {({ triggerProps, dropdownProps }) => (\n                            <React.Fragment>\n                              <StyledTag\n                                as={StyledButton}\n                                border=\"none\"\n                                variant=\"rounded-right\"\n                                ml=\"10px\"\n                                mt={['5px', 0]}\n                                fontWeight={500}\n                                {...triggerProps}\n                              >\n                                <FormattedMessage\n                                  id=\"expenses.countMore\"\n                                  defaultMessage=\"+ {count} more\"\n                                  values={{ count: tagCount - 3 }}\n                                />\n                              </StyledTag>\n                              <DropdownContent {...dropdownProps} style={{ marginTop: '6px' }}>\n                                <HiddenTagDropdownContainer>\n                                  {hiddenTags.slice(0, numberOfHiddenTags - 1).map(tag => (\n                                    <Fragment key={tag}>\n                                      <Link href={`/search?tag=${tag}`}>\n                                        <HiddenTagItem as={Container} mt={16} mb={16}>\n                                          <I18nCollectiveTags tags={tag} />\n                                        </HiddenTagItem>\n                                      </Link>\n                                      <hr />\n                                    </Fragment>\n                                  ))}\n                                  <Link href={`/search?tag=${hiddenTags[numberOfHiddenTags - 1]}`}>\n                                    <HiddenTagItem as={Container} mt={16} mb={16}>\n                                      <I18nCollectiveTags tags={hiddenTags[numberOfHiddenTags - 1]} />\n                                    </HiddenTagItem>\n                                  </Link>\n                                </HiddenTagDropdownContainer>\n                              </DropdownContent>\n                            </React.Fragment>\n                          )}\n                        </Dropdown>\n                      )}\n                    </Fragment>\n                  )}\n                  {isAdmin && (\n                    <EditTag ml=\"10px\" mt={['5px', 0]} active={isEditingTags} onClick={() => editTags(true)}>\n                      <Tags size=\"14px\" />{' '}\n                      <Span ml=\"4px\" letterSpacing={0}>\n                        <FormattedMessage id=\"StyledInputTags.EditLabel\" defaultMessage=\"Edit Tags\" />\n                      </Span>\n                    </EditTag>\n                  )}\n                </Flex>\n              )}\n              <Flex alignItems=\"center\" flexWrap=\"wrap\">\n                <Flex my={2}>\n                  {collective.canContact && (\n                    <ContactCollectiveBtn collective={collective} LoggedInUser={LoggedInUser}>\n                      {btnProps => (\n                        <StyledRoundButton {...btnProps} size={32} mr={3} title=\"Contact\" aria-label=\"Contact\">\n                          <Mail size={12} />\n                        </StyledRoundButton>\n                      )}\n                    </ContactCollectiveBtn>\n                  )}\n                  {hasSocialLinks && <HeroSocialLinks socialLinks={collective.socialLinks} relMe />}\n                  {!hasSocialLinks && collective.twitterHandle && (\n                    <StyledLink\n                      data-cy=\"twitterProfileUrl\"\n                      href={twitterProfileUrl(collective.twitterHandle)}\n                      openInNewTabNoFollowRelMe\n                    >\n                      <StyledRoundButton size={32} mr={3} title=\"Twitter\" aria-label=\"Twitter link\">\n                        <Twitter size={12} />\n                      </StyledRoundButton>\n                    </StyledLink>\n                  )}\n                  {!hasSocialLinks && collective.website && (\n                    <StyledLink data-cy=\"collectiveWebsite\" href={collective.website} openInNewTabNoFollowRelMe>\n                      <StyledRoundButton\n                        size={32}\n                        mr={3}\n                        title={intl.formatMessage(Translations.website)}\n                        aria-label=\"Website link\"\n                      >\n                        <Globe size={14} />\n                      </StyledRoundButton>\n                    </StyledLink>\n                  )}\n                  {!hasSocialLinks && collective.repositoryUrl && (\n                    <StyledLink data-cy=\"repositoryUrl\" href={collective.repositoryUrl} openInNewTabNoFollowRelMe>\n                      <StyledButton buttonSize=\"tiny\" color=\"black.700\" height={32} mr={3}>\n                        <CodeRepositoryIcon size={12} repositoryUrl={collective.repositoryUrl} />\n                        <Span ml={2}>\n                          <FormattedMessage defaultMessage=\"Code repository\" />\n                        </Span>\n                      </StyledButton>\n                    </StyledLink>\n                  )}\n                </Flex>\n                {Boolean(!parentIsHost && collective.parentCollective) && (\n                  <Container mx={1} color=\"black.700\" my=\"12px\">\n                    <FormattedMessage\n                      id=\"Collective.Hero.ParentCollective\"\n                      defaultMessage=\"Part of: {parentName}\"\n                      values={{\n                        parentName: (\n                          <StyledLink as={LinkCollective} collective={collective.parentCollective} noTitle>\n                            <TruncatedTextWithTooltip value={collective.parentCollective.name} cursor=\"pointer\" />\n                          </StyledLink>\n                        ),\n                      }}\n                    />\n                  </Container>\n                )}\n                {host && collective.isApproved && host.id !== collective.id && !collective.isHost && (\n                  <Fragment>\n                    <Container mx={1} color=\"black.700\" my={2}>\n                      <FormattedMessage\n                        id=\"Collective.Hero.Host\"\n                        defaultMessage=\"{FiscalHost}: {hostName}\"\n                        values={{\n                          FiscalHost: <DefinedTerm term={Terms.FISCAL_HOST} color=\"black.700\" />,\n                          hostName: (\n                            <StyledLink\n                              as={LinkCollective}\n                              collective={host}\n                              data-cy=\"fiscalHostName\"\n                              noTitle\n                              color=\"black.700\"\n                            >\n                              <TruncatedTextWithTooltip value={host.name} cursor=\"pointer\" />\n                            </StyledLink>\n                          ),\n                        }}\n                      />\n                    </Container>\n                    {displayedConnectedAccount && (\n                      <Container mx={1} color=\"black.700\" my=\"12px\">\n                        <FormattedMessage\n                          id=\"Collective.Hero.ParentCollective\"\n                          defaultMessage=\"Part of: {parentName}\"\n                          values={{\n                            parentName: (\n                              <StyledLink\n                                as={LinkCollective}\n                                collective={displayedConnectedAccount.collective}\n                                noTitle\n                                color=\"black.700\"\n                              >\n                                <TruncatedTextWithTooltip\n                                  value={displayedConnectedAccount.collective.name}\n                                  cursor=\"pointer\"\n                                />\n                              </StyledLink>\n                            ),\n                          }}\n                        />\n                      </Container>\n                    )}\n                  </Fragment>\n                )}\n                {collective.isHost && (\n                  <Fragment>\n                    {collective.type !== CollectiveType.COLLECTIVE && (\n                      <Fragment>\n                        {collective.settings?.tos && (\n                          <StyledLink\n                            openInNewTab\n                            href={collective.settings.tos}\n                            borderBottom=\"2px dotted #969ba3\"\n                            color=\"black.700\"\n                            textDecoration=\"none\"\n                            fontSize=\"12px\"\n                            mr={2}\n                          >\n                            <FormattedMessage id=\"host.tos\" defaultMessage=\"Terms of fiscal hosting\" />\n                          </StyledLink>\n                        )}\n                        <Container ml={2} mr={3} color=\"black.700\" fontSize=\"12px\">\n                          <FormattedMessage\n                            id=\"Hero.HostFee\"\n                            defaultMessage=\"Host fee: {fee}\"\n                            values={{\n                              fee: (\n                                <DefinedTerm term={Terms.HOST_FEE} color=\"black.700\">\n                                  {collective.hostFeePercent || 0}%\n                                </DefinedTerm>\n                              ),\n                            }}\n                          />\n                        </Container>\n                      </Fragment>\n                    )}\n                    {collective.platformFeePercent > 0 && (\n                      <Container ml={2} mr={3} color=\"black.700\" fontSize=\"12px\">\n                        <FormattedMessage\n                          id=\"Hero.PlatformFee\"\n                          defaultMessage=\"Platform fee: {fee}\"\n                          values={{\n                            fee: (\n                              <DefinedTerm term={Terms.PLATFORM_FEE} color=\"black.700\">\n                                {collective.platformFeePercent || 0}%\n                              </DefinedTerm>\n                            ),\n                          }}\n                        />\n                      </Container>\n                    )}\n                  </Fragment>\n                )}\n              </Flex>\n            </Fragment>\n          )}\n          <StyledShortDescription>{collective.description}</StyledShortDescription>\n          {isEvent && (\n            <HeroEventDetails\n              collective={collective}\n              host={host}\n              displayedConnectedAccount={displayedConnectedAccount}\n            />\n          )}\n\n          {!collective.isHost && [CollectiveType.USER, CollectiveType.ORGANIZATION].includes(collective.type) && (\n            <HeroTotalCollectiveContributionsWithData collective={collective} />\n          )}\n        </ContainerSectionContent>\n      </Container>\n    </Fragment>\n  );\n};\n\nHero.propTypes = {\n  /** The collective to display */\n  collective: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    type: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    slug: PropTypes.string.isRequired,\n    company: PropTypes.string,\n    isApproved: PropTypes.bool,\n    backgroundImage: PropTypes.string,\n    backgroundImageUrl: PropTypes.string,\n    canContact: PropTypes.bool,\n    twitterHandle: PropTypes.string,\n    repositoryUrl: PropTypes.string,\n    website: PropTypes.string,\n    socialLinks: PropTypes.arrayOf(PropTypes.object),\n    description: PropTypes.string,\n    isHost: PropTypes.bool,\n    hostFeePercent: PropTypes.number,\n    platformFeePercent: PropTypes.number,\n    tags: PropTypes.arrayOf(PropTypes.string),\n    settings: PropTypes.shape({\n      tos: PropTypes.string,\n    }).isRequired,\n    connectedTo: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        collective: PropTypes.shape({\n          id: PropTypes.number,\n          name: PropTypes.string.isRequired,\n          slug: PropTypes.string.isRequired,\n        }),\n      }),\n    ),\n    parentCollective: PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n      slug: PropTypes.string,\n    }),\n  }).isRequired,\n\n  /** Collective's host */\n  host: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    slug: PropTypes.string.isRequired,\n  }),\n\n  /** Show the color picker input */\n  onPrimaryColorChange: PropTypes.func.isRequired,\n\n  /** Define if we need to display special actions like the \"Edit collective\" button */\n  isAdmin: PropTypes.bool,\n};\n\nexport default React.memo(Hero);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport dynamic from 'next/dynamic';\nimport { defineMessages, FormattedMessage, injectIntl } from 'react-intl';\n\nimport { CollectiveType } from '../../../lib/constants/collectives';\n\nimport Container from '../../Container';\nimport { Flex } from '../../Grid';\nimport HTMLContent, { isEmptyValue } from '../../HTMLContent';\nimport InlineEditField from '../../InlineEditField';\nimport LoadingPlaceholder from '../../LoadingPlaceholder';\nimport MessageBox from '../../MessageBox';\nimport StyledButton from '../../StyledButton';\nimport { Span } from '../../Text';\nimport ContainerSectionContent from '../ContainerSectionContent';\nimport { editCollectiveLongDescriptionMutation } from '../graphql/mutations';\n\n// Dynamicly load RichTextEditor to download it only if user can edit the page\nconst RichTextEditorLoadingPlaceholder = () => <LoadingPlaceholder height={400} />;\nconst RichTextEditor = dynamic(() => import('../../RichTextEditor'), {\n  loading: RichTextEditorLoadingPlaceholder,\n  ssr: false, // No need for SSR as user needs to be logged in\n});\n\nconst messages = defineMessages({\n  placeholder: {\n    id: 'CollectivePage.AddLongDescription',\n    defaultMessage: 'Add description',\n  },\n});\n\n/**\n * About section category with editable description\n */\nconst SectionAbout = ({ collective, canEdit, intl }) => {\n  const isEmptyDescription = isEmptyValue(collective.longDescription);\n  const isCollective = collective.type === CollectiveType.COLLECTIVE;\n  const isFund = collective.type === CollectiveType.FUND;\n  canEdit = collective.isArchived ? false : canEdit;\n\n  return (\n    <ContainerSectionContent px={2} pb={5}>\n      <Container width=\"100%\" maxWidth={700} margin=\"0 auto\" mt={4}>\n        <InlineEditField\n          mutation={editCollectiveLongDescriptionMutation}\n          values={collective}\n          field=\"longDescription\"\n          canEdit={canEdit}\n          topEdit={-20}\n          showEditIcon={!isEmptyDescription}\n          formatBeforeSubmit={v => (isEmptyValue(v) ? null : v)}\n          prepareVariables={(collective, longDescription) => ({\n            id: collective.id,\n            longDescription: isEmptyValue(longDescription) ? null : longDescription,\n          })}\n        >\n          {({ isEditing, value, setValue, enableEditor, setUploading }) => {\n            if (isEditing) {\n              return (\n                <RichTextEditor\n                  kind=\"ACCOUNT_LONG_DESCRIPTION\"\n                  defaultValue={collective.longDescription}\n                  onChange={e => setValue(e.target.value)}\n                  placeholder={intl.formatMessage(messages.placeholder)}\n                  toolbarTop={[56, 64]}\n                  toolbarBackgroundColor=\"#F7F8FA\"\n                  withStickyToolbar\n                  videoEmbedEnabled\n                  autoFocus\n                  setUploading={setUploading}\n                />\n              );\n            } else if (isEmptyDescription) {\n              return (\n                <Flex justifyContent=\"center\">\n                  {canEdit ? (\n                    <Flex flexDirection=\"column\" alignItems=\"center\">\n                      {isCollective && !isFund && (\n                        <MessageBox type=\"info\" withIcon fontStyle=\"italic\" fontSize=\"14px\" mb={4}>\n                          <FormattedMessage\n                            id=\"SectionAbout.Why\"\n                            defaultMessage=\"Tell your story and explain your purpose.\"\n                          />\n                        </MessageBox>\n                      )}\n                      <StyledButton buttonSize=\"large\" onClick={enableEditor}>\n                        <FormattedMessage id=\"CollectivePage.AddLongDescription\" defaultMessage=\"Add description\" />\n                      </StyledButton>\n                    </Flex>\n                  ) : (\n                    <Span color=\"black.500\" fontStyle=\"italic\">\n                      <FormattedMessage\n                        id=\"SectionAbout.MissingDescription\"\n                        defaultMessage=\"{collectiveName} hasn't provided this information yet.\"\n                        values={{ collectiveName: collective.name }}\n                      />\n                    </Span>\n                  )}\n                </Flex>\n              );\n            } else {\n              return <HTMLContent content={value} data-cy=\"longDescription\" />;\n            }\n          }}\n        </InlineEditField>\n      </Container>\n    </ContainerSectionContent>\n  );\n};\n\nSectionAbout.propTypes = {\n  /** The collective to display description for */\n  collective: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    longDescription: PropTypes.string,\n    name: PropTypes.string,\n    type: PropTypes.string,\n    isArchived: PropTypes.bool,\n    settings: PropTypes.object,\n    currency: PropTypes.string,\n  }).isRequired,\n\n  /** Can user edit the description? */\n  canEdit: PropTypes.bool,\n\n  /** @ignore from injectIntl */\n  intl: PropTypes.object,\n};\n\nexport default React.memo(injectIntl(SectionAbout));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage, injectIntl } from 'react-intl';\n\nimport { CONTRIBUTE_CARD_WIDTH } from '../../contribute-cards/constants';\nimport { CONTRIBUTE_CARD_PADDING_X } from '../../contribute-cards/ContributeCardContainer';\nimport ContributeCollective from '../../contribute-cards/ContributeCollective';\nimport { Box } from '../../Grid';\nimport HorizontalScroller from '../../HorizontalScroller';\nimport Link from '../../Link';\nimport StyledButton from '../../StyledButton';\nimport { H3 } from '../../Text';\nimport ContainerSectionContent from '../ContainerSectionContent';\nimport ContributeCardsContainer from '../ContributeCardsContainer';\n\nclass ConnectedCollectives extends React.PureComponent {\n  static propTypes = {\n    /** Collective */\n    collective: PropTypes.shape({\n      slug: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n      isActive: PropTypes.bool,\n    }).isRequired,\n    connectedCollectives: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        contributors: PropTypes.arrayOf(PropTypes.object),\n      }),\n    ),\n  };\n\n  getContributeCardsScrollDistance = width => {\n    const oneCardScrollDistance = CONTRIBUTE_CARD_WIDTH + CONTRIBUTE_CARD_PADDING_X[0] * 2;\n    if (width <= oneCardScrollDistance * 2) {\n      return oneCardScrollDistance;\n    } else if (width <= oneCardScrollDistance * 4) {\n      return oneCardScrollDistance * 2;\n    } else {\n      return oneCardScrollDistance * 3;\n    }\n  };\n\n  render() {\n    const { collective, connectedCollectives } = this.props;\n\n    if (!connectedCollectives?.length) {\n      return null;\n    }\n\n    return (\n      <Box pb={4}>\n        <ContainerSectionContent>\n          <H3 fontSize={['20px', '24px', '32px']} fontWeight=\"normal\" color=\"black.700\">\n            <FormattedMessage id=\"ConnectedCollectives\" defaultMessage=\"Connected Collectives\" />\n          </H3>\n        </ContainerSectionContent>\n        <HorizontalScroller\n          container={ContributeCardsContainer}\n          getScrollDistance={this.getContributeCardsScrollDistance}\n        >\n          {connectedCollectives.map(({ id, collective }) => (\n            <Box key={id} px={CONTRIBUTE_CARD_PADDING_X}>\n              <ContributeCollective collective={collective} />\n            </Box>\n          ))}\n        </HorizontalScroller>\n        {Boolean(connectedCollectives.length > 6) && (\n          <ContainerSectionContent>\n            <Link href={`/${collective.slug}/connected-collectives`}>\n              <StyledButton mt={4} width={1} buttonSize=\"small\" fontSize=\"14px\">\n                <FormattedMessage id=\"ConnectedCollectives.ViewAll\" defaultMessage=\"View all connected collectives\" /> \n              </StyledButton>\n            </Link>\n          </ContainerSectionContent>\n        )}\n      </Box>\n    );\n  }\n}\n\nexport default injectIntl(ConnectedCollectives);\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql } from '@apollo/client/react/hoc';\nimport { cloneDeep, get, orderBy, set } from 'lodash';\nimport memoizeOne from 'memoize-one';\nimport dynamic from 'next/dynamic';\nimport { FormattedMessage } from 'react-intl';\n\nimport { CollectiveType } from '../../../lib/constants/collectives';\nimport { TierTypes } from '../../../lib/constants/tiers-types';\nimport { getErrorFromGraphqlException } from '../../../lib/errors';\nimport { isPastEvent } from '../../../lib/events';\nimport { API_V2_CONTEXT } from '../../../lib/graphql/helpers';\nimport { getCollectiveContributionCardsOrder, TIERS_ORDER_KEY } from '../../../lib/tier-utils';\nimport { getCollectivePageRoute } from '../../../lib/url-helpers';\n\nimport Container from '../../Container';\nimport ContainerOverlay from '../../ContainerOverlay';\nimport { CONTRIBUTE_CARD_WIDTH } from '../../contribute-cards/constants';\nimport ContributeCardContainer, { CONTRIBUTE_CARD_PADDING_X } from '../../contribute-cards/ContributeCardContainer';\nimport ContributeCrypto from '../../contribute-cards/ContributeCrypto';\nimport ContributeCustom from '../../contribute-cards/ContributeCustom';\nimport ContributeTier from '../../contribute-cards/ContributeTier';\nimport CreateNew from '../../contribute-cards/CreateNew';\nimport { Box, Flex } from '../../Grid';\nimport HorizontalScroller from '../../HorizontalScroller';\nimport Link from '../../Link';\nimport StyledButton from '../../StyledButton';\nimport StyledSpinner from '../../StyledSpinner';\nimport { H3, P } from '../../Text';\nimport ContainerSectionContent from '../ContainerSectionContent';\nimport ContributeCardsContainer from '../ContributeCardsContainer';\nimport { editAccountSettingMutation } from '../graphql/mutations';\nimport { collectivePageQuery, getCollectivePageQueryVariables } from '../graphql/queries';\nimport SectionTitle from '../SectionTitle';\n\n// Dynamic imports\nconst AdminContributeCardsContainer = dynamic(() => import('../../contribute-cards/AdminContributeCardsContainer'), {\n  ssr: false,\n});\n\n/**\n * The contribute section, implemented as a pure component to avoid unnecessary\n * re-renders when scrolling.\n */\nclass SectionContribute extends React.PureComponent {\n  static propTypes = {\n    tiers: PropTypes.arrayOf(PropTypes.object),\n    events: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        contributors: PropTypes.arrayOf(PropTypes.object),\n      }),\n    ),\n    connectedCollectives: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        collective: PropTypes.shape({\n          id: PropTypes.number.isRequired,\n        }),\n      }),\n    ),\n    collective: PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      slug: PropTypes.string.isRequired,\n      type: PropTypes.string.isRequired,\n      isActive: PropTypes.bool,\n      isHost: PropTypes.bool,\n      host: PropTypes.object,\n      currency: PropTypes.string,\n      settings: PropTypes.object,\n      parentCollective: PropTypes.shape({\n        slug: PropTypes.string.isRequired,\n      }),\n      name: PropTypes.string,\n    }),\n    contributorsStats: PropTypes.object,\n    contributors: PropTypes.arrayOf(\n      PropTypes.shape({\n        type: PropTypes.oneOf(Object.values(CollectiveType)).isRequired,\n        isBacker: PropTypes.bool,\n        tiersIds: PropTypes.arrayOf(PropTypes.number),\n      }),\n    ),\n    isAdmin: PropTypes.bool,\n    editAccountSettings: PropTypes.func.isRequired,\n  };\n\n  state = {\n    showTiersAdmin: false,\n    isSaving: false,\n    draggingId: null,\n  };\n\n  onTiersAdminReady = () => {\n    this.setState({ showTiersAdmin: true });\n  };\n\n  getFinancialContributorsWithoutTier = memoizeOne(contributors => {\n    return contributors.filter(c => c.isBacker && (c.tiersIds.length === 0 || c.tiersIds[0] === null));\n  });\n\n  hasContributors = memoizeOne(contributors => {\n    return contributors.find(c => c.isBacker);\n  });\n\n  onContributeCardsReorder = async cards => {\n    const { collective, editAccountSettings } = this.props;\n    const cardKeys = cards.map(c => c.key);\n\n    // Save the new positions\n    this.setState({ isSaving: true });\n    try {\n      const mutationVariables = { collectiveId: collective.id, key: TIERS_ORDER_KEY, value: cardKeys };\n      await editAccountSettings({\n        variables: mutationVariables,\n        update: (store, response) => {\n          // We need to update the store manually because the response comes from API V2\n          const collectivePageQueryVariables = getCollectivePageQueryVariables(collective.slug);\n          const data = store.readQuery({ query: collectivePageQuery, variables: collectivePageQueryVariables });\n          const newData = set(cloneDeep(data), 'Collective.settings', response.data.editAccountSetting.settings);\n          store.writeQuery({ query: collectivePageQuery, variables: collectivePageQueryVariables, data: newData });\n        },\n      });\n      this.setState({ isSaving: false });\n    } catch (e) {\n      this.setState({ error: getErrorFromGraphqlException(e), isSaving: false });\n    }\n  };\n\n  getContributeCardsScrollDistance(width) {\n    const oneCardScrollDistance = CONTRIBUTE_CARD_WIDTH + CONTRIBUTE_CARD_PADDING_X[0] * 2;\n    if (width <= oneCardScrollDistance * 2) {\n      return oneCardScrollDistance;\n    } else if (width <= oneCardScrollDistance * 4) {\n      return oneCardScrollDistance * 2;\n    } else {\n      return oneCardScrollDistance * 3;\n    }\n  }\n\n  sortContributeCards = memoizeOne((cards, orderKeys) => {\n    return orderBy(cards, card => {\n      const index = orderKeys.findIndex(key => key === card.key);\n      return index === -1 ? Infinity : index; // put unsorted cards at the end\n    });\n  });\n\n  getContributeCards = memoizeOne(tiers => {\n    const { collective, contributors, contributorsStats, isAdmin } = this.props;\n    const hasNoContributor = !this.hasContributors(contributors);\n    const canContribute = collective.isActive && (!isPastEvent(collective) || isAdmin);\n    const hasCustomContribution = !get(collective, 'settings.disableCustomContributions', false);\n    const hasCryptoContribution =\n      !get(collective, 'settings.disableCryptoContributions', true) &&\n      get(collective, 'host.settings.cryptoEnabled', false);\n\n    // Remove tickets\n    const baseTiers = tiers.filter(tier => tier.type !== TierTypes.TICKET);\n\n    const contributeCards = [\n      ...baseTiers.map(tier => ({\n        key: tier.id,\n        Component: ContributeTier,\n        componentProps: { collective, tier, hideContributors: hasNoContributor },\n      })),\n    ];\n\n    if (hasCustomContribution) {\n      contributeCards.push({\n        key: 'custom',\n        Component: ContributeCustom,\n        componentProps: {\n          collective,\n          contributors: this.getFinancialContributorsWithoutTier(contributors),\n          stats: contributorsStats,\n          hideContributors: hasNoContributor,\n          disableCTA: !canContribute,\n        },\n      });\n    }\n\n    if (hasCryptoContribution) {\n      contributeCards.push({\n        key: 'crypto',\n        Component: ContributeCrypto,\n        componentProps: {\n          collective,\n          hideContributors: true, // for the MVP we shall not display the financial contributors for crypto\n          disableCTA: !canContribute,\n        },\n      });\n    }\n\n    return contributeCards;\n  });\n\n  sortTicketTiers = memoizeOne(tiers => {\n    return orderBy([...tiers], ['endsAt'], ['desc']);\n  });\n\n  filterTickets = memoizeOne(tiers => {\n    return tiers.filter(tier => tier.type === TierTypes.TICKET);\n  });\n\n  render() {\n    const { collective, tiers, events, connectedCollectives, contributors, isAdmin } = this.props;\n    const { isSaving, showTiersAdmin } = this.state;\n    const isEvent = collective.type === CollectiveType.EVENT;\n    const isProject = collective.type === CollectiveType.PROJECT;\n    const isFund = collective.type === CollectiveType.FUND;\n    const hasOtherWaysToContribute =\n      !isEvent && !isProject && !isFund && (isAdmin || events.length > 0 || connectedCollectives.length > 0);\n    const isActive = collective.isActive;\n    const hasHost = collective.host;\n    const isHost = collective.isHost;\n    const orderKeys = getCollectiveContributionCardsOrder(collective);\n    const contributeCards = this.getContributeCards(tiers);\n    const sortedContributeCards = this.sortContributeCards(contributeCards, orderKeys);\n    const hasContribute = Boolean(isAdmin || (collective.isActive && contributeCards.length));\n    const hasNoContributor = !this.hasContributors(contributors);\n    const sortedTicketTiers = this.sortTicketTiers(this.filterTickets(tiers));\n    const hasTickets = isEvent && Boolean(isAdmin || (collective.isActive && sortedTicketTiers.length));\n    const hideTicketsFromNonAdmins = (sortedTicketTiers.length === 0 || !collective.isActive) && !isAdmin;\n    const cannotOrderTickets = (!hasTickets && !isAdmin) || isPastEvent(collective);\n\n    /*\n    cases\n\n    1. admin + no host = Contribute Section and 'Start accepting financial contributions' \n    2a. admin + host = normal Contribute section \n    2b. not admin + Collective active = normal Contribute section ???\n    3. not admin + Collective not active + no connectedcollectives/events = display nothing \n    */\n\n    if (!hasContribute && !hasTickets && !hasOtherWaysToContribute) {\n      return null;\n    }\n\n    return (\n      <Fragment>\n        {/* \"Start accepting financial contributions\" for admins */}\n        {isAdmin && !hasHost && !isHost && (\n          <ContainerSectionContent py={4}>\n            <Flex mb={4} justifyContent=\"space-between\" alignItems=\"center\" flexWrap=\"wrap\">\n              <P color=\"black.700\" my={2} mr={2} css={{ flex: '1 0 50%', maxWidth: 780 }}>\n                <FormattedMessage\n                  id=\"contributions.subtitle\"\n                  defaultMessage=\"To accept financial contributions, you need to complete your setup and decide where your funds will be held.\"\n                />\n              </P>\n            </Flex>\n            <Box my={5}>\n              <Link href={`/${collective.parentCollective?.slug || collective.slug}/accept-financial-contributions`}>\n                <StyledButton buttonStyle=\"primary\" buttonSize=\"large\">\n                  <FormattedMessage id=\"contributions.startAccepting\" defaultMessage=\"Start accepting contributions\" />\n                </StyledButton>\n              </Link>\n            </Box>\n          </ContainerSectionContent>\n        )}\n\n        {((isAdmin && hasHost) || (isAdmin && isHost) || (!isAdmin && isActive)) && (\n          <Fragment>\n            {/* Financial contributions tiers */}\n            {hasContribute && (\n              <Fragment>\n                <ContainerSectionContent>\n                  <SectionTitle>\n                    <FormattedMessage id=\"FinancialContributions\" defaultMessage=\"Financial Contributions\" />\n                  </SectionTitle>\n                </ContainerSectionContent>\n                <Box pb={4} data-cy=\"financial-contributions\">\n                  <HorizontalScroller\n                    getScrollDistance={this.getContributeCardsScrollDistance}\n                    container={ContributeCardsContainer}\n                    containerProps={{ disableScrollSnapping: !!this.state.draggingId }}\n                  >\n                    <React.Fragment>\n                      {isSaving && (\n                        <ContainerOverlay position=\"fixed\" top={0} alignItems=\"center\">\n                          <StyledSpinner size={64} />\n                          <P mt={3} fontSize=\"15px\">\n                            <FormattedMessage id=\"Saving\" defaultMessage=\"Saving...\" />\n                          </P>\n                        </ContainerOverlay>\n                      )}\n                      {!(isAdmin && showTiersAdmin) &&\n                        sortedContributeCards.map(({ key, Component, componentProps }) => (\n                          <ContributeCardContainer key={key}>\n                            <Component {...componentProps} />\n                          </ContributeCardContainer>\n                        ))}\n                      {isAdmin && (\n                        <Container display={showTiersAdmin ? 'block' : 'none'} data-cy=\"admin-contribute-cards\">\n                          <AdminContributeCardsContainer\n                            collective={collective}\n                            cards={sortedContributeCards}\n                            onReorder={this.onContributeCardsReorder}\n                            isSaving={this.state.isSaving}\n                            setDraggingId={draggingId => this.setState({ draggingId })}\n                            draggingId={this.state.draggingId}\n                            onMount={this.onTiersAdminReady}\n                          />\n                        </Container>\n                      )}\n                    </React.Fragment>\n                  </HorizontalScroller>\n                </Box>\n              </Fragment>\n            )}\n\n            {/* Tickets for type EVENT */}\n            {isEvent && !cannotOrderTickets && !hideTicketsFromNonAdmins && (\n              <Box pb={4} data-cy=\"Tickets\">\n                <ContainerSectionContent>\n                  <Flex alignItems=\"left\" mb={3}>\n                    <H3 fontSize=\"20px\" fontWeight=\"600\" color=\"black.700\">\n                      <FormattedMessage id=\"section.tickets.title\" defaultMessage=\"Tickets\" />\n                    </H3>\n                  </Flex>\n                </ContainerSectionContent>\n                <HorizontalScroller\n                  container={ContributeCardsContainer}\n                  getScrollDistance={this.getContributeCardsScrollDistance}\n                >\n                  {sortedTicketTiers.map(tier => (\n                    <ContributeCardContainer key={tier.id}>\n                      <ContributeTier\n                        collective={collective}\n                        tier={tier}\n                        hideContributors={hasNoContributor}\n                        disableCTA={!collective.isActive}\n                      />\n                    </ContributeCardContainer>\n                  ))}\n                  {isAdmin && (\n                    <ContributeCardContainer minHeight={150}>\n                      <CreateNew route={`/${collective.parentCollective.slug}/events/${collective.slug}/admin/tickets`}>\n                        <FormattedMessage id=\"SectionTickets.CreateTicket\" defaultMessage=\"Create Ticket\" />\n                      </CreateNew>\n                    </ContributeCardContainer>\n                  )}\n                </HorizontalScroller>\n              </Box>\n            )}\n\n            {/* \"View all ways to contribute\" button */}\n            {(tiers.length > 6 || hasOtherWaysToContribute) && (\n              <ContainerSectionContent pb={4}>\n                <Link href={`${getCollectivePageRoute(collective)}/contribute`}>\n                  <StyledButton mt={3} width={1} buttonSize=\"small\" fontSize=\"14px\">\n                    <FormattedMessage id=\"SectionContribute.All\" defaultMessage=\"All ways to contribute\" /> \n                  </StyledButton>\n                </Link>\n              </ContainerSectionContent>\n            )}\n          </Fragment>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nconst addEditAccountSettingMutation = graphql(editAccountSettingMutation, {\n  name: 'editAccountSettings',\n  options: { context: API_V2_CONTEXT },\n});\n\nexport default addEditAccountSettingMutation(SectionContribute);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedDate, FormattedMessage, injectIntl, useIntl } from 'react-intl';\n\nimport roles from '../lib/constants/roles';\nimport { formatCurrency } from '../lib/currency-utils';\nimport formatMemberRole from '../lib/i18n/member-role';\n\nimport Container from './Container';\nimport { Box } from './Grid';\nimport StyledCollectiveCard from './StyledCollectiveCard';\nimport { P, Span } from './Text';\n\n/**\n * A card to show a user's membership.\n */\nconst StyledMembershipCard = ({ membership, intl, ...props }) => {\n  const { locale } = useIntl();\n  const { account, since, role } = membership;\n  return (\n    <StyledCollectiveCard collective={account} {...props}>\n      <Container p={3}>\n        <Box data-cy=\"caption\" mb={2}>\n          {role && (\n            <P fontSize=\"12px\" lineHeight=\"18px\" mb={3} data-cy=\"contribution-date-since\">\n              <FormattedMessage\n                id=\"Membership.ContributorSince\"\n                defaultMessage=\"{contributorType} since\"\n                values={{\n                  contributorType:\n                    role === roles.HOST\n                      ? intl.formatMessage({ defaultMessage: 'Hosted' })\n                      : formatMemberRole(intl, role),\n                }}\n              />{' '}\n              <Span display=\"block\" fontSize=\"16px\" fontWeight=\"bold\">\n                <FormattedDate value={since} month=\"long\" year=\"numeric\" />\n              </Span>\n            </P>\n          )}\n          {role === roles.BACKER ? (\n            <P mt={3} data-cy=\"amount-contributed\">\n              <Span fontSize=\"12px\" lineHeight=\"18px\">\n                <FormattedMessage id=\"membership.totalDonations.title\" defaultMessage=\"Amount contributed\" />{' '}\n              </Span>\n              <Span display=\"block\" fontSize=\"16px\" fontWeight=\"bold\">\n                {\n                  /** Ideally we should breakdown amounts donated per currency, but for now\n                      the API only returns the total amount in collective's currency. */\n                  formatCurrency(membership.totalDonations.valueInCents, membership.totalDonations.currency || 'USD', {\n                    precision: 0,\n                    locale,\n                  })\n                }\n              </Span>\n            </P>\n          ) : (\n            <P mt={3} fontSize=\"12px\" lineHeight=\"18px\">\n              {account.backers?.totalCount > 0 && (\n                <FormattedMessage\n                  id=\"StyledMembershipCard.backers.all\"\n                  defaultMessage=\"{count, plural, one {{prettyCount} contributor} other {{prettyCount} contributors}}\"\n                  values={{\n                    count: account.backers.totalCount,\n                    prettyCount: (\n                      <Span fontWeight=\"bold\" fontSize=\"16px\">\n                        {account.backers.totalCount}\n                      </Span>\n                    ),\n                  }}\n                />\n              )}\n            </P>\n          )}\n        </Box>\n      </Container>\n    </StyledCollectiveCard>\n  );\n};\n\nStyledMembershipCard.propTypes = {\n  membership: PropTypes.shape({\n    account: PropTypes.shape({\n      id: PropTypes.string,\n      imageUrl: PropTypes.string,\n      isAdmin: PropTypes.bool,\n      isHost: PropTypes.bool,\n      isIncognito: PropTypes.bool,\n      name: PropTypes.string,\n      backers: PropTypes.shape({\n        totalCount: PropTypes.number,\n      }),\n    }),\n    description: PropTypes.string,\n    id: PropTypes.string,\n    publicMessage: PropTypes.string,\n    role: PropTypes.string,\n    since: PropTypes.string,\n    totalDonations: PropTypes.shape({ currency: PropTypes.string, valueInCents: PropTypes.number }),\n  }),\n  intl: PropTypes.object,\n};\n\nexport default injectIntl(StyledMembershipCard);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gql, useQuery } from '@apollo/client';\nimport { defineMessages, FormattedMessage, useIntl } from 'react-intl';\nimport styled from 'styled-components';\n\nimport { CollectiveType } from '../../../lib/constants/collectives';\nimport CollectiveRoles from '../../../lib/constants/roles';\nimport { API_V2_CONTEXT } from '../../../lib/graphql/helpers';\n\nimport Container from '../../Container';\nimport { Box, Flex, Grid } from '../../Grid';\nimport LoadingPlaceholder from '../../LoadingPlaceholder';\nimport StyledButton from '../../StyledButton';\nimport StyledFilters from '../../StyledFilters';\nimport { fadeIn } from '../../StyledKeyframes';\nimport StyledMembershipCard from '../../StyledMembershipCard';\nimport { H3 } from '../../Text';\nimport { Dimensions } from '../_constants';\nimport ContainerSectionContent from '../ContainerSectionContent';\nimport SectionTitle from '../SectionTitle';\n\nconst PAGE_SIZE = 15;\n\nconst FILTERS = {\n  ALL: 'ALL',\n  HOSTED_COLLECTIVES: 'HOST',\n  HOSTED_FUNDS: 'FUNDS',\n  HOSTED_EVENTS: 'EVENT',\n  CORE: 'CORE',\n  FINANCIAL: 'FINANCIAL',\n  EVENTS: 'EVENTS',\n};\n\nconst FILTER_PROPS = [\n  {\n    id: FILTERS.ALL,\n    args: {\n      role: [\n        CollectiveRoles.HOST,\n        CollectiveRoles.ADMIN,\n        CollectiveRoles.CONTRIBUTOR,\n        CollectiveRoles.BACKER,\n        CollectiveRoles.MEMBER,\n      ],\n      accountType: null,\n      orderBy: { field: 'MEMBER_COUNT', direction: 'DESC' },\n    },\n    isActive: () => true,\n  },\n  {\n    id: FILTERS.HOSTED_COLLECTIVES,\n    args: {\n      role: [CollectiveRoles.HOST],\n      accountType: [CollectiveType.COLLECTIVE],\n      orderBy: { field: 'MEMBER_COUNT', direction: 'DESC' },\n    },\n    isActive: roles => roles?.some(r => r.role === CollectiveRoles.HOST && r.type === CollectiveType.COLLECTIVE),\n  },\n  {\n    id: FILTERS.HOSTED_FUNDS,\n    args: {\n      role: [CollectiveRoles.HOST],\n      accountType: [CollectiveType.FUND],\n      orderBy: { field: 'MEMBER_COUNT', direction: 'DESC' },\n    },\n    isActive: roles => roles?.some(r => r.role === CollectiveRoles.HOST && r.type === CollectiveType.FUND),\n  },\n  {\n    id: FILTERS.HOSTED_EVENTS,\n    args: {\n      role: [CollectiveRoles.HOST],\n      accountType: [CollectiveType.EVENT],\n      orderBy: { field: 'MEMBER_COUNT', direction: 'DESC' },\n    },\n    isActive: (roles, account) =>\n      account?.type !== CollectiveType.COLLECTIVE &&\n      roles?.some(r => r.role === CollectiveRoles.HOST && r.type === 'EVENT'),\n  },\n  {\n    id: FILTERS.FINANCIAL,\n    args: {\n      role: [CollectiveRoles.BACKER],\n      accountType: null,\n      orderBy: { field: 'TOTAL_CONTRIBUTED', direction: 'DESC' },\n    },\n    isActive: roles => roles?.some(r => r.role === CollectiveRoles.BACKER),\n  },\n  {\n    id: FILTERS.CORE,\n    args: {\n      role: [CollectiveRoles.ADMIN, CollectiveRoles.MEMBER],\n      accountType: null,\n      orderBy: { field: 'MEMBER_COUNT', direction: 'DESC' },\n    },\n    isActive: roles => roles?.some(r => r.role === CollectiveRoles.ADMIN || r.role === CollectiveRoles.MEMBER),\n  },\n  {\n    id: FILTERS.EVENTS,\n    args: {\n      role: [CollectiveRoles.ATTENDEE],\n      accountType: null,\n      orderBy: { field: 'MEMBER_COUNT', direction: 'DESC' },\n    },\n    isActive: roles => roles?.some(r => r.role === CollectiveRoles.ATTENDEE),\n  },\n];\n\nconst getAvailableFilters = roles => {\n  return FILTER_PROPS.filter(f => f.isActive(roles)).map(f => f.id);\n};\n\nconst I18nFilters = defineMessages({\n  [FILTERS.ALL]: {\n    id: 'SectionContributions.All',\n    defaultMessage: 'All Contributions',\n  },\n  [FILTERS.HOSTED_COLLECTIVES]: {\n    id: 'HostedCollectives',\n    defaultMessage: 'Hosted Collectives',\n  },\n  [FILTERS.HOSTED_FUNDS]: {\n    id: 'HostedFunds',\n    defaultMessage: 'Hosted Funds',\n  },\n  [FILTERS.HOSTED_EVENTS]: {\n    id: 'HostedEvents',\n    defaultMessage: 'Hosted Events',\n  },\n  [FILTERS.FINANCIAL]: {\n    id: 'Member.Role.BACKER',\n    defaultMessage: 'Financial Contributor',\n  },\n  [FILTERS.CORE]: {\n    id: 'Member.Role.MEMBER',\n    defaultMessage: 'Core Contributor',\n  },\n  [FILTERS.EVENTS]: {\n    id: 'Events',\n    defaultMessage: 'Events',\n  },\n});\n\nconst GRID_TEMPLATE_COLUMNS = 'repeat(auto-fill, minmax(220px, 1fr))';\n\n/** A container for membership cards to ensure we have a smooth transition */\nconst MembershipCardContainer = styled.div`\n  animation: ${fadeIn} 0.2s;\n`;\n\nconst contributionsSectionStaticQuery = gql`\n  query ContributionsSectionStatic($slug: String!) {\n    account(slug: $slug) {\n      id\n      settings\n      type\n      isHost\n      # limit: 1 as current best practice to avoid the API fetching entries it doesn't need\n      hostedAccounts: memberOf(\n        role: [HOST]\n        accountType: [COLLECTIVE, FUND]\n        isApproved: true\n        isArchived: false\n        limit: 1\n      ) {\n        totalCount\n      }\n      connectedAccounts: members(role: [CONNECTED_ACCOUNT]) {\n        totalCount\n        nodes {\n          id\n          role\n          tier {\n            id\n            name\n            description\n          }\n          publicMessage\n          description\n          account {\n            id\n            name\n            slug\n            type\n            isIncognito\n            isAdmin\n            isHost\n            imageUrl\n          }\n        }\n      }\n    }\n  }\n`;\n\nconst contributionsSectionQuery = gql`\n  query ContributionsSection(\n    $slug: String!\n    $limit: Int!\n    $offset: Int\n    $role: [MemberRole]\n    $accountType: [AccountType]\n    $orderBy: OrderByInput\n  ) {\n    account(slug: $slug) {\n      id\n      settings\n      type\n      isHost\n      memberOf(\n        limit: $limit\n        offset: $offset\n        role: $role\n        accountType: $accountType\n        orderByRoles: true\n        isApproved: true\n        isArchived: false\n        orderBy: $orderBy\n      ) {\n        offset\n        limit\n        totalCount\n        roles {\n          role\n          type\n        }\n        nodes {\n          id\n          role\n          tier {\n            id\n            name\n            description\n          }\n          since\n          totalDonations {\n            currency\n            valueInCents\n          }\n          publicMessage\n          description\n          account {\n            id\n            name\n            slug\n            type\n            isIncognito\n            isAdmin\n            isHost\n            imageUrl(height: 128)\n            backgroundImageUrl(height: 200)\n            ... on Event {\n              parent {\n                id\n                backgroundImageUrl(height: 200)\n              }\n            }\n            ... on Project {\n              parent {\n                id\n                backgroundImageUrl(height: 200)\n              }\n            }\n            # limit: 1 as current best practice to avoid the API fetching entries it doesn't need\n            backers: members(role: [BACKER], limit: 1) {\n              totalCount\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nconst SectionContributions = ({ collective }) => {\n  const intl = useIntl();\n  const [isLoadingMore, setLoadingMore] = React.useState(false);\n  const [filter, setFilter] = React.useState(collective.isHost ? FILTERS.HOSTED_COLLECTIVES : FILTERS.ALL);\n  const selectedFilter = FILTER_PROPS.find(f => f.id === filter);\n  const { data, loading, fetchMore } = useQuery(contributionsSectionQuery, {\n    variables: { slug: collective.slug, limit: PAGE_SIZE, offset: 0, ...selectedFilter.args },\n    context: API_V2_CONTEXT,\n    notifyOnNetworkStatusChange: true,\n  });\n  const { data: staticData } = useQuery(contributionsSectionStaticQuery, {\n    variables: { slug: collective.slug },\n    context: API_V2_CONTEXT,\n  });\n\n  const handleLoadMore = async () => {\n    setLoadingMore(true);\n    const offset = memberOf.nodes.length;\n    const selectedFilter = FILTER_PROPS.find(f => f.id === filter);\n    await fetchMore({\n      variables: { offset, ...selectedFilter.args },\n      updateQuery: (prev, { fetchMoreResult }) => {\n        if (!fetchMoreResult) {\n          return prev;\n        }\n        return Object.assign({}, prev, {\n          account: {\n            ...prev.account,\n            memberOf: {\n              ...fetchMoreResult.account.memberOf,\n              nodes: [...prev.account.memberOf.nodes, ...fetchMoreResult.account.memberOf.nodes],\n            },\n          },\n        });\n      },\n    });\n    setLoadingMore(false);\n  };\n\n  const handleFilterSelect = id => {\n    setFilter(id);\n    const selectedFilter = FILTER_PROPS.find(f => f.id === id);\n    fetchMore({\n      variables: { offset: 0, ...selectedFilter.args },\n      updateQuery: (prev, { fetchMoreResult }) => {\n        return fetchMoreResult ? fetchMoreResult : prev;\n      },\n    });\n  };\n\n  const { account, memberOf } = data?.account || {};\n  const { hostedAccounts, connectedAccounts } = staticData?.account || {};\n  const isOrganization = account?.type === CollectiveType.ORGANIZATION;\n  const availableFilters = getAvailableFilters(memberOf?.roles || [], account);\n  const membersLeft = memberOf && memberOf.totalCount - memberOf.nodes.length;\n  return (\n    <Box pb={4}>\n      <React.Fragment>\n        <ContainerSectionContent>\n          {hostedAccounts?.totalCount > 0 && (\n            <H3 fontSize={['20px', '24px', '32px']} fontWeight=\"normal\" color=\"black.700\">\n              <FormattedMessage\n                id=\"organization.collective.memberOf.collective.host.title\"\n                values={{ n: hostedAccounts.totalCount }}\n                defaultMessage=\"We are fiscally hosting {n, plural, one {this Collective} other {{n} Collectives}}\"\n              />\n            </H3>\n          )}\n        </ContainerSectionContent>\n        {availableFilters?.length > 1 && (\n          <Box mt={4} mx=\"auto\" maxWidth={Dimensions.MAX_SECTION_WIDTH}>\n            <StyledFilters\n              filters={availableFilters}\n              getLabel={key => intl.formatMessage(I18nFilters[key])}\n              onChange={handleFilterSelect}\n              selected={filter}\n              justifyContent=\"left\"\n              minButtonWidth={175}\n              px={Dimensions.PADDING_X}\n              disabled={isLoadingMore}\n            />\n          </Box>\n        )}\n        <Container\n          data-cy=\"Contributions\"\n          maxWidth={Dimensions.MAX_SECTION_WIDTH}\n          px={Dimensions.PADDING_X}\n          mt={4}\n          mx=\"auto\"\n        >\n          <Grid gridGap={24} gridTemplateColumns={GRID_TEMPLATE_COLUMNS}>\n            {(!loading || (isLoadingMore && loading)) &&\n              memberOf?.nodes.map(membership => (\n                <MembershipCardContainer data-cy=\"collective-contribution\" key={membership.id}>\n                  <StyledMembershipCard membership={membership} />\n                </MembershipCardContainer>\n              ))}\n            {loading &&\n              [...Array(membersLeft < PAGE_SIZE ? membersLeft : PAGE_SIZE).keys()].map(id => (\n                <LoadingPlaceholder key={id} height={334} />\n              ))}\n          </Grid>\n        </Container>\n        {memberOf?.nodes.length < memberOf?.totalCount && (\n          <Flex mt={3} justifyContent=\"center\">\n            <StyledButton\n              data-cy=\"load-more\"\n              textTransform=\"capitalize\"\n              minWidth={170}\n              onClick={handleLoadMore}\n              loading={loading}\n            >\n              <FormattedMessage id=\"loadMore\" defaultMessage=\"load more\" /> \n            </StyledButton>\n          </Flex>\n        )}\n      </React.Fragment>\n\n      {connectedAccounts?.totalCount > 0 && (\n        <Box mt={5}>\n          <ContainerSectionContent>\n            <SectionTitle textAlign=\"left\" mb={4} fontSize={['20px', '24px', '32px']} color=\"black.700\">\n              {isOrganization ? (\n                <FormattedMessage\n                  id=\"CP.Contributions.PartOfOrg\"\n                  defaultMessage=\"{n, plural, one {This Collective is} other {These Collectives are}} part of our Organization\"\n                  values={{ n: connectedAccounts.totalCount }}\n                />\n              ) : (\n                <FormattedMessage\n                  id=\"CP.Contributions.ConnectedCollective\"\n                  defaultMessage=\"{n, plural, one {This Collective is} other {These Collectives are}} connected to us\"\n                  values={{ n: connectedAccounts.totalCount }}\n                />\n              )}\n            </SectionTitle>\n          </ContainerSectionContent>\n          <Container maxWidth={Dimensions.MAX_SECTION_WIDTH} pl={Dimensions.PADDING_X} m=\"0 auto\">\n            <Grid gridGap={24} gridTemplateColumns={GRID_TEMPLATE_COLUMNS}>\n              {connectedAccounts.nodes.map(membership => (\n                <MembershipCardContainer key={membership.id}>\n                  <StyledMembershipCard membership={membership} />\n                </MembershipCardContainer>\n              ))}\n            </Grid>\n          </Container>\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nSectionContributions.propTypes = {\n  collective: PropTypes.shape({\n    slug: PropTypes.string,\n    isHost: PropTypes.bool,\n  }),\n};\n\nconst ContributionsGrid = ({ entries, children }) => {\n  return (\n    <Container\n      data-cy=\"Contributions\"\n      maxWidth={Dimensions.MAX_SECTION_WIDTH}\n      px={Dimensions.PADDING_X}\n      mt={4}\n      mx=\"auto\"\n    >\n      <Grid gridGap={24} gridTemplateColumns={GRID_TEMPLATE_COLUMNS}>\n        {entries.map(entry => (\n          <MembershipCardContainer key={entry.id} data-cy=\"collective-contribution\">\n            {children(entry)}\n          </MembershipCardContainer>\n        ))}\n      </Grid>\n    </Container>\n  );\n};\n\nContributionsGrid.propTypes = {\n  entries: PropTypes.array.isRequired,\n  children: PropTypes.func.isRequired,\n};\n\nexport default SectionContributions;\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTcxOCIgaGVpZ2h0PSIxNDUwIiB2aWV3Qm94PSIwIDAgMTcxOCAxNDUwIiBmaWxsPSJub25lIiAKICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxnIG9wYWNpdHk9IjAuNjQiPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02NjUuMTI2IDY1Ni44MUM2NTkuOTY5IDY1Ni4wODggNjU2LjM3MyA2NTEuMzIxIDY1Ny4wOTYgNjQ2LjE2M0M2NTcuODE4IDY0MS4wMDUgNjYyLjU4NSA2MzcuNDEgNjY3Ljc0MyA2MzguMTMzQzY3Mi45MDEgNjM4Ljg1NSA2NzYuNDk2IDY0My42MjIgNjc1Ljc3NCA2NDguNzhDNjc1LjA1MSA2NTMuOTM4IDY3MC4yODQgNjU3LjUzMyA2NjUuMTI2IDY1Ni44MVoiIHN0cm9rZT0iI0Q3REJFMCIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04MjIuOTUyIDY3Ni41MjhDODE5LjA3NCA2NzUuOTg1IDgxNi4zNyA2NzIuNCA4MTYuOTEzIDY2OC41MjFDODE3LjQ1NyA2NjQuNjQzIDgyMS4wNDIgNjYxLjkzOSA4MjQuOTIgNjYyLjQ4MkM4MjguNzk5IDY2My4wMjYgODMxLjUwMyA2NjYuNjExIDgzMC45NTkgNjcwLjQ4OUM4MzAuNDE2IDY3NC4zNjggODI2LjgzMSA2NzcuMDcyIDgyMi45NTIgNjc2LjUyOFoiIGZpbGw9IiNGMEYyRjUiIHN0cm9rZT0iI0Q3REJFMCIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNTYuNjYxIDU3NC42MzFDMjQ5LjczOSA1NzMuNjYxIDI0NC45MTQgNTY3LjI2NCAyNDUuODg0IDU2MC4zNDJDMjQ2Ljg1NCA1NTMuNDIxIDI1My4yNTEgNTQ4LjU5NiAyNjAuMTczIDU0OS41NjVDMjY3LjA5NCA1NTAuNTM1IDI3MS45MTkgNTU2LjkzMiAyNzAuOTUgNTYzLjg1NEMyNjkuOTggNTcwLjc3NiAyNjMuNTgzIDU3NS42MDEgMjU2LjY2MSA1NzQuNjMxWiIgZmlsbD0iI0YwRjJGNSIgc3Ryb2tlPSIjRDdEQkUwIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwMzIuNzkgNjIwLjEwOUMxMDIzLjk0IDYxOC44NyAxMDE3Ljc4IDYxMC42OTggMTAxOS4wMiA2MDEuODU2QzEwMjAuMjYgNTkzLjAxNCAxMDI4LjQzIDU4Ni44NTEgMTAzNy4yNyA1ODguMDlDMTA0Ni4xMSA1ODkuMzI4IDEwNTIuMjggNTk3LjUgMTA1MS4wNCA2MDYuMzQyQzEwNDkuOCA2MTUuMTg0IDEwNDEuNjMgNjIxLjM0OCAxMDMyLjc5IDYyMC4xMDlaIiBzdHJva2U9IiNEN0RCRTAiLz4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDA4Ljk5OCA1NzQuMzQxQzM5Ny44MTUgNTcyLjc3NCAzOTAuMDIgNTYyLjQzOCAzOTEuNTg2IDU1MS4yNTZDMzkzLjE1MyA1NDAuMDczIDQwMy40ODggNTMyLjI3OCA0MTQuNjcxIDUzMy44NDRDNDI1Ljg1NCA1MzUuNDExIDQzMy42NDkgNTQ1Ljc0NyA0MzIuMDgyIDU1Ni45MjlDNDMwLjUxNiA1NjguMTEyIDQyMC4xOCA1NzUuOTA3IDQwOC45OTggNTc0LjM0MVoiIGZpbGw9IiNGMEYyRjUiIHN0cm9rZT0iI0Q3REJFMCIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03NjYuMDU1IDY0NC4wN0M3NTIuMzUxIDY0Mi4xNSA3NDIuNzk3IDYyOS40ODQgNzQ0LjcxNyA2MTUuNzc5Qzc0Ni42MzcgNjAyLjA3NCA3NTkuMzA0IDU5Mi41MiA3NzMuMDA4IDU5NC40NEM3ODYuNzEzIDU5Ni4zNiA3OTYuMjY3IDYwOS4wMjcgNzk0LjM0NyA2MjIuNzMyQzc5Mi40MjcgNjM2LjQzNyA3NzkuNzYgNjQ1Ljk5IDc2Ni4wNTUgNjQ0LjA3WiIgc3Ryb2tlPSIjRDdEQkUwIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE4Ni43NSA1MjUuNDQ3QzE3MC44NTEgNTIzLjIxOSAxNTkuNzY3IDUwOC41MjQgMTYxLjk5NSA0OTIuNjI0QzE2NC4yMjIgNDc2LjcyNSAxNzguOTE3IDQ2NS42NDEgMTk0LjgxNyA0NjcuODY5QzIxMC43MTcgNDcwLjA5NiAyMjEuOCA0ODQuNzkxIDIxOS41NzMgNTAwLjY5MUMyMTcuMzQ1IDUxNi41OTEgMjAyLjY1IDUyNy42NzQgMTg2Ljc1IDUyNS40NDdaIiBzdHJva2U9IiNEN0RCRTAiLz4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNTk2LjE1OCA2MTUuMTI4QzU2OC43NDggNjExLjI4OCA1NDkuNjQxIDU4NS45NTUgNTUzLjQ4MSA1NTguNTQ2QzU1Ny4zMjEgNTMxLjEzNiA1ODIuNjU0IDUxMi4wMjkgNjEwLjA2NCA1MTUuODY5QzYzNy40NzMgNTE5LjcwOSA2NTYuNTggNTQ1LjA0MiA2NTIuNzQgNTcyLjQ1MkM2NDguOSA1OTkuODYxIDYyMy41NjcgNjE4Ljk2OCA1OTYuMTU4IDYxNS4xMjhaIiBzdHJva2U9IiNEN0RCRTAiLz4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOTEwLjk1NSA2NDUuNTgyQzg4My41NDUgNjQxLjc0MiA4NjQuNDM4IDYxNi40MDkgODY4LjI3OCA1ODguOTk5Qzg3Mi4xMTggNTYxLjU4OSA4OTcuNDUxIDU0Mi40ODIgOTI0Ljg2MSA1NDYuMzIyQzk1Mi4yNzEgNTUwLjE2MiA5NzEuMzc4IDU3NS40OTUgOTY3LjUzOCA2MDIuOTA1Qzk2My42OTggNjMwLjMxNSA5MzguMzY1IDY0OS40MjIgOTEwLjk1NSA2NDUuNTgyWiIgZmlsbD0iI0YwRjJGNSIgc3Ryb2tlPSIjRDdEQkUwIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE0NjYuOTQgNTc0LjE0NEMxNDYxLjgxIDU3NS4wNjUgMTQ1Ni45MSA1NzEuNjU1IDE0NTUuOTkgNTY2LjUyOUMxNDU1LjA3IDU2MS40MDMgMTQ1OC40OCA1NTYuNTAxIDE0NjMuNiA1NTUuNTgxQzE0NjguNzMgNTU0LjY2IDE0NzMuNjMgNTU4LjA3IDE0NzQuNTUgNTYzLjE5NkMxNDc1LjQ3IDU2OC4zMjIgMTQ3Mi4wNiA1NzMuMjI0IDE0NjYuOTQgNTc0LjE0NFoiIHN0cm9rZT0iI0Q3REJFMCIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNTk3IDUzMS45MDNDMTU5My4xNSA1MzIuNTk1IDE1ODkuNDYgNTMwLjAzMSAxNTg4Ljc3IDUyNi4xNzdDMTU4OC4wOCA1MjIuMzIyIDE1OTAuNjQgNTE4LjYzNSAxNTk0LjQ5IDUxNy45NDNDMTU5OC4zNSA1MTcuMjUxIDE2MDIuMDQgNTE5LjgxNSAxNjAyLjczIDUyMy42N0MxNjAzLjQyIDUyNy41MjUgMTYwMC44NiA1MzEuMjExIDE1OTcgNTMxLjkwM1oiIGZpbGw9IiNGMEYyRjUiIHN0cm9rZT0iI0Q3REJFMCIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMjQ4Ljg2IDU2NC4wMjlDMTI0MC4wOCA1NjUuNjA3IDEyMzEuNjcgNTU5Ljc2MiAxMjMwLjEgNTUwLjk3NUMxMjI4LjUyIDU0Mi4xODcgMTIzNC4zNiA1MzMuNzg0IDEyNDMuMTUgNTMyLjIwNkMxMjUxLjk0IDUzMC42MjggMTI2MC4zNCA1MzYuNDczIDEyNjEuOTIgNTQ1LjI2MUMxMjYzLjUgNTU0LjA0OCAxMjU3LjY1IDU2Mi40NTEgMTI0OC44NiA1NjQuMDI5WiIgZmlsbD0iI0YwRjJGNSIgc3Ryb2tlPSIjRDdEQkUwIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE2ODkuNzEgNTk1LjU1N0MxNjgwLjkyIDU5Ny4xMzUgMTY3Mi41MiA1OTEuMjkgMTY3MC45NCA1ODIuNTAzQzE2NjkuMzcgNTczLjcxNSAxNjc1LjIxIDU2NS4zMTIgMTY4NCA1NjMuNzM0QzE2OTIuNzggNTYyLjE1NiAxNzAxLjE5IDU2OC4wMDEgMTcwMi43NyA1NzYuNzg4QzE3MDQuMzQgNTg1LjU3NiAxNjk4LjUgNTkzLjk3OSAxNjg5LjcxIDU5NS41NTdaIiBzdHJva2U9IiNEN0RCRTAiLz4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTI4NC41MSA4MjIuNjA2QzEyNzAuODkgODI1LjA1MiAxMjU3Ljg2IDgxNS45OTIgMTI1NS40MiA4MDIuMzcyQzEyNTIuOTcgNzg4Ljc1MSAxMjYyLjAzIDc3NS43MjYgMTI3NS42NSA3NzMuMjhDMTI4OS4yNyA3NzAuODM0IDEzMDIuMyA3NzkuODkzIDEzMDQuNzQgNzkzLjUxNEMxMzA3LjE5IDgwNy4xMzUgMTI5OC4xMyA4MjAuMTYgMTI4NC41MSA4MjIuNjA2WiIgc3Ryb2tlPSIjRDdEQkUwIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTkxOS4wODQgODE0LjZDODk2LjM4MyA4MTguNjc2IDg3NC42NzUgODAzLjU3OCA4NzAuNTk5IDc4MC44NzZDODY2LjUyMiA3NTguMTc1IDg4MS42MjEgNzM2LjQ2NyA5MDQuMzIyIDczMi4zOTFDOTI3LjAyNCA3MjguMzE0IDk0OC43MzIgNzQzLjQxMyA5NTIuODA4IDc2Ni4xMTRDOTU2Ljg4NCA3ODguODE2IDk0MS43ODYgODEwLjUyNCA5MTkuMDg0IDgxNC42WiIgc3Ryb2tlPSIjRDdEQkUwIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExMTcuODUgOTAzLjgxOUMxMTI5LjUzIDkwOC41NSAxMTQyLjg0IDkwMi45MTIgMTE0Ny41OCA4OTEuMjI2QzExNTIuMzEgODc5LjUzOSAxMTQ2LjY3IDg2Ni4yMjkgMTEzNC45OCA4NjEuNDk4QzExMjMuMyA4NTYuNzY2IDExMDkuOTkgODYyLjQwNCAxMTA1LjI1IDg3NC4wOTFDMTEwMC41MiA4ODUuNzc3IDExMDYuMTYgODk5LjA4NyAxMTE3Ljg1IDkwMy44MTlaIiBmaWxsPSIjRjBGMkY1IiBzdHJva2U9IiNEN0RCRTAiLz4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNTM5LjMyNSA4MzAuMzVDNTY0Ljk4IDg0MC43MzcgNTk0LjE5NyA4MjguMzYgNjA0LjU4NCA4MDIuNzA2QzYxNC45NzEgNzc3LjA1MSA2MDIuNTk0IDc0Ny44MzQgNTc2LjkzOSA3MzcuNDQ3QzU1MS4yODUgNzI3LjA2IDUyMi4wNjggNzM5LjQzNyA1MTEuNjgxIDc2NS4wOTJDNTAxLjI5NCA3OTAuNzQ2IDUxMy42NzEgODE5Ljk2NCA1MzkuMzI1IDgzMC4zNVoiIHN0cm9rZT0iI0Q3REJFMCIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNTguNDI5IDg3Mi44MUMyNzIuMzg4IDg3OC40NjIgMjg4LjI4NiA4NzEuNzI3IDI5My45MzcgODU3Ljc2OEMyOTkuNTg5IDg0My44MDkgMjkyLjg1NCA4MjcuOTEyIDI3OC44OTYgODIyLjI2QzI2NC45MzcgODE2LjYwOSAyNDkuMDM5IDgyMy4zNDMgMjQzLjM4OCA4MzcuMzAyQzIzNy43MzYgODUxLjI2MSAyNDQuNDcgODY3LjE1OCAyNTguNDI5IDg3Mi44MVoiIHN0cm9rZT0iI0Q3REJFMCIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zNC41NDA2IDY5OC43NTRDMzguNTE4NyA3MDIuMTE1IDQ0LjQ2ODUgNzAxLjYxNSA0Ny44Mjk5IDY5Ny42MzdDNTEuMTkxMyA2OTMuNjU5IDUwLjY5MTQgNjg3LjcwOSA0Ni43MTMzIDY4NC4zNDhDNDIuNzM1MiA2ODAuOTg2IDM2Ljc4NTMgNjgxLjQ4NiAzMy40MjM5IDY4NS40NjRDMzAuMDYyNSA2ODkuNDQyIDMwLjU2MjQgNjk1LjM5MiAzNC41NDA2IDY5OC43NTRaIiBmaWxsPSIjRjVGN0ZBIiBzdHJva2U9IiNEN0RCRTAiLz4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjQxLjgwNiA3MTAuNzI0QzI0OC42MjYgNzE2LjQ4NiAyNTguODI2IDcxNS42MjkgMjY0LjU4OCA3MDguODA5QzI3MC4zNSA3MDEuOTkgMjY5LjQ5MyA2OTEuNzkgMjYyLjY3NCA2ODYuMDI3QzI1NS44NTQgNjgwLjI2NSAyNDUuNjU0IDY4MS4xMjIgMjM5Ljg5MiA2ODcuOTQyQzIzNC4xMyA2OTQuNzYxIDIzNC45ODcgNzA0Ljk2MSAyNDEuODA2IDcxMC43MjRaIiBzdHJva2U9IiNEN0RCRTAiLz4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNLTE3LjcyMzggNjk5LjI3NkMtNy4xNTMzMSA3MDguMjA4IDguNjU2MzggNzA2Ljg3OSAxNy41ODgxIDY5Ni4zMDlDMjYuNTE5OCA2ODUuNzM5IDI1LjE5MTMgNjY5LjkyOSAxNC42MjA4IDY2MC45OTdDNC4wNTAyOSA2NTIuMDY1IC0xMS43NTk0IDY1My4zOTQgLTIwLjY5MTEgNjYzLjk2NEMtMjkuNjIyOCA2NzQuNTM1IC0yOC4yOTQzIDY5MC4zNDQgLTE3LjcyMzggNjk5LjI3NloiIHN0cm9rZT0iI0Q3REJFMCIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMTE0Ljc1IDg3OC44MjFDMTEwMC4xMSA4ODEuNDUxIDEwODYuMSA4NzEuNzEgMTA4My40NyA4NTcuMDYzQzEwODAuODQgODQyLjQxNyAxMDkwLjU4IDgyOC40MTIgMTEwNS4yMyA4MjUuNzgyQzExMTkuODcgODIzLjE1MiAxMTMzLjg4IDgzMi44OTQgMTEzNi41MSA4NDcuNTRDMTEzOS4xNCA4NjIuMTg2IDExMjkuNCA4NzYuMTkxIDExMTQuNzUgODc4LjgyMVoiIHN0cm9rZT0iI0Q3REJFMCIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zMTguOTMzIDc1Ni4wNkMzMzYuNTUgNzcwLjk0NiAzNjIuOSA3NjguNzMyIDM3Ny43ODYgNzUxLjExNEMzOTIuNjcyIDczMy40OTcgMzkwLjQ1OCA3MDcuMTQ4IDM3Mi44NDEgNjkyLjI2MUMzNTUuMjIzIDY3Ny4zNzUgMzI4Ljg3NCA2NzkuNTg5IDMxMy45ODggNjk3LjIwN0MyOTkuMTAxIDcxNC44MjQgMzAxLjMxNSA3NDEuMTc0IDMxOC45MzMgNzU2LjA2WiIgc3Ryb2tlPSIjRDdEQkUwIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTczLjg4MzcgNzQ3LjQzNkM5NS4wMjQ2IDc2NS4zIDEyNi42NDQgNzYyLjY0MyAxNDQuNTA3IDc0MS41MDJDMTYyLjM3MSA3MjAuMzYxIDE1OS43MTQgNjg4Ljc0MiAxMzguNTczIDY3MC44NzhDMTE3LjQzMiA2NTMuMDE1IDg1LjgxMjggNjU1LjY3MiA2Ny45NDkzIDY3Ni44MTNDNTAuMDg1OSA2OTcuOTU0IDUyLjc0MjggNzI5LjU3MyA3My44ODM3IDc0Ny40MzZaIiBmaWxsPSIjRjBGMkY1IiBzdHJva2U9IiNEN0RCRTAiLz4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTE4MC42NyA4MjAuMTJDMTE1My40MyA4MjUuMDEyIDExMjcuMzggODA2Ljg5NCAxMTIyLjQ5IDc3OS42NTJDMTExNy42IDc1Mi40MSAxMTM1LjcyIDcyNi4zNjEgMTE2Mi45NiA3MjEuNDY5QzExOTAuMiA3MTYuNTc3IDEyMTYuMjUgNzM0LjY5NiAxMjIxLjE0IDc2MS45MzdDMTIyNi4wNCA3ODkuMTc5IDEyMDcuOTIgODE1LjIyOCAxMTgwLjY3IDgyMC4xMloiIHN0cm9rZT0iI0Q3REJFMCIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNDEwLjcxIDc1MC4wODJDMTM4My40NyA3NTQuOTc0IDEzNTcuNDIgNzM2Ljg1NSAxMzUyLjUzIDcwOS42MTRDMTM0Ny42NCA2ODIuMzcyIDEzNjUuNzUgNjU2LjMyMyAxMzkzIDY1MS40MzFDMTQyMC4yNCA2NDYuNTM5IDE0NDYuMjkgNjY0LjY1OCAxNDUxLjE4IDY5MS44OTlDMTQ1Ni4wNyA3MTkuMTQxIDE0MzcuOTUgNzQ1LjE5IDE0MTAuNzEgNzUwLjA4MloiIGZpbGw9IiNGMEYyRjUiIHN0cm9rZT0iI0Q3REJFMCIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01OTIuMTcyIDEwMDEuNjJDNTg2Ljk4NiAxMDAyLjExIDU4Mi4zODggOTk4LjI5NiA1ODEuOTAyIDk5My4xMTFDNTgxLjQxNiA5ODcuOTI1IDU4NS4yMjUgOTgzLjMyOCA1OTAuNDExIDk4Mi44NDFDNTk1LjU5NiA5ODIuMzU1IDYwMC4xOTQgOTg2LjE2NSA2MDAuNjggOTkxLjM1QzYwMS4xNjYgOTk2LjUzNSA1OTcuMzU3IDEwMDEuMTMgNTkyLjE3MiAxMDAxLjYyWiIgZmlsbD0iI0YwRjJGNSIgc3Ryb2tlPSIjRDdEQkUwIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTc1MC4yOSA5ODQuNDEyQzc0Ni4zOTEgOTg0Ljc3OCA3NDIuOTM0IDk4MS45MTMgNzQyLjU2OCA5NzguMDE0Qzc0Mi4yMDIgOTc0LjExNCA3NDUuMDY3IDk3MC42NTcgNzQ4Ljk2NiA5NzAuMjkxQzc1Mi44NjYgOTY5LjkyNSA3NTYuMzIzIDk3Mi43OSA3NTYuNjg5IDk3Ni42ODlDNzU3LjA1NSA5ODAuNTg5IDc1NC4xOSA5ODQuMDQ2IDc1MC4yOSA5ODQuNDEyWiIgc3Ryb2tlPSIjRDdEQkUwIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE3NS43NjMgMTAxNS44NUMxNjguODA1IDEwMTYuNSAxNjIuNjM1IDEwMTEuMzkgMTYxLjk4MiAxMDA0LjQzQzE2MS4zMyA5OTcuNDY5IDE2Ni40NDIgOTkxLjI5OCAxNzMuNCA5OTAuNjQ2QzE4MC4zNTkgOTg5Ljk5MyAxODYuNTI5IDk5NS4xMDYgMTg3LjE4MiAxMDAyLjA2QzE4Ny44MzQgMTAwOS4wMiAxODIuNzIyIDEwMTUuMTkgMTc1Ljc2MyAxMDE1Ljg1WiIgZmlsbD0iI0YwRjJGNSIgc3Ryb2tlPSIjRDdEQkUwIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTk0MS40NTkgODgxLjEyNUM5MzIuNTcgODgxLjk1OSA5MjQuNjg4IDg3NS40MjggOTIzLjg1NCA4NjYuNTM5QzkyMy4wMjEgODU3LjY1IDkyOS41NTEgODQ5Ljc2OCA5MzguNDQgODQ4LjkzNUM5NDcuMzI5IDg0OC4xMDEgOTU1LjIxMSA4NTQuNjMxIDk1Ni4wNDUgODYzLjUyMUM5NTYuODc4IDg3Mi40MSA5NTAuMzQ4IDg4MC4yOTIgOTQxLjQ1OSA4ODEuMTI1WiIgZmlsbD0iI0YwRjJGNSIgc3Ryb2tlPSIjRDdEQkUwIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTMyMy45MjcgOTgwLjQzNUMzMTIuNjg1IDk4MS40ODkgMzAyLjcxNiA5NzMuMjMgMzAxLjY2MiA5NjEuOTg3QzMwMC42MDggOTUwLjc0NSAzMDguODY3IDk0MC43NzYgMzIwLjEwOSA5MzkuNzIyQzMzMS4zNTIgOTM4LjY2OCAzNDEuMzIgOTQ2LjkyNyAzNDIuMzc1IDk1OC4xNjlDMzQzLjQyOSA5NjkuNDEyIDMzNS4xNyA5NzkuMzgxIDMyMy45MjcgOTgwLjQzNVoiIHN0cm9rZT0iI0Q3REJFMCIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMjkuOTg3IDY4OS41NDVDMTQxLjM1MyA2OTkuMTQ5IDE1OC4zNTMgNjk3LjcyIDE2Ny45NTcgNjg2LjM1NEMxNzcuNTYxIDY3NC45ODggMTc2LjEzMiA2NTcuOTg5IDE2NC43NjYgNjQ4LjM4NUMxNTMuNCA2MzguNzgxIDEzNi40MDEgNjQwLjIwOSAxMjYuNzk3IDY1MS41NzVDMTE3LjE5MyA2NjIuOTQxIDExOC42MjEgNjc5Ljk0MSAxMjkuOTg3IDY4OS41NDVaIiBzdHJva2U9IiNEN0RCRTAiLz4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNjg3LjQ0MiA5NjUuOTQ3QzY3My42NjQgOTY3LjIzOSA2NjEuNDQ3IDk1Ny4xMTcgNjYwLjE1NSA5NDMuMzM5QzY1OC44NjMgOTI5LjU2MSA2NjguOTg1IDkxNy4zNDQgNjgyLjc2MyA5MTYuMDUyQzY5Ni41NDIgOTE0Ljc2IDcwOC43NTkgOTI0Ljg4MiA3MTAuMDUxIDkzOC42NkM3MTEuMzQzIDk1Mi40MzggNzAxLjIyMSA5NjQuNjU1IDY4Ny40NDIgOTY1Ljk0N1oiIHN0cm9rZT0iI0Q3REJFMCIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik05Ni4zOTU0IDk4NC4xMDlDODAuNDEwNCA5ODUuNjA4IDY2LjIzNyA5NzMuODY1IDY0LjczOCA5NTcuODhDNjMuMjM5IDk0MS44OTUgNzQuOTgyMiA5MjcuNzIxIDkwLjk2NzEgOTI2LjIyMkMxMDYuOTUyIDkyNC43MjMgMTIxLjEyNiA5MzYuNDY3IDEyMi42MjUgOTUyLjQ1MkMxMjQuMTIzIDk2OC40MzYgMTEyLjM4IDk4Mi42MSA5Ni4zOTU0IDk4NC4xMDlaIiBzdHJva2U9IiNEN0RCRTAiLz4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNTE1LjQ0OSA5NzYuOTY0QzQ4Ny44OTMgOTc5LjU0OCA0NjMuNDU5IDk1OS4zMDQgNDYwLjg3NSA5MzEuNzQ3QzQ1OC4yOTEgOTA0LjE5IDQ3OC41MzUgODc5Ljc1NyA1MDYuMDkxIDg3Ny4xNzNDNTMzLjY0OCA4NzQuNTg4IDU1OC4wODIgODk0LjgzMyA1NjAuNjY2IDkyMi4zODlDNTYzLjI1IDk0OS45NDYgNTQzLjAwNiA5NzQuMzggNTE1LjQ0OSA5NzYuOTY0WiIgc3Ryb2tlPSIjRDdEQkUwIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTc4MS4yNDIgODcxLjMwOEM3NTkuODkxIDg3My4zMSA3NDAuOTU5IDg1Ny42MjQgNzM4Ljk1NyA4MzYuMjc0QzczNi45NTUgODE0LjkyMyA3NTIuNjQgNzk1Ljk5MiA3NzMuOTkxIDc5My45ODlDNzk1LjM0MiA3OTEuOTg3IDgxNC4yNzMgODA3LjY3MyA4MTYuMjc1IDgyOS4wMjNDODE4LjI3NyA4NTAuMzc0IDgwMi41OTIgODY5LjMwNSA3ODEuMjQyIDg3MS4zMDhaIiBmaWxsPSIjRjBGMkY1IiBzdHJva2U9IiNEN0RCRTAiLz4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTM1My4zMSA3MzYuMjg0QzEzNDguNTMgNzM4LjM2MiAxMzQyLjk4IDczNi4xNzUgMTM0MC45IDczMS4zOTlDMTMzOC44MiA3MjYuNjIzIDEzNDEuMDEgNzIxLjA2NyAxMzQ1Ljc4IDcxOC45OUMxMzUwLjU2IDcxNi45MTIgMTM1Ni4xMiA3MTkuMDk5IDEzNTguMTkgNzIzLjg3NUMxMzYwLjI3IDcyOC42NSAxMzU4LjA4IDczNC4yMDYgMTM1My4zMSA3MzYuMjg0WiIgc3Ryb2tlPSIjRDdEQkUwIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE0NzAuMTMgNjY1LjE5QzE0NjYuNTQgNjY2Ljc1MiAxNDYyLjM2IDY2NS4xMDcgMTQ2MC44IDY2MS41MTZDMTQ1OS4yMyA2NTcuOTI1IDE0NjAuODggNjUzLjc0NyAxNDY0LjQ3IDY1Mi4xODRDMTQ2OC4wNiA2NTAuNjIyIDE0NzIuMjQgNjUyLjI2NiAxNDczLjggNjU1Ljg1OEMxNDc1LjM2IDY1OS40NDkgMTQ3My43MiA2NjMuNjI3IDE0NzAuMTMgNjY1LjE5WiIgZmlsbD0iI0YwRjJGNSIgc3Ryb2tlPSIjRDdEQkUwIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExMzguNzggNzc2LjczQzExMzAuNTkgNzgwLjI5MSAxMTIxLjA3IDc3Ni41NDIgMTExNy41MSA3NjguMzU1QzExMTMuOTUgNzYwLjE2OCAxMTE3LjcgNzUwLjY0NCAxMTI1Ljg4IDc0Ny4wODJDMTEzNC4wNyA3NDMuNTIgMTE0My41OSA3NDcuMjcgMTE0Ny4xNiA3NTUuNDU3QzExNTAuNzIgNzYzLjY0NCAxMTQ2Ljk3IDc3My4xNjggMTEzOC43OCA3NzYuNzNaIiBmaWxsPSIjRjBGMkY1IiBzdHJva2U9IiNEN0RCRTAiLz4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTUwNC4yNCA2MDcuODA5QzE0OTYuMDYgNjExLjM3MSAxNDg2LjUzIDYwNy42MjEgMTQ4Mi45NyA1OTkuNDM0QzE0NzkuNDEgNTkxLjI0NyAxNDgzLjE2IDU4MS43MjMgMTQ5MS4zNCA1NzguMTYxQzE0OTkuNTMgNTc0LjU5OSAxNTA5LjA2IDU3OC4zNDkgMTUxMi42MiA1ODYuNTM2QzE1MTYuMTggNTk0LjcyMyAxNTEyLjQzIDYwNC4yNDcgMTUwNC4yNCA2MDcuODA5WiIgZmlsbD0iI0YwRjJGNSIgc3Ryb2tlPSIjRDdEQkUwIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyNTIuNDQgNzYxLjA3MkMxMjM4Ljc5IDc2Ny4wMDggMTIyMi45MiA3NjAuNzYgMTIxNi45OCA3NDcuMTE1QzEyMTEuMDUgNzMzLjQ3IDEyMTcuMyA3MTcuNTk2IDEyMzAuOTQgNzExLjY1OUMxMjQ0LjU5IDcwNS43MjMgMTI2MC40NiA3MTEuOTcyIDEyNjYuNCA3MjUuNjE3QzEyNzIuMzMgNzM5LjI2MiAxMjY2LjA4IDc1NS4xMzYgMTI1Mi40NCA3NjEuMDcyWiIgc3Ryb2tlPSIjRDdEQkUwIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTgyOS4xMjcgOTExLjg5MkM4NTQuNzgyIDkyMi4yNzkgODgzLjk5OSA5MDkuOTAyIDg5NC4zODYgODg0LjI0N0M5MDQuNzczIDg1OC41OTMgODkyLjM5NiA4MjkuMzc2IDg2Ni43NDIgODE4Ljk4OUM4NDEuMDg3IDgwOC42MDIgODExLjg3IDgyMC45NzkgODAxLjQ4MyA4NDYuNjMzQzc5MS4wOTYgODcyLjI4OCA4MDMuNDczIDkwMS41MDUgODI5LjEyNyA5MTEuODkyWiIgc3Ryb2tlPSIjRDdEQkUwIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE0MDQuNjYgNjY3LjIyOEMxMzkxLjk3IDY3Mi43NDggMTM3Ny4yIDY2Ni45MzcgMTM3MS42OCA2NTQuMjQ3QzEzNjYuMTYgNjQxLjU1NyAxMzcxLjk3IDYyNi43OTUgMTM4NC42NiA2MjEuMjc0QzEzOTcuMzUgNjE1Ljc1MyAxNDEyLjExIDYyMS41NjQgMTQxNy42NCA2MzQuMjU0QzE0MjMuMTYgNjQ2Ljk0NCAxNDE3LjM0IDY2MS43MDcgMTQwNC42NiA2NjcuMjI4WiIgc3Ryb2tlPSIjRDdEQkUwIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwNTIuNDEgNzY3LjI5NUMxMDMxLjI2IDc3Ni40OTcgMTAwNi42NSA3NjYuODExIDk5Ny40NSA3NDUuNjYxQzk4OC4yNDkgNzI0LjUxMSA5OTcuOTM1IDY5OS45MDcgMTAxOS4wOCA2OTAuNzA2QzEwNDAuMjMgNjgxLjUwNCAxMDY0Ljg0IDY5MS4xOSAxMDc0LjA0IDcxMi4zNEMxMDgzLjI0IDczMy40ODkgMTA3My41NiA3NTguMDk0IDEwNTIuNDEgNzY3LjI5NVoiIHN0cm9rZT0iI0Q3REJFMCIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMzAzLjA1IDY4OC43NTJDMTI3Ny42NyA2OTkuNzk0IDEyNDguMTQgNjg4LjE3MSAxMjM3LjEgNjYyLjc5MUMxMjI2LjA2IDYzNy40MTEgMTIzNy42OCA2MDcuODg2IDEyNjMuMDYgNTk2Ljg0NEMxMjg4LjQ0IDU4NS44MDMgMTMxNy45NyA1OTcuNDI2IDEzMjkuMDEgNjIyLjgwNUMxMzQwLjA1IDY0OC4xODUgMTMyOC40MyA2NzcuNzEgMTMwMy4wNSA2ODguNzUyWiIgc3Ryb2tlPSIjRDdEQkUwIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1NDUuMzQgNjE4LjkyN0MxNTI5LjcyIDYyNS43MjEgMTUxMS41NiA2MTguNTY5IDE1MDQuNzYgNjAyLjk1NEMxNDk3Ljk3IDU4Ny4zMzggMTUwNS4xMiA1NjkuMTcxIDE1MjAuNzMgNTYyLjM3N0MxNTM2LjM1IDU1NS41ODMgMTU1NC41MiA1NjIuNzM1IDE1NjEuMzEgNTc4LjM1MUMxNTY4LjExIDU5My45NjcgMTU2MC45NSA2MTIuMTMzIDE1NDUuMzQgNjE4LjkyN1oiIHN0cm9rZT0iI0Q3REJFMCIvPgogIDwvZz4KPC9zdmc+Cg==\"","import React from 'react';\nimport PropTypes from 'prop-types';\nimport memoizeOne from 'memoize-one';\nimport { FormattedMessage } from 'react-intl';\nimport styled from 'styled-components';\n\nimport Container from '../../Container';\nimport * as ContributorsFilter from '../../ContributorsFilter';\nimport ContributorsGrid from '../../ContributorsGrid';\nimport { H3, P, Span } from '../../Text';\n// Local imports\nimport { Dimensions } from '../_constants';\nimport ContainerSectionContent from '../ContainerSectionContent';\nimport SectionTitle from '../SectionTitle';\n\nimport ContributorsGridBackgroundSVG from '../images/ContributorsGridBackground.svg';\n\n/** Main contributors container with the bubbles background */\nconst MainContainer = styled(Container)`\n  background: linear-gradient(\n      0deg,\n      rgba(255, 255, 255, 1) 0,\n      rgba(255, 255, 255, 0) 75px,\n      rgba(255, 255, 255, 0) calc(100% - 125px),\n      rgba(255, 255, 255, 1) 100%\n    ),\n    center -900px repeat-y url(${ContributorsGridBackgroundSVG});\n`;\n\nconst ExpectedContributorsPropTypes = PropTypes.shape({\n  id: PropTypes.string.isRequired,\n  since: PropTypes.string.isRequired,\n  roles: PropTypes.arrayOf(PropTypes.string.isRequired),\n  isCore: PropTypes.bool.isRequired,\n  isBacker: PropTypes.bool.isRequired,\n  totalAmountDonated: PropTypes.number.isRequired,\n});\n\n/**\n * Section that displays all the contributors to the collective (financial, admins...etc)\n */\nexport default class SectionContributors extends React.PureComponent {\n  static propTypes = {\n    collective: PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      name: PropTypes.string.isRequired,\n      type: PropTypes.string.isRequired,\n      currency: PropTypes.string.isRequired,\n    }),\n    stats: PropTypes.shape({\n      backers: PropTypes.shape({\n        all: PropTypes.number,\n      }),\n    }).isRequired,\n    coreContributors: PropTypes.arrayOf(ExpectedContributorsPropTypes),\n    financialContributors: PropTypes.arrayOf(ExpectedContributorsPropTypes),\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = { filter: ContributorsFilter.CONTRIBUTOR_FILTERS.ALL };\n  }\n\n  static MIN_CONTRIBUTORS_TO_SHOW_FILTERS = 2;\n\n  setFilter = filter => {\n    this.setState({ filter });\n  };\n\n  // Memoize filtering functions as they can get expensive if there are a lot of contributors\n  getContributorsFilters = memoizeOne((coreContributors, financialContributors) => {\n    if (financialContributors.length && coreContributors.length) {\n      return ContributorsFilter.FILTERS_LIST;\n    } else {\n      return [];\n    }\n  });\n\n  filterContributors = memoizeOne((coreContributors, financialContributors, filter) => {\n    // Return the proper list\n    if (filter === ContributorsFilter.CONTRIBUTOR_FILTERS.CORE) {\n      return coreContributors;\n    } else if (filter === ContributorsFilter.CONTRIBUTOR_FILTERS.FINANCIAL) {\n      return financialContributors;\n    } else {\n      const coreContributorsIds = new Set(coreContributors.map(c => c.id));\n      return [...coreContributors, ...financialContributors.filter(c => !coreContributorsIds.has(c.id))];\n    }\n  });\n\n  getTitleFontSize(collectiveName) {\n    if (collectiveName.length < 15) {\n      return 48;\n    } else if (collectiveName.length < 20) {\n      return 40;\n    } else {\n      return 32;\n    }\n  }\n\n  render() {\n    const { collective, financialContributors, coreContributors, stats } = this.props;\n    const { filter } = this.state;\n    const filters = this.getContributorsFilters(coreContributors, financialContributors);\n    const contributors = this.filterContributors(coreContributors, financialContributors, filter);\n    const hasFilters = filters.length > 1;\n\n    return (\n      <MainContainer data-cy=\"Contributors\" pb={4}>\n        <ContainerSectionContent>\n          <SectionTitle fontWeight=\"bold\" fontSize={this.getTitleFontSize(collective.name)} lineHeight=\"1em\">\n            <FormattedMessage\n              id=\"CollectivePage.AllOfUs\"\n              defaultMessage=\"{collectiveName} is all of us\"\n              values={{ collectiveName: collective.name }}\n            />\n          </SectionTitle>\n          <H3 mb={3} fontWeight=\"normal\" color=\"black.900\">\n            <FormattedMessage\n              id=\"CollectivePage.OurContributors\"\n              defaultMessage=\"Our contributors {count}\"\n              values={{\n                count: <Span color=\"black.600\">{stats.backers.all + coreContributors.length}</Span>,\n              }}\n            />\n          </H3>\n          <P color=\"black.700\" mb={4}>\n            <FormattedMessage\n              id=\"CollectivePage.ContributorsDescription\"\n              defaultMessage=\"Thank you for supporting {collectiveName}.\"\n              values={{ collectiveName: collective.name }}\n            />\n          </P>\n        </ContainerSectionContent>\n        {hasFilters && (\n          <Container maxWidth={Dimensions.MAX_SECTION_WIDTH} margin=\"0 auto\">\n            <ContributorsFilter.default\n              selected={filter}\n              onChange={this.setFilter}\n              filters={filters}\n              selectedButtonStyle=\"primary\"\n              px={Dimensions.PADDING_X}\n            />\n          </Container>\n        )}\n        <ContributorsGrid\n          contributors={contributors}\n          collectiveId={collective.id}\n          currency={collective.currency}\n          maxWidthWhenNotFull={Dimensions.MAX_SECTION_WIDTH}\n        />\n      </MainContainer>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gql } from '@apollo/client';\nimport { graphql } from '@apollo/client/react/hoc';\nimport { get, isEmpty } from 'lodash';\nimport { FormattedMessage } from 'react-intl';\n\nimport { API_V2_CONTEXT } from '../../../lib/graphql/helpers';\n\nimport ConversationsList from '../../conversations/ConversationsList';\nimport { conversationListFragment } from '../../conversations/graphql';\nimport { Box, Flex } from '../../Grid';\nimport Link from '../../Link';\nimport MessageBox from '../../MessageBox';\nimport StyledButton from '../../StyledButton';\nimport { P, Span } from '../../Text';\nimport ContainerSectionContent from '../ContainerSectionContent';\nimport SectionTitle from '../SectionTitle';\n\nexport const conversationsSectionQuery = gql`\n  query ConversationsSection($collectiveSlug: String!) {\n    account(slug: $collectiveSlug, throwIfMissing: false) {\n      id\n      conversations(limit: 3) {\n        ...ConversationListFragment\n      }\n    }\n  }\n  ${conversationListFragment}\n`;\n\n/**\n * Conversations section.\n */\nclass SectionConversations extends React.PureComponent {\n  static propTypes = {\n    /** Collective */\n    collective: PropTypes.shape({\n      slug: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n    }).isRequired,\n\n    /** Conversations */\n    data: PropTypes.shape({\n      account: PropTypes.shape({\n        conversations: PropTypes.shape({\n          totalCount: PropTypes.number,\n          nodes: PropTypes.arrayOf(PropTypes.object),\n        }),\n      }),\n    }),\n  };\n\n  render() {\n    const { collective, data } = this.props;\n    const conversations = get(data, 'account.conversations', {});\n\n    return (\n      <ContainerSectionContent pb={4}>\n        <SectionTitle fontSize={['20px', '24px', '32px']} color=\"black.700\" mb={24}>\n          <FormattedMessage id=\"conversations\" defaultMessage=\"Conversations\" />\n        </SectionTitle>\n        <Flex mb={4} justifyContent=\"space-between\" alignItems=\"center\" flexWrap=\"wrap\">\n          <P color=\"black.700\" my={2} css={{ flex: '1 0 50%', maxWidth: 700 }}>\n            <FormattedMessage\n              id=\"conversations.subtitle\"\n              defaultMessage=\"Lets get the discussion going! This is a space for the community to converse, ask questions, say thank you, and get things done together.\"\n            />\n          </P>\n          <Link href={`/${collective.slug}/conversations/new`}>\n            <StyledButton buttonStyle=\"primary\" my={[2, 0]}>\n              <Span fontSize=\"16px\" fontWeight=\"bold\" mr={2}>\n                +\n              </Span>\n              <FormattedMessage id=\"conversations.create\" defaultMessage=\"Create a Conversation\" />\n            </StyledButton>\n          </Link>\n        </Flex>\n        {isEmpty(conversations.nodes) ? (\n          <div>\n            <MessageBox my={[3, 5]} type=\"info\" withIcon maxWidth={700} fontStyle=\"italic\" fontSize=\"14px\">\n              <FormattedMessage\n                id=\"SectionConversations.PostFirst\"\n                defaultMessage=\"Use this section to get the community involved in open discussions.\"\n              />\n            </MessageBox>\n          </div>\n        ) : (\n          <Box mt={[3, 5]} mb={[3, 4]}>\n            <ConversationsList collectiveSlug={collective.slug} conversations={conversations.nodes} />\n            {conversations.totalCount > 3 && (\n              <Link href={`/${collective.slug}/conversations`}>\n                <StyledButton width=\"100%\" mt={4} buttonSize=\"small\" fontSize=\"14px\">\n                  <FormattedMessage id=\"Conversations.ViewAll\" defaultMessage=\"View all Conversations\" /> \n                </StyledButton>\n              </Link>\n            )}\n          </Box>\n        )}\n      </ContainerSectionContent>\n    );\n  }\n}\n\nconst addConversationsSectionData = graphql(conversationsSectionQuery, {\n  options: props => ({\n    variables: getConversationsSectionQueryVariables(props.collective.slug),\n    context: API_V2_CONTEXT,\n  }),\n});\n\nexport const getConversationsSectionQueryVariables = slug => {\n  return { collectiveSlug: slug };\n};\n\nexport default addConversationsSectionData(SectionConversations);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport styled from 'styled-components';\n\nimport Container from '../../Container';\nimport { Box, Flex } from '../../Grid';\nimport StyledButton from '../../StyledButton';\nimport { P } from '../../Text';\nimport { Dimensions } from '../_constants';\nimport ContainerSectionContent from '../ContainerSectionContent';\n\nconst OutlineContainer = styled(Container)`\n  background: #ffffff;\n  border: 1px solid #dcdee0;\n  box-shadow: 0px 1px 4px 1px rgba(49, 50, 51, 0.1);\n  border-radius: 12px;\n`;\n\nconst Illustration = styled.img`\n  width: 248px;\n  height: 248px;\n`;\n\nimport Link from '../../Link';\n\nimport EmptyCollectivePageIllustration from '../../../public/static/images/collective-navigation/EmptyCollectivePageIllustration.png';\n\nconst SectionEmpty = props => {\n  const { collective } = props;\n\n  return (\n    <Box py={5}>\n      <ContainerSectionContent>\n        <OutlineContainer\n          display=\"flex\"\n          flexDirection={['column', 'row']}\n          maxWidth={Dimensions.MAX_SECTION_WIDTH}\n          py={4}\n          px={[3, 4, 6]}\n        >\n          <Flex alignItems=\"center\" justifyContent=\"center\">\n            <Illustration src={EmptyCollectivePageIllustration} alt=\"Empty jars illustration\" />\n          </Flex>\n          <Flex\n            flexDirection=\"column\"\n            ml={[0, 4, 5]}\n            mt={[2, 0]}\n            py={[0, 3]}\n            justifyContent=\"space-around\"\n            alignItems={['center', 'flex-start']}\n          >\n            <P fontSize=\"20px\" color=\"black.600\" lineHeight=\"28px\">\n              <FormattedMessage\n                id=\"EmptyCollectivePage\"\n                defaultMessage=\"{collective} is still working on their public profile. In the meantime, check out some other Collectives!\"\n                values={{\n                  collective: collective.name,\n                }}\n              />\n            </P>\n            <Link href=\"/search\">\n              <StyledButton mt={[4, 3]} buttonStyle=\"primary\" buttonSize=\"medium\" fontSize=\"14px\" lineHeight=\"16px\">\n                <FormattedMessage id=\"home.discoverCollectives\" defaultMessage=\"Discover Collectives\" /> \n              </StyledButton>\n            </Link>\n          </Flex>\n        </OutlineContainer>\n      </ContainerSectionContent>\n    </Box>\n  );\n};\n\nSectionEmpty.propTypes = {\n  /** Collective */\n  collective: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default SectionEmpty;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport memoizeOne from 'memoize-one';\nimport { FormattedMessage, injectIntl } from 'react-intl';\n\nimport { sortEvents } from '../../../lib/events';\n\nimport { CONTRIBUTE_CARD_WIDTH } from '../../contribute-cards/constants';\nimport { CONTRIBUTE_CARD_PADDING_X } from '../../contribute-cards/ContributeCardContainer';\nimport ContributeEvent from '../../contribute-cards/ContributeEvent';\nimport CreateNew from '../../contribute-cards/CreateNew';\nimport { Box } from '../../Grid';\nimport HorizontalScroller from '../../HorizontalScroller';\nimport Link from '../../Link';\nimport StyledButton from '../../StyledButton';\nimport { H3, P } from '../../Text';\nimport ContainerSectionContent from '../ContainerSectionContent';\nimport ContributeCardsContainer from '../ContributeCardsContainer';\n\nclass SectionEvents extends React.PureComponent {\n  static propTypes = {\n    /** Collective */\n    collective: PropTypes.shape({\n      slug: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n      isActive: PropTypes.bool,\n    }).isRequired,\n    events: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        contributors: PropTypes.arrayOf(PropTypes.object),\n      }),\n    ),\n    isAdmin: PropTypes.bool.isRequired,\n  };\n\n  sortEvents = memoizeOne(sortEvents);\n\n  getContributeCardsScrollDistance = width => {\n    const oneCardScrollDistance = CONTRIBUTE_CARD_WIDTH + CONTRIBUTE_CARD_PADDING_X[0] * 2;\n    if (width <= oneCardScrollDistance * 2) {\n      return oneCardScrollDistance;\n    } else if (width <= oneCardScrollDistance * 4) {\n      return oneCardScrollDistance * 2;\n    } else {\n      return oneCardScrollDistance * 3;\n    }\n  };\n\n  render() {\n    const { collective, events, isAdmin } = this.props;\n    const hasNoContributorForEvents = !events.find(event => event.contributors.length > 0);\n\n    if (!events?.length && !isAdmin) {\n      return null;\n    }\n\n    return (\n      <Box pb={4} mt={2}>\n        <ContainerSectionContent>\n          <H3 fontSize={['20px', '24px', '32px']} fontWeight=\"normal\" color=\"black.700\" mb={2}>\n            <FormattedMessage id=\"Events\" defaultMessage=\"Events\" />\n          </H3>\n          <P color=\"black.700\" mb={4}>\n            {isAdmin ? (\n              <FormattedMessage\n                id=\"CollectivePage.SectionEvents.AdminDescription\"\n                defaultMessage=\"Set up events for your community and sell tickets that go straight to your budget.\"\n              />\n            ) : (\n              <FormattedMessage\n                id=\"CollectivePage.SectionEvents.Description\"\n                defaultMessage=\"{collectiveName} is hosting the following events.\"\n                values={{ collectiveName: collective.name }}\n              />\n            )}\n          </P>\n        </ContainerSectionContent>\n        <HorizontalScroller\n          container={ContributeCardsContainer}\n          getScrollDistance={this.getContributeCardsScrollDistance}\n        >\n          {this.sortEvents(events).map(event => (\n            <Box key={event.id} px={CONTRIBUTE_CARD_PADDING_X}>\n              <ContributeEvent collective={collective} event={event} hideContributors={hasNoContributorForEvents} />\n            </Box>\n          ))}\n          {isAdmin && (\n            <Box px={CONTRIBUTE_CARD_PADDING_X} minHeight={150}>\n              <CreateNew route={`/${collective.slug}/events/create`} data-cy=\"create-event\">\n                <FormattedMessage id=\"event.create.btn\" defaultMessage=\"Create Event\" />\n              </CreateNew>\n            </Box>\n          )}\n        </HorizontalScroller>\n        {Boolean(events?.length > 6) && (\n          <ContainerSectionContent>\n            <Link href={`/${collective.slug}/events`}>\n              <StyledButton mt={4} width={1} buttonSize=\"small\" fontSize=\"14px\">\n                <FormattedMessage id=\"CollectivePage.SectionEvents.ViewAll\" defaultMessage=\"View all events\" /> \n              </StyledButton>\n            </Link>\n          </ContainerSectionContent>\n        )}\n      </Box>\n    );\n  }\n}\n\nexport default injectIntl(SectionEvents);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport dayjs from 'dayjs';\nimport styled from 'styled-components';\nimport { margin } from 'styled-system';\n\nimport { formatAmountForLegend } from '../../../../lib/charts';\n\nimport { Flex } from '../../../Grid';\nconst Table = styled.table`\n  ${margin}\n  thead th {\n    font-weight: 500;\n    font-size: 12px;\n    line-height: 16px;\n    letter-spacing: 0.06em;\n    text-transform: uppercase;\n    color: #4d4f51;\n  }\n\n  th,\n  td {\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 24px;\n    color: #141415;\n\n    :not(:first-child) {\n      border-left: 1px solid #eaeaec;\n      text-align: center;\n    }\n  }\n  tbody td:first-child {\n    text-transform: capitalize;\n  }\n`;\n\nexport const makeBudgetTableRow = (key, values) => {\n  values.key = key;\n  return values;\n};\n\nexport const BudgetTable = ({ headers, rows, truncate, ...props }) => {\n  if (truncate) {\n    rows = rows.slice(0, truncate);\n  }\n\n  return (\n    <Table mt={4} cellSpacing={0} cellPadding=\"10px\" {...props}>\n      <thead>\n        <tr>\n          {headers.map(header => (\n            <th key={header.key}>{header}</th>\n          ))}\n        </tr>\n      </thead>\n      <tbody>\n        {rows?.map(row => (\n          <tr key={row.key}>\n            {row.map((cell, i) => (\n              <td key={cell?.key || `${row.key}-${i}`}>{cell}</td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    </Table>\n  );\n};\n\nBudgetTable.propTypes = {\n  headers: PropTypes.arrayOf(PropTypes.node).isRequired,\n  rows: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.node)),\n  truncate: PropTypes.number,\n};\n\nexport const COLORS = ['#A3F89C', '#FFBF5F', '#8FC7FF', '#F89CE4', '#F89C9C'];\n\nexport const TagMarker = styled.div`\n  display: inline-block;\n  margin-right: 8px;\n  height: 24px;\n  width: 6px;\n  border-radius: 8px;\n  vertical-align: bottom;\n  background-color: ${props => props.color};\n`;\n\nexport const StatsCardContent = styled(Flex)`\n  div {\n    margin: 12px 0;\n    padding: 0px 36px;\n\n    :not(:first-child) {\n      border-left: 1px solid #d9d9d9;\n    }\n  }\n`;\n\nexport const GRAPH_TYPES = {\n  LIST: 'LIST',\n  TIME: 'TIME',\n  BAR: 'BAR',\n  PIE: 'PIE',\n};\n\nexport const GraphTypeButton = styled.button`\n  border-radius: 100%;\n  height: 32px;\n  width: 32px;\n  color: #4d4f51;\n  border: 1px solid #f9fafb;\n  background-color: #f9fafb;\n  cursor: pointer;\n\n  :hover {\n    border-color: #c4c7cc;\n  }\n\n  ${props =>\n    props.active\n      ? `\n    border-color: #1153d6;\n    background-color: rgba(20, 110, 255, 0.1);\n    `\n      : ''}\n`;\n\nexport const makeApexOptions = (currency, timeUnit, intl) => ({\n  legend: {\n    show: true,\n    horizontalAlign: 'left',\n    fontSize: '16px',\n    fontFamily: 'inherit',\n    fontWeight: 500,\n    markers: {\n      width: 6,\n      height: 24,\n      radius: 8,\n      offsetY: 6,\n    },\n  },\n  colors: COLORS,\n  grid: {\n    xaxis: { lines: { show: true } },\n    yaxis: { lines: { show: false } },\n  },\n  stroke: {\n    curve: 'straight',\n    width: 1.5,\n  },\n  dataLabels: {\n    enabled: false,\n  },\n  xaxis: {\n    labels: {\n      formatter: function (value) {\n        // Show data aggregated yearly\n        if (timeUnit === 'YEAR') {\n          return dayjs(value).utc().year();\n          // Show data aggregated monthly\n        } else if (timeUnit === 'MONTH') {\n          return dayjs(value).utc().format('MMM-YYYY');\n          // Show data aggregated by week or day\n        } else if (timeUnit === 'WEEK' || timeUnit === 'DAY') {\n          return dayjs(value).utc().format('DD-MMM-YYYY');\n        }\n      },\n    },\n  },\n  yaxis: {\n    labels: {\n      formatter: value => formatAmountForLegend(value, currency, intl.locale),\n    },\n  },\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gql, useQuery } from '@apollo/client';\nimport { BarChart } from '@styled-icons/material/BarChart';\nimport { FormatListBulleted } from '@styled-icons/material/FormatListBulleted';\nimport { PieChart } from '@styled-icons/material/PieChart';\nimport { Timeline } from '@styled-icons/material/Timeline';\nimport { capitalize, sumBy } from 'lodash';\nimport dynamic from 'next/dynamic';\nimport { FormattedMessage, useIntl } from 'react-intl';\n\nimport { alignSeries, extractSeriesFromTimeSeries } from '../../../../lib/charts';\nimport { formatCurrency } from '../../../../lib/currency-utils';\nimport { API_V2_CONTEXT } from '../../../../lib/graphql/helpers';\nimport { getCollectivePageRoute } from '../../../../lib/url-helpers';\n\nimport { Box, Flex } from '../../../Grid';\nimport Link from '../../../Link';\nimport LoadingPlaceholder from '../../../LoadingPlaceholder';\nimport PeriodFilterPresetsSelect from '../../../PeriodFilterPresetsSelect';\nimport StyledCard from '../../../StyledCard';\nimport { P } from '../../../Text';\n\nconst Chart = dynamic(() => import('react-apexcharts'), { ssr: false });\n\nimport {\n  BudgetTable,\n  COLORS,\n  GRAPH_TYPES,\n  GraphTypeButton,\n  makeApexOptions,\n  makeBudgetTableRow,\n  StatsCardContent,\n  TagMarker,\n} from './common';\n\nconst budgetSectionContributionsQuery = gql`\n  query BudgetSectionContributionsQuery($slug: String!, $from: DateTime, $to: DateTime) {\n    account(slug: $slug) {\n      id\n      currency\n      stats {\n        id\n        contributionsAmount(dateFrom: $from, dateTo: $to, includeChildren: false) {\n          label\n          count\n          amount {\n            value\n            valueInCents\n            currency\n          }\n        }\n        contributionsAmountTimeSeries(dateFrom: $from, dateTo: $to, includeChildren: false) {\n          timeUnit\n          nodes {\n            date\n            amount {\n              value\n              currency\n            }\n            label\n          }\n        }\n      }\n    }\n  }\n`;\nconst ContributionsBudget = ({ collective, defaultTimeInterval, ...props }) => {\n  const [tmpDateInterval, setTmpDateInterval] = React.useState(defaultTimeInterval);\n  const [graphType, setGraphType] = React.useState(GRAPH_TYPES.LIST);\n  const { data, loading } = useQuery(budgetSectionContributionsQuery, {\n    variables: { slug: collective.slug, ...tmpDateInterval },\n    context: API_V2_CONTEXT,\n  });\n  const intl = useIntl();\n\n  const timeUnit = data?.account?.stats.contributionsAmountTimeSeries.timeUnit;\n  const { series } = extractSeriesFromTimeSeries(data?.account?.stats.contributionsAmountTimeSeries.nodes, {\n    x: 'date',\n    y: 'amount.value',\n    group: 'label',\n    groupNameTransformer: capitalize,\n  });\n\n  const defaultApexOptions = makeApexOptions(collective.currency, timeUnit, intl);\n\n  return (\n    <Flex {...props}>\n      <Flex justifyContent=\"space-between\" alignItems=\"center\" flexGrow={1}>\n        <P fontSize=\"20px\" lineHeight=\"20px\" fontWeight=\"500\">\n          <FormattedMessage id=\"Contributions\" defaultMessage=\"Contributions\" />\n        </P>\n        <Flex gap=\"8px\" alignItems=\"center\">\n          <PeriodFilterPresetsSelect\n            onChange={setTmpDateInterval}\n            interval={tmpDateInterval}\n            formatDateFn={v => v?.toISOString()}\n            disabled={loading}\n          />\n          <GraphTypeButton active={graphType === GRAPH_TYPES.LIST} onClick={() => setGraphType(GRAPH_TYPES.LIST)}>\n            <FormatListBulleted />\n          </GraphTypeButton>\n          <GraphTypeButton active={graphType === GRAPH_TYPES.TIME} onClick={() => setGraphType(GRAPH_TYPES.TIME)}>\n            <Timeline />\n          </GraphTypeButton>\n          <GraphTypeButton active={graphType === GRAPH_TYPES.BAR} onClick={() => setGraphType(GRAPH_TYPES.BAR)}>\n            <BarChart />\n          </GraphTypeButton>\n          <GraphTypeButton active={graphType === GRAPH_TYPES.PIE} onClick={() => setGraphType(GRAPH_TYPES.PIE)}>\n            <PieChart />\n          </GraphTypeButton>\n        </Flex>\n      </Flex>\n      {loading ? (\n        <LoadingPlaceholder mt=\"30px\" height={100} />\n      ) : (\n        <StyledCard mt=\"30px\">\n          <StatsCardContent>\n            <Box width=\"50%\">\n              <P fontSize=\"12px\" lineHeight=\"16px\" fontWeight=\"500\" textTransform=\"uppercase\" color=\"black.700\">\n                <FormattedMessage id=\"ContributionsReceived\" defaultMessage=\"Contributions received\" />\n              </P>\n              <P fontSize=\"16px\" lineHeight=\"24px\" fontWeight=\"500\" mt=\"4px\">\n                {sumBy(data?.account?.stats.contributionsAmount, 'count')}\n              </P>\n            </Box>\n            <Box width=\"50%\">\n              <P fontSize=\"12px\" lineHeight=\"16px\" fontWeight=\"500\" textTransform=\"uppercase\" color=\"black.700\">\n                <FormattedMessage id=\"Label.AmountCollected\" defaultMessage=\"Amount collected\" />\n              </P>\n              <P fontSize=\"16px\" lineHeight=\"24px\" fontWeight=\"500\" mt=\"4px\">\n                {formatCurrency(\n                  sumBy(data?.account?.stats.contributionsAmount, 'amount.valueInCents'),\n                  collective.currency,\n                )}\n              </P>\n            </Box>\n          </StatsCardContent>\n        </StyledCard>\n      )}\n\n      {loading ? (\n        <LoadingPlaceholder mt={4} height={300} />\n      ) : (\n        <React.Fragment>\n          {graphType === GRAPH_TYPES.LIST && (\n            <BudgetTable\n              mt={4}\n              cellPadding=\"10px\"\n              headers={[\n                <FormattedMessage key={1} id=\"Tiers\" defaultMessage=\"Tiers\" />,\n                <FormattedMessage key={2} id=\"Label.NumberOfContributions\" defaultMessage=\"# of Contributions\" />,\n                <FormattedMessage\n                  key={3}\n                  id=\"Label.AmountWithCurrency\"\n                  defaultMessage=\"Amount ({currency})\"\n                  values={{ currency: data?.account.currency }}\n                />,\n              ]}\n              rows={data?.account?.stats.contributionsAmount.map((contribution, i) =>\n                makeBudgetTableRow(contribution.label + contribution.count, [\n                  <React.Fragment key={contribution.label}>\n                    <TagMarker color={COLORS[i % COLORS.length]} />\n                    {contribution.label}\n                  </React.Fragment>,\n                  contribution.count,\n                  formatCurrency(contribution.amount.valueInCents, contribution.amount.currency),\n                ]),\n              )}\n            />\n          )}\n          {graphType === GRAPH_TYPES.TIME && (\n            <Box mt={4}>\n              <Chart\n                type=\"area\"\n                width=\"100%\"\n                height=\"250px\"\n                options={{\n                  ...defaultApexOptions,\n                  chart: {\n                    id: 'chart-budget-contributions-overview',\n                  },\n                }}\n                series={alignSeries(series)}\n              />\n            </Box>\n          )}\n          {graphType === GRAPH_TYPES.BAR && (\n            <Box mt={4}>\n              <Chart\n                type=\"bar\"\n                width=\"100%\"\n                height=\"250px\"\n                options={{\n                  ...defaultApexOptions,\n                  chart: {\n                    id: 'chart-budget-expenses-stacked-bars',\n                    stacked: true,\n                  },\n                }}\n                series={alignSeries(series)}\n              />\n            </Box>\n          )}\n          {graphType === GRAPH_TYPES.PIE && (\n            <Box mt={4}>\n              <Chart\n                type=\"pie\"\n                width=\"100%\"\n                height=\"300px\"\n                options={{\n                  labels: data?.account?.stats.contributionsAmount.map(contribution => capitalize(contribution.label)),\n                  colors: COLORS,\n                  chart: {\n                    id: 'chart-budget-expenses-pie',\n                  },\n                  legend: { ...defaultApexOptions.legend, position: 'left' },\n                  xaxis: defaultApexOptions.xaxis,\n                  yaxis: defaultApexOptions.yaxis,\n                }}\n                series={data?.account?.stats.contributionsAmount.map(contribution => contribution.amount.value)}\n              />\n            </Box>\n          )}\n        </React.Fragment>\n      )}\n      <P mt={3} textAlign=\"right\">\n        <Link\n          href={`${getCollectivePageRoute(collective)}/transactions?kind=ADDED_FUNDS%2CCONTRIBUTION`}\n          data-cy=\"view-all-contributions-link\"\n        >\n          <FormattedMessage\n            id=\"CollectivePage.SectionBudget.ViewAllContributions\"\n            defaultMessage=\"View all contributions\"\n          />{' '}\n          &rarr;\n        </Link>\n      </P>\n    </Flex>\n  );\n};\n\nContributionsBudget.propTypes = {\n  collective: PropTypes.shape({\n    slug: PropTypes.string.isRequired,\n    currency: PropTypes.string.isRequired,\n  }),\n  defaultTimeInterval: PropTypes.shape({\n    from: PropTypes.object,\n    to: PropTypes.object,\n  }),\n};\n\nexport default ContributionsBudget;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gql, useQuery } from '@apollo/client';\nimport { BarChart } from '@styled-icons/material/BarChart';\nimport { FormatListBulleted } from '@styled-icons/material/FormatListBulleted';\nimport { PieChart } from '@styled-icons/material/PieChart';\nimport { Timeline } from '@styled-icons/material/Timeline';\nimport { capitalize, sumBy } from 'lodash';\nimport dynamic from 'next/dynamic';\nimport { FormattedMessage, useIntl } from 'react-intl';\n\nimport { alignSeries, extractSeriesFromTimeSeries } from '../../../../lib/charts';\nimport { formatCurrency } from '../../../../lib/currency-utils';\nimport { API_V2_CONTEXT } from '../../../../lib/graphql/helpers';\nimport { getCollectivePageRoute } from '../../../../lib/url-helpers';\n\nimport { Box, Flex } from '../../../Grid';\nimport Link from '../../../Link';\nimport LoadingPlaceholder from '../../../LoadingPlaceholder';\nimport PeriodFilterPresetsSelect from '../../../PeriodFilterPresetsSelect';\nimport StyledCard from '../../../StyledCard';\nimport { P } from '../../../Text';\n\nconst Chart = dynamic(() => import('react-apexcharts'), { ssr: false });\n\nimport {\n  BudgetTable,\n  COLORS,\n  GRAPH_TYPES,\n  GraphTypeButton,\n  makeApexOptions,\n  makeBudgetTableRow,\n  StatsCardContent,\n  TagMarker,\n} from './common';\n\nconst budgetSectionExpenseQuery = gql`\n  query BudgetSectionExpenseQuery($slug: String!, $from: DateTime, $to: DateTime) {\n    account(slug: $slug) {\n      id\n      currency\n      stats {\n        id\n        expensesTags(dateFrom: $from, dateTo: $to, includeChildren: false) {\n          label\n          count\n          amount {\n            value\n            valueInCents\n            currency\n          }\n        }\n        expensesTagsTimeSeries(dateFrom: $from, dateTo: $to, includeChildren: false) {\n          timeUnit\n          nodes {\n            date\n            amount {\n              value\n              currency\n            }\n            label\n          }\n        }\n      }\n    }\n  }\n`;\nconst ExpenseBudget = ({ collective, defaultTimeInterval, ...props }) => {\n  const [tmpDateInterval, setTmpDateInterval] = React.useState(defaultTimeInterval);\n  const [graphType, setGraphType] = React.useState(GRAPH_TYPES.LIST);\n  const { data, loading } = useQuery(budgetSectionExpenseQuery, {\n    variables: { slug: collective.slug, ...tmpDateInterval },\n    context: API_V2_CONTEXT,\n  });\n  const intl = useIntl();\n\n  const timeUnit = data?.account?.stats.expensesTagsTimeSeries.timeUnit;\n  const { series } = extractSeriesFromTimeSeries(data?.account?.stats.expensesTagsTimeSeries.nodes, {\n    x: 'date',\n    y: 'amount.value',\n    group: 'label',\n    groupNameTransformer: capitalize,\n  });\n\n  const defaultApexOptions = makeApexOptions(collective.currency, timeUnit, intl);\n\n  return (\n    <Flex {...props}>\n      <Flex justifyContent=\"space-between\" alignItems=\"center\" flexGrow={1}>\n        <P fontSize=\"20px\" lineHeight=\"20px\" fontWeight=\"500\">\n          <FormattedMessage id=\"Expenses\" defaultMessage=\"Expenses\" />\n        </P>\n        <Flex gap=\"8px\" alignItems=\"center\">\n          <PeriodFilterPresetsSelect\n            onChange={setTmpDateInterval}\n            interval={tmpDateInterval}\n            formatDateFn={v => v?.toISOString()}\n            disabled={loading}\n          />\n          <GraphTypeButton active={graphType === GRAPH_TYPES.LIST} onClick={() => setGraphType(GRAPH_TYPES.LIST)}>\n            <FormatListBulleted />\n          </GraphTypeButton>\n          <GraphTypeButton active={graphType === GRAPH_TYPES.TIME} onClick={() => setGraphType(GRAPH_TYPES.TIME)}>\n            <Timeline />\n          </GraphTypeButton>\n          <GraphTypeButton active={graphType === GRAPH_TYPES.BAR} onClick={() => setGraphType(GRAPH_TYPES.BAR)}>\n            <BarChart />\n          </GraphTypeButton>\n          <GraphTypeButton active={graphType === GRAPH_TYPES.PIE} onClick={() => setGraphType(GRAPH_TYPES.PIE)}>\n            <PieChart />\n          </GraphTypeButton>\n        </Flex>\n      </Flex>\n      {loading ? (\n        <LoadingPlaceholder mt=\"30px\" height={100} />\n      ) : (\n        <StyledCard mt=\"30px\">\n          <StatsCardContent>\n            <Box width=\"50%\">\n              <P fontSize=\"12px\" lineHeight=\"16px\" fontWeight=\"500\" textTransform=\"uppercase\" color=\"black.700\">\n                <FormattedMessage id=\"ExpensesPaid\" defaultMessage=\"Expenses paid\" />\n              </P>\n              <P fontSize=\"16px\" lineHeight=\"24px\" fontWeight=\"500\" mt=\"4px\">\n                {sumBy(data?.account?.stats.expensesTags, 'count')}\n              </P>\n            </Box>\n            <Box width=\"50%\">\n              <P fontSize=\"12px\" lineHeight=\"16px\" fontWeight=\"500\" textTransform=\"uppercase\" color=\"black.700\">\n                <FormattedMessage id=\"AmountDisbursed\" defaultMessage=\"Amount disbursed\" />\n              </P>\n              <P fontSize=\"16px\" lineHeight=\"24px\" fontWeight=\"500\" mt=\"4px\">\n                {formatCurrency(sumBy(data?.account?.stats.expensesTags, 'amount.valueInCents'), collective.currency)}\n              </P>\n            </Box>\n          </StatsCardContent>\n        </StyledCard>\n      )}\n\n      {loading ? (\n        <LoadingPlaceholder mt={4} height={300} />\n      ) : (\n        <React.Fragment>\n          {graphType === GRAPH_TYPES.LIST && (\n            <BudgetTable\n              mt={4}\n              cellPadding=\"10px\"\n              headers={[\n                <FormattedMessage key={1} id=\"Tags\" defaultMessage=\"Tags\" />,\n                <FormattedMessage key={2} id=\"Label.NumberOfExpenses\" defaultMessage=\"# of Expenses\" />,\n                <FormattedMessage\n                  key={3}\n                  id=\"Label.AmountWithCurrency\"\n                  defaultMessage=\"Amount ({currency})\"\n                  values={{ currency: data?.account.currency }}\n                />,\n              ]}\n              rows={data?.account?.stats.expensesTags.map((expenseTag, i) =>\n                makeBudgetTableRow(expenseTag.id + expenseTag.count, [\n                  <React.Fragment key={expenseTag.label}>\n                    <TagMarker color={COLORS[i % COLORS.length]} />\n                    {expenseTag.label}\n                  </React.Fragment>,\n                  expenseTag.count,\n                  formatCurrency(expenseTag.amount.valueInCents, expenseTag.amount.currency),\n                ]),\n              )}\n            />\n          )}\n          {graphType === GRAPH_TYPES.TIME && (\n            <Box mt={4}>\n              <Chart\n                type=\"area\"\n                width=\"100%\"\n                height=\"250px\"\n                options={{\n                  ...defaultApexOptions,\n                  chart: {\n                    id: 'chart-budget-expenses-time-series',\n                  },\n                }}\n                series={alignSeries(series)}\n              />\n            </Box>\n          )}\n          {graphType === GRAPH_TYPES.BAR && (\n            <Box mt={4}>\n              <Chart\n                type=\"bar\"\n                width=\"100%\"\n                height=\"250px\"\n                options={{\n                  ...defaultApexOptions,\n                  chart: {\n                    id: 'chart-budget-expenses-stacked-bars',\n                    stacked: true,\n                  },\n                }}\n                series={alignSeries(series)}\n              />\n            </Box>\n          )}\n          {graphType === GRAPH_TYPES.PIE && (\n            <Box mt={4}>\n              <Chart\n                type=\"pie\"\n                width=\"100%\"\n                height=\"300px\"\n                options={{\n                  labels: data?.account?.stats.expensesTags.map(expenseTag => capitalize(expenseTag.label)),\n                  colors: COLORS,\n                  chart: {\n                    id: 'chart-budget-expenses-pie',\n                  },\n                  legend: { ...defaultApexOptions.legend, position: 'left' },\n                  xaxis: defaultApexOptions.xaxis,\n                  yaxis: defaultApexOptions.yaxis,\n                }}\n                series={data?.account?.stats.expensesTags.map(expenseTag => expenseTag.amount.value)}\n              />\n            </Box>\n          )}\n        </React.Fragment>\n      )}\n      <P mt={3} textAlign=\"right\">\n        <Link href={`${getCollectivePageRoute(collective)}/expenses`} data-cy=\"view-all-expenses-link\">\n          <FormattedMessage id=\"CollectivePage.SectionBudget.ViewAllExpenses\" defaultMessage=\"View all expenses\" />{' '}\n          &rarr;\n        </Link>\n      </P>\n    </Flex>\n  );\n};\n\nExpenseBudget.propTypes = {\n  collective: PropTypes.shape({\n    slug: PropTypes.string.isRequired,\n    currency: PropTypes.string.isRequired,\n  }),\n  defaultTimeInterval: PropTypes.shape({\n    from: PropTypes.object,\n    to: PropTypes.object,\n  }),\n};\n\nexport default ExpenseBudget;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gql, useQuery } from '@apollo/client';\n\nimport { API_V2_CONTEXT } from '../../../lib/graphql/helpers';\n\nimport { Flex } from '../../Grid';\nimport LoadingPlaceholder from '../../LoadingPlaceholder';\nimport { PERIOD_FILTER_PRESETS } from '../../PeriodFilterPresetsSelect';\nimport { withUser } from '../../UserProvider';\nimport BudgetStats from '../BudgetStats';\nimport ContainerSectionContent from '../ContainerSectionContent';\n\nimport ContributionsBudget from './Budget/ContributionsBudget';\nimport ExpenseBudget from './Budget/ExpenseBudget';\n\nexport const budgetSectionQuery = gql`\n  query BudgetSection($slug: String!) {\n    account(slug: $slug) {\n      id\n      stats {\n        id\n        balance {\n          valueInCents\n          currency\n        }\n        consolidatedBalance {\n          valueInCents\n          currency\n        }\n        yearlyBudget {\n          valueInCents\n          currency\n        }\n        activeRecurringContributions\n        totalAmountReceived(periodInMonths: 12) {\n          valueInCents\n          currency\n        }\n        totalAmountRaised: totalAmountReceived {\n          valueInCents\n          currency\n        }\n        totalNetAmountRaised: totalNetAmountReceived {\n          valueInCents\n          currency\n        }\n      }\n    }\n  }\n`;\n\n/**\n * The budget section. Shows the expenses, the latest transactions and some statistics\n * abut the global budget of the collective.\n */\nconst SectionFinancialOverview = ({ collective, LoggedInUser }) => {\n  const budgetQueryResult = useQuery(budgetSectionQuery, {\n    variables: { slug: collective.slug },\n    context: API_V2_CONTEXT,\n  });\n  const { data, refetch } = budgetQueryResult;\n\n  const isLoading = budgetQueryResult.loading;\n  const defaultTimeInterval = PERIOD_FILTER_PRESETS.allTime.getInterval();\n\n  // Refetch data when user logs in to refresh permissions\n  React.useEffect(() => {\n    if (LoggedInUser) {\n      refetch();\n    }\n  }, [LoggedInUser]);\n\n  return (\n    <ContainerSectionContent pb={4}>\n      {isLoading ? (\n        <LoadingPlaceholder height={300} />\n      ) : (\n        <BudgetStats collective={collective} stats={data?.account?.stats} horizontal />\n      )}\n      <Flex flexDirection={['column', null, 'row']} alignItems=\"flex-start\" gap={'48px'}>\n        <ExpenseBudget\n          collective={collective}\n          defaultTimeInterval={defaultTimeInterval}\n          mt={4}\n          flexDirection=\"column\"\n          flexGrow={1}\n          maxWidth={['100%', null, '50%']}\n          width={['100%', null, 'auto']}\n        />\n        <ContributionsBudget\n          collective={collective}\n          defaultTimeInterval={defaultTimeInterval}\n          mt={4}\n          flexDirection=\"column\"\n          flexGrow={1}\n          maxWidth={['initial', null, '50%']}\n          width={['100%', null, 'auto']}\n        />\n      </Flex>\n    </ContainerSectionContent>\n  );\n};\n\nSectionFinancialOverview.propTypes = {\n  /** Collective */\n  collective: PropTypes.shape({\n    slug: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    currency: PropTypes.string.isRequired,\n    isArchived: PropTypes.bool,\n    settings: PropTypes.object,\n    host: PropTypes.object,\n  }),\n\n  LoggedInUser: PropTypes.object,\n};\n\nexport default React.memo(withUser(SectionFinancialOverview));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport dynamic from 'next/dynamic';\n\nimport Container from '../../Container';\nimport LoadingPlaceholder from '../../LoadingPlaceholder';\n\n// Dynamicly load Goals cover to download it if enabled\nconst GoalsCoverLoadingPlaceholder = () => <LoadingPlaceholder height={400} />;\nconst GoalsCover = dynamic(() => import('../../GoalsCover'), {\n  loading: GoalsCoverLoadingPlaceholder,\n});\n\n/**\n * Display the general goals for the collective\n */\nconst SectionGoals = ({ collective }) => {\n  return (\n    <Container background=\"rgb(245, 247, 250)\" pt={5} pb={40}>\n      <Container maxWidth=\"80%\" m=\"0 auto\">\n        <GoalsCover collective={collective} />\n      </Container>\n    </Container>\n  );\n};\n\nSectionGoals.propTypes = {\n  /** The collective to display description for */\n  collective: PropTypes.shape({\n    settings: PropTypes.object,\n    name: PropTypes.string,\n  }).isRequired,\n};\n\nexport default React.memo(SectionGoals);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport { isEmptyCollectiveLocation } from '../../../lib/collective.lib';\nimport useLoggedInUser from '../../../lib/hooks/useLoggedInUser';\n\nimport Container from '../../Container';\nimport { Box } from '../../Grid';\nimport LocationComponent from '../../Location';\nimport { P } from '../../Text';\nimport ContainerSectionContent from '../ContainerSectionContent';\nimport SectionTitle from '../SectionTitle';\n\nconst isEmptyOnlineLocation = event => {\n  return event.location?.name === 'Online' && !event.location.address && !event.privateInstructions;\n};\n\nconst Location = ({ collective: event, refetch }) => {\n  const { LoggedInUser } = useLoggedInUser();\n  const prevLoggedInUser = React.useRef(LoggedInUser);\n\n  React.useEffect(() => {\n    if (LoggedInUser && !prevLoggedInUser.current) {\n      // To make sure user gets access to privateInstructions\n      refetch();\n      prevLoggedInUser.current = LoggedInUser;\n    }\n  }, [LoggedInUser]);\n\n  if (isEmptyCollectiveLocation(event) || isEmptyOnlineLocation(event)) {\n    return null;\n  }\n\n  return (\n    <Box pb={4}>\n      <ContainerSectionContent pb={4}>\n        <SectionTitle textAlign=\"center\">\n          <FormattedMessage id=\"SectionLocation.Title\" defaultMessage=\"Location\" />\n        </SectionTitle>\n        <LocationComponent\n          location={event.location}\n          privateInstructions={event.privateInstructions}\n          showTitle={false}\n        />\n        {event.privateInstructions && (\n          <Container maxWidth={700} mx=\"auto\" mt={4}>\n            <P fontWeight=\"bold\" fontSize=\"18px\">\n              <FormattedMessage id=\"event.privateInstructions.label\" defaultMessage=\"Private instructions\" />\n            </P>\n            <P mt={3} fontSize=\"14px\" whiteSpace=\"pre-wrap\">\n              {event.privateInstructions}\n            </P>\n          </Container>\n        )}\n      </ContainerSectionContent>\n    </Box>\n  );\n};\nLocation.propTypes = {\n  refetch: PropTypes.func.isRequired,\n  collective: PropTypes.shape({\n    location: PropTypes.object,\n    privateInstructions: PropTypes.string,\n  }).isRequired,\n};\n\nexport default Location;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Mail } from '@styled-icons/feather/Mail';\nimport { get } from 'lodash';\nimport { FormattedMessage } from 'react-intl';\n\nimport ContactCollectiveBtn from '../../ContactCollectiveBtn';\nimport Container from '../../Container';\nimport ContributorCard from '../../ContributorCard';\nimport StyledButton from '../../StyledButton';\nimport { H2, Span } from '../../Text';\nimport ContainerSectionContent from '../ContainerSectionContent';\n\nconst COLLECTIVE_CARD_WIDTH = 144;\n\n/**\n * Our Team section for the About section category\n */\nconst SectionOurTeam = ({ collective, coreContributors, LoggedInUser }) => {\n  const loggedUserCollectiveId = get(LoggedInUser, 'CollectiveId');\n\n  return (\n    <ContainerSectionContent py={[3, 4]}>\n      <Container width=\"100%\" maxWidth={700} margin=\"0 auto\">\n        <H2 textAlign=\"center\" fontSize=\"20px\" lineHeight=\"28px\" fontWeight=\"500\" color=\"black.700\" mb={4}>\n          <FormattedMessage id=\"OurTeam\" defaultMessage=\"Our team\" />\n        </H2>\n        <Container display=\"flex\" flexWrap=\"wrap\" justifyContent=\"space-evenly\" py={2}>\n          {coreContributors.map(contributor => (\n            <ContributorCard\n              key={contributor.id}\n              m={2}\n              width={COLLECTIVE_CARD_WIDTH}\n              height=\"auto\"\n              contributor={contributor}\n              currency={collective.currency}\n              collectiveId={collective.id}\n              isLoggedUser={loggedUserCollectiveId === contributor.collectiveId}\n              hideTotalAmountDonated\n            />\n          ))}\n        </Container>\n        {collective.canContact && (\n          <Container display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n            <ContactCollectiveBtn collective={collective} LoggedInUser={LoggedInUser}>\n              {btnProps => (\n                <StyledButton {...btnProps} buttonStyle=\"secondary\" mt={[3, 4]}>\n                  <Span mr=\"8px\">\n                    <Mail size={16} />\n                  </Span>\n                  <FormattedMessage defaultMessage=\"Contact Collective\" />\n                </StyledButton>\n              )}\n            </ContactCollectiveBtn>\n          </Container>\n        )}\n      </Container>\n    </ContainerSectionContent>\n  );\n};\n\nSectionOurTeam.propTypes = {\n  collective: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    slug: PropTypes.string,\n    currency: PropTypes.string,\n    parentCollective: PropTypes.shape({\n      coreContributors: PropTypes.array.isRequired,\n    }),\n    canContact: PropTypes.bool,\n  }).isRequired,\n\n  coreContributors: PropTypes.array.isRequired,\n\n  LoggedInUser: PropTypes.object,\n};\n\nexport default React.memo(SectionOurTeam);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { css } from '@styled-system/css';\nimport memoizeOne from 'memoize-one';\nimport { FormattedMessage } from 'react-intl';\nimport styled from 'styled-components';\n\nimport { CONTRIBUTE_CARD_WIDTH } from '../../contribute-cards/constants';\nimport ContributeProject from '../../contribute-cards/ContributeProject';\nimport CreateNew from '../../contribute-cards/CreateNew';\nimport { Box } from '../../Grid';\nimport HorizontalScroller from '../../HorizontalScroller';\nimport Link from '../../Link';\nimport StyledButton from '../../StyledButton';\nimport { P } from '../../Text';\nimport ContainerSectionContent from '../ContainerSectionContent';\nimport ContributeCardsContainer from '../ContributeCardsContainer';\nimport SectionTitle from '../SectionTitle';\n\nconst CONTRIBUTE_CARD_PADDING_X = [15, 18];\n\nconst ContributeCardContainer = styled(Box).attrs({ px: CONTRIBUTE_CARD_PADDING_X })(\n  css({\n    scrollSnapAlign: ['center', null, 'start'],\n  }),\n);\n\nclass SectionProjects extends React.PureComponent {\n  static propTypes = {\n    projects: PropTypes.arrayOf(PropTypes.object),\n    collective: PropTypes.shape({\n      slug: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n      currency: PropTypes.string,\n      isActive: PropTypes.bool,\n    }),\n    isAdmin: PropTypes.bool,\n    showTitle: PropTypes.bool,\n  };\n\n  getContributeCardsScrollDistance(width) {\n    const oneCardScrollDistance = CONTRIBUTE_CARD_WIDTH + CONTRIBUTE_CARD_PADDING_X[0] * 2;\n    if (width <= oneCardScrollDistance * 2) {\n      return oneCardScrollDistance;\n    } else if (width <= oneCardScrollDistance * 4) {\n      return oneCardScrollDistance * 2;\n    } else {\n      return oneCardScrollDistance * 3;\n    }\n  }\n\n  filterProjects = memoizeOne((projects, isAdmin) => {\n    if (isAdmin) {\n      return projects;\n    } else {\n      return projects.filter(p => !p.isArchived);\n    }\n  });\n\n  render() {\n    const { collective, isAdmin } = this.props;\n    const projects = this.filterProjects(this.props.projects, isAdmin);\n    if ((projects.length === 0 || !collective.isActive) && !isAdmin) {\n      return null;\n    }\n\n    return (\n      <Box pt={[4, 5]} data-cy=\"Projects\">\n        <ContainerSectionContent>\n          <SectionTitle>\n            <FormattedMessage id=\"Projects\" defaultMessage=\"Projects\" />\n          </SectionTitle>\n          <P color=\"black.700\" mb={4}>\n            {isAdmin ? (\n              <FormattedMessage\n                id=\"CollectivePage.SectionProjects.AdminDescription\"\n                defaultMessage=\"Manage finances for a project or initiative separate from your collective budget.\"\n              />\n            ) : (\n              <FormattedMessage\n                id=\"CollectivePage.SectionProjects.Description\"\n                defaultMessage=\"Support the following initiatives from {collectiveName}.\"\n                values={{ collectiveName: collective.name }}\n              />\n            )}\n          </P>\n        </ContainerSectionContent>\n\n        <Box mb={4}>\n          <HorizontalScroller\n            container={ContributeCardsContainer}\n            getScrollDistance={this.getContributeCardsScrollDistance}\n          >\n            {projects.map(project => (\n              <Box key={project.id} px={CONTRIBUTE_CARD_PADDING_X}>\n                <ContributeProject\n                  collective={collective}\n                  project={project}\n                  disableCTA={!project.isActive}\n                  hideContributors={!projects.some(project => project.contributors.length)}\n                />\n              </Box>\n            ))}\n            {isAdmin && (\n              <ContributeCardContainer minHeight={150}>\n                <CreateNew route={`/${collective.slug}/projects/create`}>\n                  <FormattedMessage id=\"SectionProjects.CreateProject\" defaultMessage=\"Create Project\" />\n                </CreateNew>\n              </ContributeCardContainer>\n            )}\n          </HorizontalScroller>\n          {Boolean(projects?.length) && (\n            <ContainerSectionContent>\n              <Link href={`/${collective.slug}/projects`}>\n                <StyledButton mt={4} width={1} buttonSize=\"small\" fontSize=\"14px\">\n                  <FormattedMessage id=\"CollectivePage.SectionProjects.ViewAll\" defaultMessage=\"View all projects\" /> \n                </StyledButton>\n              </Link>\n            </ContainerSectionContent>\n          )}\n        </Box>\n      </Box>\n    );\n  }\n}\n\nexport default SectionProjects;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql } from '@apollo/client/react/hoc';\nimport { defineMessages, FormattedMessage, injectIntl } from 'react-intl';\n\nimport { API_V2_CONTEXT } from '../../../lib/graphql/helpers';\n\nimport Container from '../../Container';\nimport { Box } from '../../Grid';\nimport LoadingPlaceholder from '../../LoadingPlaceholder';\nimport MessageBox from '../../MessageBox';\nimport { manageContributionsQuery } from '../../recurring-contributions/graphql/queries';\nimport RecurringContributionsContainer from '../../recurring-contributions/RecurringContributionsContainer';\nimport StyledFilters from '../../StyledFilters';\nimport { Dimensions } from '../_constants';\nimport ContainerSectionContent from '../ContainerSectionContent';\nimport SectionTitle from '../SectionTitle';\n\nconst FILTERS = {\n  ACTIVE: 'ACTIVE',\n  MONTHLY: 'MONTHLY',\n  YEARLY: 'YEARLY',\n  CANCELLED: 'CANCELLED',\n};\n\nconst I18nFilters = defineMessages({\n  [FILTERS.ACTIVE]: {\n    id: 'Subscriptions.Active',\n    defaultMessage: 'Active',\n  },\n  [FILTERS.MONTHLY]: {\n    id: 'Frequency.Monthly',\n    defaultMessage: 'Monthly',\n  },\n  [FILTERS.YEARLY]: {\n    id: 'Frequency.Yearly',\n    defaultMessage: 'Yearly',\n  },\n  [FILTERS.CANCELLED]: {\n    id: 'Subscriptions.Cancelled',\n    defaultMessage: 'Cancelled',\n  },\n});\n\nclass SectionRecurringContributions extends React.Component {\n  static getInitialProps({ query: { slug } }) {\n    return { slug };\n  }\n\n  static propTypes = {\n    slug: PropTypes.string.isRequired,\n    data: PropTypes.shape({\n      loading: PropTypes.bool,\n      error: PropTypes.any,\n      account: PropTypes.object,\n    }),\n    intl: PropTypes.object,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = { filter: 'ACTIVE' };\n  }\n\n  render() {\n    const { data, intl } = this.props;\n\n    const filters = ['ACTIVE', 'MONTHLY', 'YEARLY', 'CANCELLED'];\n\n    if (data.loading) {\n      return <LoadingPlaceholder height={600} borderRadius={0} />;\n    } else if (!data.account) {\n      return (\n        <Container display=\"flex\" border=\"1px dashed #d1d1d1\" justifyContent=\"center\" py={[6, 7]} background=\"#f8f8f8\">\n          <MessageBox type=\"error\" withIcon>\n            <FormattedMessage\n              id=\"NCP.SectionFetchError\"\n              defaultMessage=\"We encountered an error while retrieving the data for this section.\"\n            />\n          </MessageBox>\n        </Container>\n      );\n    }\n\n    const collective = data && data.account;\n    const recurringContributions = collective && collective.orders;\n\n    return (\n      <Box pb={4}>\n        <ContainerSectionContent>\n          <SectionTitle textAlign=\"left\" mb={4} fontSize={['20px', '24px', '32px']} color=\"black.700\">\n            <FormattedMessage id=\"Contributions.Recurring\" defaultMessage=\"Recurring Contributions\" />\n          </SectionTitle>\n        </ContainerSectionContent>\n        <Box mx=\"auto\" maxWidth={Dimensions.MAX_SECTION_WIDTH}>\n          <StyledFilters\n            filters={filters}\n            getLabel={key => intl.formatMessage(I18nFilters[key])}\n            selected={this.state.filter}\n            justifyContent=\"left\"\n            minButtonWidth={175}\n            px={Dimensions.PADDING_X}\n            onChange={filter => this.setState({ filter: filter })}\n          />\n        </Box>\n        <Container maxWidth={Dimensions.MAX_SECTION_WIDTH} px={Dimensions.PADDING_X} mt={4} mx=\"auto\">\n          <RecurringContributionsContainer\n            recurringContributions={recurringContributions}\n            account={collective}\n            filter={this.state.filter}\n            mt={3}\n          />\n        </Container>\n      </Box>\n    );\n  }\n}\n\nconst getData = graphql(manageContributionsQuery, {\n  options: props => ({\n    context: API_V2_CONTEXT,\n    variables: getRecurringContributionsSectionQueryVariables(props.slug),\n  }),\n});\n\nexport const getRecurringContributionsSectionQueryVariables = slug => {\n  return { slug };\n};\n\nexport default injectIntl(getData(SectionRecurringContributions));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { defineMessages, FormattedMessage, injectIntl } from 'react-intl';\n\nimport Avatar from './Avatar';\nimport Container from './Container';\nimport LinkCollective from './LinkCollective';\n\nclass Response extends React.Component {\n  static propTypes = {\n    response: PropTypes.object.isRequired,\n    intl: PropTypes.object.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.messages = defineMessages({\n      YES: { id: 'response.status.yes', defaultMessage: '{name} is going' },\n    });\n  }\n\n  render() {\n    const { intl, response } = this.props;\n    const { user, description, status, count } = response;\n\n    if (!user) {\n      return <div />;\n    }\n\n    const name =\n      (user.name && user.name.match(/^null/) ? null : user.name) ||\n      (user.email && user.email.substr(0, user.email.indexOf('@')));\n\n    if (!name) {\n      return <div />;\n    }\n\n    const title = intl.formatMessage(this.messages[status], { name });\n    return (\n      <LinkCollective collective={user} title={title}>\n        <Container\n          display=\"flex\"\n          alignItems=\"center\"\n          width=\"100%\"\n          margin=\"10px\"\n          maxWidth=\"300px\"\n          float=\"left\"\n          position=\"relative\"\n          height=\"90px\"\n          overflow=\"hidden\"\n        >\n          <Avatar collective={user} radius={40} />\n          <Container padding=\"0.25rem 1rem\">\n            <Container fontSize=\"1.5rem\">\n              {user.isIncognito ? <FormattedMessage id=\"profile.incognito\" defaultMessage=\"Incognito\" /> : name}\n            </Container>\n            <Container fontSize=\"1.2rem\" color=\"black.600\">\n              {description || user.description}\n            </Container>\n            {count > 1 && (\n              <Container pt={1} fontSize=\"1.2rem\" color=\"black.600\">\n                <FormattedMessage defaultMessage=\"{count} tickets\" values={{ count }} />\n              </Container>\n            )}\n          </Container>\n        </Container>\n      </LinkCollective>\n    );\n  }\n}\n\nexport default injectIntl(Response);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { get } from 'lodash';\n\nimport Container from './Container';\nimport Response from './Response';\n\nclass Responses extends React.Component {\n  static propTypes = {\n    responses: PropTypes.arrayOf(PropTypes.object).isRequired,\n  };\n\n  render() {\n    const { responses } = this.props;\n    if (!responses || responses.length === 0) {\n      return <div />;\n    }\n    return (\n      <Container width=\"100%\" display=\"inline-block\">\n        <Container margin=\"3rem auto\" maxWidth=\"960px\">\n          {responses.map(response => (\n            <Response key={`${get(response, 'user.id', 0)}-${response.createdAt}`} response={response} />\n          ))}\n        </Container>\n      </Container>\n    );\n  }\n}\n\nexport default Responses;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { get } from 'lodash';\nimport { FormattedDate, FormattedMessage } from 'react-intl';\nimport styled from 'styled-components';\n\nimport { getCollectiveImage } from '../lib/image-utils';\n\nimport Container from './Container';\nimport { P } from './Text';\n\nconst EventSponsorCardContainer = styled.div`\n  display: inline-block;\n  cursor: pointer;\n  width: 12rem;\n  border-radius: 5px;\n  box-shadow: 0 1px 3px rgba(46, 77, 97, 0.2);\n  text-align: center;\n  padding-top: 2rem;\n  margin: 1rem;\n  background: white;\n  &:hover {\n    box-shadow: 0 1px 5px rgba(46, 77, 97, 0.4);\n  }\n`;\n\nconst CollectiveImage = styled.img`\n  max-width: 10rem;\n  max-height: 5rem;\n  margin-bottom: 0.5rem;\n`;\n\nconst EventSponsorCard = ({ sponsor }) => (\n  <a href={`/${sponsor.slug}`}>\n    <EventSponsorCardContainer>\n      <CollectiveImage alt=\"\" className=\"logo\" src={getCollectiveImage(sponsor, { name: 'logo' })} />\n      <P color=\"#7fadf2\" fontSize=\"1.2rem\" m={2}>\n        {sponsor.name}\n      </P>\n      <Container padding=\"1rem 0.5rem\" margin=\"0\" minHeight=\"27px\" borderTop=\"1px solid #dde1e4\" overflow=\"hidden\">\n        <P\n          fontSize=\"1rem\"\n          fontWeight=\"700\"\n          textTransform=\"uppercase\"\n          color=\"#75cc1f\"\n          whiteSpace=\"nowrap\"\n          textOverflow=\"ellipsis\"\n          letterSpacing=\"1.47px\"\n          marginBottom=\"0.3rem\"\n        >\n          {get(sponsor, 'tier.name')}\n        </P>\n        <P fontSize=\"1rem\" letterSpacing=\"0.05rem\" opacity=\"0.5\" m={2}>\n          <FormattedMessage\n            id=\"membership.since\"\n            defaultMessage=\"since {date}\"\n            values={{ date: <FormattedDate value={sponsor.createdAt} month=\"long\" year=\"numeric\" /> }}\n          />\n        </P>\n      </Container>\n    </EventSponsorCardContainer>\n  </a>\n);\n\nEventSponsorCard.propTypes = {\n  sponsor: PropTypes.object,\n};\n\nexport default EventSponsorCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Container from './Container';\nimport EventSponsorCard from './EventSponsorCard';\n\nclass Sponsors extends React.Component {\n  static propTypes = {\n    sponsors: PropTypes.arrayOf(PropTypes.object).isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { sponsors } = this.props;\n    if (!sponsors || sponsors.length === 0) {\n      return <div />;\n    }\n    return (\n      <Container maxWidth=\"640px\" margin=\"3rem auto 3rem\" textAlign=\"center\" overflow=\"hidden\">\n        {sponsors.map(sponsor => (\n          <EventSponsorCard type=\"sponsor\" key={sponsor.id} sponsor={sponsor} />\n        ))}\n      </Container>\n    );\n  }\n}\n\nexport default Sponsors;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { get, groupBy, mapValues } from 'lodash';\nimport { FormattedMessage } from 'react-intl';\nimport styled from 'styled-components';\n\nimport { exportRSVPs } from '../../../lib/export_file';\n\nimport { Box } from '../../Grid';\nimport Responses from '../../Responses';\nimport Sponsors from '../../Sponsors';\nimport StyledLinkButton from '../../StyledLinkButton';\nimport ContainerSectionContent from '../ContainerSectionContent';\nimport SectionTitle from '../SectionTitle';\n\nconst StyledAdminActions = styled.div`\n  text-align: center;\n  text-transform: uppercase;\n  font-size: 1.3rem;\n  font-weight: 600;\n  letter-spacing: 0.05rem;\n  ul {\n    overflow: hidden;\n    text-align: center;\n    margin: 0 auto;\n    padding: 0;\n    display: flex;\n    justify-content: center;\n    flex-direction: row;\n    list-style: none;\n\n    li {\n      margin: 0 2rem;\n    }\n  }\n`;\n\nconst Participants = ({ collective: event, LoggedInUser, refetch }) => {\n  const [isRefetched, setIsRefetched] = React.useState(false);\n\n  // const ticketOrders = event.orders\n  //   .filter(order => (order.tier && order.tier.type === TierTypes.TICKET))\n  //   .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n\n  // Logic from old Event component, (filter away tiers with 'sponsor in the name')\n  // to handle orders where there is no tier to check for TICKET:\n  const orders = [...event.orders].sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n\n  const guestOrders = [];\n  const sponsorOrders = [];\n  orders.forEach(order => {\n    if (get(order, 'tier.name', '').match(/sponsor/i)) {\n      sponsorOrders.push(order);\n    } else {\n      guestOrders.push(order);\n    }\n  });\n  const responses = Object.values(\n    mapValues(\n      groupBy(guestOrders, order => order.fromCollective && order.fromCollective.id),\n      orders => ({\n        user: orders[0].fromCollective,\n        createdAt: orders[0].createdAt,\n        status: 'YES',\n        count: orders.length,\n      }),\n    ),\n  );\n\n  const sponsors = sponsorOrders.map(order => {\n    const sponsorCollective = Object.assign({}, order.fromCollective);\n    sponsorCollective.tier = order.tier;\n    sponsorCollective.createdAt = new Date(order.createdAt);\n    return sponsorCollective;\n  });\n\n  const canEditEvent = LoggedInUser && LoggedInUser.canEditEvent(event);\n\n  React.useEffect(() => {\n    const refreshData = async () => {\n      if (canEditEvent) {\n        await refetch();\n        setIsRefetched(true);\n      }\n    };\n\n    refreshData();\n  }, [LoggedInUser]);\n\n  return (\n    <Box pb={4}>\n      {sponsors.length > 0 && (\n        <ContainerSectionContent pt={[4, 5]}>\n          <SectionTitle textAlign=\"center\">\n            <FormattedMessage id=\"event.sponsors.title\" defaultMessage=\"Sponsors\" />\n          </SectionTitle>\n          <Sponsors sponsors={sponsors} />\n        </ContainerSectionContent>\n      )}\n      {responses.length > 0 && (\n        <ContainerSectionContent pt={[4, 5]}>\n          <SectionTitle textAlign=\"center\">\n            <FormattedMessage\n              id=\"event.responses.title.going\"\n              values={{ n: guestOrders.length }}\n              defaultMessage=\"{n} {n, plural, one {person going} other {people going}}\"\n            />\n          </SectionTitle>\n          {canEditEvent && isRefetched && (\n            <StyledAdminActions>\n              <ul>\n                <li>\n                  <StyledLinkButton onClick={() => exportRSVPs(event)}>\n                    <FormattedMessage id=\"Export.Format\" defaultMessage=\"Export {format}\" values={{ format: 'CSV' }} />\n                  </StyledLinkButton>\n                </li>\n              </ul>\n            </StyledAdminActions>\n          )}\n          <Responses responses={responses} />\n        </ContainerSectionContent>\n      )}\n    </Box>\n  );\n};\n\nParticipants.propTypes = {\n  collective: PropTypes.shape({\n    orders: PropTypes.array,\n  }).isRequired,\n  LoggedInUser: PropTypes.object,\n  refetch: PropTypes.func,\n};\n\nexport default Participants;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport { getTopContributors } from '../../../lib/collective.lib';\nimport { CollectiveType } from '../../../lib/constants/collectives';\n\nimport ContainerSectionContent from '../ContainerSectionContent';\nimport SectionTitle from '../SectionTitle';\nimport TopContributors from '../TopContributors';\n\n/**\n * Top financial contributors widget.\n */\nconst SectionTopFinancialContributors = ({ collective, financialContributors }) => {\n  const isEvent = collective.type === CollectiveType.EVENT;\n  const [topOrganizations, topIndividuals] = getTopContributors(financialContributors);\n\n  if (isEvent || (!topOrganizations?.length && !topIndividuals?.length)) {\n    return null;\n  }\n\n  return (\n    <ContainerSectionContent pb={4}>\n      <SectionTitle>\n        <FormattedMessage id=\"SectionContribute.TopContributors\" defaultMessage=\"Top financial contributors\" />\n      </SectionTitle>\n      <TopContributors organizations={topOrganizations} individuals={topIndividuals} currency={collective.currency} />\n    </ContainerSectionContent>\n  );\n};\n\nSectionTopFinancialContributors.propTypes = {\n  collective: PropTypes.shape({\n    type: PropTypes.string.isRequired,\n    currency: PropTypes.string,\n  }),\n\n  financialContributors: PropTypes.arrayOf(\n    PropTypes.shape({\n      type: PropTypes.oneOf(Object.values(CollectiveType)).isRequired,\n      isBacker: PropTypes.bool,\n      tiersIds: PropTypes.arrayOf(PropTypes.number),\n    }),\n  ),\n};\n\nexport default React.memo(SectionTopFinancialContributors);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gql, useQuery } from '@apollo/client';\nimport { defineMessages, FormattedMessage, injectIntl } from 'react-intl';\n\nimport { API_V2_CONTEXT } from '../../../lib/graphql/helpers';\n\nimport { Box } from '../../Grid';\nimport Link from '../../Link';\nimport LoadingPlaceholder from '../../LoadingPlaceholder';\nimport MessageBox from '../../MessageBox';\nimport StyledButton from '../../StyledButton';\nimport StyledFilters from '../../StyledFilters';\nimport StyledLinkButton from '../../StyledLinkButton';\nimport { getDefaultKinds } from '../../transactions/filters/TransactionsKindFilter';\nimport { transactionsQueryCollectionFragment } from '../../transactions/graphql/fragments';\nimport TransactionsList from '../../transactions/TransactionsList';\nimport { Dimensions } from '../_constants';\nimport ContainerSectionContent from '../ContainerSectionContent';\nimport SectionTitle from '../SectionTitle';\n\nconst NB_DISPLAYED = 10;\nconst FILTERS = { ALL: 'ALL', EXPENSES: 'EXPENSES', CONTRIBUTIONS: 'CONTRIBUTIONS' };\nconst FILTERS_LIST = Object.values(FILTERS);\nconst I18nFilters = defineMessages({\n  [FILTERS.ALL]: {\n    id: 'SectionTransactions.All',\n    defaultMessage: 'All',\n  },\n  [FILTERS.EXPENSES]: {\n    id: 'Expenses',\n    defaultMessage: 'Expenses',\n  },\n  [FILTERS.CONTRIBUTIONS]: {\n    id: 'Contributions',\n    defaultMessage: 'Contributions',\n  },\n});\n\nexport const transactionsSectionQuery = gql`\n  query TransactionsSection(\n    $slug: String!\n    $limit: Int!\n    $hasOrder: Boolean\n    $hasExpense: Boolean\n    $kind: [TransactionKind]\n  ) {\n    transactions(\n      account: { slug: $slug }\n      limit: $limit\n      hasOrder: $hasOrder\n      hasExpense: $hasExpense\n      kind: $kind\n      includeIncognitoTransactions: true\n      includeGiftCardTransactions: true\n      includeChildrenTransactions: true\n    ) {\n      ...TransactionsQueryCollectionFragment\n    }\n  }\n  ${transactionsQueryCollectionFragment}\n`;\n\nexport const getTransactionsSectionQueryVariables = slug => {\n  return { slug, limit: NB_DISPLAYED, kind: getDefaultKinds() };\n};\n\nconst SectionTransactions = props => {\n  const transactionsQueryResult = useQuery(transactionsSectionQuery, {\n    variables: getTransactionsSectionQueryVariables(props.collective.slug),\n    context: API_V2_CONTEXT,\n    // We keep notifyOnNetworkStatusChange to remove the flash of collectiveHasNoTransactions bug\n    // See https://github.com/apollographql/apollo-client/blob/9c80adf65ccbbb88ea5b9313c002f85976c225e3/src/core/ObservableQuery.ts#L274-L304\n    notifyOnNetworkStatusChange: true,\n  });\n  const { data, refetch, loading } = transactionsQueryResult;\n  const [filter, setFilter] = React.useState(FILTERS.ALL);\n  React.useEffect(() => {\n    refetch();\n  }, [props.isAdmin, props.isRoot, refetch]);\n  React.useEffect(() => {\n    const hasExpense = filter === FILTERS.EXPENSES || undefined;\n    const hasOrder = filter === FILTERS.CONTRIBUTIONS || undefined;\n    refetch({ slug: props.collective.slug, limit: NB_DISPLAYED, hasExpense, hasOrder });\n  }, [filter, props.collective.slug, refetch]);\n\n  const { intl, collective } = props;\n  const collectiveHasNoTransactions = !loading && data?.transactions?.totalCount === 0 && filter === FILTERS.ALL;\n\n  return (\n    <Box pb={4}>\n      <ContainerSectionContent>\n        <SectionTitle\n          data-cy=\"section-transactions-title\"\n          mb={4}\n          textAlign=\"left\"\n          fontSize={['20px', '24px', '32px']}\n          color=\"black.700\"\n        >\n          <FormattedMessage id=\"menu.transactions\" defaultMessage=\"Transactions\" />\n        </SectionTitle>\n        {collectiveHasNoTransactions && (\n          <MessageBox type=\"info\" withIcon>\n            <FormattedMessage id=\"SectionTransactions.Empty\" defaultMessage=\"No transactions yet.\" />\n          </MessageBox>\n        )}\n      </ContainerSectionContent>\n      {!collectiveHasNoTransactions && (\n        <Box mb={3} maxWidth={Dimensions.MAX_SECTION_WIDTH} mx=\"auto\">\n          <StyledFilters\n            filters={FILTERS_LIST}\n            selected={filter}\n            onChange={setFilter}\n            getLabel={filter => intl.formatMessage(I18nFilters[filter])}\n            minButtonWidth={180}\n            px={Dimensions.PADDING_X}\n          />\n        </Box>\n      )}\n\n      {!collectiveHasNoTransactions && (\n        <ContainerSectionContent pt={3}>\n          {loading ? (\n            <LoadingPlaceholder height={600} borderRadius={8} />\n          ) : (\n            <TransactionsList\n              collective={collective}\n              transactions={data?.transactions?.nodes}\n              displayActions\n              onMutationSuccess={() => refetch()}\n            />\n          )}\n          {data?.transactions.totalCount === 0 && (\n            <MessageBox type=\"info\">\n              <FormattedMessage\n                id=\"TransactionsList.Empty\"\n                defaultMessage=\"No transactions found. <ResetLink>Reset filters</ResetLink> to see all transactions.\"\n                values={{\n                  ResetLink(text) {\n                    return <StyledLinkButton onClick={() => setFilter(FILTERS.ALL)}>{text}</StyledLinkButton>;\n                  },\n                }}\n              />\n            </MessageBox>\n          )}\n          <Link href={`/${collective.slug}/transactions`}>\n            <StyledButton mt={3} width=\"100%\" buttonSize=\"small\" fontSize=\"Paragraph\">\n              <FormattedMessage id=\"transactions.viewAll\" defaultMessage=\"View All Transactions\" /> \n            </StyledButton>\n          </Link>\n        </ContainerSectionContent>\n      )}\n    </Box>\n  );\n};\n\nSectionTransactions.propTypes = {\n  /** Collective */\n  collective: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    slug: PropTypes.string.isRequired,\n    currency: PropTypes.string.isRequired,\n    platformFeePercent: PropTypes.number,\n  }).isRequired,\n\n  /** Whether user is admin of `collective` */\n  isAdmin: PropTypes.bool,\n\n  /** Whether user is root user */\n  isRoot: PropTypes.bool,\n\n  /** @ignore from withData */\n  data: PropTypes.shape({\n    loading: PropTypes.bool,\n    refetch: PropTypes.func,\n    transactions: PropTypes.arrayOf(PropTypes.object),\n  }),\n\n  /** @ignore from injectIntl */\n  intl: PropTypes.object,\n};\n\nexport default React.memo(injectIntl(SectionTransactions));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Info } from '@styled-icons/feather/Info';\nimport { themeGet } from '@styled-system/theme-get';\nimport { useIntl } from 'react-intl';\nimport styled from 'styled-components';\n\nimport { getSectionsCategoryDetails } from '../../lib/collective-sections';\n\nimport { NAVBAR_CATEGORIES } from '../collective-navbar/constants';\nimport Container from '../Container';\nimport { Flex } from '../Grid';\nimport StyledHr from '../StyledHr';\nimport StyledTooltip from '../StyledTooltip';\nimport { P } from '../Text';\n\nimport { Dimensions } from './_constants';\nimport SectionTitle from './SectionTitle';\n\nconst ContainerWithMaxWidth = styled(Container).attrs({\n  maxWidth: Dimensions.MAX_SECTION_WIDTH,\n  p: Dimensions.PADDING_X,\n  m: '0 auto',\n})`\n  display: flex;\n  flex-direction: column;\n  padding-top: 64px;\n`;\n\nconst TypeIllustration = styled.img.attrs({ alt: '' })`\n  position: absolute;\n  width: 48px;\n  height: 48px;\n`;\n\nconst TypeIllustrationCircle = styled(Flex)`\n  position: relative;\n  width: 48px;\n  height: 48px;\n\n  &::before {\n    content: '';\n    background: ${themeGet('colors.primary.100')};\n    border-radius: 50%;\n    height: 30px;\n    width: 30px;\n    position: absolute;\n    right: 0;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    margin-left: auto;\n    margin-right: auto;\n    margin-top: auto;\n    margin-bottom: auto;\n  }\n`;\n\nconst CategoryHeader = React.forwardRef(({ collective, category, ...props }, ref) => {\n  const intl = useIntl();\n  const data = getSectionsCategoryDetails(intl, collective, category);\n  return (\n    <ContainerWithMaxWidth ref={ref} {...props}>\n      <Flex alignItems=\"center\" justifyContent=\"center\">\n        <TypeIllustrationCircle alignItems=\"center\" mr={2}>\n          <TypeIllustration src={data.img} />\n        </TypeIllustrationCircle>\n        <Flex alignItems=\"center\" mr={3}>\n          <SectionTitle mr={2} my={3} data-cy={`category-${category}-title`}>\n            {data.title}\n          </SectionTitle>\n          {data.info && (\n            <StyledTooltip content={() => data.info}>\n              <Info size={18} color=\"#76777A\" />\n            </StyledTooltip>\n          )}\n        </Flex>\n        <StyledHr flex=\"1\" borderStyle=\"solid\" borderColor=\"black.300\" mt={1} />\n      </Flex>\n      {data.subtitle && (\n        <Flex mb={2} justifyContent=\"space-between\" alignItems=\"center\" flexWrap=\"wrap\">\n          <P color=\"black.700\" my={2} mr={2} css={{ flex: '1 0 50%', maxWidth: 780 }}>\n            {data.subtitle}\n          </P>\n        </Flex>\n      )}\n    </ContainerWithMaxWidth>\n  );\n});\n\nCategoryHeader.displayName = 'CategoryHeader';\n\nCategoryHeader.propTypes = {\n  category: PropTypes.oneOf(Object.values(NAVBAR_CATEGORIES)),\n  collective: PropTypes.object,\n};\n\nexport default CategoryHeader;\n","import styled, { css } from 'styled-components';\n\nconst SectionContainer = styled.section`\n  margin: 0;\n  ${props =>\n    props.withPaddingBottom &&\n    css`\n      padding-bottom: 64px;\n    `}\n`;\n\nexport default SectionContainer;\n","import { Sections } from './_constants';\n\n/**\n * The following sections don't require a padding bottom when put at the end of the\n * page, usually because they end with a darker background.\n */\nconst sectionsWithoutPaddingBottom = {\n  [Sections.ABOUT]: true,\n  [Sections.CONTRIBUTE]: true,\n  [Sections.GOALS]: true,\n};\n\nexport default sectionsWithoutPaddingBottom;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { compact, concat, isEmpty, throttle } from 'lodash';\nimport memoizeOne from 'memoize-one';\n\nimport { getFilteredSectionsForCollective } from '../../lib/collective-sections';\n\nimport CollectiveNavbar from '../collective-navbar';\nimport Container from '../Container';\nimport { Box } from '../Grid';\n\nimport Hero from './hero/Hero';\nimport SectionAbout from './sections/About';\nimport SectionBudget from './sections/Budget';\nimport SectionConnectedCollectives from './sections/ConnectedCollectives';\nimport SectionContribute from './sections/Contribute';\nimport SectionContributions from './sections/Contributions';\nimport SectionContributors from './sections/Contributors';\nimport SectionConversations from './sections/Conversations';\nimport SectionEmpty from './sections/Empty';\nimport SectionEvents from './sections/Events';\nimport SectionFinancialOverview from './sections/FinancialOverview';\nimport SectionGoals from './sections/Goals';\nimport SectionLocation from './sections/Location';\nimport SectionOurTeam from './sections/OurTeam';\nimport SectionProjects from './sections/Projects';\nimport SectionRecurringContributions from './sections/RecurringContributions';\nimport SectionParticipants from './sections/SponsorsAndParticipants';\nimport SectionTopFinancialContributors from './sections/TopFinancialContributors';\nimport SectionTransactions from './sections/Transactions';\nimport SectionUpdates from './sections/Updates';\nimport { Sections } from './_constants';\nimport CategoryHeader from './CategoryHeader';\nimport SectionContainer from './SectionContainer';\nimport sectionsWithoutPaddingBottom from './SectionsWithoutPaddingBottom';\n\n/**\n * This is the collective page main layout, holding different blocks together\n * and watching scroll to synchronise the view for children properly.\n *\n * See design: https://www.figma.com/file/e71tBo0Sr8J7R5n6iMkqI42d/09.-Collectives?node-id=2338%3A36062\n */\nclass CollectivePage extends Component {\n  static propTypes = {\n    collective: PropTypes.object.isRequired,\n    host: PropTypes.object,\n    financialContributors: PropTypes.arrayOf(PropTypes.object),\n    coreContributors: PropTypes.arrayOf(PropTypes.object),\n    topOrganizations: PropTypes.arrayOf(PropTypes.object),\n    topIndividuals: PropTypes.arrayOf(PropTypes.object),\n    tiers: PropTypes.arrayOf(PropTypes.object),\n    transactions: PropTypes.arrayOf(PropTypes.object),\n    conversations: PropTypes.object,\n    expenses: PropTypes.arrayOf(PropTypes.object),\n    updates: PropTypes.arrayOf(PropTypes.object),\n    events: PropTypes.arrayOf(PropTypes.object),\n    projects: PropTypes.arrayOf(PropTypes.object),\n    connectedCollectives: PropTypes.arrayOf(PropTypes.object),\n    LoggedInUser: PropTypes.object,\n    isAdmin: PropTypes.bool.isRequired,\n    isHostAdmin: PropTypes.bool.isRequired,\n    isRoot: PropTypes.bool.isRequired,\n    onPrimaryColorChange: PropTypes.func.isRequired,\n    stats: PropTypes.shape({\n      balance: PropTypes.number.isRequired,\n      yearlyBudget: PropTypes.number.isRequired,\n      updates: PropTypes.number.isRequired,\n      backers: PropTypes.object,\n    }),\n    status: PropTypes.oneOf(['collectiveCreated', 'collectiveArchived']),\n    refetch: PropTypes.func,\n  };\n\n  constructor(props) {\n    super(props);\n    this.sectionCategoriesRefs = {}; // This will store a map of category => ref\n    this.sectionsContainerRef = React.createRef();\n    this.state = { isFixed: false, selectedCategory: null };\n  }\n\n  componentDidMount() {\n    window.addEventListener('scroll', this.onScroll, { passive: true });\n    this.onScroll(); // First tick in case scroll is restored when page loads\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.onScroll);\n  }\n\n  getSections = memoizeOne((collective, isAdmin, isHostAdmin) => {\n    return getFilteredSectionsForCollective(collective, isAdmin, isHostAdmin);\n  });\n\n  getSectionsCategories = memoizeOne((collective, isAdmin, isHostAdmin) => {\n    const sections = this.getSections(collective, isAdmin, isHostAdmin);\n    return sections.filter(s => s.type === 'CATEGORY');\n  });\n\n  onScroll = throttle(() => {\n    let { isFixed, selectedCategory } = this.state;\n    // Fixes the Hero when a certain scroll threshold is reached\n    if (this.sectionsContainerRef.current) {\n      if (this.sectionsContainerRef.current.getBoundingClientRect().top <= 50) {\n        isFixed = true;\n      } else if (isFixed) {\n        isFixed = false;\n      }\n    }\n\n    // Get the currently category that is at the top of the screen.\n    const distanceThreshold = 200;\n    const breakpoint = window.scrollY + distanceThreshold;\n    const categories = this.getSectionsCategories(this.props.collective, this.props.isAdmin, this.props.isHostAdmin);\n\n    for (let i = categories.length - 1; i >= 0; i--) {\n      const categoryName = categories[i].name;\n      const categoryRef = this.sectionCategoriesRefs[categoryName];\n      if (categoryRef && breakpoint >= categoryRef.offsetTop) {\n        selectedCategory = categoryName;\n        break;\n      }\n    }\n\n    // Update the state only if necessary\n    if (this.state.isFixed !== isFixed || this.state.selectedCategory !== selectedCategory) {\n      this.setState({ isFixed, selectedCategory });\n    } else if (!selectedCategory && categories?.length) {\n      // Select first category by default\n      this.setState({ isFixed, selectedCategory: categories[0].name });\n    }\n  }, 100);\n\n  onCollectiveClick = () => {\n    window.scrollTo(0, 0);\n  };\n\n  renderSection(section, version) {\n    switch (section) {\n      case Sections.UPDATES:\n        return (\n          <SectionUpdates\n            collective={this.props.collective}\n            isAdmin={this.props.isAdmin}\n            isLoggedIn={Boolean(this.props.LoggedInUser)}\n          />\n        );\n      case Sections.CONVERSATIONS:\n        return <SectionConversations collective={this.props.collective} conversations={this.props.conversations} />;\n\n      case Sections.RECURRING_CONTRIBUTIONS:\n        return (\n          <SectionRecurringContributions slug={this.props.collective.slug} LoggedInUser={this.props.LoggedInUser} />\n        );\n      case Sections.LOCATION:\n        return <SectionLocation collective={this.props.collective} refetch={this.props.refetch} />;\n\n      // all other sections\n      case Sections.CONTRIBUTE:\n        return (\n          <SectionContribute\n            status={this.props.status}\n            collective={this.props.collective}\n            tiers={this.props.tiers}\n            events={this.props.events}\n            connectedCollectives={this.props.connectedCollectives}\n            contributors={this.props.financialContributors}\n            contributorsStats={this.props.stats.backers}\n            isAdmin={this.props.isAdmin}\n          />\n        );\n      case Sections.CONTRIBUTIONS:\n        return <SectionContributions collective={this.props.collective} LoggedInUser={this.props.LoggedInUser} />;\n      case Sections.EVENTS:\n        return (\n          <SectionEvents collective={this.props.collective} events={this.props.events} isAdmin={this.props.isAdmin} />\n        );\n      case Sections.PROJECTS:\n        return (\n          <SectionProjects\n            collective={this.props.collective}\n            projects={this.props.projects}\n            isAdmin={this.props.isAdmin}\n          />\n        );\n      case Sections.BUDGET:\n        return version === 2 ? (\n          <SectionFinancialOverview collective={this.props.collective} />\n        ) : (\n          <SectionBudget\n            collective={this.props.collective}\n            transactions={this.props.transactions}\n            expenses={this.props.expenses}\n          />\n        );\n      case Sections.TRANSACTIONS:\n        return (\n          <SectionTransactions\n            collective={this.props.collective}\n            isAdmin={this.props.isAdmin}\n            isRoot={this.props.isRoot}\n          />\n        );\n      case Sections.CONTRIBUTORS:\n        return (\n          <SectionContributors\n            collective={this.props.collective}\n            financialContributors={this.props.financialContributors}\n            coreContributors={this.props.coreContributors}\n            stats={this.props.stats}\n          />\n        );\n      case Sections.PARTICIPANTS:\n        return (\n          <SectionParticipants\n            refetch={this.props.refetch}\n            collective={this.props.collective}\n            LoggedInUser={this.props.LoggedInUser}\n          />\n        );\n      case Sections.ABOUT:\n        return <SectionAbout collective={this.props.collective} canEdit={this.props.isAdmin} />;\n      case Sections.GOALS:\n        return <SectionGoals collective={this.props.collective} />;\n      case Sections.OUR_TEAM:\n        return (\n          <SectionOurTeam\n            collective={this.props.collective}\n            coreContributors={compact(\n              concat(this.props.collective.parentCollective?.coreContributors, this.props.coreContributors),\n            )}\n            LoggedInUser={this.props.LoggedInUser}\n          />\n        );\n      case Sections.CONNECTED_COLLECTIVES:\n        return (\n          <SectionConnectedCollectives\n            collective={this.props.collective}\n            connectedCollectives={this.props.connectedCollectives}\n          />\n        );\n      case Sections.TOP_FINANCIAL_CONTRIBUTORS:\n        return (\n          <SectionTopFinancialContributors\n            collective={this.props.collective}\n            financialContributors={this.props.financialContributors}\n          />\n        );\n      default:\n        return null;\n    }\n  }\n\n  render() {\n    const { collective, host, isAdmin, isHostAdmin, onPrimaryColorChange } = this.props;\n    const { isFixed, selectedCategory } = this.state;\n    const sections = this.getSections(collective, isAdmin, isHostAdmin);\n\n    return (\n      <Container\n        position=\"relative\"\n        css={collective.isArchived ? 'filter: grayscale(100%);' : undefined}\n        data-cy=\"collective-page-main\"\n      >\n        <Box mb={3}>\n          <Hero collective={collective} host={host} isAdmin={isAdmin} onPrimaryColorChange={onPrimaryColorChange} />\n        </Box>\n        <CollectiveNavbar\n          collective={collective}\n          sections={sections}\n          isAdmin={isAdmin}\n          selectedCategory={selectedCategory}\n          onCollectiveClick={this.onCollectiveClick}\n          showBackButton={false}\n          isFullWidth\n          useAnchorsForCategories\n          isInHero={!isFixed}\n          showSelectedCategoryOnMobile\n        />\n\n        <div ref={this.sectionsContainerRef}>\n          {isEmpty(sections) ? (\n            <SectionEmpty collective={this.props.collective} />\n          ) : (\n            sections.map((entry, entryIdx) =>\n              entry.type === 'CATEGORY' ? (\n                <Fragment key={`category-${entry.name}`}>\n                  <CategoryHeader\n                    id={`category-${entry.name}`}\n                    ref={categoryRef => (this.sectionCategoriesRefs[entry.name] = categoryRef)}\n                    collective={collective}\n                    category={entry.name}\n                  />\n                  {entry.sections.map((section, idx) => (\n                    <SectionContainer\n                      key={section.name}\n                      id={`section-${section.name}`}\n                      data-cy={`section-${section.name}`}\n                      withPaddingBottom={\n                        idx === entry.sections.length - 1 &&\n                        entryIdx === sections.length - 1 &&\n                        !sectionsWithoutPaddingBottom[section.name]\n                      }\n                    >\n                      {this.renderSection(section.name, section.version)}\n                    </SectionContainer>\n                  ))}\n                </Fragment>\n              ) : entry.type === 'SECTION' ? (\n                <SectionContainer\n                  key={`section-${entry.name}`}\n                  id={`section-${entry.name}`}\n                  data-cy={`section-${entry.name}`}\n                  withPaddingBottom={entryIdx === sections.length - 1 && !sectionsWithoutPaddingBottom[entry.name]}\n                >\n                  {this.renderSection(entry.name)}\n                </SectionContainer>\n              ) : null,\n            )\n          )}\n        </div>\n      </Container>\n    );\n  }\n}\n\nexport default CollectivePage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useMutation } from '@apollo/client';\nimport { useIntl } from 'react-intl';\n\nimport { i18nGraphqlException } from '../../lib/errors';\nimport { API_V2_CONTEXT } from '../../lib/graphql/helpers';\n\nimport { Flex } from '../Grid';\nimport AcceptRejectButtons from '../host-dashboard/AcceptRejectButtons';\nimport { processApplicationMutation } from '../host-dashboard/applications/PendingApplication';\nimport { NotificationBarButton } from '../NotificationBar';\nimport { TOAST_TYPE, useToasts } from '../ToastProvider';\n\nexport default function PendingApplicationActions({ collective, refetch }) {\n  const intl = useIntl();\n  const { addToast } = useToasts();\n  const [callProcessApplication, { loading }] = useMutation(processApplicationMutation, {\n    context: API_V2_CONTEXT,\n  });\n\n  const processApplication = async (action: string, message?: string) => {\n    try {\n      await callProcessApplication({\n        variables: {\n          host: { legacyId: collective.host.id },\n          account: { legacyId: collective.id },\n          action,\n          message,\n        },\n      });\n\n      if (refetch) {\n        await refetch();\n      }\n    } catch (e) {\n      addToast({ type: TOAST_TYPE.ERROR, message: i18nGraphqlException(intl, e) });\n    }\n  };\n\n  return (\n    <Flex flexWrap=\"wrap\" alignItems=\"center\" justifyContent=\"center\">\n      <AcceptRejectButtons\n        collective={collective}\n        isLoading={loading}\n        onApprove={() => processApplication('APPROVE')}\n        onReject={message => processApplication('REJECT', message)}\n        customButton={props => <NotificationBarButton {...props} />}\n      />\n    </Flex>\n  );\n}\n\nPendingApplicationActions.propTypes = {\n  refetch: PropTypes.func,\n  collective: PropTypes.shape({\n    id: PropTypes.number,\n    slug: PropTypes.string,\n    host: PropTypes.shape({\n      id: PropTypes.number,\n    }),\n  }),\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { get } from 'lodash';\nimport { defineMessages, FormattedMessage, injectIntl } from 'react-intl';\n\nimport { CollectiveType } from '../../lib/constants/collectives';\nimport { moneyCanMoveFromEvent } from '../../lib/events';\n\nimport NotificationBar, { NotificationBarButton, NotificationBarLink } from '../NotificationBar';\nimport SendMoneyToCollectiveBtn from '../SendMoneyToCollectiveBtn';\n\nimport PendingApplicationActions from './PendingApplicationActions';\n\nconst messages = defineMessages({\n  // Collective Created\n  collectiveCreated: {\n    id: 'collective.created',\n    defaultMessage: 'Your Collective has been created.',\n  },\n  collectiveCreatedDescription: {\n    id: 'collective.created.description',\n    defaultMessage:\n      'While awaiting for approval from {host}, you can customize your page and start submitting expenses.',\n  },\n  collectiveApprovedDescription: {\n    id: 'collective.githubflow.created.description',\n    defaultMessage: 'You have been approved by {host} and can now receive financial contributions.',\n  },\n  // Fund Created\n  fundCreated: {\n    id: 'createFund.created',\n    defaultMessage: 'Your Fund has been created.',\n  },\n  fundCreatedDescription: {\n    id: 'createFund.created.description',\n    defaultMessage: 'We will get in touch about approval soon.',\n  },\n  fundCreatedApprovedDescription: {\n    id: 'createFund.createdApproved.description',\n    defaultMessage: 'You have been approved by {host}, and can now make contributions and submit expenses.',\n  },\n  // Event Created\n  eventCreated: {\n    id: 'event.created',\n    defaultMessage: 'Your Event has been created.',\n  },\n  // Project Created\n  projectCreated: {\n    id: 'project.created',\n    defaultMessage: 'Your Project has been created.',\n  },\n  // Organization Created\n  organizationCreated: {\n    id: 'organization.created',\n    defaultMessage: 'Your Organization has been created.',\n  },\n  organizationCreateDescription: {\n    id: 'organization.created.description',\n    defaultMessage:\n      'You can now make financial contributions as an Organization. You can also edit your profile, add team members, and associate a credit card with a monthly limit.',\n  },\n  // Archived\n  collectiveArchived: {\n    id: 'collective.isArchived',\n    defaultMessage: '{name} has been archived.',\n  },\n  collectiveArchivedDescription: {\n    id: 'collective.isArchived.description',\n    defaultMessage: '{name} has been archived and is no longer active.',\n  },\n  // Pending\n  approvalPending: {\n    id: 'collective.pending',\n    defaultMessage: 'Collective pending approval.',\n  },\n  approvalPendingDescription: {\n    id: 'collective.pending.description',\n    defaultMessage: 'Awaiting approval from {host}.',\n  },\n  'event.over.sendMoneyToParent.title': {\n    id: 'event.over.sendMoneyToParent.title',\n    defaultMessage: 'This event has a positive balance.',\n  },\n  'event.over.sendMoneyToParent.description': {\n    id: 'event.over.sendMoneyToParent.description',\n    defaultMessage: 'Spend it by submitting event expenses, or transfer the remaining balance to the main budget.',\n  },\n  tooFewAdmins: {\n    id: 'collective.tooFewAdmins',\n    defaultMessage:\n      'Your collective was approved but you need {missingAdminsCount, plural, one {one more admin} other {# more admins} } before you can accept financial contributions.',\n  },\n  tooFewAdminsDescription: {\n    id: 'collective.tooFewAdmins.description',\n    defaultMessage:\n      'You will automatically be able to accept contributions when {missingAdminsCount, plural, one {an invited administrator} other {# invited administrators} } has joined.',\n  },\n});\n\nconst getNotification = (intl, status, collective, host, LoggedInUser, refetch) => {\n  if (status === 'collectiveCreated') {\n    switch (collective.type) {\n      case CollectiveType.ORGANIZATION:\n        return {\n          title: intl.formatMessage(messages.organizationCreated),\n          description: intl.formatMessage(messages.organizationCreateDescription),\n          type: 'success',\n          inline: false,\n        };\n      default:\n        if (collective.isApproved) {\n          return {\n            title: intl.formatMessage(messages.collectiveCreated),\n            description: intl.formatMessage(messages.collectiveApprovedDescription, { host: host.name }),\n            type: 'success',\n            inline: true,\n          };\n        }\n        return {\n          title: intl.formatMessage(messages.collectiveCreated),\n          description: host ? intl.formatMessage(messages.collectiveCreatedDescription, { host: host.name }) : '',\n          type: 'info',\n          inline: true,\n        };\n    }\n  } else if (status === 'fundCreated') {\n    if (collective.isApproved) {\n      return {\n        title: intl.formatMessage(messages.fundCreated),\n        description: intl.formatMessage(messages.fundCreatedApprovedDescription, { host: host.name }),\n        type: 'success',\n        inline: true,\n      };\n    }\n    return {\n      title: intl.formatMessage(messages.fundCreated),\n      description: host ? intl.formatMessage(messages.fundCreatedDescription, { host: host.name }) : '',\n      type: 'info',\n      inline: true,\n    };\n  } else if (status === 'eventCreated') {\n    return {\n      title: intl.formatMessage(messages.eventCreated),\n      type: 'success',\n      inline: true,\n    };\n  } else if (status === 'projectCreated') {\n    return {\n      title: intl.formatMessage(messages.projectCreated),\n      type: 'success',\n      inline: true,\n    };\n  } else if (status === 'collectiveArchived' || collective.isArchived) {\n    return {\n      title: intl.formatMessage(messages.collectiveArchived, { name: collective.name }),\n      description: intl.formatMessage(messages.collectiveArchivedDescription, { name: collective.name }),\n      type: 'warning',\n      inline: true,\n    };\n  } else if (!collective.isApproved && collective.host && collective.type === CollectiveType.COLLECTIVE) {\n    return {\n      title: intl.formatMessage(messages.approvalPending),\n      description: intl.formatMessage(messages.approvalPendingDescription, { host: collective.host.name }),\n      type: 'warning',\n      actions: LoggedInUser?.isHostAdmin(collective) && (\n        <PendingApplicationActions collective={collective} refetch={refetch} />\n      ),\n    };\n  } else if (\n    LoggedInUser?.isAdminOfCollectiveOrHost(collective) &&\n    collective.isApproved &&\n    host?.policies?.COLLECTIVE_MINIMUM_ADMINS?.freeze &&\n    host?.policies?.COLLECTIVE_MINIMUM_ADMINS?.numberOfAdmins > collective?.admins?.length &&\n    collective?.features?.RECEIVE_FINANCIAL_CONTRIBUTIONS === 'DISABLED'\n  ) {\n    return {\n      title: intl.formatMessage(messages.tooFewAdmins, {\n        missingAdminsCount: host.policies.COLLECTIVE_MINIMUM_ADMINS.numberOfAdmins - collective.admins.length,\n      }),\n      description: intl.formatMessage(messages.tooFewAdminsDescription, {\n        missingAdminsCount: host.policies.COLLECTIVE_MINIMUM_ADMINS.numberOfAdmins - collective.admins.length,\n      }),\n      type: 'warning',\n      actions: (\n        <NotificationBarLink href={`/${collective.slug}/admin/team`}>\n          <FormattedMessage defaultMessage=\"Manage members\" />\n        </NotificationBarLink>\n      ),\n    };\n  } else if (get(collective, 'type') === CollectiveType.EVENT && moneyCanMoveFromEvent(collective)) {\n    if (!LoggedInUser || !LoggedInUser.isAdminOfCollectiveOrHost(collective)) {\n      return;\n    }\n    return {\n      title: intl.formatMessage(messages['event.over.sendMoneyToParent.title']),\n      description: intl.formatMessage(messages['event.over.sendMoneyToParent.description'], {\n        collective: collective.parentCollective.name,\n      }),\n      type: 'info',\n      actions: (\n        <SendMoneyToCollectiveBtn\n          fromCollective={collective}\n          toCollective={collective.parentCollective}\n          LoggedInUser={LoggedInUser}\n          amount={collective.stats.balance}\n          currency={collective.currency}\n          customButton={props => <NotificationBarButton {...props} />}\n        />\n      ),\n    };\n  }\n};\n\n/**\n * Adds a notification bar for the collective.\n */\nconst CollectiveNotificationBar = ({ intl, status, collective, host, LoggedInUser, refetch }) => {\n  const notification = getNotification(intl, status, collective, host, LoggedInUser, refetch);\n\n  return !notification ? null : <NotificationBar {...notification} />;\n};\n\nCollectiveNotificationBar.propTypes = {\n  /** Collective */\n  collective: PropTypes.shape({\n    name: PropTypes.string,\n    type: PropTypes.string,\n    isArchived: PropTypes.bool,\n  }),\n  /** Host */\n  host: PropTypes.shape({\n    name: PropTypes.string,\n  }),\n  /** A special status to show the notification bar (collective created, archived...etc) */\n  status: PropTypes.oneOf(['collectiveCreated', 'collectiveArchived', 'fundCreated', 'projectCreated', 'eventCreated']),\n  /** @ignore from injectIntl */\n  intl: PropTypes.object,\n  refetch: PropTypes.func,\n  /** from withUser */\n  LoggedInUser: PropTypes.object,\n};\n\nexport default injectIntl(CollectiveNotificationBar);\n","import { isIndividualAccount } from '../../../lib/collective.lib';\nimport { getFilteredSectionsForCollective, getSectionsNames } from '../../../lib/collective-sections';\nimport { CollectiveType } from '../../../lib/constants/collectives';\nimport { API_V2_CONTEXT } from '../../../lib/graphql/helpers';\n\nimport { manageContributionsQuery } from '../../recurring-contributions/graphql/queries';\nimport {\n  getTotalCollectiveContributionsQueryVariables,\n  totalCollectiveContributionsQuery,\n} from '../hero/HeroTotalCollectiveContributionsWithData';\nimport { getBudgetSectionQuery, getBudgetSectionQueryVariables } from '../sections/Budget';\nimport { conversationsSectionQuery, getConversationsSectionQueryVariables } from '../sections/Conversations';\nimport { getRecurringContributionsSectionQueryVariables } from '../sections/RecurringContributions';\nimport { getTransactionsSectionQueryVariables, transactionsSectionQuery } from '../sections/Transactions';\nimport { getUpdatesSectionQueryVariables, updatesSectionQuery } from '../sections/Updates';\n\nimport { collectivePageQuery, getCollectivePageQueryVariables } from './queries';\n\nexport const preloadCollectivePageGraphqlQueries = async (slug, client) => {\n  const result = await client.query({\n    query: collectivePageQuery,\n    variables: getCollectivePageQueryVariables(slug),\n  });\n  const collective = result?.data?.Collective;\n  if (collective) {\n    const sections = getFilteredSectionsForCollective(collective);\n    const sectionsNames = getSectionsNames(sections);\n    const queries = [];\n    const isIndividual = isIndividualAccount(collective) && !collective.isHost;\n    if (sectionsNames.includes('budget')) {\n      queries.push(\n        client.query({\n          query: getBudgetSectionQuery(Boolean(collective.host), isIndividual),\n          variables: getBudgetSectionQueryVariables(slug, collective.host?.slug, isIndividual),\n          context: API_V2_CONTEXT,\n        }),\n      );\n    }\n\n    if (sectionsNames.includes('transactions')) {\n      queries.push(\n        client.query({\n          query: transactionsSectionQuery,\n          variables: getTransactionsSectionQueryVariables(slug),\n          context: API_V2_CONTEXT,\n        }),\n      );\n    }\n    if (sectionsNames.includes('recurring-contributions')) {\n      queries.push(\n        client.query({\n          query: manageContributionsQuery,\n          variables: getRecurringContributionsSectionQueryVariables(slug),\n          context: API_V2_CONTEXT,\n        }),\n      );\n    }\n    if (sectionsNames.includes('updates')) {\n      queries.push(\n        client.query({\n          query: updatesSectionQuery,\n          variables: getUpdatesSectionQueryVariables(slug),\n        }),\n      );\n    }\n    if (sectionsNames.includes('conversations')) {\n      queries.push(\n        client.query({\n          query: conversationsSectionQuery,\n          variables: getConversationsSectionQueryVariables(slug),\n          context: API_V2_CONTEXT,\n        }),\n      );\n    }\n    const isCollective = collective.type === CollectiveType.COLLECTIVE;\n    const isEvent = collective.type === CollectiveType.EVENT;\n    if (!isCollective && !isEvent && !collective.isHost) {\n      queries.push(\n        client.query({\n          query: totalCollectiveContributionsQuery,\n          variables: getTotalCollectiveContributionsQueryVariables(slug),\n        }),\n      );\n    }\n    await Promise.all(queries);\n  }\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql } from '@apollo/client/react/hoc';\nimport dynamic from 'next/dynamic';\nimport { withRouter } from 'next/router';\nimport { createGlobalStyle } from 'styled-components';\n\nimport { getCollectivePageMetadata } from '../lib/collective.lib';\nimport { generateNotFoundError } from '../lib/errors';\nimport { addParentToURLIfMissing, getCollectivePageCanonicalURL } from '../lib/url-helpers';\n\nimport CollectivePageContent from '../components/collective-page';\nimport CollectiveNotificationBar from '../components/collective-page/CollectiveNotificationBar';\nimport { preloadCollectivePageGraphqlQueries } from '../components/collective-page/graphql/preload';\nimport { collectivePageQuery, getCollectivePageQueryVariables } from '../components/collective-page/graphql/queries';\nimport CollectiveThemeProvider from '../components/CollectiveThemeProvider';\nimport Container from '../components/Container';\nimport ErrorPage from '../components/ErrorPage';\nimport Loading from '../components/Loading';\nimport Page from '../components/Page';\nimport { withUser } from '../components/UserProvider';\n\nimport Custom404 from './404';\n\n/** A page rendered when collective is pledged and not active yet */\nconst PledgedCollectivePage = dynamic(\n  () => import(/* webpackChunkName: 'PledgedCollectivePage' */ '../components/PledgedCollectivePage'),\n  { loading: Loading },\n);\n\n/** A page rendered when collective is incognito */\nconst IncognitoUserCollective = dynamic(\n  () => import(/* webpackChunkName: 'IncognitoUserCollective' */ '../components/IncognitoUserCollective'),\n  { loading: Loading },\n);\n\n/** A page rendered when collective is guest */\nconst GuestUserProfile = dynamic(\n  () => import(/* webpackChunkName: 'GuestUserProfile' */ '../components/GuestUserProfile'),\n  { loading: Loading },\n);\n\n/** Load the onboarding modal dynamically since it's not used often */\nconst OnboardingModal = dynamic(\n  () => import(/* webpackChunkName: 'OnboardingModal' */ '../components/onboarding-modal/OnboardingModal'),\n  { loading: Loading },\n);\n\nconst GlobalStyles = createGlobalStyle`\n  section {\n    margin: 0;\n  }\n`;\n\n/**\n * The main page to display collectives. Wrap route parameters and GraphQL query\n * to render `components/collective-page` with everything needed.\n */\nclass CollectivePage extends React.Component {\n  static async getInitialProps({ client, req, res, query: { slug, status, step, mode, action } }) {\n    if (res && req && (req.language || req.locale === 'en')) {\n      res.set('Cache-Control', 'public, s-maxage=300');\n    }\n\n    let skipDataFromTree = false;\n\n    // If on server side\n    if (req) {\n      await preloadCollectivePageGraphqlQueries(slug, client);\n      skipDataFromTree = true;\n    }\n\n    return { slug, status, step, mode, skipDataFromTree, action };\n  }\n\n  static propTypes = {\n    slug: PropTypes.string.isRequired, // from getInitialProps\n    /** A special status to show the notification bar (collective created, archived...etc) */\n    status: PropTypes.oneOf([\n      'collectiveCreated',\n      'collectiveArchived',\n      'fundCreated',\n      'projectCreated',\n      'eventCreated',\n    ]),\n    step: PropTypes.string,\n    mode: PropTypes.string,\n    action: PropTypes.string,\n    LoggedInUser: PropTypes.object, // from withUser\n    router: PropTypes.object,\n    data: PropTypes.shape({\n      loading: PropTypes.bool,\n      error: PropTypes.any,\n      account: PropTypes.object,\n      Collective: PropTypes.shape({\n        name: PropTypes.string,\n        type: PropTypes.string.isRequired,\n        description: PropTypes.string,\n        twitterHandle: PropTypes.string,\n        image: PropTypes.string,\n        isApproved: PropTypes.bool,\n        isArchived: PropTypes.bool,\n        isHost: PropTypes.bool,\n        isActive: PropTypes.bool,\n        isPledged: PropTypes.bool,\n        isIncognito: PropTypes.bool,\n        isGuest: PropTypes.bool,\n        parentCollective: PropTypes.shape({ slug: PropTypes.string, image: PropTypes.string }),\n        host: PropTypes.object,\n        stats: PropTypes.object,\n        coreContributors: PropTypes.arrayOf(PropTypes.object),\n        financialContributors: PropTypes.arrayOf(PropTypes.object),\n        tiers: PropTypes.arrayOf(PropTypes.object),\n        events: PropTypes.arrayOf(PropTypes.object),\n        connectedCollectives: PropTypes.arrayOf(PropTypes.object),\n        transactions: PropTypes.arrayOf(PropTypes.object),\n        expenses: PropTypes.arrayOf(PropTypes.object),\n        updates: PropTypes.arrayOf(PropTypes.object),\n      }),\n      refetch: PropTypes.func,\n    }).isRequired, // from withData\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      smooth: false,\n      showOnboardingModal: true,\n    };\n  }\n\n  componentDidMount() {\n    this.setState({ smooth: true });\n\n    const { router, data } = this.props;\n    const collective = data?.Collective;\n    addParentToURLIfMissing(router, collective);\n  }\n\n  setShowOnboardingModal = bool => {\n    this.setState({ showOnboardingModal: bool });\n  };\n\n  render() {\n    const { slug, data, LoggedInUser, status, step, mode, action } = this.props;\n    const { showOnboardingModal } = this.state;\n\n    const loading = data.loading && !data.Collective;\n\n    if (!loading) {\n      if (!data || data.error) {\n        return <ErrorPage data={data} />;\n      } else if (!data.Collective) {\n        return <ErrorPage error={generateNotFoundError(slug)} log={false} />;\n      } else if (data.Collective.isPledged && !data.Collective.isActive) {\n        return <PledgedCollectivePage collective={data.Collective} />;\n      } else if (data.Collective.isIncognito) {\n        return <IncognitoUserCollective collective={data.Collective} />;\n      } else if (data.Collective.isGuest) {\n        return <GuestUserProfile account={data.Collective} />;\n      }\n    }\n\n    const collective = data && data.Collective;\n\n    // Don't allow /collective/apply\n    if (action === 'apply' && !collective?.isHost) {\n      return <Custom404 />;\n    }\n\n    return (\n      <Page\n        collective={collective}\n        canonicalURL={getCollectivePageCanonicalURL(collective)}\n        {...getCollectivePageMetadata(collective)}\n      >\n        <GlobalStyles />\n        {loading ? (\n          <Container py={[5, 6]}>\n            <Loading />\n          </Container>\n        ) : (\n          <React.Fragment>\n            <CollectiveNotificationBar\n              collective={collective}\n              host={collective.host}\n              status={status}\n              LoggedInUser={LoggedInUser}\n              refetch={data.refetch}\n            />\n            <CollectiveThemeProvider collective={collective}>\n              {({ onPrimaryColorChange }) => (\n                <CollectivePageContent\n                  collective={collective}\n                  host={collective.host}\n                  coreContributors={collective.coreContributors}\n                  financialContributors={collective.financialContributors}\n                  tiers={collective.tiers}\n                  events={collective.events}\n                  projects={collective.projects}\n                  connectedCollectives={collective.connectedCollectives}\n                  transactions={collective.transactions}\n                  expenses={collective.expenses}\n                  stats={collective.stats}\n                  updates={collective.updates}\n                  conversations={collective.conversations}\n                  LoggedInUser={LoggedInUser}\n                  isAdmin={Boolean(LoggedInUser && LoggedInUser.isAdminOfCollective(collective))}\n                  isHostAdmin={Boolean(LoggedInUser && LoggedInUser.isHostAdmin(collective))}\n                  isRoot={Boolean(LoggedInUser && LoggedInUser.isRoot)}\n                  onPrimaryColorChange={onPrimaryColorChange}\n                  step={step}\n                  mode={mode}\n                  refetch={data.refetch}\n                />\n              )}\n            </CollectiveThemeProvider>\n            {mode === 'onboarding' && LoggedInUser?.isAdminOfCollective(collective) && (\n              <OnboardingModal\n                showOnboardingModal={showOnboardingModal}\n                setShowOnboardingModal={this.setShowOnboardingModal}\n                step={step}\n                mode={mode}\n                collective={collective}\n                LoggedInUser={LoggedInUser}\n              />\n            )}\n          </React.Fragment>\n        )}\n      </Page>\n    );\n  }\n}\n\nconst addCollectivePageData = graphql(collectivePageQuery, {\n  options: props => ({\n    variables: getCollectivePageQueryVariables(props.slug),\n  }),\n});\n\nexport default withRouter(withUser(addCollectivePageData(CollectivePage)));\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/collective-page\",\n      function () {\n        return require(\"private-next-pages/collective-page.js\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/collective-page\"])\n      });\n    }\n  "],"names":["debounceScroll","func","maxWait","leading","trailing","React","ArrowBack","ArrowForward","styled","css","withViewport","Container","Flex","StyledRoundButton","RefContainer","div","props","hideScrollbar","ControlsContainer","controlsTopPosition","ArrowContainer","isVisible","HorizontalScroller","ref","current","offsetWidth","scrollLeft","scrollWidth","setState","canGoPrev","canGoNext","getScrollDistance","createRef","state","addEventListener","updateScrollInfo","passive","removeEventListener","scrollPercentage","onPrevClick","undefined","onNextClick","containerProps","container","children","PureComponent","withWidth","ExclamationCircle","Download","DownloadIcon","useDropzone","FormattedMessage","v4","uuid","useImageUploader","Box","getI18nLink","StyledSpinner","P","Span","UploadedFilePreview","DROPZONE_ACCEPT_IMAGES","DROPZONE_ACCEPT_PDF","DROPZONE_ACCEPT_ALL","Dropzone","onClick","theme","colors","primary","error","red","ReplaceContainer","StyledDropzone","onSuccess","onReject","isLoading","loadingProgress","minHeight","size","fontSize","mockImageGenerator","accept","minSize","maxSize","name","value","isMulti","kind","imgUploaderParams","uploadFiles","isUploading","uploadProgress","dropzoneParams","multiple","onDrop","getRootProps","getInputProps","isDragActive","innerMinHeight","dropProps","count","event","key","preventDefault","defaultProps","StyledTooltip","TruncatedTextWithTooltip","cursor","length","FormattedDate","useIntl","CollectiveType","formatMemberRole","ContributorAvatar","FormattedMoneyAmount","LinkContributor","ContributorsList","ContributorItem","AvatarWithRank","ContributorName","black","getFlexBasisForCol","nbContributors","totalContributors","baseSpaceBetween","maxPercentage","percentageNbContributors","width","Math","min","trunc","ContributorsBlock","title","contributors","totalNbContributors","currency","showTitle","intl","isFillingFullscreen","flexBasis","map","contributor","idx","isIncognito","totalAmountDonated","date","since","totalDonated","isAdmin","isCore","roles","id","TopContributors","organizations","individuals","nbOrgs","nbIndividuals","hasBothTypes","Boolean","BlockIndividuals","BlockOrgs","Blocks","HeroBackgroundMask","BASE_HERO_WIDTH","BASE_HERO_HEIGHT","generateBackground","color","gradient","BackgroundImage","img","attrs","alt","StyledHeroBackground","isEditing","isAlignedRight","DEFAULT_BACKGROUND_CROP","x","y","getCrop","collective","settings","getZoom","getAlignedRight","HeroBackground","crop","zoom","hasBackgroundSettings","backgroundImageUrl","transform","minWidth","graphql","Lock","injectIntl","gqlV1","getCollectivePageRoute","formatDate","Avatar","HTMLContent","Link","LinkCollective","MessageBox","StyledButton","StyledCard","StyledLink","ContainerSectionContent","updatesFieldsFragment","SectionTitle","updatesSectionQuery","PrivateUpdateMesgBox","SectionUpdates","oldProps","refetch","data","isLoggedIn","updates","collectiveName","update","fromCollective","slug","userCanSeeUpdate","display","summary","isPrivate","publishedAt","day","month","year","author","createdAt","addUpdatesSectionData","options","variables","getUpdatesSectionQueryVariables","onlyPublishedUpdates","flex","maxWidth","ContributionTypes","Contribute","ContributeCollective","description","CHILD_COLLECTIVE","stats","backers","Calendar","Clock","DayJs","isPastEvent","ContributeEvent","startsAt","endsAt","isTruncated","isPassed","takesMultipleDays","isSame","showYearOnStartDate","EVENT_PASSED","EVENT_PARTICIPATE","ContributeProject","project","isArchived","ARCHIVED_PROJECT","PROJECT","defineMessages","CommentIcon","H5","FollowersAvatars","messages","commentsCount","defaultMessage","ConversationListItem","conversation","collectiveSlug","formatMessage","fromAccount","followers","hasFollowers","nodes","hasComments","__html","totalCount","n","ConversationsList","conversations","withUser","andXOthers","getFollwersNotDisplayedNames","maxNbDisplayed","slice","c","join","avatarRadius","nbNotDisplayed","nbNotFetched","usersNotDisplayedNames","usersList","gql","commentFieldsFragment","conversationListFragment","isUserFollowingConversationQuery","updateListFragment","TransactionItem","isFirst","TransactionsList","transactions","displayActions","onMutationSuccess","transaction","view","I18nFormatters","TOAST_TYPE","useToasts","uploadImageWithXHR","allSettled","msg","invalidFiles","getUploadProgress","uploadProgressList","totalUploadProgress","reduce","total","useState","setUploading","setUploadProgressList","addToast","useCallback","acceptedFiles","rejectedFiles","filesToUpload","file","index","mockImage","onProgress","progress","newProgressList","splice","results","successes","failures","forEach","result","fileInfo","status","push","url","message","reason","baseMsg","files","errorMsg","type","ERROR","Router","Body","Footer","Header","H1","Custom404","back","Code","CodeRepositoryGenericIcon","Github","CodeRepositoryIcon","repositoryUrl","isGithubUrl","match","useMutation","useQuery","Form","Formik","IGNORED_TAGS","API_V2_CONTEXT","CollectiveTagsInput","StyledInputFormikField","StyledModal","ModalBody","ModalFooter","ModalHeader","editTagsMutation","tagStatsQuery","EditTagsModal","onClose","editTags","loading","host","context","tagStats","initialValues","tags","submit","values","SUCCESS","handleClose","formik","handleSubmit","fontWeight","lineHeight","field","setFieldValue","t","toLowerCase","node","tag","filter","includes","dirty","UserCompany","company","companySlug","split","Mutation","Check","withTheme","isHexColor","defaultTheme","StyledInput","StyledInputGroup","editCollectiveSettingsMutation","colorPath","ColorPreset","button","PRESET_COLORS","validateColor","CollectiveColorPicker","onChange","base","replace","textValue","setTextValue","showError","setShowError","hasError","dispatchValue","v","editSettings","preset","background","e","target","ml","newValue","hexValue","newSettings","then","Fragment","Camera","dynamic","upload","isIndividualAccount","AVATAR_HEIGHT_RANGE","AVATAR_WIDTH_RANGE","getAvatarBorderRadius","ConfirmationModal","LoadingPlaceholder","editCollectiveAvatarMutation","AVATAR_SIZE","DropzoneLoadingPlaceholder","dynamicParams","ssr","EditOverlay","borderRadius","EditableAvatarContainer","EditingAvatarContainer","Triangle","HeroAvatar","editing","setEditing","showModal","setshowModal","submitting","setSubmitting","uploadedImage","setUploadedImage","editImage","removeToasts","onDropImage","image","Object","assign","preview","URL","createObjectURL","validateImage","isValid","Promise","resolve","Image","onload","height","__isAvatarUploadError","minResolution","maxResolution","maxFileSize","toast","src","imgType","style","isDragAccept","stopPropagation","imageUrl","editAvatar","imgURL","verticalAlign","Discord","Discourse","Mastodon","Meetup","Tiktok","Tumblr","Facebook","Gitlab","Globe","Instagram","Linkedin","Slack","Twitter","Youtube","Pixelfed","SocialLinkType","SocialLinkIcon","DISCORD","FACEBOOK","GITHUB","GITLAB","INSTAGRAM","MASTODON","MATTERMOST","TWITTER","YOUTUBE","TUMBLR","MEETUP","SLACK","LINKEDIN","GIT","WEBSITE","DISCOURSE","PIXELFED","GHOST","PEERTUBE","TIKTOK","iconForSocialLinkType","HeroSocialLinks","socialLinks","relMe","socialLink","Icon","totalCollectiveContributionsQuery","getTotalCollectiveContributionsQueryVariables","amountStyles","HeroTotalCollectiveContributionsWithData","Collective","totalAmountSpent","useEffect","Tags","Palette","Mail","useLoggedInUser","twitterProfileUrl","ContactCollectiveBtn","DefinedTerm","Terms","I18nCollectiveTags","Dropdown","DropdownContent","EditTag","StyledTag","HeroEventDetails","HeroBackgroundCropperModal","Translations","website","StyledShortDescription","h2","HiddenTagDropdownContainer","HiddenTagItem","Hero","onPrimaryColorChange","LoggedInUser","hasColorPicker","showColorPicker","isEditingCover","editCover","isEditingTags","isCollective","COLLECTIVE","isEvent","EVENT","isProject","isFund","FUND","parentIsHost","parentCollective","firstConnectedAccount","connectedTo","connectedAccountIsHost","displayedConnectedAccount","companies","Set","trim","tagCount","displayedTags","hiddenTags","numberOfHiddenTags","hasSocialLinks","triggerProps","dropdownProps","marginTop","canContact","btnProps","twitterHandle","parentName","isApproved","isHost","FiscalHost","FISCAL_HOST","hostName","tos","fee","HOST_FEE","hostFeePercent","platformFeePercent","PLATFORM_FEE","USER","ORGANIZATION","memo","isEmptyValue","InlineEditField","editCollectiveLongDescriptionMutation","RichTextEditorLoadingPlaceholder","RichTextEditor","placeholder","SectionAbout","canEdit","isEmptyDescription","longDescription","setValue","enableEditor","CONTRIBUTE_CARD_WIDTH","CONTRIBUTE_CARD_PADDING_X","H3","ContributeCardsContainer","ConnectedCollectives","oneCardScrollDistance","connectedCollectives","getContributeCardsScrollDistance","memoizeOne","TierTypes","getErrorFromGraphqlException","getCollectiveContributionCardsOrder","TIERS_ORDER_KEY","ContainerOverlay","ContributeCardContainer","ContributeCrypto","ContributeCustom","ContributeTier","CreateNew","editAccountSettingMutation","collectivePageQuery","getCollectivePageQueryVariables","AdminContributeCardsContainer","SectionContribute","showTiersAdmin","isSaving","draggingId","isBacker","tiersIds","find","cards","editAccountSettings","cardKeys","mutationVariables","collectiveId","store","response","collectivePageQueryVariables","readQuery","query","newData","editAccountSetting","writeQuery","orderKeys","card","findIndex","Infinity","tiers","contributorsStats","hasNoContributor","hasContributors","canContribute","isActive","hasCustomContribution","hasCryptoContribution","baseTiers","tier","TICKET","contributeCards","Component","componentProps","hideContributors","getFinancialContributorsWithoutTier","disableCTA","events","hasOtherWaysToContribute","hasHost","getContributeCards","sortedContributeCards","sortContributeCards","hasContribute","sortedTicketTiers","sortTicketTiers","filterTickets","hasTickets","hideTicketsFromNonAdmins","cannotOrderTickets","disableScrollSnapping","onContributeCardsReorder","onTiersAdminReady","addEditAccountSettingMutation","formatCurrency","StyledCollectiveCard","StyledMembershipCard","membership","locale","account","role","contributorType","HOST","BACKER","totalDonations","valueInCents","precision","prettyCount","CollectiveRoles","Grid","StyledFilters","fadeIn","Dimensions","PAGE_SIZE","FILTERS","ALL","HOSTED_COLLECTIVES","HOSTED_FUNDS","HOSTED_EVENTS","CORE","FINANCIAL","EVENTS","FILTER_PROPS","args","ADMIN","CONTRIBUTOR","MEMBER","accountType","orderBy","direction","some","r","ATTENDEE","getAvailableFilters","f","I18nFilters","GRID_TEMPLATE_COLUMNS","MembershipCardContainer","contributionsSectionStaticQuery","contributionsSectionQuery","SectionContributions","isLoadingMore","setLoadingMore","setFilter","selectedFilter","limit","offset","notifyOnNetworkStatusChange","fetchMore","staticData","handleLoadMore","memberOf","updateQuery","prev","fetchMoreResult","handleFilterSelect","hostedAccounts","connectedAccounts","isOrganization","availableFilters","membersLeft","MAX_SECTION_WIDTH","PADDING_X","Array","keys","ContributionsGrid","entries","entry","ContributorsFilter","ContributorsGrid","ContributorsGridBackgroundSVG","MainContainer","SectionContributors","coreContributors","financialContributors","FILTERS_LIST","CONTRIBUTOR_FILTERS","coreContributorsIds","has","filters","getContributorsFilters","filterContributors","hasFilters","getTitleFontSize","all","conversationsSectionQuery","SectionConversations","addConversationsSectionData","getConversationsSectionQueryVariables","OutlineContainer","Illustration","EmptyCollectivePageIllustration","SectionEmpty","sortEvents","SectionEvents","hasNoContributorForEvents","dayjs","margin","formatAmountForLegend","Table","table","makeBudgetTableRow","BudgetTable","headers","rows","truncate","header","row","cell","i","COLORS","TagMarker","StatsCardContent","GRAPH_TYPES","LIST","TIME","BAR","PIE","GraphTypeButton","active","makeApexOptions","timeUnit","legend","show","horizontalAlign","fontFamily","markers","radius","offsetY","grid","xaxis","lines","yaxis","stroke","curve","dataLabels","enabled","labels","formatter","utc","format","BarChart","FormatListBulleted","PieChart","Timeline","alignSeries","extractSeriesFromTimeSeries","PeriodFilterPresetsSelect","Chart","budgetSectionContributionsQuery","ContributionsBudget","defaultTimeInterval","tmpDateInterval","setTmpDateInterval","graphType","setGraphType","contributionsAmountTimeSeries","group","groupNameTransformer","series","defaultApexOptions","toISOString","contributionsAmount","contribution","label","amount","chart","stacked","position","budgetSectionExpenseQuery","ExpenseBudget","expensesTagsTimeSeries","expensesTags","expenseTag","PERIOD_FILTER_PRESETS","BudgetStats","budgetSectionQuery","SectionFinancialOverview","budgetQueryResult","allTime","getInterval","GoalsCoverLoadingPlaceholder","GoalsCover","SectionGoals","isEmptyCollectiveLocation","LocationComponent","isEmptyOnlineLocation","location","address","privateInstructions","Location","prevLoggedInUser","useRef","ContributorCard","H2","COLLECTIVE_CARD_WIDTH","SectionOurTeam","loggedUserCollectiveId","px","scrollSnapAlign","SectionProjects","projects","p","filterProjects","manageContributionsQuery","RecurringContributionsContainer","ACTIVE","MONTHLY","YEARLY","CANCELLED","SectionRecurringContributions","recurringContributions","orders","getData","getRecurringContributionsSectionQueryVariables","Response","YES","user","email","substr","indexOf","Responses","responses","getCollectiveImage","EventSponsorCardContainer","CollectiveImage","EventSponsorCard","sponsor","Sponsors","sponsors","exportRSVPs","StyledLinkButton","StyledAdminActions","Participants","isRefetched","setIsRefetched","sort","a","b","Date","getTime","guestOrders","sponsorOrders","order","sponsorCollective","canEditEvent","refreshData","getTopContributors","SectionTopFinancialContributors","topOrganizations","topIndividuals","getDefaultKinds","transactionsQueryCollectionFragment","NB_DISPLAYED","EXPENSES","CONTRIBUTIONS","transactionsSectionQuery","getTransactionsSectionQueryVariables","SectionTransactions","transactionsQueryResult","isRoot","hasExpense","hasOrder","collectiveHasNoTransactions","ResetLink","text","Info","themeGet","getSectionsCategoryDetails","NAVBAR_CATEGORIES","StyledHr","ContainerWithMaxWidth","m","TypeIllustration","TypeIllustrationCircle","CategoryHeader","forwardRef","category","info","subtitle","displayName","SectionContainer","section","withPaddingBottom","Sections","sectionsWithoutPaddingBottom","ABOUT","CONTRIBUTE","GOALS","getFilteredSectionsForCollective","CollectiveNavbar","SectionBudget","SectionConnectedCollectives","SectionLocation","SectionParticipants","CollectivePage","isHostAdmin","sections","getSections","s","isFixed","selectedCategory","sectionsContainerRef","getBoundingClientRect","top","distanceThreshold","breakpoint","window","scrollY","categories","getSectionsCategories","categoryName","categoryRef","sectionCategoriesRefs","offsetTop","scrollTo","onScroll","version","UPDATES","CONVERSATIONS","RECURRING_CONTRIBUTIONS","LOCATION","PROJECTS","BUDGET","expenses","TRANSACTIONS","CONTRIBUTORS","PARTICIPANTS","OUR_TEAM","CONNECTED_COLLECTIVES","TOP_FINANCIAL_CONTRIBUTORS","onCollectiveClick","entryIdx","renderSection","i18nGraphqlException","AcceptRejectButtons","processApplicationMutation","NotificationBarButton","PendingApplicationActions","callProcessApplication","processApplication","action","legacyId","moneyCanMoveFromEvent","NotificationBar","NotificationBarLink","SendMoneyToCollectiveBtn","collectiveCreated","collectiveCreatedDescription","collectiveApprovedDescription","fundCreated","fundCreatedDescription","fundCreatedApprovedDescription","eventCreated","projectCreated","organizationCreated","organizationCreateDescription","collectiveArchived","collectiveArchivedDescription","approvalPending","approvalPendingDescription","tooFewAdmins","tooFewAdminsDescription","getNotification","inline","actions","isAdminOfCollectiveOrHost","policies","COLLECTIVE_MINIMUM_ADMINS","freeze","numberOfAdmins","admins","features","RECEIVE_FINANCIAL_CONTRIBUTIONS","missingAdminsCount","balance","CollectiveNotificationBar","notification","getSectionsNames","getBudgetSectionQuery","getBudgetSectionQueryVariables","preloadCollectivePageGraphqlQueries","client","sectionsNames","queries","isIndividual","withRouter","createGlobalStyle","getCollectivePageMetadata","generateNotFoundError","addParentToURLIfMissing","getCollectivePageCanonicalURL","CollectivePageContent","CollectiveThemeProvider","ErrorPage","Loading","Page","PledgedCollectivePage","IncognitoUserCollective","GuestUserProfile","OnboardingModal","GlobalStyles","bool","showOnboardingModal","smooth","router","step","mode","isPledged","isGuest","isAdminOfCollective","setShowOnboardingModal","req","res","language","set","skipDataFromTree","addCollectivePageData"],"sourceRoot":""}